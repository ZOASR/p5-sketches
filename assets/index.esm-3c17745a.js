import{r as Cr,a as br,c as po,g as Xo}from"./index-ba123fe0.js";const Yo={Date:!0,RegExp:!0,String:!0,Number:!0};function Vo(it,Lt,Dt={cyclesFix:!0},t=[]){var V,E;let f=[];const u=Array.isArray(it);for(const i in it){const p=it[i],h=u?+i:i;if(!(i in Lt)){f.push({type:"REMOVE",path:[h],oldValue:it[i]});continue}const r=Lt[i],n=typeof p=="object"&&typeof r=="object";if(p&&r&&n&&!Yo[(E=(V=Object.getPrototypeOf(p))==null?void 0:V.constructor)==null?void 0:E.name]&&(!Dt.cyclesFix||!t.includes(p))){const o=Vo(p,r,Dt,Dt.cyclesFix?t.concat([p]):[]);f.push.apply(f,o.map(a=>(a.path.unshift(h),a)))}else p!==r&&!(n&&(isNaN(p)?p+""==r+"":+p==+r))&&f.push({path:[h],type:"CHANGE",value:r,oldValue:p})}const s=Array.isArray(Lt);for(const i in Lt)i in it||f.push({type:"CREATE",path:[s?+i:i],value:Lt[i]});return f}function Zo(it,Lt){return Vo(it,Lt).length===0}var mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ko(it){return it&&it.__esModule&&Object.prototype.hasOwnProperty.call(it,"default")?it.default:it}var Uo={},$o={get exports(){return Uo},set exports(it){Uo=it}},fo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No;function Jo(){if(No)return fo;No=1;var it=br,Lt=Symbol.for("react.element"),Dt=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,V=it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E={key:!0,ref:!0,__self:!0,__source:!0};function f(u,s,i){var p,h={},r=null,n=null;i!==void 0&&(r=""+i),s.key!==void 0&&(r=""+s.key),s.ref!==void 0&&(n=s.ref);for(p in s)t.call(s,p)&&!E.hasOwnProperty(p)&&(h[p]=s[p]);if(u&&u.defaultProps)for(p in s=u.defaultProps,s)h[p]===void 0&&(h[p]=s[p]);return{$$typeof:Lt,type:u,key:r,ref:n,props:h,_owner:V.current}}return fo.Fragment=Dt,fo.jsx=f,fo.jsxs=f,fo}(function(it){it.exports=Jo()})($o);const zo=Uo.jsx,Qo="react-p5-wrapper";function yo(it){throw new Error('Could not dynamically require "'+it+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fo={},en={get exports(){return Fo},set exports(it){Fo=it}};/*! p5.js v1.6.0 February 22, 2023 */(function(it,Lt){(function(Dt){it.exports=Dt()})(function(){var Dt;return function t(V,E,f){function u(p,h){if(!E[p]){if(!V[p]){var r=typeof yo=="function"&&yo;if(!h&&r)return r(p,!0);if(s)return s(p,!0);throw(h=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",h}r=E[p]={exports:{}},V[p][0].call(r.exports,function(n){return u(V[p][1][n]||n)},r,r.exports,t,V,E,f)}return E[p].exports}for(var s=typeof yo=="function"&&yo,i=0;i<f.length;i++)u(f[i]);return u}({1:[function(t,V,E){E.byteLength=function(a){var a=r(a),o=a[0],a=a[1];return 3*(o+a)/4-a},E.toByteArray=function(n){var o,a,d=r(n),c=d[0],d=d[1],y=new s(function(b,w){return 3*(b+w)/4-w}(c,d)),m=0,g=0<d?c-4:c;for(a=0;a<g;a+=4)o=u[n.charCodeAt(a)]<<18|u[n.charCodeAt(a+1)]<<12|u[n.charCodeAt(a+2)]<<6|u[n.charCodeAt(a+3)],y[m++]=o>>16&255,y[m++]=o>>8&255,y[m++]=255&o;return d===2&&(o=u[n.charCodeAt(a)]<<2|u[n.charCodeAt(a+1)]>>4,y[m++]=255&o),d===1&&(o=u[n.charCodeAt(a)]<<10|u[n.charCodeAt(a+1)]<<4|u[n.charCodeAt(a+2)]>>2,y[m++]=o>>8&255,y[m++]=255&o),y},E.fromByteArray=function(n){for(var o,a=n.length,c=a%3,d=[],y=0,m=a-c;y<m;y+=16383)d.push(function(g,b,w){for(var _,S=[],M=b;M<w;M+=3)_=(g[M]<<16&16711680)+(g[M+1]<<8&65280)+(255&g[M+2]),S.push(function(k){return f[k>>18&63]+f[k>>12&63]+f[k>>6&63]+f[63&k]}(_));return S.join("")}(n,y,m<y+16383?m:y+16383));return c==1?(o=n[a-1],d.push(f[o>>2]+f[o<<4&63]+"==")):c==2&&(o=(n[a-2]<<8)+n[a-1],d.push(f[o>>10]+f[o>>4&63]+f[o<<2&63]+"=")),d.join("")};for(var f=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=i.length;p<h;++p)f[p]=i[p],u[i.charCodeAt(p)]=p;function r(n){var o=n.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");return n=n.indexOf("="),o=(n=n===-1?o:n)===o?0:4-n%4,[n,o]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],2:[function(t,V,E){},{}],3:[function(t,V,E){arguments[4][2][0].apply(E,arguments)},{dup:2}],4:[function(t,V,E){(function(r){var u=t("base64-js"),s=t("ieee754"),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(E.Buffer=r,E.SlowBuffer=function(C){return+C!=C&&(C=0),r.alloc(+C)},E.INSPECT_MAX_BYTES=50,2147483647);function h(C){if(p<C)throw new RangeError('The value "'+C+'" is invalid for option "size"');return C=new Uint8Array(C),Object.setPrototypeOf(C,r.prototype),C}function r(C,L,D){if(typeof C!="number")return n(C,L,D);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(C)}function n(C,L,D){if(typeof C=="string"){var q=C,J=L;if(r.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return te=0|y(q,J),se=h(te),se=(q=se.write(q,J))!==te?se.slice(0,q):se;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(C))return c(C);if(C!=null){if(Y(C,ArrayBuffer)||C&&Y(C.buffer,ArrayBuffer)){var te=C,q=L,se=D;if(q<0||te.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<q+(se||0))throw new RangeError('"length" is outside of buffer bounds');return te=q===void 0&&se===void 0?new Uint8Array(te):se===void 0?new Uint8Array(te,q):new Uint8Array(te,q,se),Object.setPrototypeOf(te,r.prototype),te}if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=C.valueOf&&C.valueOf(),J!=null&&J!==C)return r.from(J,L,D);var ce=function(ne){{var ae,de;if(r.isBuffer(ne))return ae=0|d(ne.length),(de=h(ae)).length!==0&&ne.copy(de,0,0,ae),de}if(ne.length!==void 0)return typeof ne.length!="number"||Z(ne.length)?h(0):c(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return c(ne.data)}(C);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return r.from(C[Symbol.toPrimitive]("string"),L,D)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function o(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function a(C){return o(C),h(C<0?0:0|d(C))}function c(C){for(var L=C.length<0?0:0|d(C.length),D=h(L),q=0;q<L;q+=1)D[q]=255&C[q];return D}function d(C){if(p<=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|C}function y(C,L){if(r.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Y(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var D=C.length,q=2<arguments.length&&arguments[2]===!0;if(!q&&D===0)return 0;for(var J=!1;;)switch(L){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return W(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return N(C).length;default:if(J)return q?-1:W(C).length;L=(""+L).toLowerCase(),J=!0}}function m(C,L,D){var q,J=!1;if((L=L===void 0||L<0?0:L)>this.length||(D=D===void 0||D>this.length?this.length:D)<=0||(D>>>=0)<=(L>>>=0))return"";for(C=C||"utf8";;)switch(C){case"hex":var te=this,he=L,se=D,de=te.length;(!se||se<0||de<se)&&(se=de);for(var ce="",ne=he=!he||he<0?0:he;ne<se;++ne)ce+=G[te[ne]];return ce;case"utf8":case"utf-8":return M(this,L,D);case"ascii":var ae=this,de=L,Q=D,ie="";Q=Math.min(ae.length,Q);for(var me=de;me<Q;++me)ie+=String.fromCharCode(127&ae[me]);return ie;case"latin1":case"binary":var ve=this,he=L,xe=D,Te="";xe=Math.min(ve.length,xe);for(var Ae=he;Ae<xe;++Ae)Te+=String.fromCharCode(ve[Ae]);return Te;case"base64":return Ee=this,q=D,(ze=L)===0&&q===Ee.length?u.fromByteArray(Ee):u.fromByteArray(Ee.slice(ze,q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ee=L,ze=D,Be=this.slice(Ee,ze),Ne="",Xe=0;Xe<Be.length;Xe+=2)Ne+=String.fromCharCode(Be[Xe]+256*Be[Xe+1]);return Ne;default:if(J)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),J=!0}}function g(C,L,D){var q=C[L];C[L]=C[D],C[D]=q}function b(C,L,D,q,J){if(C.length===0)return-1;if(typeof D=="string"?(q=D,D=0):2147483647<D?D=2147483647:D<-2147483648&&(D=-2147483648),(D=(D=Z(D=+D)?J?0:C.length-1:D)<0?C.length+D:D)>=C.length){if(J)return-1;D=C.length-1}else if(D<0){if(!J)return-1;D=0}if(typeof L=="string"&&(L=r.from(L,q)),r.isBuffer(L))return L.length===0?-1:w(C,L,D,q,J);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(C,L,D):w(C,[L],D,q,J);throw new TypeError("val must be string, number or Buffer")}function w(C,L,D,q,J){var te=1,se=C.length,ce=L.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(C.length<2||L.length<2)return-1;se/=te=2,ce/=2,D/=2}function ne(me,ve){return te===1?me[ve]:me.readUInt16BE(ve*te)}if(J)for(var ae=-1,de=D;de<se;de++)if(ne(C,de)===ne(L,ae===-1?0:de-ae)){if(de-(ae=ae===-1?de:ae)+1===ce)return ae*te}else ae!==-1&&(de-=de-ae),ae=-1;else for(de=D=se<D+ce?se-ce:D;0<=de;de--){for(var Q=!0,ie=0;ie<ce;ie++)if(ne(C,de+ie)!==ne(L,ie)){Q=!1;break}if(Q)return de}return-1}function _(C,L,D,q){return z(function(J){for(var te=[],se=0;se<J.length;++se)te.push(255&J.charCodeAt(se));return te}(L),C,D,q)}function S(C,L,D,q){return z(function(J,te){for(var se,ce,ne=[],ae=0;ae<J.length&&!((te-=2)<0);++ae)ce=J.charCodeAt(ae),se=ce>>8,ce=ce%256,ne.push(ce),ne.push(se);return ne}(L,C.length-D),C,D,q)}function M(C,L,D){D=Math.min(C.length,D);for(var q=[],J=L;J<D;){var te,se,ce,ne,ae=C[J],de=null,Q=239<ae?4:223<ae?3:191<ae?2:1;if(J+Q<=D)switch(Q){case 1:ae<128&&(de=ae);break;case 2:(192&(te=C[J+1]))==128&&127<(ne=(31&ae)<<6|63&te)&&(de=ne);break;case 3:te=C[J+1],se=C[J+2],(192&te)==128&&(192&se)==128&&2047<(ne=(15&ae)<<12|(63&te)<<6|63&se)&&(ne<55296||57343<ne)&&(de=ne);break;case 4:te=C[J+1],se=C[J+2],ce=C[J+3],(192&te)==128&&(192&se)==128&&(192&ce)==128&&65535<(ne=(15&ae)<<18|(63&te)<<12|(63&se)<<6|63&ce)&&ne<1114112&&(de=ne)}de===null?(de=65533,Q=1):65535<de&&(de-=65536,q.push(de>>>10&1023|55296),de=56320|1023&de),q.push(de),J+=Q}var ie=q,me=ie.length;if(me<=k)return String.fromCharCode.apply(String,ie);for(var ve="",he=0;he<me;)ve+=String.fromCharCode.apply(String,ie.slice(he,he+=k));return ve}E.kMaxLength=p,(r.TYPED_ARRAY_SUPPORT=function(){try{var C=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(C,L),C.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=n,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(C,L,D){return L=L,D=D,o(C=C),!(C<=0)&&L!==void 0?typeof D=="string"?h(C).fill(L,D):h(C).fill(L):h(C)},r.allocUnsafe=a,r.allocUnsafeSlow=a,r.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==r.prototype},r.compare=function(C,L){if(Y(C,Uint8Array)&&(C=r.from(C,C.offset,C.byteLength)),Y(L,Uint8Array)&&(L=r.from(L,L.offset,L.byteLength)),!r.isBuffer(C)||!r.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;for(var D=C.length,q=L.length,J=0,te=Math.min(D,q);J<te;++J)if(C[J]!==L[J]){D=C[J],q=L[J];break}return D<q?-1:q<D?1:0},r.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return r.alloc(0);if(L===void 0)for(J=L=0;J<C.length;++J)L+=C[J].length;for(var D=r.allocUnsafe(L),q=0,J=0;J<C.length;++J){var te=C[J];if(Y(te,Uint8Array)&&(te=r.from(te)),!r.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(D,q),q+=te.length}return D},r.byteLength=y,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<C;L+=2)g(this,L,L+1);return this},r.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<C;L+=4)g(this,L,L+3),g(this,L+1,L+2);return this},r.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<C;L+=8)g(this,L,L+7),g(this,L+1,L+6),g(this,L+2,L+5),g(this,L+3,L+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?M(this,0,C):m.apply(this,arguments)},r.prototype.equals=function(C){if(r.isBuffer(C))return this===C||r.compare(this,C)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var L="",C=E.INSPECT_MAX_BYTES,L=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim();return this.length>C&&(L+=" ... "),"<Buffer "+L+">"},i&&(r.prototype[i]=r.prototype.inspect),r.prototype.compare=function(C,L,D,q,J){if(Y(C,Uint8Array)&&(C=r.from(C,C.offset,C.byteLength)),!r.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(D===void 0&&(D=C?C.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),(L=L===void 0?0:L)<0||D>C.length||q<0||J>this.length)throw new RangeError("out of range index");if(J<=q&&D<=L)return 0;if(J<=q)return-1;if(D<=L)return 1;if(this===C)return 0;for(var te=(J>>>=0)-(q>>>=0),se=(D>>>=0)-(L>>>=0),ce=Math.min(te,se),ne=this.slice(q,J),ae=C.slice(L,D),de=0;de<ce;++de)if(ne[de]!==ae[de]){te=ne[de],se=ae[de];break}return te<se?-1:se<te?1:0},r.prototype.includes=function(C,L,D){return this.indexOf(C,L,D)!==-1},r.prototype.indexOf=function(C,L,D){return b(this,C,L,D,!0)},r.prototype.lastIndexOf=function(C,L,D){return b(this,C,L,D,!1)},r.prototype.write=function(C,L,D,q){if(L===void 0)q="utf8",D=this.length,L=0;else if(D===void 0&&typeof L=="string")q=L,D=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(D)?(D>>>=0,q===void 0&&(q="utf8")):(q=D,D=void 0)}var J=this.length-L;if((D===void 0||J<D)&&(D=J),0<C.length&&(D<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");q=q||"utf8";for(var te,se,ce,ne=!1;;)switch(q){case"hex":var ae=this,de=C,Q=L,ie=D,me=(Q=Number(Q)||0,ae.length-Q);(!ie||me<(ie=Number(ie)))&&(ie=me),(me=de.length)/2<ie&&(ie=me/2);for(var ve=0;ve<ie;++ve){var he=parseInt(de.substr(2*ve,2),16);if(Z(he))return ve;ae[Q+ve]=he}return ve;case"utf8":case"utf-8":return me=L,ce=D,z(W(C,(se=this).length-me),se,me,ce);case"ascii":return _(this,C,L,D);case"latin1":case"binary":return _(this,C,L,D);case"base64":return se=this,ce=L,te=D,z(N(C),se,ce,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,C,L,D);default:if(ne)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ne=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(C,L,D){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(D<C+L)throw new RangeError("Trying to access beyond buffer length")}function A(C,L,D,q,J,te){if(!r.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<L||L<te)throw new RangeError('"value" argument is out of bounds');if(D+q>C.length)throw new RangeError("Index out of range")}function O(C,L,D,q){if(D+q>C.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function R(C,L,D,q,J){return L=+L,D>>>=0,J||O(C,0,D,4),s.write(C,L,D,q,23,4),D+4}function U(C,L,D,q,J){return L=+L,D>>>=0,J||O(C,0,D,8),s.write(C,L,D,q,52,8),D+8}r.prototype.slice=function(C,L){var D=this.length,D=((C=~~C)<0?(C+=D)<0&&(C=0):D<C&&(C=D),(L=L===void 0?D:~~L)<0?(L+=D)<0&&(L=0):D<L&&(L=D),L<C&&(L=C),this.subarray(C,L));return Object.setPrototypeOf(D,r.prototype),D},r.prototype.readUIntLE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C],J=1,te=0;++te<L&&(J*=256);)q+=this[C+te]*J;return q},r.prototype.readUIntBE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C+--L],J=1;0<L&&(J*=256);)q+=this[C+--L]*J;return q},r.prototype.readUInt8=function(C,L){return C>>>=0,L||T(C,1,this.length),this[C]},r.prototype.readUInt16LE=function(C,L){return C>>>=0,L||T(C,2,this.length),this[C]|this[C+1]<<8},r.prototype.readUInt16BE=function(C,L){return C>>>=0,L||T(C,2,this.length),this[C]<<8|this[C+1]},r.prototype.readUInt32LE=function(C,L){return C>>>=0,L||T(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},r.prototype.readUInt32BE=function(C,L){return C>>>=0,L||T(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},r.prototype.readIntLE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C],J=1,te=0;++te<L&&(J*=256);)q+=this[C+te]*J;return(J*=128)<=q&&(q-=Math.pow(2,8*L)),q},r.prototype.readIntBE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=L,J=1,te=this[C+--q];0<q&&(J*=256);)te+=this[C+--q]*J;return(J*=128)<=te&&(te-=Math.pow(2,8*L)),te},r.prototype.readInt8=function(C,L){return C>>>=0,L||T(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},r.prototype.readInt16LE=function(C,L){return C>>>=0,L||T(C,2,this.length),L=this[C]|this[C+1]<<8,32768&L?4294901760|L:L},r.prototype.readInt16BE=function(C,L){return C>>>=0,L||T(C,2,this.length),L=this[C+1]|this[C]<<8,32768&L?4294901760|L:L},r.prototype.readInt32LE=function(C,L){return C>>>=0,L||T(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},r.prototype.readInt32BE=function(C,L){return C>>>=0,L||T(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},r.prototype.readFloatLE=function(C,L){return C>>>=0,L||T(C,4,this.length),s.read(this,C,!0,23,4)},r.prototype.readFloatBE=function(C,L){return C>>>=0,L||T(C,4,this.length),s.read(this,C,!1,23,4)},r.prototype.readDoubleLE=function(C,L){return C>>>=0,L||T(C,8,this.length),s.read(this,C,!0,52,8)},r.prototype.readDoubleBE=function(C,L){return C>>>=0,L||T(C,8,this.length),s.read(this,C,!1,52,8)},r.prototype.writeUIntLE=function(C,L,D,q){C=+C,L>>>=0,D>>>=0,q||A(this,C,L,D,Math.pow(2,8*D)-1,0);var J=1,te=0;for(this[L]=255&C;++te<D&&(J*=256);)this[L+te]=C/J&255;return L+D},r.prototype.writeUIntBE=function(C,L,D,q){C=+C,L>>>=0,D>>>=0,q||A(this,C,L,D,Math.pow(2,8*D)-1,0);var J=D-1,te=1;for(this[L+J]=255&C;0<=--J&&(te*=256);)this[L+J]=C/te&255;return L+D},r.prototype.writeUInt8=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,1,255,0),this[L]=255&C,L+1},r.prototype.writeUInt16LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,65535,0),this[L]=255&C,this[L+1]=C>>>8,L+2},r.prototype.writeUInt16BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=255&C,L+2},r.prototype.writeUInt32LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=255&C,L+4},r.prototype.writeUInt32BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C,L+4},r.prototype.writeIntLE=function(C,L,D,q){C=+C,L>>>=0,q||A(this,C,L,D,(q=Math.pow(2,8*D-1))-1,-q);var J=0,te=1,se=0;for(this[L]=255&C;++J<D&&(te*=256);)C<0&&se===0&&this[L+J-1]!==0&&(se=1),this[L+J]=(C/te>>0)-se&255;return L+D},r.prototype.writeIntBE=function(C,L,D,q){C=+C,L>>>=0,q||A(this,C,L,D,(q=Math.pow(2,8*D-1))-1,-q);var J=D-1,te=1,se=0;for(this[L+J]=255&C;0<=--J&&(te*=256);)C<0&&se===0&&this[L+J+1]!==0&&(se=1),this[L+J]=(C/te>>0)-se&255;return L+D},r.prototype.writeInt8=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,1,127,-128),this[L]=255&(C=C<0?255+C+1:C),L+1},r.prototype.writeInt16LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,32767,-32768),this[L]=255&C,this[L+1]=C>>>8,L+2},r.prototype.writeInt16BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=255&C,L+2},r.prototype.writeInt32LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,2147483647,-2147483648),this[L]=255&C,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},r.prototype.writeInt32BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,2147483647,-2147483648),this[L]=(C=C<0?4294967295+C+1:C)>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C,L+4},r.prototype.writeFloatLE=function(C,L,D){return R(this,C,L,!0,D)},r.prototype.writeFloatBE=function(C,L,D){return R(this,C,L,!1,D)},r.prototype.writeDoubleLE=function(C,L,D){return U(this,C,L,!0,D)},r.prototype.writeDoubleBE=function(C,L,D){return U(this,C,L,!1,D)},r.prototype.copy=function(C,L,D,q){if(!r.isBuffer(C))throw new TypeError("argument should be a Buffer");if(D=D||0,q||q===0||(q=this.length),L>=C.length&&(L=C.length),(q=0<q&&q<D?D:q)===D||C.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length);var J=(q=C.length-L<q-D?C.length-L+D:q)-D;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,D,q);else if(this===C&&D<L&&L<q)for(var te=J-1;0<=te;--te)C[te+L]=this[te+D];else Uint8Array.prototype.set.call(C,this.subarray(D,q),L);return J},r.prototype.fill=function(C,L,D,q){if(typeof C=="string"){if(typeof L=="string"?(q=L,L=0,D=this.length):typeof D=="string"&&(q=D,D=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!r.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var J;C.length===1&&(J=C.charCodeAt(0),(q==="utf8"&&J<128||q==="latin1")&&(C=J))}else typeof C=="number"?C&=255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<D)throw new RangeError("Out of range index");var te;if(!(D<=L))if(L>>>=0,D=D===void 0?this.length:D>>>0,typeof(C=C||0)=="number")for(te=L;te<D;++te)this[te]=C;else{var se=r.isBuffer(C)?C:r.from(C,q),ce=se.length;if(ce===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(te=0;te<D-L;++te)this[te+L]=se[te%ce]}return this};var B=/[^+/0-9A-Za-z-_]/g;function W(C,L){L=L||1/0;for(var D,q=C.length,J=null,te=[],se=0;se<q;++se){if(55295<(D=C.charCodeAt(se))&&D<57344){if(!J){if(56319<D){-1<(L-=3)&&te.push(239,191,189);continue}if(se+1===q){-1<(L-=3)&&te.push(239,191,189);continue}J=D;continue}if(D<56320){-1<(L-=3)&&te.push(239,191,189),J=D;continue}D=65536+(J-55296<<10|D-56320)}else J&&-1<(L-=3)&&te.push(239,191,189);if(J=null,D<128){if(--L<0)break;te.push(D)}else if(D<2048){if((L-=2)<0)break;te.push(D>>6|192,63&D|128)}else if(D<65536){if((L-=3)<0)break;te.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;te.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return te}function N(C){return u.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(C))}function z(C,L,D,q){for(var J=0;J<q&&!(J+D>=L.length||J>=C.length);++J)L[J+D]=C[J];return J}function Y(C,L){return C instanceof L||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===L.name}function Z(C){return C!=C}var G=function(){for(var C="0123456789abcdef",L=new Array(256),D=0;D<16;++D)for(var q=16*D,J=0;J<16;++J)L[q+J]=C[D]+C[J];return L}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(t,V,E){V.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u){if(f(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,V,E){var f=s("../internals/well-known-symbol"),u=s("../internals/object-create"),s=s("../internals/object-define-property"),i=f("unscopables"),p=Array.prototype;p[i]==null&&s.f(p,i,{configurable:!0,value:u(null)}),V.exports=function(h){p[i][h]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(t,V,E){var f=t("../internals/string-multibyte").charAt;V.exports=function(u,s,i){return s+(i?f(u,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,V,E){V.exports=function(f,u,s){if(f instanceof u)return f;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u){if(f(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,V,E){V.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,V,E){function f(U){return h(U)&&r(R,n(U))}var u,s=O("../internals/array-buffer-native"),i=O("../internals/descriptors"),p=O("../internals/global"),h=O("../internals/is-object"),r=O("../internals/has"),n=O("../internals/classof"),o=O("../internals/create-non-enumerable-property"),a=O("../internals/redefine"),c=O("../internals/object-define-property").f,d=O("../internals/object-get-prototype-of"),y=O("../internals/object-set-prototype-of"),k=O("../internals/well-known-symbol"),O=O("../internals/uid"),m=p.Int8Array,g=m&&m.prototype,b=p.Uint8ClampedArray,b=b&&b.prototype,w=m&&d(m),_=g&&d(g),S=Object.prototype,M=S.isPrototypeOf,k=k("toStringTag"),T=O("TYPED_ARRAY_TAG"),A=s&&!!y&&n(p.opera)!=="Opera",O=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in R)p[u]||(A=!1);if((!A||typeof w!="function"||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},A))for(u in R)p[u]&&y(p[u],w);if((!A||!_||_===S)&&(_=w.prototype,A))for(u in R)p[u]&&y(p[u].prototype,_);if(A&&d(b)!==_&&y(b,_),i&&!r(_,k))for(u in O=!0,c(_,k,{get:function(){return h(this)?this[T]:void 0}}),R)p[u]&&o(p[u],T,u);V.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:O&&T,aTypedArray:function(U){if(f(U))return U;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(U){if(y){if(M.call(w,U))return U}else for(var B in R)if(r(R,u)&&(B=p[B],B&&(U===B||M.call(B,U))))return U;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(U,B,W){if(i){if(W)for(var N in R)N=p[N],N&&r(N.prototype,U)&&delete N.prototype[U];_[U]&&!W||a(_,U,!W&&A&&g[U]||B)}},exportTypedArrayStaticMethod:function(U,B,W){var N,z;if(i){if(y){if(W)for(N in R)(z=p[N])&&r(z,U)&&delete z[U];if(w[U]&&!W)return;try{return a(w,U,!W&&A&&m[U]||B)}catch{}}for(N in R)!(z=p[N])||z[U]&&!W||a(z,U,B)}},isView:function(U){return U=n(U),U==="DataView"||r(R,U)},isTypedArray:f,TypedArray:w,TypedArrayPrototype:_}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(D,V,E){function f(Q){return[255&Q]}function u(Q){return[255&Q,Q>>8&255]}function s(Q){return[255&Q,Q>>8&255,Q>>16&255,Q>>24&255]}function i(Q){return Q[3]<<24|Q[2]<<16|Q[1]<<8|Q[0]}function p(Q){return te(Q,23,4)}function h(Q){return te(Q,52,8)}function r(Q,ie){O(Q[Y],ie,{get:function(){return B(this)[ie]}})}function n(Te,ie,xe,ve){if(xe=S(xe),Te=B(Te),xe+ie>Te.byteLength)throw J(Z);var he=B(Te.buffer).bytes,xe=xe+Te.byteOffset,Te=he.slice(xe,xe+ie);return ve?Te:Te.reverse()}function o(Q,ie,me,ve,he,xe){if(me=S(me),Q=B(Q),me+ie>Q.byteLength)throw J(Z);for(var Te=B(Q.buffer).bytes,Ae=me+Q.byteOffset,Ee=ve(+he),ze=0;ze<ie;ze++)Te[Ae+ze]=Ee[xe?ze:ie-ze-1]}var a=D("../internals/global"),c=D("../internals/descriptors"),d=D("../internals/array-buffer-native"),y=D("../internals/create-non-enumerable-property"),m=D("../internals/redefine-all"),g=D("../internals/fails"),b=D("../internals/an-instance"),w=D("../internals/to-integer"),_=D("../internals/to-length"),S=D("../internals/to-index"),M=D("../internals/ieee754"),k=D("../internals/object-get-prototype-of"),T=D("../internals/object-set-prototype-of"),A=D("../internals/object-get-own-property-names").f,O=D("../internals/object-define-property").f,R=D("../internals/array-fill"),U=D("../internals/set-to-string-tag"),D=D("../internals/internal-state"),B=D.get,W=D.set,N="ArrayBuffer",z="DataView",Y="prototype",Z="Wrong index",G=a[N],C=G,L=a[z],D=L&&L[Y],q=Object.prototype,J=a.RangeError,te=M.pack,se=M.unpack;if(d){if(!g(function(){G(1)})||!g(function(){new G(-1)})||g(function(){return new G,new G(1.5),new G(NaN),G.name!=N})){for(var ce,a=(C=function(me){return b(this,C),new G(S(me))})[Y]=G[Y],ne=A(G),ae=0;ne.length>ae;)(ce=ne[ae++])in C||y(C,ce,G[ce]);a.constructor=C}T&&k(D)!==q&&T(D,q);var M=new L(new C(2)),de=D.setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||m(D,{setInt8:function(ie,me){de.call(this,ie,me<<24>>24)},setUint8:function(ie,me){de.call(this,ie,me<<24>>24)}},{unsafe:!0})}else C=function(Q){b(this,C,N),Q=S(Q),W(this,{bytes:R.call(new Array(Q),0),byteLength:Q}),c||(this.byteLength=Q)},L=function(Q,he,me){b(this,L,z),b(Q,C,z);var ve=B(Q).byteLength,he=w(he);if(he<0||ve<he)throw J("Wrong offset");if(ve<he+(me=me===void 0?ve-he:_(me)))throw J("Wrong length");W(this,{buffer:Q,byteLength:me,byteOffset:he}),c||(this.buffer=Q,this.byteLength=me,this.byteOffset=he)},c&&(r(C,"byteLength"),r(L,"buffer"),r(L,"byteLength"),r(L,"byteOffset")),m(L[Y],{getInt8:function(Q){return n(this,1,Q)[0]<<24>>24},getUint8:function(Q){return n(this,1,Q)[0]},getInt16:function(Q){return Q=n(this,2,Q,1<arguments.length?arguments[1]:void 0),(Q[1]<<8|Q[0])<<16>>16},getUint16:function(Q){return Q=n(this,2,Q,1<arguments.length?arguments[1]:void 0),Q[1]<<8|Q[0]},getInt32:function(Q){return i(n(this,4,Q,1<arguments.length?arguments[1]:void 0))},getUint32:function(Q){return i(n(this,4,Q,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Q){return se(n(this,4,Q,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Q){return se(n(this,8,Q,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Q,ie){o(this,1,Q,f,ie)},setUint8:function(Q,ie){o(this,1,Q,f,ie)},setInt16:function(Q,ie){o(this,2,Q,u,ie,2<arguments.length?arguments[2]:void 0)},setUint16:function(Q,ie){o(this,2,Q,u,ie,2<arguments.length?arguments[2]:void 0)},setInt32:function(Q,ie){o(this,4,Q,s,ie,2<arguments.length?arguments[2]:void 0)},setUint32:function(Q,ie){o(this,4,Q,s,ie,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Q,ie){o(this,4,Q,p,ie,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Q,ie){o(this,8,Q,h,ie,2<arguments.length?arguments[2]:void 0)}});U(C,N),U(L,z),V.exports={ArrayBuffer:C,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length"),i=Math.min;V.exports=[].copyWithin||function(c,h){var r=f(this),n=s(r.length),o=u(c,n),a=u(h,n),c=2<arguments.length?arguments[2]:void 0,d=i((c===void 0?n:u(c,n))-a,n-o),y=1;for(a<o&&o<a+d&&(y=-1,a+=d-1,o+=d-1);0<d--;)a in r?r[o]=r[a]:delete r[o],o+=y,a+=y;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length");V.exports=function(i){for(var p=f(this),h=s(p.length),n=arguments.length,r=u(1<n?arguments[1]:void 0,h),n=2<n?arguments[2]:void 0,o=n===void 0?h:u(n,h);r<o;)p[r++]=i;return p}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(s,V,E){var f=s("../internals/array-iteration").forEach,u=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),u=u("forEach"),s=s("forEach");V.exports=u&&s?[].forEach:function(i){return f(this,i,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,V,E){var f=t("../internals/function-bind-context"),u=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),i=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),h=t("../internals/create-property"),r=t("../internals/get-iterator-method");V.exports=function(b){var o,a,c,d,y,m,g=u(b),b=typeof this=="function"?this:Array,w=arguments.length,_=1<w?arguments[1]:void 0,S=_!==void 0,M=r(g),k=0;if(S&&(_=f(_,2<w?arguments[2]:void 0,2)),M==null||b==Array&&i(M))for(a=new b(o=p(g.length));k<o;k++)m=S?_(g[k],k):g[k],h(a,k,m);else for(y=(d=M.call(g)).next,a=new b;!(c=y.call(d)).done;k++)m=S?s(d,_,[c.value,k],!0):c.value,h(a,k,m);return a.length=k,a}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(t,V,E){function f(p){return function(h,r,n){var o,a=u(h),c=s(a.length),d=i(n,c);if(p&&r!=r){for(;d<c;)if((o=a[d++])!=o)return!0}else for(;d<c;d++)if((p||d in a)&&a[d]===r)return p||d||0;return!p&&-1}}var u=t("../internals/to-indexed-object"),s=t("../internals/to-length"),i=t("../internals/to-absolute-index");V.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(t,V,E){function f(n){var o=n==1,a=n==2,c=n==3,d=n==4,y=n==6,m=n==5||y;return function(g,b,w,_){for(var S,M,k=i(g),T=s(k),A=u(b,w,3),O=p(T.length),R=0,b=_||h,U=o?b(g,O):a?b(g,0):void 0;R<O;R++)if((m||R in T)&&(M=A(S=T[R],R,k),n)){if(o)U[R]=M;else if(M)switch(n){case 3:return!0;case 5:return S;case 6:return R;case 2:r.call(U,S)}else if(d)return!1}return y?-1:c||d?d:U}}var u=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),i=t("../internals/to-object"),p=t("../internals/to-length"),h=t("../internals/array-species-create"),r=[].push;V.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(n,V,E){var f=n("../internals/to-indexed-object"),u=n("../internals/to-integer"),s=n("../internals/to-length"),r=n("../internals/array-method-is-strict"),n=n("../internals/array-method-uses-to-length"),i=Math.min,p=[].lastIndexOf,h=!!p&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});V.exports=h||!r||!n?function(o){if(h)return p.apply(this,arguments)||0;var a=f(this),c=s(a.length),d=c-1;for((d=1<arguments.length?i(d,u(arguments[1])):d)<0&&(d=c+d);0<=d;d--)if(d in a&&a[d]===o)return d||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),i=u("species");V.exports=function(p){return 51<=s||!f(function(){var h=[];return(h.constructor={})[i]=function(){return{foo:1}},h[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(t,V,E){var f=t("../internals/fails");V.exports=function(u,s){var i=[][u];return!!i&&f(function(){i.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,V,E){function f(r){throw r}var u=t("../internals/descriptors"),s=t("../internals/fails"),i=t("../internals/has"),p=Object.defineProperty,h={};V.exports=function(r,n){var o,a,c,d;return i(h,r)?h[r]:(o=[][r],a=!!i(n=n||{},"ACCESSORS")&&n.ACCESSORS,c=i(n,0)?n[0]:f,d=i(n,1)?n[1]:void 0,h[r]=!!o&&!s(function(){if(a&&!u)return!0;var y={length:-1};a?p(y,1,{enumerable:!0,get:f}):y[1]=1,o.call(y,c,d)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,V,E){function f(h){return function(r,n,o,a){u(n);var c=s(r),d=i(c),y=p(c.length),m=h?y-1:0,g=h?-1:1;if(o<2)for(;;){if(m in d){a=d[m],m+=g;break}if(m+=g,h?m<0:y<=m)throw TypeError("Reduce of empty array with no initial value")}for(;h?0<=m:m<y;m+=g)m in d&&(a=n(a,d[m],m,c));return a}}var u=t("../internals/a-function"),s=t("../internals/to-object"),i=t("../internals/indexed-object"),p=t("../internals/to-length");V.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");V.exports=function(i,p){var h;return new((h=u(i)&&(typeof(h=i.constructor)=="function"&&(h===Array||u(h.prototype))||f(h)&&(h=h[s])===null)?void 0:h)===void 0?Array:h)(p===0?0:p)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(t,V,E){var f=t("../internals/an-object");V.exports=function(u,s,i,p){try{return p?s(f(i)[0],i[1]):s(i)}catch(h){throw p=u.return,p!==void 0&&f(p.call(u)),h}}},{"../internals/an-object":10}],27:[function(t,V,E){var f=t("../internals/well-known-symbol")("iterator"),u=!1;try{var s=0,i={next:function(){return{done:!!s++}},return:function(){u=!0}};i[f]=function(){return this},Array.from(i,function(){throw 2})}catch{}V.exports=function(p,h){if(!h&&!u)return!1;var r=!1;try{var n={};n[f]=function(){return{next:function(){return{done:r=!0}}}},p(n)}catch{}return r}},{"../internals/well-known-symbol":146}],28:[function(t,V,E){var f={}.toString;V.exports=function(u){return f.call(u).slice(8,-1)}},{}],29:[function(t,V,E){var f=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),i=u(function(){return arguments}())=="Arguments";V.exports=f?u:function(p){var h;return p===void 0?"Undefined":p===null?"Null":typeof(h=function(r,n){try{return r[n]}catch{}}(p=Object(p),s))=="string"?h:i?u(p):(h=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":h}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(c,V,E){var f=c("../internals/object-define-property").f,u=c("../internals/object-create"),s=c("../internals/redefine-all"),i=c("../internals/function-bind-context"),p=c("../internals/an-instance"),h=c("../internals/iterate"),r=c("../internals/define-iterator"),n=c("../internals/set-species"),o=c("../internals/descriptors"),a=c("../internals/internal-metadata").fastKey,c=c("../internals/internal-state"),d=c.set,y=c.getterFor;V.exports={getConstructor:function(m,g,b,w){function _(T,A,O){var R,U=k(T),B=S(T,A);return B?B.value=O:(U.last=B={index:R=a(A,!0),key:A,value:O,previous:A=U.last,next:void 0,removed:!1},U.first||(U.first=B),A&&(A.next=B),o?U.size++:T.size++,R!=="F"&&(U.index[R]=B)),T}function S(R,A){var O,R=k(R),U=a(A);if(U!=="F")return R.index[U];for(O=R.first;O;O=O.next)if(O.key==A)return O}var M=m(function(T,A){p(T,M,g),d(T,{type:g,index:u(null),first:void 0,last:void 0,size:0}),o||(T.size=0),A!=null&&h(A,T[w],T,b)}),k=y(g);return s(M.prototype,{clear:function(){for(var T=k(this),A=T.index,O=T.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete A[O.index],O=O.next;T.first=T.last=void 0,o?T.size=0:this.size=0},delete:function(U){var A,O,R=k(this),U=S(this,U);return U&&(A=U.next,O=U.previous,delete R.index[U.index],U.removed=!0,O&&(O.next=A),A&&(A.previous=O),R.first==U&&(R.first=A),R.last==U&&(R.last=O),o?R.size--:this.size--),!!U},forEach:function(T){for(var A,O=k(this),R=i(T,1<arguments.length?arguments[1]:void 0,3);A=A?A.next:O.first;)for(R(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(T){return!!S(this,T)}}),s(M.prototype,b?{get:function(T){return T=S(this,T),T&&T.value},set:function(T,A){return _(this,T===0?0:T,A)}}:{add:function(T){return _(this,T=T===0?0:T,T)}}),o&&f(M.prototype,"size",{get:function(){return k(this).size}}),M},setStrong:function(m,g,b){var w=g+" Iterator",_=y(g),S=y(w);r(m,g,function(M,k){d(this,{type:w,target:M,state:_(M),kind:k,last:void 0})},function(){for(var M=S(this),k=M.kind,T=M.last;T&&T.removed;)T=T.previous;return M.target&&(M.last=T=T?T.next:M.state.first)?k=="keys"?{value:T.key,done:!1}:k=="values"?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}:{value:M.target=void 0,done:!0}},b?"entries":"values",!b,!0),n(g)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(d,V,E){function f(_){return _.frozen||(_.frozen=new u)}function u(){this.entries=[]}function s(_,S){return g(_.entries,function(M){return M[0]===S})}var i=d("../internals/redefine-all"),p=d("../internals/internal-metadata").getWeakData,h=d("../internals/an-object"),r=d("../internals/is-object"),n=d("../internals/an-instance"),o=d("../internals/iterate"),a=d("../internals/array-iteration"),c=d("../internals/has"),d=d("../internals/internal-state"),y=d.set,m=d.getterFor,g=a.find,b=a.findIndex,w=0;u.prototype={get:function(_){if(_=s(this,_),_)return _[1]},has:function(_){return!!s(this,_)},set:function(_,S){var M=s(this,_);M?M[1]=S:this.entries.push([_,S])},delete:function(_){var S=b(this.entries,function(M){return M[0]===_});return~S&&this.entries.splice(S,1),!!~S}},V.exports={getConstructor:function(_,S,M,k){function T(R,U,B){var W=O(R),N=p(h(U),!0);return N===!0?f(W).set(U,B):N[W.id]=B,R}var A=_(function(R,U){n(R,A,S),y(R,{type:S,id:w++,frozen:void 0}),U!=null&&o(U,R[k],R,M)}),O=m(S);return i(A.prototype,{delete:function(R){var U,B=O(this);return!!r(R)&&((U=p(R))===!0?f(B).delete(R):U&&c(U,B.id)&&delete U[B.id])},has:function(R){var U,B=O(this);return!!r(R)&&((U=p(R))===!0?f(B).has(R):U&&c(U,B.id))}}),i(A.prototype,M?{get:function(R){var U,B=O(this);if(r(R))return(U=p(R))===!0?f(B).get(R):U?U[B.id]:void 0},set:function(R,U){return T(this,R,U)}}:{add:function(R){return T(this,R,!0)}}),A}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/global"),s=t("../internals/is-forced"),i=t("../internals/redefine"),p=t("../internals/internal-metadata"),h=t("../internals/iterate"),r=t("../internals/an-instance"),n=t("../internals/is-object"),o=t("../internals/fails"),a=t("../internals/check-correctness-of-iteration"),c=t("../internals/set-to-string-tag"),d=t("../internals/inherit-if-required");V.exports=function(y,m,g){function b(N){var z=U[N];i(U,N,N=="add"?function(Y){return z.call(this,Y===0?0:Y),this}:N=="delete"?function(Y){return!(A&&!n(Y))&&z.call(this,Y===0?0:Y)}:N=="get"?function(Y){return A&&!n(Y)?void 0:z.call(this,Y===0?0:Y)}:N=="has"?function(Y){return!(A&&!n(Y))&&z.call(this,Y===0?0:Y)}:function(Y,Z){return z.call(this,Y===0?0:Y,Z),this})}var w,_,S,M,k,T=y.indexOf("Map")!==-1,A=y.indexOf("Weak")!==-1,O=T?"set":"add",R=u[y],U=R&&R.prototype,B=R,W={};return s(y,typeof R!="function"||!(A||U.forEach&&!o(function(){new R().entries().next()})))?(B=g.getConstructor(m,y,T,O),p.REQUIRED=!0):s(y,!0)&&(_=(w=new B)[O](A?{}:-0,1)!=w,S=o(function(){w.has(1)}),M=a(function(N){new R(N)}),k=!A&&o(function(){for(var N=new R,z=5;z--;)N[O](z,z);return!N.has(-0)}),M||(((B=m(function(N,z){return r(N,B,y),N=d(new R,N,B),z!=null&&h(z,N[O],N,T),N})).prototype=U).constructor=B),(S||k)&&(b("delete"),b("has"),T&&b("get")),(k||_)&&b(O),A&&U.clear&&delete U.clear),W[y]=B,f({global:!0,forced:B!=R},W),c(B,y),A||g.setStrong(B,y,T),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,V,E){var f=t("../internals/has"),u=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),i=t("../internals/object-define-property");V.exports=function(p,h){for(var r=u(h),n=i.f,o=s.f,a=0;a<r.length;a++){var c=r[a];f(p,c)||n(p,c,o(h,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,V,E){var f=t("../internals/well-known-symbol")("match");V.exports=function(u){var s=/./;try{"/./"[u](s)}catch{try{return s[f]=!1,"/./"[u](s)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(t,V,E){var f=t("../internals/require-object-coercible"),u=/"/g;V.exports=function(r,i,p,h){var r=String(f(r)),n="<"+i;return p!==""&&(n+=" "+p+'="'+String(h).replace(u,"&quot;")+'"'),n+">"+r+"</"+i+">"}},{"../internals/require-object-coercible":113}],37:[function(t,V,E){function f(){return this}var u=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),i=t("../internals/create-property-descriptor"),p=t("../internals/set-to-string-tag"),h=t("../internals/iterators");V.exports=function(r,n,o){return n+=" Iterator",r.prototype=s(u,{next:i(1,o)}),p(r,n,!1,!0),h[n]=f,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");V.exports=f?function(i,p,h){return u.f(i,p,s(1,h))}:function(i,p,h){return i[p]=h,i}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,V,E){V.exports=function(f,u){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:u}}},{}],40:[function(t,V,E){var f=t("../internals/to-primitive"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");V.exports=function(i,p,h){p=f(p),p in i?u.f(i,p,s(0,h)):i[p]=h}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(d,V,E){function f(){return this}var u=d("../internals/export"),s=d("../internals/create-iterator-constructor"),i=d("../internals/object-get-prototype-of"),p=d("../internals/object-set-prototype-of"),h=d("../internals/set-to-string-tag"),r=d("../internals/create-non-enumerable-property"),n=d("../internals/redefine"),o=d("../internals/well-known-symbol"),a=d("../internals/is-pure"),c=d("../internals/iterators"),d=d("../internals/iterators-core"),y=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=o("iterator"),b="values",w="entries";V.exports=function(_,S,M,W,T,A,O){s(M,S,W);function R(C){if(C===T&&Z)return Z;if(!m&&C in z)return z[C];switch(C){case"keys":case b:case w:return function(){return new M(this,C)}}return function(){return new M(this)}}var U,B,W=S+" Iterator",N=!1,z=_.prototype,Y=z[g]||z["@@iterator"]||T&&z[T],Z=!m&&Y||R(T),G=S=="Array"&&z.entries||Y;if(G&&(G=i(G.call(new _)),y!==Object.prototype&&G.next&&(a||i(G)===y||(p?p(G,y):typeof G[g]!="function"&&r(G,g,f)),h(G,W,!0,!0),a&&(c[W]=f))),T==b&&Y&&Y.name!==b&&(N=!0,Z=function(){return Y.call(this)}),a&&!O||z[g]===Z||r(z,g,Z),c[S]=Z,T)if(U={values:R(b),keys:A?Z:R("keys"),entries:R(w)},O)for(B in U)!m&&!N&&B in z||n(z,B,U[B]);else u({target:S,proto:!0,forced:m||N},U);return U}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(t,V,E){var f=t("../internals/path"),u=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),i=t("../internals/object-define-property").f;V.exports=function(p){var h=f.Symbol||(f.Symbol={});u(h,p)||i(h,p,{value:s.f(p)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,V,E){var f=u("../internals/global"),u=u("../internals/is-object"),s=f.document,i=u(s)&&u(s.createElement);V.exports=function(p){return i?s.createElement(p):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,V,E){V.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,V,E){t=t("../internals/engine-user-agent"),V.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,V,E){t=t("../internals/get-built-in"),V.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,V,E){var f,u,i=s("../internals/global"),s=s("../internals/engine-user-agent"),i=i.process,i=i&&i.versions,i=i&&i.v8;i?u=(f=i.split("."))[0]+f[1]:s&&(!(f=s.match(/Edge\/(\d+)/))||74<=f[1])&&(f=s.match(/Chrome\/(\d+)/))&&(u=f[1]),V.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,V,E){V.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,V,E){var f=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),i=t("../internals/redefine"),p=t("../internals/set-global"),h=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");V.exports=function(n,o){var a,c,d,y=n.target,m=n.global,g=n.stat,b=m?f:g?f[y]||p(y,{}):(f[y]||{}).prototype;if(b)for(a in o){if(c=o[a],d=n.noTargetGet?(d=u(b,a))&&d.value:b[a],!r(m?a:y+(g?".":"#")+a,n.forced)&&d!==void 0){if(typeof c==typeof d)continue;h(c,d)}(n.sham||d&&d.sham)&&s(c,"sham",!0),i(b,a,c,n)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,V,E){V.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(o,V,E){o("../modules/es.regexp.exec");var f=o("../internals/redefine"),u=o("../internals/fails"),s=o("../internals/well-known-symbol"),i=o("../internals/regexp-exec"),p=o("../internals/create-non-enumerable-property"),h=s("species"),r=!u(function(){var d=/./;return d.exec=function(){var y=[];return y.groups={a:"7"},y},"".replace(d,"$<a>")!=="7"}),n="a".replace(/./,"$0")==="$0",o=s("replace"),a=!!/./[o]&&/./[o]("a","$0")==="",c=!u(function(){var y=/(?:)/,d=y.exec,y=(y.exec=function(){return d.apply(this,arguments)},"ab".split(y));return y.length!==2||y[0]!=="a"||y[1]!=="b"});V.exports=function(d,y,m,g){var b,w,_=s(d),S=!u(function(){var k={};return k[_]=function(){return 7},""[d](k)!=7}),M=S&&!u(function(){var k=!1,T=/a/;return d==="split"&&((T={constructor:{}}).constructor[h]=function(){return T},T.flags="",T[_]=/./[_]),T.exec=function(){return k=!0,null},T[_](""),!k});S&&M&&(d!=="replace"||r&&n&&!a)&&(d!=="split"||c)||(b=/./[_],m=(M=m(_,""[d],function(k,T,A,O,R){return T.exec===i?S&&!R?{done:!0,value:b.call(T,A,O)}:{done:!0,value:k.call(A,T,O)}:{done:!1}},{REPLACE_KEEPS_$0:n,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}))[0],w=M[1],f(String.prototype,d,m),f(RegExp.prototype,_,y==2?function(k,T){return w.call(k,this,T)}:function(k){return w.call(k,this)})),g&&p(RegExp.prototype[_],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,V,E){var f=t("../internals/a-function");V.exports=function(u,s,i){if(f(u),s===void 0)return u;switch(i){case 0:return function(){return u.call(s)};case 1:return function(p){return u.call(s,p)};case 2:return function(p,h){return u.call(s,p,h)};case 3:return function(p,h,r){return u.call(s,p,h,r)}}return function(){return u.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(t,V,E){var f=t("../internals/a-function"),u=t("../internals/is-object"),s=[].slice,i={};V.exports=Function.bind||function(p){var h=f(this),r=s.call(arguments,1),n=function(){var o=r.concat(s.call(arguments));if(this instanceof n){var a=h,c=o.length,d=o;if(!(c in i)){for(var y=[],m=0;m<c;m++)y[m]="a["+m+"]";i[c]=Function("C,a","return new C("+y.join(",")+")")}return i[c](a,d)}return h.apply(p,o)};return u(h.prototype)&&(n.prototype=h.prototype),n}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,V,E){function f(i){return typeof i=="function"?i:void 0}var u=t("../internals/path"),s=t("../internals/global");V.exports=function(i,p){return arguments.length<2?f(u[i])||f(s[i]):u[i]&&u[i][p]||s[i]&&s[i][p]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,V,E){var f=t("../internals/classof"),u=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");V.exports=function(i){if(i!=null)return i[s]||i["@@iterator"]||u[f(i)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/get-iterator-method");V.exports=function(s){var i=u(s);if(typeof i!="function")throw TypeError(String(s)+" is not iterable");return f(i.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,V,E){(function(f){function u(s){return s&&s.Math==Math&&s}V.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof mo<"u"?mo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,V,E){var f={}.hasOwnProperty;V.exports=function(u,s){return f.call(u,s)}},{}],61:[function(t,V,E){V.exports={}},{}],62:[function(t,V,E){var f=t("../internals/global");V.exports=function(u,s){var i=f.console;i&&i.error&&(arguments.length===1?i.error(u):i.error(u,s))}},{"../internals/global":59}],63:[function(t,V,E){t=t("../internals/get-built-in"),V.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/document-create-element");V.exports=!f&&!u(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,V,E){var f=Math.abs,u=Math.pow,s=Math.floor,i=Math.log,p=Math.LN2;V.exports={pack:function(h,r,m){var o,a,c,d=new Array(m),y=8*m-r-1,m=(1<<y)-1,g=m>>1,b=r===23?u(2,-24)-u(2,-77):0,w=h<0||h===0&&1/h<0?1:0,_=0;for((h=f(h))!=h||h===1/0?(a=h!=h?1:0,o=m):(o=s(i(h)/p),h*(c=u(2,-o))<1&&(o--,c*=2),2<=(h+=1<=o+g?b/c:b*u(2,1-g))*c&&(o++,c/=2),m<=o+g?(a=0,o=m):1<=o+g?(a=(h*c-1)*u(2,r),o+=g):(a=h*u(2,g-1)*u(2,r),o=0));8<=r;d[_++]=255&a,a/=256,r-=8);for(o=o<<r|a,y+=r;0<y;d[_++]=255&o,o/=256,y-=8);return d[--_]|=128*w,d},unpack:function(h,r){var n,o=h.length,m=8*o-r-1,a=(1<<m)-1,c=a>>1,d=m-7,y=o-1,m=h[y--],g=127&m;for(m>>=7;0<d;g=256*g+h[y],y--,d-=8);for(n=g&(1<<-d)-1,g>>=-d,d+=r;0<d;n=256*n+h[y],y--,d-=8);if(g===0)g=1-c;else{if(g===a)return n?NaN:m?-1/0:1/0;n+=u(2,r),g-=c}return(m?-1:1)*n*u(2,g-r)}}},{}],66:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/classof-raw"),s="".split;V.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(i){return u(i)=="String"?s.call(i,""):Object(i)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");V.exports=function(s,i,p){return u&&typeof(i=i.constructor)=="function"&&i!==p&&f(i=i.prototype)&&i!==p.prototype&&u(s,i),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(f,V,E){var f=f("../internals/shared-store"),u=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(s){return u.call(s)}),V.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(t,V,E){function f(d){p(d,n,{value:{objectID:"O"+ ++o,weakData:{}}})}var u=t("../internals/hidden-keys"),s=t("../internals/is-object"),i=t("../internals/has"),p=t("../internals/object-define-property").f,h=t("../internals/uid"),r=t("../internals/freezing"),n=h("meta"),o=0,a=Object.isExtensible||function(){return!0},c=V.exports={REQUIRED:!1,fastKey:function(d,y){if(!s(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!i(d,n)){if(!a(d))return"F";if(!y)return"E";f(d)}return d[n].objectID},getWeakData:function(d,y){if(!i(d,n)){if(!a(d))return!0;if(!y)return!1;f(d)}return d[n].weakData},onFreeze:function(d){return r&&c.REQUIRED&&a(d)&&!i(d,n)&&f(d),d}};u[n]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(m,V,E){var f,u,s,i,p,h,r,n,o=m("../internals/native-weak-map"),g=m("../internals/global"),a=m("../internals/is-object"),c=m("../internals/create-non-enumerable-property"),d=m("../internals/has"),y=m("../internals/shared-key"),m=m("../internals/hidden-keys"),g=g.WeakMap;r=o?(f=new g,u=f.get,s=f.has,i=f.set,p=function(b,w){return i.call(f,b,w),w},h=function(b){return u.call(f,b)||{}},function(b){return s.call(f,b)}):(m[n=y("state")]=!0,p=function(b,w){return c(b,n,w),w},h=function(b){return d(b,n)?b[n]:{}},function(b){return d(b,n)}),V.exports={set:p,get:h,has:r,enforce:function(b){return r(b)?h(b):p(b,{})},getterFor:function(b){return function(w){if(a(w)&&(w=h(w)).type===b)return w;throw TypeError("Incompatible receiver, "+b+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,V,E){var f=t("../internals/well-known-symbol"),u=t("../internals/iterators"),s=f("iterator"),i=Array.prototype;V.exports=function(p){return p!==void 0&&(u.Array===p||i[s]===p)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(t,V,E){var f=t("../internals/classof-raw");V.exports=Array.isArray||function(u){return f(u)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,V,E){function f(n,o){return(n=p[i(n)])==r||n!=h&&(typeof o=="function"?u(o):!!o)}var u=t("../internals/fails"),s=/#|\.prototype\./,i=f.normalize=function(n){return String(n).replace(s,".").toLowerCase()},p=f.data={},h=f.NATIVE="N",r=f.POLYFILL="P";V.exports=f},{"../internals/fails":51}],74:[function(t,V,E){V.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],75:[function(t,V,E){V.exports=!1},{}],76:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");V.exports=function(i){var p;return f(i)&&((p=i[s])!==void 0?!!p:u(i)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(t,V,E){function f(n,o){this.stopped=n,this.result=o}var u=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),i=t("../internals/to-length"),p=t("../internals/function-bind-context"),h=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(V.exports=function(n,o,a,c,d){var y,m,g,b,w,_,S=p(o,a,c?2:1);if(d)y=n;else{if(typeof(o=h(n))!="function")throw TypeError("Target is not iterable");if(s(o)){for(m=0,g=i(n.length);m<g;m++)if((b=c?S(u(_=n[m])[0],_[1]):S(n[m]))&&b instanceof f)return b;return new f(!1)}y=o.call(n)}for(w=y.next;!(_=w.call(y)).done;)if(typeof(b=r(y,S,_.value,c))=="object"&&b&&b instanceof f)return b;return new f(!1)}).stop=function(n){return new f(!0,n)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(h,V,E){var f,u,s=h("../internals/object-get-prototype-of"),i=h("../internals/create-non-enumerable-property"),p=h("../internals/has"),r=h("../internals/well-known-symbol"),h=h("../internals/is-pure"),r=r("iterator"),n=!1;[].keys&&("next"in(u=[].keys())?(s=s(s(u)))!==Object.prototype&&(f=s):n=!0),f==null&&(f={}),h||p(f,r)||i(f,r,function(){return this}),V.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:n}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(t,V,E){V.exports={}},{}],80:[function(t,V,E){V.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],81:[function(c,V,E){var f,u,s,i,p,h,r,n,o=c("../internals/global"),w=c("../internals/object-get-own-property-descriptor").f,b=c("../internals/classof-raw"),a=c("../internals/task").set,c=c("../internals/engine-is-ios"),d=o.MutationObserver||o.WebKitMutationObserver,y=o.process,m=o.Promise,g=b(y)=="process",b=w(o,"queueMicrotask"),w=b&&b.value;w||(f=function(){var _,S;for(g&&(_=y.domain)&&_.exit();u;){S=u.fn,u=u.next;try{S()}catch(M){throw u?i():s=void 0,M}}s=void 0,_&&_.enter()},i=g?function(){y.nextTick(f)}:d&&!c?(p=!0,h=document.createTextNode(""),new d(f).observe(h,{characterData:!0}),function(){h.data=p=!p}):m&&m.resolve?(r=m.resolve(void 0),n=r.then,function(){n.call(r,f)}):function(){a.call(o,f)}),V.exports=w||function(_){_={fn:_,next:void 0},s&&(s.next=_),u||(u=_,i()),s=_}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(t,V,E){t=t("../internals/global"),V.exports=t.Promise},{"../internals/global":59}],83:[function(t,V,E){t=t("../internals/fails"),V.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),i=u("iterator");V.exports=!f(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),h=p.searchParams,r="";return p.pathname="c%20d",h.forEach(function(n,o){h.delete("b"),r+=o+n}),s&&!p.toJSON||!h.sort||p.href!=="http://a/c%20d?a=1&c=3"||h.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!h[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(f,V,E){var u=f("../internals/global"),f=f("../internals/inspect-source"),u=u.WeakMap;V.exports=typeof u=="function"&&/native code/.test(f(u))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,V,E){function f(s){var i,p;this.promise=new s(function(h,r){if(i!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");i=h,p=r}),this.resolve=u(i),this.reject=u(p)}var u=t("../internals/a-function");V.exports.f=function(s){return new f(s)}},{"../internals/a-function":5}],87:[function(t,V,E){var f=t("../internals/is-regexp");V.exports=function(u){if(f(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":76}],88:[function(t,V,E){var f=t("../internals/global").isFinite;V.exports=Number.isFinite||function(u){return typeof u=="number"&&f(u)}},{"../internals/global":59}],89:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/object-keys"),i=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),r=t("../internals/indexed-object"),n=Object.assign,o=Object.defineProperty;V.exports=!n||u(function(){var a,c,d,y;return!(!f||n({b:1},n(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(c={},y="abcdefghijklmnopqrst",(a={})[d=Symbol()]=7,y.split("").forEach(function(m){c[m]=m}),n({},a)[d]!=7||s(n({},c)).join("")!=y)})?function(a,c){for(var d=h(a),y=arguments.length,m=1,g=i.f,b=p.f;m<y;)for(var w,_=r(arguments[m++]),S=g?s(_).concat(g(_)):s(_),M=S.length,k=0;k<M;)w=S[k++],f&&!b.call(_,w)||(d[w]=_[w]);return d}:n},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(o,V,E){function f(){}var u,s=o("../internals/an-object"),i=o("../internals/object-define-properties"),p=o("../internals/enum-bug-keys"),h=o("../internals/hidden-keys"),r=o("../internals/html"),n=o("../internals/document-create-element"),o=o("../internals/shared-key"),a="prototype",c="script",d=o("IE_PROTO"),y=function(g){return"<"+c+">"+g+"</"+c+">"},m=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}m=u?((g=u).write(y("")),g.close(),b=g.parentWindow.Object,g=null,b):(g=n("iframe"),b="java"+c+":",g.style.display="none",r.appendChild(g),g.src=String(b),(b=g.contentWindow.document).open(),b.write(y("document.F=Object")),b.close(),b.F);for(var g,b,w=p.length;w--;)delete m[a][p[w]];return m()};h[d]=!0,V.exports=Object.create||function(g,b){var w;return g!==null?(f[a]=s(g),w=new f,f[a]=null,w[d]=g):w=m(),b===void 0?w:i(w,b)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/an-object"),i=t("../internals/object-keys");V.exports=f?Object.defineProperties:function(p,h){s(p);for(var r,n=i(h),o=n.length,a=0;a<o;)u.f(p,r=n[a++],h[r]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),i=t("../internals/to-primitive"),p=Object.defineProperty;E.f=f?p:function(h,r,n){if(s(h),r=i(r,!0),s(n),u)try{return p(h,r,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(h[r]=n.value),h}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),i=t("../internals/to-indexed-object"),p=t("../internals/to-primitive"),h=t("../internals/has"),r=t("../internals/ie8-dom-define"),n=Object.getOwnPropertyDescriptor;E.f=f?n:function(o,a){if(o=i(o),a=p(a,!0),r)try{return n(o,a)}catch{}if(h(o,a))return s(!u.f.call(o,a),o[a])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(t,V,E){var f=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,s={}.toString,i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];V.exports.f=function(p){if(!i||s.call(p)!="[object Window]")return u(f(p));try{return u(p)}catch{return i.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(t,V,E){var f=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");E.f=Object.getOwnPropertyNames||function(s){return f(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,V,E){E.f=Object.getOwnPropertySymbols},{}],97:[function(i,V,E){var f=i("../internals/has"),u=i("../internals/to-object"),s=i("../internals/shared-key"),i=i("../internals/correct-prototype-getter"),p=s("IE_PROTO"),h=Object.prototype;V.exports=i?Object.getPrototypeOf:function(r){return r=u(r),f(r,p)?r[p]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?h:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(t,V,E){var f=t("../internals/has"),u=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,i=t("../internals/hidden-keys");V.exports=function(p,h){var r,n=u(p),o=0,a=[];for(r in n)!f(i,r)&&f(n,r)&&a.push(r);for(;h.length>o;)!f(n,r=h[o++])||~s(a,r)||a.push(r);return a}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(t,V,E){var f=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");V.exports=Object.keys||function(s){return f(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,V,E){var f={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,s=u&&!f.call({1:2},1);E.f=s?function(i){return i=u(this,i),!!i&&i.enumerable}:f},{}],101:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/a-possible-prototype");V.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,i=!1,p={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),i=p instanceof Array}catch{}return function(h,r){return f(h),u(r),i?s.call(h,r):h.__proto__=r,h}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,V,E){var f=t("../internals/to-string-tag-support"),u=t("../internals/classof");V.exports=f?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(t,V,E){var f=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),i=t("../internals/an-object");V.exports=f("Reflect","ownKeys")||function(p){var h=u.f(i(p)),r=s.f;return r?h.concat(r(p)):h}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,V,E){t=t("../internals/global"),V.exports=t},{"../internals/global":59}],105:[function(t,V,E){V.exports=function(f){try{return{error:!1,value:f()}}catch(u){return{error:!0,value:u}}}},{}],106:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/is-object"),s=t("../internals/new-promise-capability");V.exports=function(i,p){return f(i),u(p)&&p.constructor===i?p:((0,(i=s.f(i)).resolve)(p),i.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,V,E){var f=t("../internals/redefine");V.exports=function(u,s,i){for(var p in s)f(u,p,s[p],i);return u}},{"../internals/redefine":108}],108:[function(h,V,E){var f=h("../internals/global"),u=h("../internals/create-non-enumerable-property"),s=h("../internals/has"),i=h("../internals/set-global"),p=h("../internals/inspect-source"),h=h("../internals/internal-state"),r=h.get,n=h.enforce,o=String(String).split("String");(V.exports=function(a,c,d,b){var m=!!b&&!!b.unsafe,g=!!b&&!!b.enumerable,b=!!b&&!!b.noTargetGet;typeof d=="function"&&(typeof c!="string"||s(d,"name")||u(d,"name",c),n(d).source=o.join(typeof c=="string"?c:"")),a===f?g?a[c]=d:i(c,d):(m?!b&&a[c]&&(g=!0):delete a[c],g?a[c]=d:u(a,c,d))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,V,E){var f=t("./classof-raw"),u=t("./regexp-exec");V.exports=function(s,i){var p=s.exec;if(typeof p=="function"){if(p=p.call(s,i),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(f(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(s,i)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(i,V,E){var f,u,s=i("./regexp-flags"),i=i("./regexp-sticky-helpers"),p=RegExp.prototype.exec,h=String.prototype.replace,r=p,n=(f=/a/,u=/b*/g,p.call(f,"a"),p.call(u,"a"),f.lastIndex!==0||u.lastIndex!==0),o=i.UNSUPPORTED_Y||i.BROKEN_CARET,a=/()??/.exec("")[1]!==void 0;V.exports=r=n||a||o?function(c){var d,y,m,g,b=this,w=o&&b.sticky,_=s.call(b),S=b.source,M=0,k=c;return w&&((_=_.replace("y","")).indexOf("g")===-1&&(_+="g"),k=String(c).slice(b.lastIndex),0<b.lastIndex&&(!b.multiline||b.multiline&&c[b.lastIndex-1]!==`
`)&&(S="(?: "+S+")",k=" "+k,M++),y=new RegExp("^(?:"+S+")",_)),a&&(y=new RegExp("^"+S+"$(?!\\s)",_)),n&&(d=b.lastIndex),m=p.call(w?y:b,k),w?m?(m.input=m.input.slice(M),m[0]=m[0].slice(M),m.index=b.lastIndex,b.lastIndex+=m[0].length):b.lastIndex=0:n&&m&&(b.lastIndex=b.global?m.index+m[0].length:d),a&&m&&1<m.length&&h.call(m[0],y,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(m[g]=void 0)}),m}:r},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,V,E){var f=t("../internals/an-object");V.exports=function(){var u=f(this),s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),u.dotAll&&(s+="s"),u.unicode&&(s+="u"),u.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(t,V,E){t=t("./fails");function f(u,s){return RegExp(u,s)}E.UNSUPPORTED_Y=t(function(){var u=f("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),E.BROKEN_CARET=t(function(){var u=f("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],113:[function(t,V,E){V.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(t,V,E){V.exports=Object.is||function(f,u){return f===u?f!==0||1/f==1/u:f!=f&&u!=u}},{}],115:[function(t,V,E){var f=t("../internals/global"),u=t("../internals/create-non-enumerable-property");V.exports=function(s,i){try{u(f,s,i)}catch{f[s]=i}return i}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,V,E){var f=t("../internals/get-built-in"),u=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),i=t("../internals/descriptors"),p=s("species");V.exports=function(r){var r=f(r),n=u.f;i&&r&&!r[p]&&n(r,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(t,V,E){var f=t("../internals/object-define-property").f,u=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");V.exports=function(i,p,h){i&&!u(i=h?i:i.prototype,s)&&f(i,s,{configurable:!0,value:p})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(t,V,E){var f=t("../internals/shared"),u=t("../internals/uid"),s=f("keys");V.exports=function(i){return s[i]||(s[i]=u(i))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(f,V,E){var s=f("../internals/global"),f=f("../internals/set-global"),u="__core-js_shared__",s=s[u]||f(u,{});V.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,V,E){var f=t("../internals/is-pure"),u=t("../internals/shared-store");(V.exports=function(s,i){return u[s]||(u[s]=i!==void 0?i:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");V.exports=function(h,p){var h=f(h).constructor;return h===void 0||(h=f(h)[s])==null?p:u(h)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(t,V,E){var f=t("../internals/fails");V.exports=function(u){return f(function(){var s=""[u]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(t,V,E){function f(i){return function(n,o){var r,n=String(s(n)),o=u(o),a=n.length;return o<0||a<=o?i?"":void 0:(r=n.charCodeAt(o))<55296||56319<r||o+1===a||(a=n.charCodeAt(o+1))<56320||57343<a?i?n.charAt(o):r:i?n.slice(o,o+2):a-56320+(r-55296<<10)+65536}}var u=t("../internals/to-integer"),s=t("../internals/require-object-coercible");V.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(t,V,E){function f(m){return m+22+75*(m<26)}function u(m){var g,b=[],w=(m=function(Y){for(var Z=[],G=0,C=Y.length;G<C;){var L,D=Y.charCodeAt(G++);55296<=D&&D<=56319&&G<C?(64512&(L=Y.charCodeAt(G++)))==56320?Z.push(((1023&D)<<10)+(1023&L)+65536):(Z.push(D),G--):Z.push(D)}return Z}(m)).length,_=128,S=0,M=72;for(O=0;O<m.length;O++)(g=m[O])<128&&b.push(y(g));var k=b.length,T=k;for(k&&b.push("-");T<w;){for(var A=s,O=0;O<m.length;O++)_<=(g=m[O])&&g<A&&(A=g);var R=T+1;if(A-_>d((s-S)/R))throw RangeError(a);for(S+=(A-_)*R,_=A,O=0;O<m.length;O++){if((g=m[O])<_&&++S>s)throw RangeError(a);if(g==_){for(var U=S,B=i;;B+=i){var W=B<=M?1:M+p<=B?p:B-M;if(U<W)break;var N=U-W,z=i-W;b.push(y(f(W+N%z))),U=d(N/z)}b.push(y(f(U))),M=function(Y,Z,G){var C=0;for(Y=G?d(Y/r):Y>>1,Y+=d(Y/Z);c*p>>1<Y;C+=i)Y=d(Y/c);return d(C+(c+1)*Y/(Y+h))}(S,R,T==k),S=0,++T}}++S,++_}return b.join("")}var s=2147483647,i=36,p=26,h=38,r=700,n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=i-1,d=Math.floor,y=String.fromCharCode;V.exports=function(m){for(var g,b=[],w=m.toLowerCase().replace(o,".").split("."),_=0;_<w.length;_++)g=w[_],b.push(n.test(g)?"xn--"+u(g):g);return b.join(".")}},{}],125:[function(t,V,E){var f=t("../internals/to-integer"),u=t("../internals/require-object-coercible");V.exports="".repeat||function(s){var i=String(u(this)),p="",h=f(s);if(h<0||h==1/0)throw RangeError("Wrong number of repetitions");for(;0<h;(h>>>=1)&&(i+=i))1&h&&(p+=i);return p}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/whitespaces");V.exports=function(s){return f(function(){return!!u[s]()||""[s]()!=""||u[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(s,V,E){function f(h){return function(r){return r=String(u(r)),1&h&&(r=r.replace(i,"")),r=2&h?r.replace(p,""):r}}var u=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",i=RegExp("^"+s+s+"*"),p=RegExp(s+s+"*$");V.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(c,V,E){function f(T){return function(){k(T)}}function u(T){k(T.data)}function s(T){p.postMessage(T+"",d.protocol+"//"+d.host)}var i,p=c("../internals/global"),h=c("../internals/fails"),r=c("../internals/classof-raw"),n=c("../internals/function-bind-context"),o=c("../internals/html"),a=c("../internals/document-create-element"),c=c("../internals/engine-is-ios"),d=p.location,y=p.setImmediate,m=p.clearImmediate,g=p.process,b=p.MessageChannel,w=p.Dispatch,_=0,S={},M="onreadystatechange",k=function(T){var A;S.hasOwnProperty(T)&&(A=S[T],delete S[T],A())};y&&m||(y=function(T){for(var A=[],O=1;O<arguments.length;)A.push(arguments[O++]);return S[++_]=function(){(typeof T=="function"?T:Function(T)).apply(void 0,A)},i(_),_},m=function(T){delete S[T]},r(g)=="process"?i=function(T){g.nextTick(f(T))}:w&&w.now?i=function(T){w.now(f(T))}:b&&!c?(c=(r=new b).port2,r.port1.onmessage=u,i=n(c.postMessage,c,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||h(s)||d.protocol==="file:"?i=M in a("script")?function(T){o.appendChild(a("script"))[M]=function(){o.removeChild(this),k(T)}}:function(T){setTimeout(f(T),0)}:(i=s,p.addEventListener("message",u,!1))),V.exports={set:y,clear:m}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(t,V,E){var f=t("../internals/classof-raw");V.exports=function(u){if(typeof u!="number"&&f(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],130:[function(t,V,E){var f=t("../internals/to-integer"),u=Math.max,s=Math.min;V.exports=function(i,p){return i=f(i),i<0?u(i+p,0):s(i,p)}},{"../internals/to-integer":133}],131:[function(t,V,E){var f=t("../internals/to-integer"),u=t("../internals/to-length");V.exports=function(i){if(i===void 0)return 0;var i=f(i),p=u(i);if(i!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(t,V,E){var f=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");V.exports=function(s){return f(u(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(t,V,E){var f=Math.ceil,u=Math.floor;V.exports=function(s){return isNaN(s=+s)?0:(0<s?u:f)(s)}},{}],134:[function(t,V,E){var f=t("../internals/to-integer"),u=Math.min;V.exports=function(s){return 0<s?u(f(s),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(t,V,E){var f=t("../internals/require-object-coercible");V.exports=function(u){return Object(f(u))}},{"../internals/require-object-coercible":113}],136:[function(t,V,E){var f=t("../internals/to-positive-integer");V.exports=function(u,s){if(u=f(u),u%s)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":137}],137:[function(t,V,E){var f=t("../internals/to-integer");V.exports=function(u){if(u=f(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":133}],138:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u,s){if(!f(u))return u;var i,p;if(s&&typeof(i=u.toString)=="function"&&!f(p=i.call(u))||typeof(i=u.valueOf)=="function"&&!f(p=i.call(u))||!s&&typeof(i=u.toString)=="function"&&!f(p=i.call(u)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(t,V,E){var f={};f[t("../internals/well-known-symbol")("toStringTag")]="z",V.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(t,V,E){function f(he,xe){for(var Te=0,Ae=xe.length,Ee=new(Q(he))(Ae);Te<Ae;)Ee[Te]=xe[Te++];return Ee}function u(he,xe){L(he,xe,{get:function(){return G(this)[xe]}})}function s(he){return he instanceof te||(he=k(he))=="ArrayBuffer"||he=="SharedArrayBuffer"}function i(he,xe){return ie(he)&&typeof xe!="symbol"&&xe in he&&String(+xe)==String(xe)}function p(he,xe){return i(he,xe=S(xe,!0))?m(2,he[xe]):D(he,xe)}function h(he,xe,Te){return!(i(he,xe=S(xe,!0))&&T(Te)&&M(Te,"value"))||M(Te,"get")||M(Te,"set")||Te.configurable||M(Te,"writable")&&!Te.writable||M(Te,"enumerable")&&!Te.enumerable?L(he,xe,Te):(he[xe]=Te.value,he)}var r=t("../internals/export"),n=t("../internals/global"),o=t("../internals/descriptors"),a=t("../internals/typed-array-constructors-require-wrappers"),c=t("../internals/array-buffer-view-core"),d=t("../internals/array-buffer"),y=t("../internals/an-instance"),m=t("../internals/create-property-descriptor"),g=t("../internals/create-non-enumerable-property"),b=t("../internals/to-length"),w=t("../internals/to-index"),_=t("../internals/to-offset"),S=t("../internals/to-primitive"),M=t("../internals/has"),k=t("../internals/classof"),T=t("../internals/is-object"),A=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),R=t("../internals/object-get-own-property-names").f,U=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,W=t("../internals/set-species"),N=t("../internals/object-define-property"),z=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),Z=t("../internals/inherit-if-required"),G=Y.get,C=Y.set,L=N.f,D=z.f,q=Math.round,J=n.RangeError,te=d.ArrayBuffer,se=d.DataView,ce=c.NATIVE_ARRAY_BUFFER_VIEWS,ne=c.TYPED_ARRAY_TAG,ae=c.TypedArray,de=c.TypedArrayPrototype,Q=c.aTypedArrayConstructor,ie=c.isTypedArray,me="BYTES_PER_ELEMENT",ve="Wrong length";o?(ce||(z.f=p,N.f=h,u(de,"buffer"),u(de,"byteOffset"),u(de,"byteLength"),u(de,"length")),r({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:p,defineProperty:h}),V.exports=function(ye,xe,Te){function Ae(je,X){L(je,X,{get:function(){var $=this,H=X;return($=G($)).view[Be](H*Ee+$.byteOffset,!0)},set:function($){var H=this,ee=X;H=G(H),Te&&($=($=q($))<0?0:255<$?255:255&$),H.view[Ne](ee*Ee+H.byteOffset,$,!0)},enumerable:!0})}var Ee=ye.match(/\d+$/)[0]/8,ze=ye+(Te?"Clamped":"")+"Array",Be="get"+ye,Ne="set"+ye,Xe=n[ze],Ve=Xe,ye=Ve&&Ve.prototype,Oe={};ce?a&&(Ve=xe(function(je,X,$,H){return y(je,Ve,ze),Z(T(X)?s(X)?H!==void 0?new Xe(X,_($,Ee),H):$!==void 0?new Xe(X,_($,Ee)):new Xe(X):ie(X)?f(Ve,X):U.call(Ve,X):new Xe(w(X)),je,Ve)}),O&&O(Ve,ae),B(R(Xe),function(je){je in Ve||g(Ve,je,Xe[je])}),Ve.prototype=ye):(Ve=xe(function(je,X,$,H){y(je,Ve,ze);var ee,fe,be=0,Ce=0;if(T(X)){if(!s(X))return ie(X)?f(Ve,X):U.call(Ve,X);var Ie=X,Ce=_($,Ee),$=X.byteLength;if(H===void 0){if($%Ee||(ee=$-Ce)<0)throw J(ve)}else if($<(ee=b(H)*Ee)+Ce)throw J(ve);fe=ee/Ee}else fe=w(X),Ie=new te(ee=fe*Ee);for(C(je,{buffer:Ie,byteOffset:Ce,byteLength:ee,length:fe,view:new se(Ie)});be<fe;)Ae(je,be++)}),O&&O(Ve,ae),ye=Ve.prototype=A(de)),ye.constructor!==Ve&&g(ye,"constructor",Ve),ne&&g(ye,ne,ze),Oe[ze]=Ve,r({global:!0,forced:Ve!=Xe,sham:!ce},Oe),me in Ve||g(Ve,me,Ee),me in ye||g(ye,me,Ee),W(ze)}):V.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(i,V,E){var f=i("../internals/global"),u=i("../internals/fails"),s=i("../internals/check-correctness-of-iteration"),i=i("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=f.ArrayBuffer,h=f.Int8Array;V.exports=!i||!u(function(){h(1)})||!u(function(){new h(-1)})||!s(function(r){new h,new h(null),new h(1.5),new h(r)},!0)||u(function(){return new h(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-length"),s=t("../internals/get-iterator-method"),i=t("../internals/is-array-iterator-method"),p=t("../internals/function-bind-context"),h=t("../internals/array-buffer-view-core").aTypedArrayConstructor;V.exports=function(r){var n,o,a,c,d,y,m=f(r),g=arguments.length,b=1<g?arguments[1]:void 0,w=b!==void 0,_=s(m);if(_!=null&&!i(_))for(y=(d=_.call(m)).next,m=[];!(c=y.call(d)).done;)m.push(c.value);for(w&&2<g&&(b=p(b,arguments[2],2)),o=u(m.length),a=new(h(this))(o),n=0;n<o;n++)a[n]=w?b(m[n],n):m[n];return a}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(t,V,E){var f=0,u=Math.random();V.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++f+u).toString(36)}},{}],144:[function(t,V,E){t=t("../internals/native-symbol"),V.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(t,V,E){t=t("../internals/well-known-symbol"),E.f=t},{"../internals/well-known-symbol":146}],146:[function(h,V,E){var f=h("../internals/global"),u=h("../internals/shared"),s=h("../internals/has"),i=h("../internals/uid"),p=h("../internals/native-symbol"),h=h("../internals/use-symbol-as-uid"),r=u("wks"),n=f.Symbol,o=h?n:n&&n.withoutSetter||i;V.exports=function(a){return s(r,a)||(p&&s(n,a)?r[a]=n[a]:r[a]=o("Symbol."+a)),r[a]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(t,V,E){V.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],148:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/global"),p=s("../internals/array-buffer"),s=s("../internals/set-species"),i="ArrayBuffer",p=p[i];f({global:!0,forced:u[i]!==p},{ArrayBuffer:p}),s(i)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(m,V,E){var f=m("../internals/export"),u=m("../internals/fails"),s=m("../internals/is-array"),i=m("../internals/is-object"),p=m("../internals/to-object"),h=m("../internals/to-length"),r=m("../internals/create-property"),n=m("../internals/array-species-create"),o=m("../internals/array-method-has-species-support"),y=m("../internals/well-known-symbol"),m=m("../internals/engine-v8-version"),a=y("isConcatSpreadable"),c=9007199254740991,d="Maximum allowed index exceeded",y=51<=m||!u(function(){var g=[];return g[a]=!1,g.concat()[0]!==g}),m=o("concat");f({target:"Array",proto:!0,forced:!y||!m},{concat:function(g){for(var b,w,_,S,M,k=p(this),T=n(k,0),A=0,O=-1,R=arguments.length;O<R;O++)if(M=void 0,!i(S=_=O===-1?k:arguments[O])||((M=S[a])!==void 0?!M:!s(S))){if(c<=A)throw TypeError(d);r(T,A++,_)}else{if(w=h(_.length),c<A+w)throw TypeError(d);for(b=0;b<w;b++,A++)b in _&&r(T,A,_[b])}return T.length=A,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");f({target:"Array",proto:!0},{copyWithin:u}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").every,s=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),s=s("every"),i=i("every");f({target:"Array",proto:!0,forced:!s||!i},{every:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:u}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").filter,s=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),s=s("filter"),i=i("filter");f({target:"Array",proto:!0,forced:!s||!i},{filter:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/array-from");f({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(i){return u(this,i,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/array-includes").indexOf,p=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),s=[].indexOf,i=!!s&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:i||!p||!h},{indexOf:function(r){return i?s.apply(this,arguments)||0:u(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(p,V,E){var f=p("../internals/to-indexed-object"),u=p("../internals/add-to-unscopables"),s=p("../internals/iterators"),i=p("../internals/internal-state"),p=p("../internals/define-iterator"),h="Array Iterator",r=i.set,n=i.getterFor(h);V.exports=p(Array,"Array",function(o,a){r(this,{type:h,target:f(o),index:0,kind:a})},function(){var o=n(this),a=o.target,c=o.kind,d=o.index++;return!a||d>=a.length?{value:o.target=void 0,done:!0}:c=="keys"?{value:d,done:!1}:c=="values"?{value:a[d],done:!1}:{value:[d,a[d]],done:!1}},"values"),s.Arguments=s.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(p,V,E){var f=p("../internals/export"),i=p("../internals/indexed-object"),u=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),s=[].join,i=i!=Object,p=p("join",",");f({target:"Array",proto:!0,forced:i||!p},{join:function(h){return s.call(u(this),h===void 0?",":h)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").map,s=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),s=s("map"),i=i("map");f({target:"Array",proto:!0,forced:!s||!i},{map:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(a,V,E){var f=a("../internals/export"),u=a("../internals/is-object"),s=a("../internals/is-array"),i=a("../internals/to-absolute-index"),p=a("../internals/to-length"),h=a("../internals/to-indexed-object"),r=a("../internals/create-property"),n=a("../internals/well-known-symbol"),o=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),o=o("slice"),a=a("slice",{ACCESSORS:!0,0:0,1:2}),c=n("species"),d=[].slice,y=Math.max;f({target:"Array",proto:!0,forced:!o||!a},{slice:function(m,g){var b,w,_,S=h(this),M=p(S.length),k=i(m,M),T=i(g===void 0?M:g,M);if(s(S)&&((b=typeof(b=S.constructor)=="function"&&(b===Array||s(b.prototype))||u(b)&&(b=b[c])===null?void 0:b)===Array||b===void 0))return d.call(S,k,T);for(w=new(b===void 0?Array:b)(y(T-k,0)),_=0;k<T;k++,_++)k in S&&r(w,_,S[k]);return w.length=_,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").some,s=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),s=s("some"),i=i("some");f({target:"Array",proto:!0,forced:!s||!i},{some:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(o,V,E){var f=o("../internals/export"),u=o("../internals/to-absolute-index"),s=o("../internals/to-integer"),i=o("../internals/to-length"),p=o("../internals/to-object"),h=o("../internals/array-species-create"),r=o("../internals/create-property"),n=o("../internals/array-method-has-species-support"),o=o("../internals/array-method-uses-to-length"),n=n("splice"),o=o("splice",{ACCESSORS:!0,0:0,1:2}),a=Math.max,c=Math.min;f({target:"Array",proto:!0,forced:!n||!o},{splice:function(A,y){var m,g,b,w,_,S,M=p(this),k=i(M.length),T=u(A,k),A=arguments.length;if(A===0?m=g=0:g=A===1?(m=0,k-T):(m=A-2,c(a(s(y),0),k-T)),9007199254740991<k+m-g)throw TypeError("Maximum allowed length exceeded");for(b=h(M,g),w=0;w<g;w++)(_=T+w)in M&&r(b,w,M[_]);if(m<(b.length=g)){for(w=T;w<k-g;w++)S=w+m,(_=w+g)in M?M[S]=M[_]:delete M[S];for(w=k;k-g+m<w;w--)delete M[w-1]}else if(g<m)for(w=k-g;T<w;w--)S=w+m-1,(_=w+g-1)in M?M[S]=M[_]:delete M[S];for(w=0;w<m;w++)M[w+T]=arguments[w+2];return M.length=k-g+m,b}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(u,V,E){var f=u("../internals/descriptors"),u=u("../internals/object-define-property").f,s=Function.prototype,i=s.toString,p=/^\s*function ([^ (]*)/;!f||"name"in s||u(s,"name",{configurable:!0,get:function(){try{return i.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(u,V,E){var f=u("../internals/collection"),u=u("../internals/collection-strong");V.exports=f("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(f,V,E){var f=f("../internals/export"),u=Math.hypot,s=Math.abs,i=Math.sqrt;f({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(p,h){for(var r,n,o=0,a=0,c=arguments.length,d=0;a<c;)d<(r=s(arguments[a++]))?(o=o*(n=d/r)*n+1,d=r):o+=0<r?(n=r/d)*n:r;return d===1/0?1/0:d*i(o)}})},{"../internals/export":50}],168:[function(t,V,E){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(t,V,E){function f(O){var R,U,B,W,N,z,Y,Z=o(O,!1);if(typeof Z=="string"&&2<Z.length){if((O=(Z=g(Z)).charCodeAt(0))===43||O===45){if((R=Z.charCodeAt(2))===88||R===120)return NaN}else if(O===48){switch(Z.charCodeAt(1)){case 66:case 98:U=2,B=49;break;case 79:case 111:U=8,B=55;break;default:return+Z}for(N=(W=Z.slice(2)).length,z=0;z<N;z++)if((Y=W.charCodeAt(z))<48||B<Y)return NaN;return parseInt(W,U)}}return+Z}var u=t("../internals/descriptors"),s=t("../internals/global"),i=t("../internals/is-forced"),p=t("../internals/redefine"),h=t("../internals/has"),r=t("../internals/classof-raw"),n=t("../internals/inherit-if-required"),o=t("../internals/to-primitive"),a=t("../internals/fails"),c=t("../internals/object-create"),d=t("../internals/object-get-own-property-names").f,y=t("../internals/object-get-own-property-descriptor").f,m=t("../internals/object-define-property").f,g=t("../internals/string-trim").trim,b="Number",w=s[b],_=w.prototype,S=r(c(_))==b;if(i(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var M,k=function(R){var R=arguments.length<1?0:R,U=this;return U instanceof k&&(S?a(function(){_.valueOf.call(U)}):r(U)!=b)?n(new w(f(R)),U,k):f(R)},T=u?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;T.length>A;A++)h(w,M=T[A])&&!h(k,M)&&m(k,M,y(w,M));(k.prototype=_).constructor=k,p(s,b,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(t,V,E){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(h,V,E){function f(o,a,c){return a===0?c:a%2==1?f(o,a-1,c*o):f(o*o,a/2,c)}var u=h("../internals/export"),s=h("../internals/to-integer"),i=h("../internals/this-number-value"),p=h("../internals/string-repeat"),h=h("../internals/fails"),r=1 .toFixed,n=Math.floor;u({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!h(function(){r.call({})})},{toFixed:function(b){function a(M,k){for(var T=-1,A=k;++T<6;)A+=M*w[T],w[T]=A%1e7,A=n(A/1e7)}function c(M){for(var k=6,T=0;0<=--k;)T+=w[k],w[k]=n(T/M),T=T%M*1e7}function d(){for(var M,k=6,T="";0<=--k;)T===""&&k!==0&&w[k]===0||(M=String(w[k]),T=T===""?M:T+p.call("0",7-M.length)+M);return T}var y,m,g=i(this),b=s(b),w=[0,0,0,0,0,0],_="",S="0";if(b<0||20<b)throw RangeError("Incorrect fraction digits");if(g!=g)return"NaN";if(g<=-1e21||1e21<=g)return String(g);if(g<0&&(_="-",g=-g),1e-21<g)if(g=(y=function(M){for(var k=0,T=M;4096<=T;)k+=12,T/=4096;for(;2<=T;)k+=1,T/=2;return k}(g*f(2,69,1))-69)<0?g*f(2,-y,1):g/f(2,y,1),g*=4503599627370496,0<(y=52-y)){for(a(0,g),m=b;7<=m;)a(1e7,0),m-=7;for(a(f(10,m,1),0),m=y-1;23<=m;)c(1<<23),m-=23;c(1<<m),a(1,1),c(2),S=d()}else a(0,g),a(1<<-y,0),S=d()+p.call("0",b);return S=0<b?_+((g=S.length)<=b?"0."+p.call("0",b-g)+S:S.slice(0,g-b)+"."+S.slice(g-b)):_+S}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(i,V,E){var f=i("../internals/export"),p=i("../internals/fails"),u=i("../internals/to-indexed-object"),s=i("../internals/object-get-own-property-descriptor").f,i=i("../internals/descriptors"),p=p(function(){s(1)});f({target:"Object",stat:!0,forced:!i||p,sham:!i},{getOwnPropertyDescriptor:function(h,r){return s(u(h),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(p,V,E){var f=p("../internals/export"),u=p("../internals/fails"),s=p("../internals/to-object"),i=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:u(function(){i(1)}),sham:!p},{getPrototypeOf:function(h){return i(s(h))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/to-object"),s=t("../internals/object-keys");f({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(i){return s(u(i))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(s,V,E){var f=s("../internals/to-string-tag-support"),u=s("../internals/redefine"),s=s("../internals/object-to-string");f||u(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(Te,V,E){var f,u,s,i,p=Te("../internals/export"),h=Te("../internals/is-pure"),r=Te("../internals/global"),n=Te("../internals/get-built-in"),o=Te("../internals/native-promise-constructor"),a=Te("../internals/redefine"),c=Te("../internals/redefine-all"),d=Te("../internals/set-to-string-tag"),y=Te("../internals/set-species"),m=Te("../internals/is-object"),g=Te("../internals/a-function"),b=Te("../internals/an-instance"),w=Te("../internals/classof-raw"),_=Te("../internals/inspect-source"),S=Te("../internals/iterate"),M=Te("../internals/check-correctness-of-iteration"),k=Te("../internals/species-constructor"),T=Te("../internals/task").set,A=Te("../internals/microtask"),O=Te("../internals/promise-resolve"),R=Te("../internals/host-report-errors"),U=Te("../internals/new-promise-capability"),B=Te("../internals/perform"),W=Te("../internals/internal-state"),N=Te("../internals/is-forced"),Ae=Te("../internals/well-known-symbol"),z=Te("../internals/engine-v8-version"),Y=Ae("species"),Z="Promise",G=W.get,C=W.set,L=W.getterFor(Z),D=o,q=r.TypeError,J=r.document,te=r.process,se=n("fetch"),ce=U.f,ne=ce,ae=w(te)=="process",de=!!(J&&J.createEvent&&r.dispatchEvent),Q="unhandledrejection",ie="rejectionhandled",me=1,ve=2,he=1,xe=2,Te=N(Z,function(){var Oe,je;return _(D)===String(D)&&(z===66||!ae&&typeof PromiseRejectionEvent!="function")?!0:!(!h||D.prototype.finally)||!(51<=z&&/native code/.test(D))&&(je=function(X){X(function(){},function(){})},((Oe=D.resolve(1)).constructor={})[Y]=je,!(Oe.then(function(){})instanceof je))}),Ae=Te||!M(function(Oe){D.all(Oe).catch(function(){})}),Ee=function(Oe){var je;return!(!m(Oe)||typeof(je=Oe.then)!="function")&&je},ze=function(Oe,je,X){var $;je.notified||(je.notified=!0,$=je.reactions,A(function(){for(var H,ee,fe=je.value,be=je.state==me,Ce=0;$.length>Ce;){var Ie,Ue,Fe,We=$[Ce++],rt=be?We.ok:We.fail,et=We.resolve,Ze=We.reject,tt=We.domain;try{rt?(be||(je.rejection===xe&&function(Qe,mt){T.call(r,function(){ae?te.emit("rejectionHandled",Qe):Be(ie,Qe,mt.value)})}(Oe,je),je.rejection=he),rt===!0?Ie=fe:(tt&&tt.enter(),Ie=rt(fe),tt&&(tt.exit(),Fe=!0)),Ie===We.promise?Ze(q("Promise-chain cycle")):(Ue=Ee(Ie))?Ue.call(Ie,et,Ze):et(Ie)):Ze(fe)}catch(Qe){tt&&!Fe&&tt.exit(),Ze(Qe)}}je.reactions=[],je.notified=!1,X&&!je.rejection&&(H=Oe,ee=je,T.call(r,function(){var Qe=ee.value,mt=Ne(ee);if(mt&&(mt=B(function(){ae?te.emit("unhandledRejection",Qe,H):Be(Q,H,Qe)}),ee.rejection=ae||Ne(ee)?xe:he,mt.error))throw mt.value}))}))},Be=function(Oe,je,X){var $;de?(($=J.createEvent("Event")).promise=je,$.reason=X,$.initEvent(Oe,!1,!0),r.dispatchEvent($)):$={promise:je,reason:X},(je=r["on"+Oe])?je($):Oe===Q&&R("Unhandled promise rejection",X)},Ne=function(Oe){return Oe.rejection!==he&&!Oe.parent},Xe=function(Oe,je,X,$){return function(H){Oe(je,X,H,$)}},Ve=function(Oe,je,X,$){je.done||(je.done=!0,(je=$||je).value=X,je.state=ve,ze(Oe,je,!0))},ye=function(Oe,je,X,$){if(!je.done){je.done=!0,$&&(je=$);try{if(Oe===X)throw q("Promise can't be resolved itself");var H=Ee(X);H?A(function(){var ee={done:!1};try{H.call(X,Xe(ye,Oe,ee,je),Xe(Ve,Oe,ee,je))}catch(fe){Ve(Oe,ee,fe,je)}}):(je.value=X,je.state=me,ze(Oe,je,!1))}catch(ee){Ve(Oe,{done:!1},ee,je)}}};Te&&(D=function(Oe){b(this,D,Z),g(Oe),f.call(this);var je=G(this);try{Oe(Xe(ye,this,je),Xe(Ve,this,je))}catch(X){Ve(this,je,X)}},(f=function(Oe){C(this,{type:Z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(D.prototype,{then:function(Oe,je){var X=L(this),$=ce(k(this,D));return $.ok=typeof Oe!="function"||Oe,$.fail=typeof je=="function"&&je,$.domain=ae?te.domain:void 0,X.parent=!0,X.reactions.push($),X.state!=0&&ze(this,X,!1),$.promise},catch:function(Oe){return this.then(void 0,Oe)}}),u=function(){var Oe=new f,je=G(Oe);this.promise=Oe,this.resolve=Xe(ye,Oe,je),this.reject=Xe(Ve,Oe,je)},U.f=ce=function(Oe){return Oe===D||Oe===s?new u:ne(Oe)},h||typeof o!="function"||(i=o.prototype.then,a(o.prototype,"then",function(Oe,je){var X=this;return new D(function($,H){i.call(X,$,H)}).then(Oe,je)},{unsafe:!0}),typeof se=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Oe){return O(D,se.apply(r,arguments))}}))),p({global:!0,wrap:!0,forced:Te},{Promise:D}),d(D,Z,!1,!0),y(Z),s=n(Z),p({target:Z,stat:!0,forced:Te},{reject:function(Oe){var je=ce(this);return je.reject.call(void 0,Oe),je.promise}}),p({target:Z,stat:!0,forced:h||Te},{resolve:function(Oe){return O(h&&this===s?D:this,Oe)}}),p({target:Z,stat:!0,forced:Ae},{all:function(Oe){var je=this,X=ce(je),$=X.resolve,H=X.reject,ee=B(function(){var fe=g(je.resolve),be=[],Ce=0,Ie=1;S(Oe,function(Ue){var Fe=Ce++,We=!1;be.push(void 0),Ie++,fe.call(je,Ue).then(function(rt){We||(We=!0,be[Fe]=rt,--Ie||$(be))},H)}),--Ie||$(be)});return ee.error&&H(ee.value),X.promise},race:function(Oe){var je=this,X=ce(je),$=X.reject,H=B(function(){var ee=g(je.resolve);S(Oe,function(fe){ee.call(je,fe).then(X.resolve,$)})});return H.error&&$(H.value),X.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(r,V,E){var f=r("../internals/export"),c=r("../internals/get-built-in"),u=r("../internals/a-function"),s=r("../internals/an-object"),i=r("../internals/is-object"),p=r("../internals/object-create"),h=r("../internals/function-bind"),r=r("../internals/fails"),n=c("Reflect","construct"),o=r(function(){function d(){}return!(n(function(){},[],d)instanceof d)}),a=!r(function(){n(function(){})}),c=o||a;f({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(d,y){u(d),s(y);var m=arguments.length<3?d:u(arguments[2]);if(a&&!o)return n(d,y,m);if(d==m){switch(y.length){case 0:return new d;case 1:return new d(y[0]);case 2:return new d(y[0],y[1]);case 3:return new d(y[0],y[1],y[2]);case 4:return new d(y[0],y[1],y[2],y[3])}var g=[null];return g.push.apply(g,y),new(h.apply(d,g))}return g=m.prototype,m=p(i(g)?g:Object.prototype),g=Function.apply.call(d,m,y),i(g)?g:m}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/global"),s=t("../internals/is-forced"),i=t("../internals/inherit-if-required"),p=t("../internals/object-define-property").f,h=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),n=t("../internals/regexp-flags"),o=t("../internals/regexp-sticky-helpers"),a=t("../internals/redefine"),c=t("../internals/fails"),d=t("../internals/internal-state").set,y=t("../internals/set-species"),m=t("../internals/well-known-symbol")("match"),g=u.RegExp,b=g.prototype,w=/a/g,_=/a/g,S=new g(w)!==w,M=o.UNSUPPORTED_Y;if(f&&s("RegExp",!S||M||c(function(){return _[m]=!1,g(w)!=w||g(_)==_||g(w,"i")!="/a/i"}))){for(var k=function(O,R){var U,B=this instanceof k,W=r(O),N=R===void 0;return!B&&W&&O.constructor===k&&N?O:(S?W&&!N&&(O=O.source):O instanceof k&&(N&&(R=n.call(O)),O=O.source),M&&(U=!!R&&-1<R.indexOf("y"))&&(R=R.replace(/y/g,"")),W=i(S?new g(O,R):g(O,R),B?this:b,k),M&&U&&d(W,{sticky:U}),W)},T=h(g),A=0;T.length>A;)(function(O){O in k||p(k,O,{configurable:!0,get:function(){return g[O]},set:function(R){g[O]=R}})})(T[A++]);(b.constructor=k).prototype=b,a(u,"RegExp",k)}y("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(i,V,E){var f=i("../internals/redefine"),u=i("../internals/an-object"),r=i("../internals/fails"),s=i("../internals/regexp-flags"),i="toString",p=RegExp.prototype,h=p[i],r=r(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),n=h.name!=i;(r||n)&&f(RegExp.prototype,i,function(){var o=u(this),a=String(o.source),c=o.flags;return"/"+a+"/"+String(c===void 0&&o instanceof RegExp&&!("flags"in p)?s.call(o):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(u,V,E){var f=u("../internals/collection"),u=u("../internals/collection-strong");V.exports=f("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/object-get-own-property-descriptor").f,s=h("../internals/to-length"),i=h("../internals/not-a-regexp"),p=h("../internals/require-object-coercible"),o=h("../internals/correct-is-regexp-logic"),h=h("../internals/is-pure"),r="".endsWith,n=Math.min,o=o("endsWith");f({target:"String",proto:!0,forced:!!(h||o||!(f=u(String.prototype,"endsWith"))||f.writable)&&!o},{endsWith:function(a){var c=String(p(this)),d=(i(a),1<arguments.length?arguments[1]:void 0),y=s(c.length),d=d===void 0?y:n(s(d),y),y=String(a);return r?r.call(c,y,d):c.slice(d-y.length,d)===y}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(i){return!!~String(s(this)).indexOf(u(i),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(s,V,E){var f=s("../internals/string-multibyte").charAt,u=s("../internals/internal-state"),s=s("../internals/define-iterator"),i="String Iterator",p=u.set,h=u.getterFor(i);s(String,"String",function(r){p(this,{type:i,string:String(r),index:0})},function(){var r=h(this),n=r.string,o=r.index;return o>=n.length?{value:void 0,done:!0}:(n=f(n,o),r.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-length"),i=t("../internals/require-object-coercible"),p=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract");f("match",1,function(r,n,o){return[function(a){var c=i(this),d=a==null?void 0:a[r];return d!==void 0?d.call(a,c):new RegExp(a)[r](String(c))},function(a){var c=o(n,a,this);if(c.done)return c.value;var d=u(a),y=String(this);if(!d.global)return h(d,y);for(var m=d.unicode,g=[],b=d.lastIndex=0;(w=h(d,y))!==null;){var w=String(w[0]);(g[b]=w)===""&&(d.lastIndex=p(y,s(d.lastIndex),m)),b++}return b===0?null:g}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(t,V,E){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-object"),i=t("../internals/to-length"),p=t("../internals/to-integer"),h=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),n=t("../internals/regexp-exec-abstract"),o=Math.max,a=Math.min,c=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;f("replace",2,function(m,g,b,w){var _=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=w.REPLACE_KEEPS_$0,M=_?"$":"$0";return[function(k,T){var A=h(this),O=k==null?void 0:k[m];return O!==void 0?O.call(k,A,T):g.call(String(A),k,T)},function(k,T){if(!_&&S||typeof T=="string"&&T.indexOf(M)===-1){var A=b(g,k,this,T);if(A.done)return A.value}for(var O,R=u(k),U=String(this),B=typeof T=="function",W=(B||(T=String(T)),R.global),N=(W&&(O=R.unicode,R.lastIndex=0),[]);(C=n(R,U))!==null&&(N.push(C),W);)String(C[0])===""&&(R.lastIndex=r(U,i(R.lastIndex),O));for(var z,Y="",Z=0,G=0;G<N.length;G++){for(var C=N[G],L=String(C[0]),D=o(a(p(C.index),U.length),0),q=[],J=1;J<C.length;J++)q.push((z=C[J])===void 0?z:String(z));var te=C.groups,se=B?(se=[L].concat(q,D,U),te!==void 0&&se.push(te),String(T.apply(void 0,se))):function(ce,ne,ae,de,Q,ie){var me=ae+ce.length,ve=de.length,he=y;return Q!==void 0&&(Q=s(Q),he=d),g.call(ie,he,function(xe,Te){var Ae;switch(Te.charAt(0)){case"$":return"$";case"&":return ce;case"`":return ne.slice(0,ae);case"'":return ne.slice(me);case"<":Ae=Q[Te.slice(1,-1)];break;default:var Ee,ze=+Te;if(ze==0)return xe;if(ve<ze)return(Ee=c(ze/10))!==0&&Ee<=ve?de[Ee-1]===void 0?Te.charAt(1):de[Ee-1]+Te.charAt(1):xe;Ae=de[ze-1]}return Ae===void 0?"":Ae})}(L,U,D,q,te,T);Z<=D&&(Y+=U.slice(Z,D)+se,Z=D+L.length)}return Y+U.slice(Z)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/require-object-coercible"),i=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");f("search",1,function(h,r,n){return[function(o){var a=s(this),c=o==null?void 0:o[h];return c!==void 0?c.call(o,a):new RegExp(o)[h](String(a))},function(o){var a,c=n(r,o,this);return c.done?c.value:(c=u(o),o=String(this),a=c.lastIndex,i(a,0)||(c.lastIndex=0),o=p(c,o),i(c.lastIndex,a)||(c.lastIndex=a),o===null?-1:o.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(a,V,E){var f=a("../internals/fix-regexp-well-known-symbol-logic"),u=a("../internals/is-regexp"),s=a("../internals/an-object"),i=a("../internals/require-object-coercible"),p=a("../internals/species-constructor"),h=a("../internals/advance-string-index"),r=a("../internals/to-length"),n=a("../internals/regexp-exec-abstract"),o=a("../internals/regexp-exec"),a=a("../internals/fails"),c=[].push,d=Math.min,y=4294967295,m=!a(function(){return!RegExp(y,"y")});f("split",2,function(g,b,w){var _="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(S,M){var k=String(i(this)),T=M===void 0?y:M>>>0;if(T==0)return[];if(S===void 0)return[k];if(!u(S))return b.call(k,S,T);for(var A,O,R,U=[],M=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(S.sticky?"y":""),B=0,W=new RegExp(S.source,M+"g");(A=o.call(W,k))&&!(B<(O=W.lastIndex)&&(U.push(k.slice(B,A.index)),1<A.length&&A.index<k.length&&c.apply(U,A.slice(1)),R=A[0].length,B=O,U.length>=T));)W.lastIndex===A.index&&W.lastIndex++;return B===k.length?!R&&W.test("")||U.push(""):U.push(k.slice(B)),U.length>T?U.slice(0,T):U}:"0".split(void 0,0).length?function(S,M){return S===void 0&&M===0?[]:b.call(this,S,M)}:b;return[function(S,M){var k=i(this),T=S==null?void 0:S[g];return T!==void 0?T.call(S,k,M):_.call(String(k),S,M)},function(A,M){var k=w(_,A,this,M,_!==b);if(k.done)return k.value;var k=s(A),T=String(this),A=p(k,RegExp),O=k.unicode,R=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(m?"y":"g"),U=new A(m?k:"^(?:"+k.source+")",R),B=M===void 0?y:M>>>0;if(B==0)return[];if(T.length===0)return n(U,T)===null?[T]:[];for(var W=0,N=0,z=[];N<T.length;){U.lastIndex=m?N:0;var Y,Z=n(U,m?T:T.slice(N));if(Z===null||(Y=d(r(U.lastIndex+(m?0:N)),T.length))===W)N=h(T,N,O);else{if(z.push(T.slice(W,N)),z.length===B)return z;for(var G=1;G<=Z.length-1;G++)if(z.push(Z[G]),z.length===B)return z;N=W=Y}}return z.push(T.slice(W)),z}]},!m)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/create-html");f({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/string-trim").trim;f({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(d,V,E){var f,u,s,i,p,h=d("../internals/export"),r=d("../internals/descriptors"),n=d("../internals/global"),o=d("../internals/has"),a=d("../internals/is-object"),c=d("../internals/object-define-property").f,d=d("../internals/copy-constructor-properties"),y=n.Symbol;!r||typeof y!="function"||"description"in y.prototype&&y().description===void 0||(f={},d(u=function(){var m=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),g=this instanceof u?new y(m):m===void 0?y():y(m);return m===""&&(f[g]=!0),g},y),(n=u.prototype=y.prototype).constructor=u,s=n.toString,i=String(y("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,c(n,"description",{configurable:!0,get:function(){var m=a(this)?this.valueOf():this,g=s.call(m);return o(f,m)?"":(m=i?g.slice(7,-1):g.replace(p,"$1"))===""?void 0:m}}),h({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(t,V,E){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(ne,V,E){function f(H,ee){var fe=Ae[H]=k(ie[ce]);return ae(fe,{type:se,tag:H,description:ee}),o||(fe.description=ee),fe}function u(H,be){b(H);var fe=_(be),be=T(fe).concat($(fe));return J(be,function(Ce){o&&!X.call(fe,Ce)||je(H,Ce,fe[Ce])}),H}function s(be,Ce){var fe,be=_(be),Ce=S(Ce,!0);if(be!==Q||!y(Ae,Ce)||y(Ee,Ce))return!(fe=ve(be,Ce))||!y(Ae,Ce)||y(be,te)&&be[te][Ce]||(fe.enumerable=!0),fe}function i(ee){var ee=xe(_(ee)),fe=[];return J(ee,function(be){y(Ae,be)||y(Z,be)||fe.push(be)}),fe}var p=ne("../internals/export"),h=ne("../internals/global"),r=ne("../internals/get-built-in"),n=ne("../internals/is-pure"),o=ne("../internals/descriptors"),a=ne("../internals/native-symbol"),c=ne("../internals/use-symbol-as-uid"),d=ne("../internals/fails"),y=ne("../internals/has"),m=ne("../internals/is-array"),g=ne("../internals/is-object"),b=ne("../internals/an-object"),w=ne("../internals/to-object"),_=ne("../internals/to-indexed-object"),S=ne("../internals/to-primitive"),M=ne("../internals/create-property-descriptor"),k=ne("../internals/object-create"),T=ne("../internals/object-keys"),A=ne("../internals/object-get-own-property-names"),O=ne("../internals/object-get-own-property-names-external"),R=ne("../internals/object-get-own-property-symbols"),U=ne("../internals/object-get-own-property-descriptor"),B=ne("../internals/object-define-property"),W=ne("../internals/object-property-is-enumerable"),N=ne("../internals/create-non-enumerable-property"),z=ne("../internals/redefine"),Y=ne("../internals/shared"),Ne=ne("../internals/shared-key"),Z=ne("../internals/hidden-keys"),G=ne("../internals/uid"),C=ne("../internals/well-known-symbol"),L=ne("../internals/well-known-symbol-wrapped"),D=ne("../internals/define-well-known-symbol"),q=ne("../internals/set-to-string-tag"),Xe=ne("../internals/internal-state"),J=ne("../internals/array-iteration").forEach,te=Ne("hidden"),se="Symbol",ce="prototype",ne=C("toPrimitive"),ae=Xe.set,de=Xe.getterFor(se),Q=Object[ce],ie=h.Symbol,me=r("JSON","stringify"),ve=U.f,he=B.f,xe=O.f,Te=W.f,Ae=Y("symbols"),Ee=Y("op-symbols"),ze=Y("string-to-symbol-registry"),Be=Y("symbol-to-string-registry"),Ne=Y("wks"),Xe=h.QObject,Ve=!Xe||!Xe[ce]||!Xe[ce].findChild,ye=o&&d(function(){return k(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!=7})?function(H,ee,fe){var be=ve(Q,ee);be&&delete Q[ee],he(H,ee,fe),be&&H!==Q&&he(Q,ee,be)}:he,Oe=c?function(H){return typeof H=="symbol"}:function(H){return Object(H)instanceof ie},je=function(H,ee,fe){return H===Q&&je(Ee,ee,fe),b(H),ee=S(ee,!0),b(fe),(y(Ae,ee)?(fe.enumerable?(y(H,te)&&H[te][ee]&&(H[te][ee]=!1),fe=k(fe,{enumerable:M(0,!1)})):(y(H,te)||he(H,te,M(1,{})),H[te][ee]=!0),ye):he)(H,ee,fe)},X=function(ee){var ee=S(ee,!0),fe=Te.call(this,ee);return!(this===Q&&y(Ae,ee)&&!y(Ee,ee))&&(!(fe||!y(this,ee)||!y(Ae,ee)||y(this,te)&&this[te][ee])||fe)},$=function(fe){var ee=fe===Q,fe=xe(ee?Ee:_(fe)),be=[];return J(fe,function(Ce){!y(Ae,Ce)||ee&&!y(Q,Ce)||be.push(Ae[Ce])}),be};a||(z((ie=function(){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var H=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ee=G(H),fe=function(be){this===Q&&fe.call(Ee,be),y(this,te)&&y(this[te],ee)&&(this[te][ee]=!1),ye(this,ee,M(1,be))};return o&&Ve&&ye(Q,ee,{configurable:!0,set:fe}),f(ee,H)})[ce],"toString",function(){return de(this).tag}),z(ie,"withoutSetter",function(H){return f(G(H),H)}),W.f=X,B.f=je,U.f=s,A.f=O.f=i,R.f=$,L.f=function(H){return f(C(H),H)},o&&(he(ie[ce],"description",{configurable:!0,get:function(){return de(this).description}}),n||z(Q,"propertyIsEnumerable",X,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ie}),J(T(Ne),function(H){D(H)}),p({target:se,stat:!0,forced:!a},{for:function(fe){var ee,fe=String(fe);return y(ze,fe)?ze[fe]:(ee=ie(fe),ze[fe]=ee,Be[ee]=fe,ee)},keyFor:function(H){if(!Oe(H))throw TypeError(H+" is not a symbol");if(y(Be,H))return Be[H]},useSetter:function(){Ve=!0},useSimple:function(){Ve=!1}}),p({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(H,ee){return ee===void 0?k(H):u(k(H),ee)},defineProperty:je,defineProperties:u,getOwnPropertyDescriptor:s}),p({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:i,getOwnPropertySymbols:$}),p({target:"Object",stat:!0,forced:d(function(){R.f(1)})},{getOwnPropertySymbols:function(H){return R.f(w(H))}}),me&&p({target:"JSON",stat:!0,forced:!a||d(function(){var H=ie();return me([H])!="[null]"||me({a:H})!="{}"||me(Object(H))!="{}"})},{stringify:function(H,ee,fe){for(var be,Ce=[H],Ie=1;Ie<arguments.length;)Ce.push(arguments[Ie++]);if((g(be=ee)||H!==void 0)&&!Oe(H))return m(ee)||(ee=function(Ue,Fe){if(typeof be=="function"&&(Fe=be.call(this,Ue,Fe)),!Oe(Fe))return Fe}),Ce[1]=ee,me.apply(null,Ce)}}),ie[ce][ne]||N(ie[ce],ne,ie[ce].valueOf),q(ie,se),Z[te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(i,p){return u.call(s(this),i,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(i){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),i=f.aTypedArray,p=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(h){for(var r=u(i(this),h,1<arguments.length?arguments[1]:void 0),h=s(this,this.constructor),n=0,o=r.length,a=new(p(h))(o);n<o;)a[n]=r[n++];return a})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(t,V,E){t("../internals/typed-array-constructor")("Float32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],204:[function(t,V,E){t("../internals/typed-array-constructor")("Float64",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],205:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(i){u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(t,V,E){t("../internals/typed-array-constructor")("Int16",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],209:[function(t,V,E){t("../internals/typed-array-constructor")("Int32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],210:[function(u,V,E){function f(){return s.call(h(this))}var o=u("../internals/global"),n=u("../internals/array-buffer-view-core"),r=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,s=r.values,i=r.keys,p=r.entries,h=n.aTypedArray,r=n.exportTypedArrayMethod,n=o&&o.prototype[u],o=!!n&&(n.name=="values"||n.name==null);r("entries",function(){return p.call(h(this))}),r("keys",function(){return i.call(h(this))}),r("values",f,!o),r(u,f,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].join;u("join",function(i){return s.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(i){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),i=f.aTypedArray,p=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(h){return u(i(this),h,1<arguments.length?arguments[1]:void 0,function(r,n){return new(p(s(r,r.constructor)))(n)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(i){return u(s(this),i,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(i){return u(s(this),i,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=Math.floor;u("reverse",function(){for(var i,p=f(this).length,h=s(p/2),r=0;r<h;)i=this[r],this[r++]=this[--p],this[p]=i;return this})},{"../internals/array-buffer-view-core":12}],217:[function(p,V,E){var f=p("../internals/array-buffer-view-core"),u=p("../internals/to-length"),s=p("../internals/to-offset"),i=p("../internals/to-object"),p=p("../internals/fails"),h=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(r){h(this);var n=s(1<arguments.length?arguments[1]:void 0,1),o=this.length,a=i(r),c=u(a.length),d=0;if(o<c+n)throw RangeError("Wrong length");for(;d<c;)this[n+d]=a[d++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(u,V,E){var p=u("../internals/array-buffer-view-core"),f=u("../internals/species-constructor"),u=u("../internals/fails"),s=p.aTypedArray,i=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,h=[].slice;p("slice",function(r,n){for(var o=h.call(s(this),r,n),r=f(this,this.constructor),a=0,c=o.length,d=new(i(r))(c);a<c;)d[a]=o[a++];return d},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].sort;u("sort",function(i){return s.call(f(this),i)})},{"../internals/array-buffer-view-core":12}],221:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),s=t("../internals/to-absolute-index"),i=t("../internals/species-constructor"),p=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(a,r){var n=p(this),o=n.length,a=s(a,o);return new(i(n,n.constructor))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,u((r===void 0?o:s(r,o))-a))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(u,V,E){var p=u("../internals/global"),f=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),s=p.Int8Array,i=f.aTypedArray,p=f.exportTypedArrayMethod,h=[].toLocaleString,r=[].slice,n=!!s&&u(function(){h.call(new s(1))});p("toLocaleString",function(){return h.apply(n?r.call(i(this)):i(this),arguments)},u(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!u(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(u,V,E){var f=u("../internals/array-buffer-view-core").exportTypedArrayMethod,p=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},s=[].toString,i=[].join,p=(p(function(){s.call({})})&&(s=function(){return i.call(this)}),u.toString!=s);f("toString",s,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(t,V,E){t("../internals/typed-array-constructor")("Uint16",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],225:[function(t,V,E){t("../internals/typed-array-constructor")("Uint32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],226:[function(t,V,E){t("../internals/typed-array-constructor")("Uint8",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":140}],227:[function(t,V,E){t("../internals/typed-array-constructor")("Uint8",function(f){return function(u,s,i){return f(this,u,s,i)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(y,b,E){function f(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}}var u,s,i,p,h,m=y("../internals/global"),r=y("../internals/redefine-all"),n=y("../internals/internal-metadata"),o=y("../internals/collection"),a=y("../internals/collection-weak"),c=y("../internals/is-object"),d=y("../internals/internal-state").enforce,y=y("../internals/native-weak-map"),m=!m.ActiveXObject&&"ActiveXObject"in m,g=Object.isExtensible,b=b.exports=o("WeakMap",f,a);y&&m&&(u=a.getConstructor(f,"WeakMap",!0),n.REQUIRED=!0,o=b.prototype,s=o.delete,i=o.has,p=o.get,h=o.set,r(o,{delete:function(w){var _;return c(w)&&!g(w)?((_=d(this)).frozen||(_.frozen=new u),s.call(this,w)||_.frozen.delete(w)):s.call(this,w)},has:function(w){var _;return c(w)&&!g(w)?((_=d(this)).frozen||(_.frozen=new u),i.call(this,w)||_.frozen.has(w)):i.call(this,w)},get:function(w){var _;return!c(w)||g(w)||((_=d(this)).frozen||(_.frozen=new u),i.call(this,w))?p.call(this,w):_.frozen.get(w)},set:function(w,_){var S;return!c(w)||g(w)||((S=d(this)).frozen||(S.frozen=new u),i.call(this,w))?h.call(this,w,_):S.frozen.set(w,_),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(t,V,E){var f,u=t("../internals/global"),s=t("../internals/dom-iterables"),i=t("../internals/array-for-each"),p=t("../internals/create-non-enumerable-property");for(f in s){var h=u[f],h=h&&h.prototype;if(h&&h.forEach!==i)try{p(h,"forEach",i)}catch{h.forEach=i}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(h,V,E){var f,u=h("../internals/global"),s=h("../internals/dom-iterables"),i=h("../modules/es.array.iterator"),p=h("../internals/create-non-enumerable-property"),h=h("../internals/well-known-symbol"),r=h("iterator"),n=h("toStringTag"),o=i.values;for(f in s){var a=u[f],c=a&&a.prototype;if(c){if(c[r]!==o)try{p(c,r,o)}catch{c[r]=o}if(c[n]||p(c,n,f),s[f]){for(var d in i)if(c[d]!==i[d])try{p(c,d,i[d])}catch{c[d]=i[d]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(te,V,E){te("../modules/es.array.iterator");function f(se){try{return decodeURIComponent(se)}catch{return se}}function u(se){return D[se]}function s(se){return encodeURIComponent(se).replace(L,u)}function i(se){this.entries.length=0,q(this.entries,se)}function p(se,ce){if(se<ce)throw TypeError("Not enough arguments")}function h(){m(this,h,B);var se,ce,ne,ae,de,Q,ie,me,ve=0<arguments.length?arguments[0]:void 0,he=[];if(N(this,{type:B,entries:he,updateURL:function(){},updateSearchParams:i}),ve!==void 0)if(S(ve))if(typeof(se=A(ve))=="function")for(ne=(ce=se.call(ve)).next;!(ae=ne.call(ce)).done;){if((Q=(de=(ae=T(_(ae.value))).next).call(ae)).done||(ie=de.call(ae)).done||!de.call(ae).done)throw TypeError("Expected sequence with length 2");he.push({key:Q.value+"",value:ie.value+""})}else for(me in ve)g(ve,me)&&he.push({key:me,value:ve[me]+""});else q(he,typeof ve=="string"?ve.charAt(0)==="?"?ve.slice(1):ve:ve+"")}var r=te("../internals/export"),U=te("../internals/get-built-in"),n=te("../internals/native-url"),o=te("../internals/redefine"),a=te("../internals/redefine-all"),c=te("../internals/set-to-string-tag"),d=te("../internals/create-iterator-constructor"),y=te("../internals/internal-state"),m=te("../internals/an-instance"),g=te("../internals/has"),b=te("../internals/function-bind-context"),w=te("../internals/classof"),_=te("../internals/an-object"),S=te("../internals/is-object"),M=te("../internals/object-create"),k=te("../internals/create-property-descriptor"),T=te("../internals/get-iterator"),A=te("../internals/get-iterator-method"),te=te("../internals/well-known-symbol"),O=U("fetch"),R=U("Headers"),U=te("iterator"),B="URLSearchParams",W=B+"Iterator",N=y.set,z=y.getterFor(B),Y=y.getterFor(W),Z=/\+/g,G=Array(4),C=function(se){var ce,ne=se.replace(Z," "),ae=4;try{return decodeURIComponent(ne)}catch{for(;ae;)ne=ne.replace((ce=ae--,G[ce-1]||(G[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),f);return ne}},L=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},q=function(se,ce){if(ce)for(var ne,ae=ce.split("&"),de=0;de<ae.length;)(ne=ae[de++]).length&&(ne=ne.split("="),se.push({key:C(ne.shift()),value:C(ne.join("="))}))},J=d(function(se,ce){N(this,{type:W,iterator:T(z(se).entries),kind:ce})},"Iterator",function(){var ce=Y(this),se=ce.kind,ce=ce.iterator.next(),ne=ce.value;return ce.done||(ce.value=se==="keys"?ne.key:se==="values"?ne.value:[ne.key,ne.value]),ce}),te=h.prototype;a(te,{append:function(se,ce){p(arguments.length,2);var ne=z(this);ne.entries.push({key:se+"",value:ce+""}),ne.updateURL()},delete:function(se){p(arguments.length,1);for(var ce=z(this),ne=ce.entries,ae=se+"",de=0;de<ne.length;)ne[de].key===ae?ne.splice(de,1):de++;ce.updateURL()},get:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=0;ae<ce.length;ae++)if(ce[ae].key===ne)return ce[ae].value;return null},getAll:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=[],de=0;de<ce.length;de++)ce[de].key===ne&&ae.push(ce[de].value);return ae},has:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=0;ae<ce.length;)if(ce[ae++].key===ne)return!0;return!1},set:function(se,ce){p(arguments.length,1);for(var ne,ae=z(this),de=ae.entries,Q=!1,ie=se+"",me=ce+"",ve=0;ve<de.length;ve++)(ne=de[ve]).key===ie&&(Q?de.splice(ve--,1):(Q=!0,ne.value=me));Q||de.push({key:ie,value:me}),ae.updateURL()},sort:function(){for(var se,ce,ne=z(this),ae=ne.entries,de=ae.slice(),Q=ae.length=0;Q<de.length;Q++){for(se=de[Q],ce=0;ce<Q;ce++)if(ae[ce].key>se.key){ae.splice(ce,0,se);break}ce===Q&&ae.push(se)}ne.updateURL()},forEach:function(se){for(var ce,ne=z(this).entries,ae=b(se,1<arguments.length?arguments[1]:void 0,3),de=0;de<ne.length;)ae((ce=ne[de++]).value,ce.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),o(te,U,te.entries),o(te,"toString",function(){for(var se,ce=z(this).entries,ne=[],ae=0;ae<ce.length;)se=ce[ae++],ne.push(s(se.key)+"="+s(se.value));return ne.join("&")},{enumerable:!0}),c(h,B),r({global:!0,forced:!n},{URLSearchParams:h}),n||typeof O!="function"||typeof R!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(de){var ce,ne,ae,de=[de];return 1<arguments.length&&(S(ce=arguments[1])&&(ne=ce.body,w(ne)===B&&((ae=ce.headers?new R(ce.headers):new R).has("content-type")||ae.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=M(ce,{body:k(0,String(ne)),headers:k(0,ae)}))),de.push(ce)),O.apply(this,de)}}),V.exports={URLSearchParams:h,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(T,V,E){T("../modules/es.string.iterator");function f(ue){var De,qe,Re,st;if(typeof ue=="number"){for(De=[],qe=0;qe<4;qe++)De.unshift(ue%256),ue=W(ue/256);return De.join(".")}if(typeof ue!="object")return ue;for(De="",Re=ie(ue),qe=0;qe<8;qe++)st&&ue[qe]===0||(st=st&&!1,Re===qe?(De+=qe?":":"::",st=!0):(De+=ue[qe].toString(16),qe<7&&(De+=":")));return"["+De+"]"}function u(ue){return!ue.host||ue.cannotBeABaseURL||ue.scheme=="file"}function s(ue,De,qe,Re){var st,Le,ut,Ge=qe||Oe,at=0,He="",wt=!1,Mt=!1,_t=!1;for(qe||(ue.scheme="",ue.username="",ue.password="",ue.host=null,ue.port=null,ue.path=[],ue.query=null,ue.fragment=null,ue.cannotBeABaseURL=!1,De=De.replace(ae,"")),De=De.replace(de,""),st=w(De);at<=st.length;){switch(Le=st[at],Ge){case Oe:if(!Le||!C.test(Le)){if(qe)return Y;Ge=X;continue}He+=Le.toLowerCase(),Ge=je;break;case je:if(Le&&(L.test(Le)||Le=="+"||Le=="-"||Le=="."))He+=Le.toLowerCase();else{if(Le!=":"){if(qe)return Y;He="",Ge=X,at=0;continue}if(qe&&(Ee(ue)!=g(Ae,He)||He=="file"&&(ze(ue)||ue.port!==null)||ue.scheme=="file"&&!ue.host))return;if(ue.scheme=He,qe)return void(Ee(ue)&&Ae[ue.scheme]==ue.port&&(ue.port=null));He="",ue.scheme=="file"?Ge=rt:Ee(ue)&&Re&&Re.scheme==ue.scheme?Ge=$:Ee(ue)?Ge=be:st[at+1]=="/"?(Ge=H,at++):(ue.cannotBeABaseURL=!0,ue.path.push(""),Ge=mt)}break;case X:if(!Re||Re.cannotBeABaseURL&&Le!="#")return Y;if(Re.cannotBeABaseURL&&Le=="#"){ue.scheme=Re.scheme,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",ue.cannotBeABaseURL=!0,Ge=St;break}Ge=Re.scheme=="file"?rt:ee;continue;case $:if(Le!="/"||st[at+1]!="/"){Ge=ee;continue}Ge=Ce,at++;break;case H:if(Le=="/"){Ge=Ie;break}Ge=Qe;continue;case ee:if(ue.scheme=Re.scheme,Le==h)ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query=Re.query;else if(Le=="/"||Le=="\\"&&Ee(ue))Ge=fe;else if(Le=="?")ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query="",Ge=Ut;else{if(Le!="#"){ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.path.pop(),Ge=Qe;continue}ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",Ge=St}break;case fe:if(!Ee(ue)||Le!="/"&&Le!="\\"){if(Le!="/"){ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,Ge=Qe;continue}Ge=Ie}else Ge=Ce;break;case be:if(Ge=Ce,Le!="/"||He.charAt(at+1)!="/")continue;at++;break;case Ce:if(Le=="/"||Le=="\\")break;Ge=Ie;continue;case Ie:if(Le=="@"){wt&&(He="%40"+He);for(var wt=!0,kt=w(He),Wt=0;Wt<kt.length;Wt++){var Gt=kt[Wt];Gt!=":"||_t?(Gt=Te(Gt,xe),_t?ue.password+=Gt:ue.username+=Gt):_t=!0}He=""}else if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)){if(wt&&He=="")return z;at-=w(He).length+1,He="",Ge=Ue}else He+=Le;break;case Ue:case Fe:if(qe&&ue.scheme=="file"){Ge=Ze;continue}if(Le!=":"||Mt){if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)){if(Ee(ue)&&He=="")return Z;if(qe&&He==""&&(ze(ue)||ue.port!==null))return;if(ut=Q(ue,He))return ut;if(He="",Ge=tt,qe)return;continue}Le=="["?Mt=!0:Le=="]"&&(Mt=!1),He+=Le}else{if(He=="")return Z;if(ut=Q(ue,He))return ut;if(He="",Ge=We,qe==Fe)return}break;case We:if(!D.test(Le)){if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)||qe){if(He!=""){var qt=parseInt(He,10);if(65535<qt)return G;ue.port=Ee(ue)&&qt===Ae[ue.scheme]?null:qt,He=""}if(qe)return;Ge=tt;continue}return G}He+=Le;break;case rt:if(ue.scheme="file",Le=="/"||Le=="\\")Ge=et;else{if(!Re||Re.scheme!="file"){Ge=Qe;continue}if(Le==h)ue.host=Re.host,ue.path=Re.path.slice(),ue.query=Re.query;else if(Le=="?")ue.host=Re.host,ue.path=Re.path.slice(),ue.query="",Ge=Ut;else{if(Le!="#"){Ne(st.slice(at).join(""))||(ue.host=Re.host,ue.path=Re.path.slice(),Xe(ue)),Ge=Qe;continue}ue.host=Re.host,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",Ge=St}}break;case et:if(Le=="/"||Le=="\\"){Ge=Ze;break}Re&&Re.scheme=="file"&&!Ne(st.slice(at).join(""))&&(Be(Re.path[0],!0)?ue.path.push(Re.path[0]):ue.host=Re.host),Ge=Qe;continue;case Ze:if(Le==h||Le=="/"||Le=="\\"||Le=="?"||Le=="#"){if(!qe&&Be(He))Ge=Qe;else{if(He==""){if(ue.host="",qe)return}else{if(ut=Q(ue,He))return ut;if(ue.host=="localhost"&&(ue.host=""),qe)return;He=""}Ge=tt}continue}He+=Le;break;case tt:if(Ee(ue)){if(Ge=Qe,Le!="/"&&Le!="\\")continue}else if(qe||Le!="?")if(qe||Le!="#"){if(Le!=h&&(Ge=Qe,Le!="/"))continue}else ue.fragment="",Ge=St;else ue.query="",Ge=Ut;break;case Qe:if(Le==h||Le=="/"||Le=="\\"&&Ee(ue)||!qe&&(Le=="?"||Le=="#")){if(ye(He)?(Xe(ue),Le=="/"||Le=="\\"&&Ee(ue)||ue.path.push("")):Ve(He)?Le=="/"||Le=="\\"&&Ee(ue)||ue.path.push(""):(ue.scheme=="file"&&!ue.path.length&&Be(He)&&(ue.host&&(ue.host=""),He=He.charAt(0)+":"),ue.path.push(He)),He="",ue.scheme=="file"&&(Le==h||Le=="?"||Le=="#"))for(;1<ue.path.length&&ue.path[0]==="";)ue.path.shift();Le=="?"?(ue.query="",Ge=Ut):Le=="#"&&(ue.fragment="",Ge=St)}else He+=Te(Le,he);break;case mt:Le=="?"?(ue.query="",Ge=Ut):Le=="#"?(ue.fragment="",Ge=St):Le!=h&&(ue.path[0]+=Te(Le,me));break;case Ut:qe||Le!="#"?Le!=h&&(Le=="'"&&Ee(ue)?ue.query+="%27":ue.query+=Le=="#"?"%23":Te(Le,me)):(ue.fragment="",Ge=St);break;case St:Le!=h&&(ue.fragment+=Te(Le,ve))}at++}}function i(Le){var De,qe,Re=m(this,i,"URL"),st=1<arguments.length?arguments[1]:void 0,Le=String(Le),ut=U(Re,{type:"URL"});if(st!==void 0){if(st instanceof i)De=B(st);else if(qe=s(De={},String(st)))throw TypeError(qe)}if(qe=s(ut,Le,null,De))throw TypeError(qe);var Ge=ut.searchParams=new O;(st=R(Ge)).updateSearchParams(ut.query),st.updateURL=function(){ut.query=String(Ge)||null},a||(Re.href=gt.call(Re),Re.origin=lt.call(Re),Re.protocol=At.call(Re),Re.username=Ct.call(Re),Re.password=ht.call(Re),Re.host=Rt.call(Re),Re.hostname=nr.call(Re),Re.port=sr.call(Re),Re.pathname=ar.call(Re),Re.search=fr.call(Re),Re.searchParams=ir.call(Re),Re.hash=lr.call(Re))}function p(ue,De){return{get:ue,set:De,configurable:!0,enumerable:!0}}var h,r,n,o=T("../internals/export"),a=T("../internals/descriptors"),c=T("../internals/native-url"),ct=T("../internals/global"),d=T("../internals/object-define-properties"),y=T("../internals/redefine"),m=T("../internals/an-instance"),g=T("../internals/has"),b=T("../internals/object-assign"),w=T("../internals/array-from"),_=T("../internals/string-multibyte").codeAt,S=T("../internals/string-punycode-to-ascii"),M=T("../internals/set-to-string-tag"),k=T("../modules/web.url-search-params"),T=T("../internals/internal-state"),A=ct.URL,O=k.URLSearchParams,R=k.getState,U=T.set,B=T.getterFor("URL"),W=Math.floor,N=Math.pow,z="Invalid authority",Y="Invalid scheme",Z="Invalid host",G="Invalid port",C=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,D=/\d/,q=/^(0x|0X)/,J=/^[0-7]+$/,te=/^\d+$/,se=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ne=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ae=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,de=/[\u0009\u000A\u000D]/g,Q=function(ue,De){var qe,Re,st;if(De.charAt(0)=="[")return De.charAt(De.length-1)=="]"&&(qe=function(Le){var ut=[0,0,0,0,0,0,0,0],Ge=0,at=null,He=0,wt,Mt,_t,kt,Wt,Gt,qt,Ot=function(){return Le.charAt(He)};if(Ot()==":"){if(Le.charAt(1)!=":")return;He+=2,Ge++,at=Ge}for(;Ot();){if(Ge==8)return;if(Ot()==":"){if(at!==null)return;He++,Ge++,at=Ge;continue}for(wt=Mt=0;Mt<4&&se.test(Ot());)wt=wt*16+parseInt(Ot(),16),He++,Mt++;if(Ot()=="."){if(Mt==0||(He-=Mt,Ge>6))return;for(_t=0;Ot();){if(kt=null,_t>0)if(Ot()=="."&&_t<4)He++;else return;if(!D.test(Ot()))return;for(;D.test(Ot());){if(Wt=parseInt(Ot(),10),kt===null)kt=Wt;else{if(kt==0)return;kt=kt*10+Wt}if(kt>255)return;He++}ut[Ge]=ut[Ge]*256+kt,_t++,(_t==2||_t==4)&&Ge++}if(_t!=4)return;break}else if(Ot()==":"){if(He++,!Ot())return}else if(Ot())return;ut[Ge++]=wt}if(at!==null)for(Gt=Ge-at,Ge=7;Ge!=0&&Gt>0;)qt=ut[Ge],ut[Ge--]=ut[at+Gt-1],ut[at+--Gt]=qt;else if(Ge!=8)return;return ut}(De.slice(1,-1)))?void(ue.host=qe):Z;if(Ee(ue))return De=S(De),ce.test(De)||(qe=function(Le){var ut=Le.split("."),Ge,at,He,wt,Mt,_t,kt;if(ut.length&&ut[ut.length-1]==""&&ut.pop(),(Ge=ut.length)>4)return Le;for(at=[],He=0;He<Ge;He++){if(wt=ut[He],wt=="")return Le;if(Mt=10,wt.length>1&&wt.charAt(0)=="0"&&(Mt=q.test(wt)?16:8,wt=wt.slice(Mt==8?1:2)),wt==="")_t=0;else{if(!(Mt==10?te:Mt==8?J:se).test(wt))return Le;_t=parseInt(wt,Mt)}at.push(_t)}for(He=0;He<Ge;He++)if(_t=at[He],He==Ge-1){if(_t>=N(256,5-Ge))return null}else if(_t>255)return null;for(kt=at.pop(),He=0;He<at.length;He++)kt+=at[He]*N(256,3-He);return kt}(De))===null?Z:void(ue.host=qe);if(ne.test(De))return Z;for(qe="",Re=w(De),st=0;st<Re.length;st++)qe+=Te(Re[st],me);ue.host=qe},ie=function(ue){for(var De=null,qe=1,Re=null,st=0,Le=0;Le<8;Le++)ue[Le]!==0?(qe<st&&(De=Re,qe=st),Re=null,st=0):(Re===null&&(Re=Le),++st);return qe<st&&(De=Re,qe=st),De},me={},ve=b({},me,{" ":1,'"':1,"<":1,">":1,"`":1}),he=b({},ve,{"#":1,"?":1,"{":1,"}":1}),xe=b({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Te=function(ue,De){var qe=_(ue,0);return 32<qe&&qe<127&&!g(De,ue)?ue:encodeURIComponent(ue)},Ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ee=function(ue){return g(Ae,ue.scheme)},ze=function(ue){return ue.username!=""||ue.password!=""},Be=function(ue,De){return ue.length==2&&C.test(ue.charAt(0))&&((ue=ue.charAt(1))==":"||!De&&ue=="|")},Ne=function(ue){return 1<ue.length&&Be(ue.slice(0,2))&&(ue.length==2||(ue=ue.charAt(2))==="/"||ue==="\\"||ue==="?"||ue==="#")},Xe=function(ue){var De=ue.path,qe=De.length;!qe||ue.scheme=="file"&&qe==1&&Be(De[0],!0)||De.pop()},Ve=function(ue){return ue==="."||ue.toLowerCase()==="%2e"},ye=function(ue){return(ue=ue.toLowerCase())===".."||ue==="%2e."||ue===".%2e"||ue==="%2e%2e"},Oe={},je={},X={},$={},H={},ee={},fe={},be={},Ce={},Ie={},Ue={},Fe={},We={},rt={},et={},Ze={},tt={},Qe={},mt={},Ut={},St={},ct=i.prototype,gt=function(){var ue=B(this),De=ue.scheme,qe=ue.username,Re=ue.password,st=ue.host,Le=ue.port,ut=ue.path,Ge=ue.query,at=ue.fragment,He=De+":";return st!==null?(He+="//",ze(ue)&&(He+=qe+(Re?":"+Re:"")+"@"),He+=f(st),Le!==null&&(He+=":"+Le)):De=="file"&&(He+="//"),He+=ue.cannotBeABaseURL?ut[0]:ut.length?"/"+ut.join("/"):"",Ge!==null&&(He+="?"+Ge),at!==null&&(He+="#"+at),He},lt=function(){var ue=B(this),De=ue.scheme,qe=ue.port;if(De=="blob")try{return new URL(De.path[0]).origin}catch{return"null"}return De!="file"&&Ee(ue)?De+"://"+f(ue.host)+(qe!==null?":"+qe:""):"null"},At=function(){return B(this).scheme+":"},Ct=function(){return B(this).username},ht=function(){return B(this).password},Rt=function(){var De=B(this),ue=De.host,De=De.port;return ue===null?"":De===null?f(ue):f(ue)+":"+De},nr=function(){var ue=B(this).host;return ue===null?"":f(ue)},sr=function(){var ue=B(this).port;return ue===null?"":String(ue)},ar=function(){var ue=B(this),De=ue.path;return ue.cannotBeABaseURL?De[0]:De.length?"/"+De.join("/"):""},fr=function(){var ue=B(this).query;return ue?"?"+ue:""},ir=function(){return B(this).searchParams},lr=function(){var ue=B(this).fragment;return ue?"#"+ue:""};a&&d(ct,{href:p(gt,function(qe){var De=B(this),qe=String(qe),qe=s(De,qe);if(qe)throw TypeError(qe);R(De.searchParams).updateSearchParams(De.query)}),origin:p(lt),protocol:p(At,function(ue){var De=B(this);s(De,String(ue)+":",Oe)}),username:p(Ct,function(ue){var De=B(this),qe=w(String(ue));if(!u(De)){De.username="";for(var Re=0;Re<qe.length;Re++)De.username+=Te(qe[Re],xe)}}),password:p(ht,function(ue){var De=B(this),qe=w(String(ue));if(!u(De)){De.password="";for(var Re=0;Re<qe.length;Re++)De.password+=Te(qe[Re],xe)}}),host:p(Rt,function(ue){var De=B(this);De.cannotBeABaseURL||s(De,String(ue),Ue)}),hostname:p(nr,function(ue){var De=B(this);De.cannotBeABaseURL||s(De,String(ue),Fe)}),port:p(sr,function(ue){var De=B(this);u(De)||((ue=String(ue))==""?De.port=null:s(De,ue,We))}),pathname:p(ar,function(ue){var De=B(this);De.cannotBeABaseURL||(De.path=[],s(De,ue+"",tt))}),search:p(fr,function(ue){var De=B(this);(ue=String(ue))==""?De.query=null:(ue.charAt(0)=="?"&&(ue=ue.slice(1)),De.query="",s(De,ue,Ut)),R(De.searchParams).updateSearchParams(De.query)}),searchParams:p(ir),hash:p(lr,function(ue){var De=B(this);(ue=String(ue))==""?De.fragment=null:(ue.charAt(0)=="#"&&(ue=ue.slice(1)),De.fragment="",s(De,ue,St))})}),y(ct,"toJSON",function(){return gt.call(this)},{enumerable:!0}),y(ct,"toString",function(){return gt.call(this)},{enumerable:!0}),A&&(r=A.createObjectURL,n=A.revokeObjectURL,r&&y(i,"createObjectURL",function(ue){return r.apply(A,arguments)}),n&&y(i,"revokeObjectURL",function(ue){return n.apply(A,arguments)})),M(i,"URL"),o({global:!0,forced:!c,sham:!a},{URL:i})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(t,V,E){V.exports=t("./").polyfill()},{"./":234}],234:[function(t,V,E){(function(f,u){var s,i;s=this,i=function(){function p(Q){return typeof Q=="function"}var h=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},r=0,n=void 0,o=void 0,a=function(Q,ie){b[r]=Q,b[r+1]=ie,(r+=2)===2&&(o?o(w):O())},c=typeof window<"u"?window:void 0,d=c||{},d=d.MutationObserver||d.WebKitMutationObserver,y=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",m=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var Q=setTimeout;return function(){return Q(w,1)}}var b=new Array(1e3);function w(){for(var Q=0;Q<r;Q+=2)(0,b[Q])(b[Q+1]),b[Q]=void 0,b[Q+1]=void 0;r=0}function _(){try{var Q=Function("return this")().require("vertx");return(n=Q.runOnLoop||Q.runOnContext)!==void 0?function(){n(w)}:g()}catch{return g()}}var S,M,k,O=void 0;function T(Q,ie){var me,ve=this,he=new this.constructor(U),xe=(he[R]===void 0&&se(he),ve._state);return xe?(me=arguments[xe-1],a(function(){return J(xe,he,me,ve._result)})):D(ve,he,Q,ie),he}function A(Q){var ie;return Q&&typeof Q=="object"&&Q.constructor===this?Q:(Z(ie=new this(U),Q),ie)}var O=y?function(){return f.nextTick(w)}:d?(M=0,y=new d(w),k=document.createTextNode(""),y.observe(k,{characterData:!0}),function(){k.data=M=++M%2}):m?((S=new MessageChannel).port1.onmessage=w,function(){return S.port2.postMessage(0)}):(c===void 0&&typeof t=="function"?_:g)(),R=Math.random().toString(36).substring(2);function U(){}var B=void 0,W=1,N=2;function z(Q,ie,me){a(function(ve){var he=!1,xe=function(Te,Ae,Ee,ze){try{Te.call(Ae,Ee,ze)}catch(Be){return Be}}(me,ie,function(Te){he||(he=!0,(ie!==Te?Z:C)(ve,Te))},function(Te){he||(he=!0,L(ve,Te))},ve._label);!he&&xe&&(he=!0,L(ve,xe))},Q)}function Y(Q,ie,me){var ve,he;ie.constructor===Q.constructor&&me===T&&ie.constructor.resolve===A?(ve=Q,(he=ie)._state===W?C(ve,he._result):he._state===N?L(ve,he._result):D(he,void 0,function(xe){return Z(ve,xe)},function(xe){return L(ve,xe)})):me!==void 0&&p(me)?z(Q,ie,me):C(Q,ie)}function Z(Q,ie){if(Q===ie)L(Q,new TypeError("You cannot resolve a promise with itself"));else if(me=typeof ie,ie===null||me!="object"&&me!="function")C(Q,ie);else{me=void 0;try{me=ie.then}catch(ve){return void L(Q,ve)}Y(Q,ie,me)}var me}function G(Q){Q._onerror&&Q._onerror(Q._result),q(Q)}function C(Q,ie){Q._state===B&&(Q._result=ie,Q._state=W,Q._subscribers.length!==0&&a(q,Q))}function L(Q,ie){Q._state===B&&(Q._state=N,Q._result=ie,a(G,Q))}function D(Q,ie,me,ve){var he=Q._subscribers,xe=he.length;Q._onerror=null,he[xe]=ie,he[xe+W]=me,he[xe+N]=ve,xe===0&&Q._state&&a(q,Q)}function q(Q){var ie=Q._subscribers,me=Q._state;if(ie.length!==0){for(var ve,he=void 0,xe=Q._result,Te=0;Te<ie.length;Te+=3)ve=ie[Te],he=ie[Te+me],ve?J(me,ve,he,xe):he(xe);Q._subscribers.length=0}}function J(Q,ie,me,ve){var he=p(me),xe=void 0,Te=void 0,Ae=!0;if(he){try{xe=me(ve)}catch(Ee){Ae=!1,Te=Ee}if(ie===xe)return void L(ie,new TypeError("A promises callback cannot return that same promise."))}else xe=ve;ie._state===B&&(he&&Ae?Z(ie,xe):Ae===!1?L(ie,Te):Q===W?C(ie,xe):Q===N&&L(ie,xe))}var te=0;function se(Q){Q[R]=te++,Q._state=void 0,Q._result=void 0,Q._subscribers=[]}ne.prototype._enumerate=function(Q){for(var ie=0;this._state===B&&ie<Q.length;ie++)this._eachEntry(Q[ie],ie)},ne.prototype._eachEntry=function(Q,ie){var me=this._instanceConstructor,ve=me.resolve;if(ve===A){var he,xe=void 0,Te=void 0,Ae=!1;try{xe=Q.then}catch(Ee){Ae=!0,Te=Ee}xe===T&&Q._state!==B?this._settledAt(Q._state,ie,Q._result):typeof xe!="function"?(this._remaining--,this._result[ie]=Q):me===ae?(he=new me(U),Ae?L(he,Te):Y(he,Q,xe),this._willSettleAt(he,ie)):this._willSettleAt(new me(function(Ee){return Ee(Q)}),ie)}else this._willSettleAt(ve(Q),ie)},ne.prototype._settledAt=function(Q,ie,me){var ve=this.promise;ve._state===B&&(this._remaining--,Q===N?L(ve,me):this._result[ie]=me),this._remaining===0&&C(ve,this._result)},ne.prototype._willSettleAt=function(Q,ie){var me=this;D(Q,void 0,function(ve){return me._settledAt(W,ie,ve)},function(ve){return me._settledAt(N,ie,ve)})};var ce=ne;function ne(Q,ie){this._instanceConstructor=Q,this.promise=new Q(U),this.promise[R]||se(this.promise),h(ie)?(this.length=ie.length,this._remaining=ie.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ie),this._remaining!==0)||C(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}de.prototype.catch=function(Q){return this.then(null,Q)},de.prototype.finally=function(Q){var ie=this.constructor;return p(Q)?this.then(function(me){return ie.resolve(Q()).then(function(){return me})},function(me){return ie.resolve(Q()).then(function(){throw me})}):this.then(Q,Q)};var ae=de;function de(Q){if(this[R]=te++,this._result=this._state=void 0,this._subscribers=[],U!==Q){if(typeof Q!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof de))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ie=this;try{Q(function(me){Z(ie,me)},function(me){L(ie,me)})}catch(me){L(ie,me)}}}return ae.prototype.then=T,ae.all=function(Q){return new ce(this,Q).promise},ae.race=function(Q){var ie=this;return h(Q)?new ie(function(me,ve){for(var he=Q.length,xe=0;xe<he;xe++)ie.resolve(Q[xe]).then(me,ve)}):new ie(function(me,ve){return ve(new TypeError("You must pass an array to race."))})},ae.resolve=A,ae.reject=function(Q){var ie=new this(U);return L(ie,Q),ie},ae._setScheduler=function(Q){o=Q},ae._setAsap=function(Q){a=Q},ae._asap=a,ae.polyfill=function(){var Q=void 0;if(u!==void 0)Q=u;else if(typeof self<"u")Q=self;else try{Q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=Q.Promise;if(ie){var me=null;try{me=Object.prototype.toString.call(ie.resolve())}catch{}if(me==="[object Promise]"&&!ie.cast)return}Q.Promise=ae},ae.Promise=ae},typeof E=="object"&&V!==void 0?V.exports=i():s.ES6Promise=i()}).call(this,t("_process"),typeof mo<"u"?mo:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(t,V,E){var f,u;f=this,u=function(s,i){var p=5e3,h="callback";function r(o){try{delete window[o]}catch{window[o]=void 0}}function n(o){o=document.getElementById(o),o&&document.getElementsByTagName("head")[0].removeChild(o)}i.exports=function(o){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],c=o,d=a.timeout||p,y=a.jsonpCallback||h,m=void 0;return new Promise(function(g,b){var w=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),_=y+"_"+w,S=(window[w]=function(M){g({ok:!0,json:function(){return Promise.resolve(M)}}),m&&clearTimeout(m),n(_),r(w)},c+=c.indexOf("?")===-1?"?":"&",document.createElement("script"));S.setAttribute("src",""+c+y+"="+w),a.charset&&S.setAttribute("charset",a.charset),S.id=_,document.getElementsByTagName("head")[0].appendChild(S),m=setTimeout(function(){b(new Error("JSONP request to "+o+" timed out")),r(w),n(_),window[w]=function(){r(w)}},d),S.onerror=function(){b(new Error("JSONP request to "+o+" failed")),r(w),n(_),m&&clearTimeout(m)}})}},E!==void 0&&V!==void 0?u(0,V):(u(u={exports:{}},u),f.fetchJsonp=u.exports)},{}],236:[function(t,V,E){var f=function(u){var s,i,p,h,r,n,o,a,c,d,y;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return y=u.document,s=function(){return u.URL||u.webkitURL||u},i=y.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in i,h=/constructor/i.test(u.HTMLElement)||u.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),n=function(m){(u.setImmediate||u.setTimeout)(function(){throw m},0)},o=4e4,a=function(m){setTimeout(function(){typeof m=="string"?s().revokeObjectURL(m):m.remove()},o)},c=function(m){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob([String.fromCharCode(65279),m],{type:m.type}):m},y=(d=function(m,g,M){M||(m=c(m));var w,_,S=this,M=m.type==="application/octet-stream",k=function(){for(var T=S,A="writestart progress write writeend".split(" "),O=void 0,R=(A=[].concat(A)).length;R--;){var U=T["on"+A[R]];if(typeof U=="function")try{U.call(T,O||T)}catch(B){n(B)}}};S.readyState=S.INIT,p?(w=s().createObjectURL(m),setTimeout(function(){var T,A;i.href=w,i.download=g,T=i,A=new MouseEvent("click"),T.dispatchEvent(A),k(),a(w),S.readyState=S.DONE})):(r||M&&h)&&u.FileReader?((_=new FileReader).onloadend=function(){var T=r?_.result:_.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(T,"_blank")||(u.location.href=T),T=void 0,S.readyState=S.DONE,k()},_.readAsDataURL(m),S.readyState=S.INIT):(w=w||s().createObjectURL(m),!M&&u.open(w,"_blank")||(u.location.href=w),S.readyState=S.DONE,k(),a(w))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(m,g,b){return g=g||m.name||"download",b||(m=c(m)),navigator.msSaveOrOpenBlob(m,g)}:(y.abort=function(){},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,function(m,g,b){return new d(m,g||m.name||"download",b)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);V!==void 0&&V.exports?V.exports.saveAs=f:Dt!=null},{}],237:[function(t,V,E){var f,u=Object.defineProperty,s=(u(E,"__esModule",{value:!0}),E),i={GIFEncoder:()=>k,applyPalette:()=>function(B,W,N="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<W.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(B.buffer),Y=z.length,Z=N==="rgb444"?4096:65536,G=new Uint8Array(Y),C=new Array(Z);if(N==="rgba4444")for(let de=0;de<Y;de++){var J=z[de],L=J>>24&255,D=J>>16&255,q=J>>8&255,J=255&J,te=a(J,q,D,L),te=te in C?C[te]:C[te]=function(Q,ie,me,ve,he){let xe=0,Te=1e100;for(let Be=0;Be<he.length;Be++){var Ae,Ee=he[Be],ze=_(Ee[3]-ve);ze>Te||(Ae=Ee[0],(ze+=_(Ae-Q))>Te||(Ae=Ee[1],(ze+=_(Ae-ie))>Te||(Ae=Ee[2],(ze+=_(Ae-me))>Te||(Te=ze,xe=Be))))}return xe}(J,q,D,L,W);G[de]=te}else{const de=N==="rgb444"?c:o;for(let Q=0;Q<Y;Q++){var ne=z[Q],se=ne>>16&255,ce=ne>>8&255,ne=255&ne,ae=de(ne,ce,se),ae=ae in C?C[ae]:C[ae]=function(ie,me,ve,he){let xe=0,Te=1e100;for(let Be=0;Be<he.length;Be++){var Ae,Ee=he[Be],ze=_(Ee[0]-ie);ze>Te||(Ae=Ee[1],(ze+=_(Ae-me))>Te||(Ae=Ee[2],(ze+=_(Ae-ve))>Te||(Te=ze,xe=Be)))}return xe}(ne,ce,se,W);G[Q]=ae}}return G},default:()=>U,nearestColor:()=>function(B,W,N=b){return B[S(B,W,N)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>M,prequantize:()=>function(B,{roundRGB:W=5,roundAlpha:N=10,oneBitAlpha:z=null}={}){const Y=new Uint32Array(B.buffer);for(let D=0;D<Y.length;D++){var L=Y[D];let q=L>>24&255;var Z,G=L>>16&255,C=L>>8&255,L=255&L;q=w(q,N),z&&(Z=typeof z=="number"?z:127,q=q<=Z?0:255),L=w(L,W),C=w(C,W),G=w(G,W),Y[D]=q<<24|G<<16|C<<8|L<<0}},quantize:()=>function(B,W,N={}){var{format:z="rgb565",clearAlpha:Y=!0,clearAlphaColor:Z=0,clearAlphaThreshold:G=0,oneBitAlpha:C=!1}=N;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let L=N.useSqrt!==!1;const D=z==="rgba4444",q=function(Ne,Xe){const Ve=Xe==="rgb444"?4096:65536,ye=new Array(Ve),Oe=Ne.length;if(Xe==="rgba4444")for(let et=0;et<Oe;++et){var H=Ne[et],je=H>>24&255,X=H>>16&255,$=H>>8&255,H=255&H,ee=a(H,$,X,je);let Ze=ee in ye?ye[ee]:ye[ee]=g();Ze.rc+=H,Ze.gc+=$,Ze.bc+=X,Ze.ac+=je,Ze.cnt++}else if(Xe==="rgb444")for(let et=0;et<Oe;++et){var Ce=Ne[et],fe=Ce>>16&255,be=Ce>>8&255,Ce=255&Ce,Ie=c(Ce,be,fe);let Ze=Ie in ye?ye[Ie]:ye[Ie]=g();Ze.rc+=Ce,Ze.gc+=be,Ze.bc+=fe,Ze.cnt++}else for(let et=0;et<Oe;++et){var We=Ne[et],Ue=We>>16&255,Fe=We>>8&255,We=255&We,rt=o(We,Fe,Ue);let Ze=rt in ye?ye[rt]:ye[rt]=g();Ze.rc+=We,Ze.gc+=Fe,Ze.bc+=Ue,Ze.cnt++}return ye}(B,z),J=q.length,te=J-1,se=new Uint32Array(J+1);for(var ce=0,ne=0;ne<J;++ne){const Ne=q[ne];Ne!=null&&(Ee=1/Ne.cnt,D&&(Ne.ac*=Ee),Ne.rc*=Ee,Ne.gc*=Ee,Ne.bc*=Ee,q[ce++]=Ne)}y(W)/ce<.022&&(L=!1);for(var ae,de,Q,ne=0;ne<ce-1;++ne)q[ne].fw=ne+1,q[ne+1].bk=ne,L&&(q[ne].cnt=Math.sqrt(q[ne].cnt));for(L&&(q[ne].cnt=Math.sqrt(q[ne].cnt)),ne=0;ne<ce;++ne){m(q,ne,!1);var ie=q[ne].err;for(de=++se[0];1<de&&(Q=de>>1,!(q[ae=se[Q]].err<=ie));de=Q)se[de]=ae;se[de]=ne}var me,ve=ce-W;for(ne=0;ne<ve;){for(;;){var he=se[1];if((me=q[he]).tm>=me.mtm&&q[me.nn].mtm<=me.tm)break;for(me.mtm==te?he=se[1]=se[se[0]--]:(m(q,he,!1),me.tm=ne),ie=q[he].err,de=1;(Q=de+de)<=se[0]&&(Q<se[0]&&q[se[Q]].err>q[se[Q+1]].err&&Q++,!(ie<=q[ae=se[Q]].err));de=Q)se[de]=ae;se[de]=he}var xe=q[me.nn],Te=me.cnt,Ae=xe.cnt,Ee=1/(Te+Ae);D&&(me.ac=Ee*(Te*me.ac+Ae*xe.ac)),me.rc=Ee*(Te*me.rc+Ae*xe.rc),me.gc=Ee*(Te*me.gc+Ae*xe.gc),me.bc=Ee*(Te*me.bc+Ae*xe.bc),me.cnt+=xe.cnt,me.mtm=++ne,q[xe.bk].fw=xe.fw,q[xe.fw].bk=xe.bk,xe.mtm=te}let ze=[];for(ne=0;;0){let Ne=d(Math.round(q[ne].rc),0,255),Xe=d(Math.round(q[ne].gc),0,255),Ve=d(Math.round(q[ne].bc),0,255),ye=255;D&&(ye=d(Math.round(q[ne].ac),0,255),C&&(Be=typeof C=="number"?C:127,ye=ye<=Be?0:255),Y&&ye<=G&&(Ne=Xe=Ve=Z,ye=0));var Be=D?[Ne,Xe,Ve,ye]:[Ne,Xe,Ve];if(function(Oe,je){for(let H=0;H<Oe.length;H++){var $=Oe[H],X=$[0]===je[0]&&$[1]===je[1]&&$[2]===je[2],$=!(4<=$.length&&4<=je.length)||$[3]===je[3];if(X&&$)return!0}return!1}(ze,Be)||ze.push(Be),(ne=q[ne].fw)==0)break}return ze},snapColorsToPalette:()=>function(B,W,N=5){if(B.length&&W.length){var z=B.map(L=>L.slice(0,3)),Y=N*N,Z=B[0].length;for(let L=0;L<W.length;L++){let D=W[L];D=D.length<Z?[D[0],D[1],D[2],255]:D.length>Z?D.slice(0,3):D.slice();var C=M(z,D.slice(0,3),b),G=C[0],C=C[1];0<C&&C<=Y&&(B[G]=D)}}}};for(f in i)u(s,f,{get:i[f],enumerable:!0});var p={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function h(B=256){let W=0,N=new Uint8Array(B);return{get buffer(){return N.buffer},reset(){W=0},bytesView(){return N.subarray(0,W)},bytes(){return N.slice(0,W)},writeByte(Y){z(W+1),N[W]=Y,W++},writeBytes(Y,Z=0,G=Y.length){z(W+G);for(let C=0;C<G;C++)N[W++]=Y[C+Z]},writeBytesView(Y,Z=0,G=Y.byteLength){z(W+G),N.set(Y.subarray(Z,Z+G),W),W+=G}};function z(Y){var Z=N.length;if(!(Y<=Z)){Y=Math.max(Y,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(Y=Math.max(Y,256));const G=N;N=new Uint8Array(Y),0<W&&N.set(G.subarray(0,W),0)}}}var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],n=function(B,W,N,D,Y=h(512),Z=new Uint8Array(256),G=new Int32Array(5003),C=new Int32Array(5003)){var L=G.length,D=Math.max(2,D);Z.fill(0),C.fill(0),G.fill(-1);let q=0,J=0;var te=D+1;const se=te;let ce=!1,ne=se,ae=(1<<ne)-1;var de=1<<te-1;const Q=1+de;let ie=2+de,me=0,ve=N[0],he=0;for(let Be=L;Be<65536;Be*=2)++he;he=8-he,Y.writeByte(D),ze(de);var xe=N.length;for(let Be=1;Be<xe;Be++)e:{var Te=N[Be],Ae=(Te<<12)+ve;let Ne=Te<<he^ve;if(G[Ne]===Ae)ve=C[Ne];else{for(var Ee=Ne===0?1:L-Ne;0<=G[Ne];)if((Ne-=Ee)<0&&(Ne+=L),G[Ne]===Ae){ve=C[Ne];break e}ze(ve),ve=Te,ie<4096?(C[Ne]=ie++,G[Ne]=Ae):(G.fill(-1),ie=2+de,ce=!0,ze(de))}}return ze(ve),ze(Q),Y.writeByte(0),Y.bytesView();function ze(Be){for(q&=r[J],0<J?q|=Be<<J:q=Be,J+=ne;8<=J;)Z[me++]=255&q,254<=me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0),q>>=8,J-=8;if((ie>ae||ce)&&(ce?(ne=se,ae=(1<<ne)-1,ce=!1):(++ne,ae=ne===12?1<<ne:(1<<ne)-1)),Be==Q){for(;0<J;)Z[me++]=255&q,254<=me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0),q>>=8,J-=8;0<me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0)}}};function o(B,W,N){return B<<8&63488|W<<2&992|N>>3}function a(B,W,N,z){return B>>4|240&W|(240&N)<<4|(240&z)<<8}function c(B,W,N){return B>>4<<8|240&W|N>>4}function d(B,W,N){return B<W?W:N<B?N:B}function y(B){return B*B}function m(B,W,N){var z=0,Y=1e100;const Z=B[W];for(var G=Z.cnt,C=Z.ac,L=Z.rc,D=Z.gc,q=Z.bc,J=Z.fw;J!=0;J=B[J].fw){var te,se=B[J],ce=se.cnt,ce=G*ce/(G+ce);Y<=ce||(te=0,N&&Y<=(te+=ce*y(se.ac-C))||Y<=(te+=ce*y(se.rc-L))||Y<=(te+=ce*y(se.gc-D))||Y<=(te+=ce*y(se.bc-q))||(Y=te,z=J))}Z.err=Y,Z.nn=z}function g(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function b(B,W){for(var N=0,z=0;z<B.length;z++){var Y=B[z]-W[z];N+=Y*Y}return N}function w(B,W){return 1<W?Math.round(B/W)*W:B}function _(B){return B*B}function S(B,W,N=b){let z=1/0,Y=-1;for(let G=0;G<B.length;G++){var Z=N(W,B[G]);Z<z&&(z=Z,Y=G)}return Y}function M(B,W,N=b){let z=1/0,Y=-1;for(let G=0;G<B.length;G++){var Z=N(W,B[G]);Z<z&&(z=Z,Y=G)}return[Y,z]}function k(B={}){const{initialCapacity:W=4096,auto:N=!0}=B,z=h(W),Y=new Uint8Array(256),Z=new Int32Array(5003),G=new Int32Array(5003);let C=!1;return{reset(){z.reset(),C=!1},finish(){z.writeByte(p.trailer)},bytes(){return z.bytes()},bytesView(){return z.bytesView()},get buffer(){return z.buffer},get stream(){return z},writeHeader:L,writeFrame(D,q,J,ve={}){var{transparent:se=!1,transparentIndex:ce=0,delay:Ee=0,palette:ne=null,repeat:xe=0,colorDepth:ae=8,dispose:de=-1}=ve;let Q=!1;if(N?C||(Q=!0,L(),C=!0):Q=!!ve.first,q=Math.max(0,Math.floor(q)),J=Math.max(0,Math.floor(J)),Q){if(!ne)throw new Error("First frame must include a { palette } option");var[ve,Te,me,Ae,he=8]=[z,q,J,ne,ae];Ae=R(Ae.length)-1,he=128|he-1<<4|Ae,A(ve,Te),A(ve,me),ve.writeBytes([he,0,0]),T(z,ne),0<=xe&&(Ae=z,Te=xe,Ae.writeByte(33),Ae.writeByte(255),Ae.writeByte(11),O(Ae,"NETSCAPE2.0"),Ae.writeByte(3),Ae.writeByte(1),A(Ae,Te),Ae.writeByte(0))}var ie,me=Math.round(Ee/10),ve=z,he=de,xe=me,Te=se,Ae=ce,Ee=(ve.writeByte(33),ve.writeByte(249),ve.writeByte(4),Ae<0&&(Ae=0,Te=!1),Te=Te?(ie=1,2):ie=0,0<=he&&(Te=7&he),Te<<=2,ve.writeByte(0|Te|ie),A(ve,xe),ve.writeByte(Ae||0),ve.writeByte(0),!!ne&&!Q);de=z,se=q,ce=J,ie=Ee?ne:null,de.writeByte(44),A(de,0),A(de,0),A(de,se),A(de,ce),ie?(se=R(ie.length)-1,de.writeByte(128|se)):de.writeByte(0),Ee&&T(z,ne),[xe,ve,ce,se,de=8,Ee,ne,D]=[z,D,q,J,ae,Y,Z,G],n(ce,se,ve,de,xe,Ee,ne,D)}};function L(){O(z,"GIF89a")}}function T(B,W){var N=1<<R(W.length);for(let z=0;z<N;z++){let Y=[0,0,0];z<W.length&&(Y=W[z]),B.writeByte(Y[0]),B.writeByte(Y[1]),B.writeByte(Y[2])}}function A(B,W){B.writeByte(255&W),B.writeByte(W>>8&255)}function O(B,W){for(var N=0;N<W.length;N++)B.writeByte(W.charCodeAt(N))}function R(B){return Math.max(Math.ceil(Math.log2(B)),1)}var U=k},{}],238:[function(t,V,E){E.read=function(f,u,s,i,m){var h,r,n=8*m-i-1,o=(1<<n)-1,a=o>>1,c=-7,d=s?m-1:0,y=s?-1:1,m=f[u+d];for(d+=y,h=m&(1<<-c)-1,m>>=-c,c+=n;0<c;h=256*h+f[u+d],d+=y,c-=8);for(r=h&(1<<-c)-1,h>>=-c,c+=i;0<c;r=256*r+f[u+d],d+=y,c-=8);if(h===0)h=1-a;else{if(h===o)return r?NaN:1/0*(m?-1:1);r+=Math.pow(2,i),h-=a}return(m?-1:1)*r*Math.pow(2,h-i)},E.write=function(f,u,s,i,p,g){var r,n,o=8*g-p-1,a=(1<<o)-1,c=a>>1,d=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:g-1,m=i?1:-1,g=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(n=isNaN(u)?1:0,r=a):(r=Math.floor(Math.log(u)/Math.LN2),u*(i=Math.pow(2,-r))<1&&(r--,i*=2),2<=(u+=1<=r+c?d/i:d*Math.pow(2,1-c))*i&&(r++,i/=2),a<=r+c?(n=0,r=a):1<=r+c?(n=(u*i-1)*Math.pow(2,p),r+=c):(n=u*Math.pow(2,c-1)*Math.pow(2,p),r=0));8<=p;f[s+y]=255&n,y+=m,n/=256,p-=8);for(r=r<<p|n,o+=p;0<o;f[s+y]=255&r,y+=m,r/=256,o-=8);f[s+y-m]|=128*g}},{}],239:[function(t,V,E){var f;function u(X,$){return X.b===$.b&&X.a===$.a}function s(X,$){return X.b<$.b||X.b===$.b&&X.a<=$.a}function i(X,$,H){var ee=$.b-X.b,fe=H.b-$.b;return 0<ee+fe?ee<fe?$.a-X.a+ee/(ee+fe)*(X.a-H.a):$.a-H.a+fe/(ee+fe)*(H.a-X.a):0}function p(X,$,H){var ee=$.b-X.b,fe=H.b-$.b;return 0<ee+fe?($.a-H.a)*ee+($.a-X.a)*fe:0}function h(X,$){return X.a<$.a||X.a===$.a&&X.b<=$.b}function r(X,$,H){var ee=$.a-X.a,fe=H.a-$.a;return 0<ee+fe?ee<fe?$.b-X.b+ee/(ee+fe)*(X.b-H.b):$.b-H.b+fe/(ee+fe)*(H.b-X.b):0}function n(X,$,H){var ee=$.a-X.a,fe=H.a-$.a;return 0<ee+fe?($.b-H.b)*ee+($.b-X.b)*fe:0}function o(X,$,H,ee){return(X=X<0?0:X)<=(H=H<0?0:H)?H===0?($+ee)/2:$+X/(X+H)*(ee-$):ee+H/(X+H)*($-ee)}function a(X){var $=g(X.b);return w($,X.c),w($.b,X.c),_($,X.a),$}function c(X,$){var H=!1,ee=!1;X!==$&&($.a!==X.a&&(ee=!0,M($.a,X.a)),$.d!==X.d&&(H=!0,k($.d,X.d)),b($,X),ee||(w($,X.a),X.a.c=X),H||(_($,X.d),X.d.a=X))}function d(X){var $=X.b,H=!1;X.d!==X.b.d&&(H=!0,k(X.d,X.b.d)),X.c===X?M(X.a,null):(X.b.d.a=X.b.e,X.a.c=X.c,b(X,X.b.e),H||_(X,X.d)),$.c===$?(M($.a,null),k($.d,null)):(X.d.a=$.b.e,$.a.c=$.c,b($,$.b.e)),S(X)}function y(X){var $=g(X),H=$.b;return b($,X.e),$.a=X.b.a,w(H,$.a),$.d=H.d=X.d,$=$.b,b(X.b,X.b.b.e),b(X.b,$),X.b.a=$.a,$.b.a.c=$.b,$.b.d=X.b.d,$.f=X.f,$.b.f=X.b.f,$}function m(X,$){var H=!1,ee=g(X),fe=ee.b;return $.d!==X.d&&(H=!0,k($.d,X.d)),b(ee,X.e),b(fe,$),ee.a=X.b.a,fe.a=$.a,ee.d=fe.d=X.d,X.d.a=fe,H||_(ee,X.d),ee}function g(X){var $=new me,H=new me,ee=X.b.h;return(((H.h=ee).b.h=$).h=X).b.h=H,$.b=H,(($.c=$).e=H).b=$,(H.c=H).e=$}function b(X,$){var H=X.c,ee=$.c;H.b.e=$,(ee.b.e=X).c=ee,$.c=H}function w(X,$){var H=$.f,ee=new he($,H);for(H.e=ee,H=($.f=ee).c=X;H.a=ee,(H=H.c)!==X;);}function _(X,$){var H=$.d,ee=new ie($,H);for(H.b=ee,($.d=ee).a=X,ee.c=$.c,H=X;H.d=ee,(H=H.e)!==X;);}function S(X){var $=X.h;X=X.b.h,($.b.h=X).b.h=$}function M(X,$){for(var H=X.c,ee=H;ee.a=$,(ee=ee.c)!==H;);H=X.f,((ee=X.e).f=H).e=ee}function k(X,$){for(var H=X.a,ee=H;ee.d=$,(ee=ee.e)!==H;);H=X.d,((ee=X.b).d=H).b=ee}function T(X){var $=0;return Math.abs(X[1])>Math.abs(X[0])&&($=1),$=Math.abs(X[2])>Math.abs(X[$])?2:$}function A(X,$){X.f+=$.f,X.b.f+=$.b.f}function O(X,$,H){return X=X.a,$=$.a,H=H.a,$.b.a===X?H.b.a===X?s($.a,H.a)?p(H.b.a,$.a,H.a)<=0:0<=p($.b.a,H.a,$.a):p(H.b.a,X,H.a)<=0:H.b.a===X?0<=p($.b.a,X,$.a):($=i($.b.a,X,$.a),(X=i(H.b.a,X,H.a))<=$)}function R(X){X.a.i=null;var $=X.e;$.a.c=$.c,$.c.a=$.a,X.e=null}function U(X,$){d(X.a),X.c=!1,(X.a=$).i=X}function B(X){for(var $=X.a.a;(X=je(X)).a.a===$;);return X.c&&(U(X,$=m(Oe(X).a.b,X.a.e)),X=je(X)),X}function W(X,$,H){var ee=new ye;return ee.a=H,ee.e=ce(X.f,$.e,ee),H.i=ee}function N(X,$){switch(X.s){case 100130:return(1&$)!=0;case 100131:return $!==0;case 100132:return 0<$;case 100133:return $<0;case 100134:return 2<=$||$<=-2}return!1}function z(X){var $=X.a,H=$.d;H.c=X.d,H.a=$,R(X)}function Y(X,$,H){for($=(X=$).a;X!==H;){X.c=!1;var ee=Oe(X),fe=ee.a;if(fe.a!==$.a){if(!ee.c){z(X);break}U(ee,fe=m($.c.b,fe.b))}$.c!==fe&&(c(fe.b.e,fe),c($,fe)),z(X),$=ee.a,X=ee}return $}function Z(X,$,H,ee,fe,be){for(var Ce=!0;W(X,$,H.b),(H=H.c)!==ee;);for(fe===null&&(fe=Oe($).a.b.c);(H=(ee=Oe($)).a.b).a===fe.a;)H.c!==fe&&(c(H.b.e,H),c(fe.b.e,H)),ee.f=$.f-H.f,ee.d=N(X,ee.f),$.b=!0,!Ce&&D(X,$)&&(A(H,fe),R($),d(fe)),Ce=!1,$=ee,fe=H;$.b=!0,be&&J(X,$)}function G(X,$,H,ee,fe){var be=[$.g[0],$.g[1],$.g[2]];$.d=null,$.d=X.o&&X.o(be,H,ee,X.c)||null,$.d===null&&(fe?X.n||(Q(X,100156),X.n=!0):$.d=H[0])}function C(X,$,H){var ee=[null,null,null,null];ee[0]=$.a.d,ee[1]=H.a.d,G(X,$.a,ee,[.5,.5,0,0],!1),c($,H)}function L(X,$,H,ee,fe){var be=Math.abs($.b-X.b)+Math.abs($.a-X.a),Ce=Math.abs(H.b-X.b)+Math.abs(H.a-X.a),Ie=fe+1;ee[fe]=.5*Ce/(be+Ce),ee[Ie]=.5*be/(be+Ce),X.g[0]+=ee[fe]*$.g[0]+ee[Ie]*H.g[0],X.g[1]+=ee[fe]*$.g[1]+ee[Ie]*H.g[1],X.g[2]+=ee[fe]*$.g[2]+ee[Ie]*H.g[2]}function D(X,$){var H=Oe($),ee=$.a,fe=H.a;if(s(ee.a,fe.a)){if(0<p(fe.b.a,ee.a,fe.a))return;if(u(ee.a,fe.a)){if(ee.a!==fe.a){var H=X.e,be=ee.a.h;if(0<=be){var Ce=(H=H.b).d,Ie=H.e,Ue=H.c,Fe=Ue[be];Ce[Fe]=Ce[H.a],(Ue[Ce[Fe]]=Fe)<=--H.a&&(Fe<=1||s(Ie[Ce[Fe>>1]],Ie[Ce[Fe]])?Xe:Ve)(H,Fe),Ie[be]=null,Ue[be]=H.b,H.b=be}else for(H.c[-(be+1)]=null;0<H.a&&H.c[H.d[H.a-1]]===null;)--H.a;C(X,fe.b.e,ee)}}else y(fe.b),c(ee,fe.b.e),$.b=H.b=!0}else{if(p(ee.b.a,fe.a,ee.a)<0)return;je($).b=$.b=!0,y(ee.b),c(fe.b.e,ee)}return 1}function q(X,$){var H=Oe($),ee=$.a,fe=H.a,be=ee.a,Ce=fe.a,Ie=ee.b.a,Ue=fe.b.a,Fe=new he;if(p(Ie,X.a,be),p(Ue,X.a,Ce),!(be===Ce||Math.min(be.a,Ie.a)>Math.max(Ce.a,Ue.a))){if(s(be,Ce)){if(0<p(Ue,be,Ce))return}else if(p(Ie,Ce,be)<0)return;var We,rt,et=Ie,Ze=be,tt=Ue,Qe=Ce;if(s(et,Ze)||(We=et,et=Ze,Ze=We),s(tt,Qe)||(We=tt,tt=Qe,Qe=We),s(et,tt)||(We=et,et=tt,tt=We,We=Ze,Ze=Qe,Qe=We),s(tt,Ze)?s(Ze,Qe)?((We=i(et,tt,Ze))+(rt=i(tt,Ze,Qe))<0&&(We=-We,rt=-rt),Fe.b=o(We,tt.b,rt,Ze.b)):((We=p(et,tt,Ze))+(rt=-p(et,Qe,Ze))<0&&(We=-We,rt=-rt),Fe.b=o(We,tt.b,rt,Qe.b)):Fe.b=(tt.b+Ze.b)/2,h(et,Ze)||(We=et,et=Ze,Ze=We),h(tt,Qe)||(We=tt,tt=Qe,Qe=We),h(et,tt)||(We=et,et=tt,tt=We,We=Ze,Ze=Qe,Qe=We),h(tt,Ze)?h(Ze,Qe)?((We=r(et,tt,Ze))+(rt=r(tt,Ze,Qe))<0&&(We=-We,rt=-rt),Fe.a=o(We,tt.a,rt,Ze.a)):((We=n(et,tt,Ze))+(rt=-n(et,Qe,Ze))<0&&(We=-We,rt=-rt),Fe.a=o(We,tt.a,rt,Qe.a)):Fe.a=(tt.a+Ze.a)/2,s(Fe,X.a)&&(Fe.b=X.a.b,Fe.a=X.a.a),et=s(be,Ce)?be:Ce,s(et,Fe)&&(Fe.b=et.b,Fe.a=et.a),u(Fe,be)||u(Fe,Ce))return D(X,$),0;if(!u(Ie,X.a)&&0<=p(Ie,X.a,Fe)||!u(Ue,X.a)&&p(Ue,X.a,Fe)<=0){if(Ue===X.a)y(ee.b),c(fe.b,ee),ee=Oe($=B($)).a,Y(X,Oe($),H),Z(X,$,ee.b.e,ee,ee,!0);else{if(Ie!==X.a)return 0<=p(Ie,X.a,Fe)&&(je($).b=$.b=!0,y(ee.b),ee.a.b=X.a.b,ee.a.a=X.a.a),void(p(Ue,X.a,Fe)<=0&&($.b=H.b=!0,y(fe.b),fe.a.b=X.a.b,fe.a.a=X.a.a));for(y(fe.b),c(ee.e,fe.b.e),Ce=(be=H=$).a.b.a;(be=je(be)).a.b.a===Ce;);be=Oe($=be).a.b.c,H.a=fe.b.e,Z(X,$,(fe=Y(X,H,null)).c,ee.b.c,be,!0)}return 1}y(ee.b),y(fe.b),c(fe.b.e,ee),ee.a.b=Fe.b,ee.a.a=Fe.a,ee.a.h=Te(X.e,ee.a),ee=ee.a,fe=[0,0,0,0],Fe=[be.d,Ie.d,Ce.d,Ue.d],ee.g[0]=ee.g[1]=ee.g[2]=0,L(ee,be,Ie,fe,0),L(ee,Ce,Ue,fe,2),G(X,ee,Fe,fe,!0),je($).b=$.b=H.b=!0}}function J(X,$){for(var H=Oe($);;){for(;H.b;)H=Oe($=H);if(!$.b&&(($=je(H=$))===null||!$.b))break;$.b=!1;var ee=$.a,fe=H.a;if(be=ee.b.a!==fe.b.a)e:{var be,Ce=Oe(be=$),Ie=be.a,Ue=Ce.a,Fe=void 0;if(s(Ie.b.a,Ue.b.a)){if(p(Ie.b.a,Ue.b.a,Ie.a)<0){be=!1;break e}je(be).b=be.b=!0,Fe=y(Ie),c(Ue.b,Fe),Fe.d.c=be.d}else{if(0<p(Ue.b.a,Ie.b.a,Ue.a)){be=!1;break e}be.b=Ce.b=!0,Fe=y(Ue),c(Ie.e,Ue.b),Fe.b.d.c=be.d}be=!0}if(be&&(H.c?(R(H),d(fe),fe=(H=Oe($)).a):$.c&&(R($),d(ee),ee=($=je(H)).a)),ee.a!==fe.a){if(ee.b.a===fe.b.a||$.c||H.c||ee.b.a!==X.a&&fe.b.a!==X.a)D(X,$);else if(q(X,$))break}ee.a===fe.a&&ee.b.a===fe.b.a&&(A(fe,ee),R($),d(ee),$=je(H))}}function te(X,$){var H=new ye,ee=a(X.b);ee.a.b=4e150,ee.a.a=$,ee.b.a.b=-4e150,ee.b.a.a=$,X.a=ee.b.a,H.a=ee,H.f=0,H.d=!1,H.c=!1,H.h=!0,H.b=!1,ee=ce(ee=X.f,ee.a,H),H.e=ee}function se(X){this.a=new ne,this.b=X,this.c=O}function ce(X,$,H){for(;($=$.c).b!==null&&!X.c(X.b,$.b,H););return X=new ne(H,$.a,$),$.a.c=X,$.a=X}function ne(X,$,H){this.b=X||null,this.a=$||this,this.c=H||this}function ae(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function de(X,$){if(X.d!==$)for(;X.d!==$;)if(X.d<$)switch(X.d){case 0:Q(X,100151),X.u(null);break;case 1:Q(X,100152),X.t()}else switch(X.d){case 2:Q(X,100154),X.v();break;case 1:Q(X,100153),X.w()}}function Q(X,$){X.p&&X.p($,X.c)}function ie(X,$){this.b=X||this,this.d=$||this,this.a=null,this.c=!1}function me(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ve(){this.c=new he,this.a=new ie,this.b=new me,this.d=new me,this.b.b=this.d,this.d.b=this.b}function he(X,$){this.e=X||this,this.f=$||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function xe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ee}function Te(X,$){var H,ee,fe;return X.e?(2*(ee=++(H=X.b).a)>H.f&&(H.f*=2,H.c=ze(H.c,H.f+1)),H.b===0?fe=ee:(fe=H.b,H.b=H.c[H.b]),H.e[fe]=$,H.c[fe]=ee,H.d[ee]=fe,H.h&&Ve(H,ee),fe):(H=X.a++,X.c[H]=$,-(H+1))}function Ae(X){if(X.a===0)return Ne(X.b);var $=X.c[X.d[X.a-1]];if(X.b.a!==0&&s(Be(X.b),$))return Ne(X.b);for(;--X.a,0<X.a&&X.c[X.d[X.a-1]]===null;);return $}function Ee(){this.d=ze([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ze(X,$){for(var H=Array($),ee=0;ee<X.length;ee++)H[ee]=X[ee];for(;ee<$;ee++)H[ee]=0;return H}function Be(X){return X.e[X.d[1]]}function Ne(X){var $=X.d,H=X.e,ee=X.c,fe=$[1],be=H[fe];return 0<X.a&&($[1]=$[X.a],ee[$[1]]=1,H[fe]=null,ee[fe]=X.b,X.b=fe,0<--X.a&&Xe(X,1)),be}function Xe(X,$){for(var H=X.d,ee=X.e,fe=X.c,be=$,Ce=H[be];;){var Ie=be<<1,Ue=(Ie<X.a&&s(ee[H[Ie+1]],ee[H[Ie]])&&(Ie+=1),H[Ie]);if(Ie>X.a||s(ee[Ce],ee[Ue])){fe[H[be]=Ce]=be;break}fe[H[be]=Ue]=be,be=Ie}}function Ve(X,$){for(var H=X.d,ee=X.e,fe=X.c,be=$,Ce=H[be];;){var Ie=be>>1,Ue=H[Ie];if(Ie==0||s(ee[Ue],ee[Ce])){fe[H[be]=Ce]=be;break}fe[H[be]=Ue]=be,be=Ie}}function ye(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Oe(X){return X.e.c.b}function je(X){return X.e.a.b}(f=ae.prototype).x=function(){de(this,0)},f.B=function(X,$){switch(X){case 100142:return;case 100140:switch($){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=$)}break;case 100141:return void(this.m=!!$);default:return void Q(this,100900)}Q(this,100901)},f.y=function(X){switch(X){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Q(this,100900)}return!1},f.A=function(X,$,H){this.j[0]=X,this.j[1]=$,this.j[2]=H},f.z=function(X,$){var H=$||null;switch(X){case 100100:case 100106:this.h=H;break;case 100104:case 100110:this.l=H;break;case 100101:case 100107:this.k=H;break;case 100102:case 100108:this.i=H;break;case 100103:case 100109:this.p=H;break;case 100105:case 100111:this.o=H;break;case 100112:this.r=H;break;default:Q(this,100900)}},f.C=function(X,$){var H=!1,ee=[0,0,0];de(this,2);for(var fe=0;fe<3;++fe){var be=X[fe];be<-1e150&&(be=-1e150,H=!0),1e150<be&&(be=1e150,H=!0),ee[fe]=be}H&&Q(this,100155),(H=this.q)===null?c(H=a(this.b),H.b):(y(H),H=H.e),H.a.d=$,H.a.g[0]=ee[0],H.a.g[1]=ee[1],H.a.g[2]=ee[2],H.f=1,H.b.f=-1,this.q=H},f.u=function(X){de(this,0),this.d=1,this.b=new ve,this.c=X},f.t=function(){de(this,1),this.d=2,this.q=null},f.v=function(){de(this,2),this.d=1},f.w=function(){de(this,1),this.d=0;var X,$,H=this.j[0],ee=this.j[1],fe=this.j[2],be=!1,Ce=[H,ee,fe];if(H===0&&ee===0&&fe===0){for(var ee=[-2e150,-2e150,-2e150],Ie=[2e150,2e150,2e150],fe=[],Ue=[],H=(be=this.b.c).e;H!==be;H=H.e)for(var Fe=0;Fe<3;++Fe){var We=H.g[Fe];We<Ie[Fe]&&(Ie[Fe]=We,Ue[Fe]=H),We>ee[Fe]&&(ee[Fe]=We,fe[Fe]=H)}if(ee[1]-Ie[1]>ee[H=0]-Ie[0]&&(H=1),Ie[H=ee[2]-Ie[2]>ee[H]-Ie[H]?2:H]>=ee[H])Ce[0]=0,Ce[1]=0,Ce[2]=1;else{for(Ie=Ue[H],fe=fe[H],Ue=[ee=0,0,0],Ie=[Ie.g[0]-fe.g[0],Ie.g[1]-fe.g[1],Ie.g[2]-fe.g[2]],Fe=[0,0,0],H=be.e;H!==be;H=H.e)Fe[0]=H.g[0]-fe.g[0],Fe[1]=H.g[1]-fe.g[1],Fe[2]=H.g[2]-fe.g[2],Ue[0]=Ie[1]*Fe[2]-Ie[2]*Fe[1],Ue[1]=Ie[2]*Fe[0]-Ie[0]*Fe[2],Ue[2]=Ie[0]*Fe[1]-Ie[1]*Fe[0],ee<(We=Ue[0]*Ue[0]+Ue[1]*Ue[1]+Ue[2]*Ue[2])&&(ee=We,Ce[0]=Ue[0],Ce[1]=Ue[1],Ce[2]=Ue[2]);ee<=0&&(Ce[0]=Ce[1]=Ce[2]=0,Ce[T(Ie)]=1)}be=!0}for(Ue=T(Ce),H=this.b.c,ee=(Ue+1)%3,fe=(Ue+2)%3,Ue=0<Ce[Ue]?1:-1,Ce=H.e;Ce!==H;Ce=Ce.e)Ce.b=Ce.g[ee],Ce.a=Ue*Ce.g[fe];if(be){for(Ce=0,H=(be=this.b.a).b;H!==be;H=H.b)if(!((ee=H.a).f<=0))for(;Ce+=(ee.a.b-ee.b.a.b)*(ee.a.a+ee.b.a.a),(ee=ee.e)!==H.a;);if(Ce<0)for(be=(Ce=this.b.c).e;be!==Ce;be=be.e)be.a=-be.a}for(this.n=!1,Ce=this.b.b,H=Ce.h;H!==Ce;H=be)be=H.h,ee=H.e,u(H.a,H.b.a)&&H.e.e!==H&&(C(this,ee,H),d(H),ee=(H=ee).e),ee.e===H&&(ee!==H&&(ee!==be&&ee!==be.b||(be=be.h),d(ee)),H!==be&&H!==be.b||(be=be.h),d(H));for(this.e=Ce=new xe,be=this.b.c,H=be.e;H!==be;H=H.e)H.h=Te(Ce,H);var rt=Ce;rt.d=[];for(var et=0;et<rt.a;et++)rt.d[et]=et;rt.d.sort(function(Qe){return function(mt,Ut){return s(Qe[mt],Qe[Ut])?1:-1}}(rt.c)),rt.e=!0;for(var Ze=rt.b,tt=Ze.a;1<=tt;--tt)Xe(Ze,tt);for(Ze.h=!0,this.f=new se(this),te(this,-4e150),te(this,4e150);(Ce=Ae(this.e))!==null;){for(;;){e:if((H=this.e).a===0)be=Be(H.b);else if(be=H.c[H.d[H.a-1]],H.b.a!==0&&s(H=Be(H.b),be)){be=H;break e}if(be===null||!u(be,Ce))break;be=Ae(this.e),C(this,Ce.c,be.c)}(function Qe(mt,Ut){for(var St,ct=(mt.a=Ut).c;ct.i===null;)if((ct=ct.c)===Ut.c){var ct=mt,gt=Ut;(ht=new ye).a=gt.c.b;for(var Rt=(lt=ct.f).a;(Rt=Rt.a).b!==null&&!lt.c(lt.b,ht,Rt.b););var lt,At,Ct=Oe(lt=Rt.b),ht=lt.a,Rt=Ct.a;return void(p(ht.b.a,gt,ht.a)===0?u((ht=lt.a).a,gt)||u(ht.b.a,gt)||(y(ht.b),lt.c&&(d(ht.c),lt.c=!1),c(gt.c,ht),Qe(ct,gt)):(At=s(Rt.b.a,ht.b.a)?lt:Ct,Ct=void 0,lt.d||At.c?(Ct=At===lt?m(gt.c.b,ht.e):m(Rt.b.c.b,gt.c).b,At.c?U(At,Ct):((lt=W(ht=ct,lt,Ct)).f=je(lt).f+lt.a.f,lt.d=N(ht,lt.f)),Qe(ct,gt)):Z(ct,lt,gt.c,gt.c,null,!0)))}lt=(ht=Oe(ct=B(ct.i))).a,(ht=Y(mt,ht,null)).c===lt?(ht=(lt=ht).c,Rt=Oe(ct),Ct=ct.a,At=Rt.a,St=!1,Ct.b.a!==At.b.a&&q(mt,ct),u(Ct.a,mt.a)&&(c(ht.b.e,Ct),ht=Oe(ct=B(ct)).a,Y(mt,Oe(ct),Rt),St=!0),u(At.a,mt.a)&&(c(lt,At.b.e),lt=Y(mt,Rt,null),St=!0),St?Z(mt,ct,lt.c,ht,ht,!0):(gt=s(At.a,Ct.a)?At.b.e:Ct,Z(mt,ct,gt=m(lt.c.b,gt),gt.c,gt.c,!1),gt.b.i.c=!0,J(mt,ct))):Z(mt,ct,ht.c,lt,lt,!0)})(this,Ce)}for(this.a=this.f.a.a.b.a.a,Ce=0;(be=this.f.a.a.b)!==null;)be.h||++Ce,R(be);for(this.f=null,(Ce=this.e).b=null,Ce.d=null,this.e=Ce.c=null,Ce=this.b,H=Ce.a.b;H!==Ce.a;H=be)be=H.b,(H=H.a).e.e===H&&(A(H.c,H),d(H));if(!this.n){if(Ce=this.b,this.m)for(H=Ce.b.h;H!==Ce.b;H=be)be=H.h,H.b.d.c!==H.d.c?H.f=H.d.c?1:-1:d(H);else for(H=Ce.a.b;H!==Ce.a;H=be)if(be=H.b,H.c){for(H=H.a;s(H.b.a,H.a);H=H.c.b);for(;s(H.a,H.b.a);H=H.e);for(ee=H.c.b,fe=void 0;H.e!==ee;)if(s(H.b.a,ee.a)){for(;ee.e!==H&&(s(($=ee.e).b.a,$.a)||p(ee.a,ee.b.a,ee.e.b.a)<=0);)ee=(fe=m(ee.e,ee)).b;ee=ee.c.b}else{for(;ee.e!==H&&(s((X=H.c.b).a,X.b.a)||0<=p(H.b.a,H.a,H.c.b.a));)H=(fe=m(H,H.c.b)).b;H=H.e}for(;ee.e.e!==H;)fe=m(ee.e,ee),ee=fe.b}if(this.h||this.i||this.k||this.l)if(this.m){for(be=(Ce=this.b).a.b;be!==Ce.a;be=be.b)if(be.c){for(this.h&&this.h(2,this.c),H=be.a;this.k&&this.k(H.a.d,this.c),(H=H.e)!==be.a;);this.i&&this.i(this.c)}}else{for(Ce=this.b,be=!!this.l,H=!1,ee=-1,fe=Ce.a.d;fe!==Ce.a;fe=fe.d)if(fe.c)for(H||(this.h&&this.h(4,this.c),H=!0),Ue=fe.a;be&&(Ie=Ue.b.d.c?0:1,ee!==Ie&&(ee=Ie,this.l&&this.l(!!ee,this.c))),this.k&&this.k(Ue.a.d,this.c),(Ue=Ue.e)!==fe.a;);H&&this.i&&this.i(this.c)}if(this.r){for(Ce=this.b,H=Ce.a.b;H!==Ce.a;H=be)if(be=H.b,!H.c){for(fe=(ee=H.a).e,Ue=void 0;fe=(Ue=fe).e,(Ue.d=null)===Ue.b.d&&(Ue.c===Ue?M(Ue.a,null):(Ue.a.c=Ue.c,b(Ue,Ue.b.e)),(Ie=Ue.b).c===Ie?M(Ie.a,null):(Ie.a.c=Ie.c,b(Ie,Ie.b.e)),S(Ue)),Ue!==ee;);ee=H.d,((H=H.b).d=ee).b=H}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ae,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ae.prototype.gluDeleteTess=ae.prototype.x,ae.prototype.gluTessProperty=ae.prototype.B,ae.prototype.gluGetTessProperty=ae.prototype.y,ae.prototype.gluTessNormal=ae.prototype.A,ae.prototype.gluTessCallback=ae.prototype.z,ae.prototype.gluTessVertex=ae.prototype.C,ae.prototype.gluTessBeginPolygon=ae.prototype.u,ae.prototype.gluTessBeginContour=ae.prototype.t,ae.prototype.gluTessEndContour=ae.prototype.v,ae.prototype.gluTessEndPolygon=ae.prototype.w,V!==void 0&&(V.exports=this.libtess)},{}],240:[function(t,V,E){function f(s,i,p,h){var r=0,n=(h=h===void 0?{}:h).loop===void 0?null:h.loop,o=h.palette===void 0?null:h.palette;if(i<=0||p<=0||65535<i||65535<p)throw new Error("Width/Height invalid.");function a(_){if(_=_.length,_<2||256<_||_&_-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return _}s[r++]=71,s[r++]=73,s[r++]=70,s[r++]=56,s[r++]=57,s[r++]=97;var c=0,d=0;if(o!==null){for(var y=a(o);y>>=1;)++c;if(y=1<<c,--c,h.background!==void 0){if(y<=(d=h.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(s[r++]=255&i,s[r++]=i>>8&255,s[r++]=255&p,s[r++]=p>>8&255,s[r++]=(o!==null?128:0)|c,s[r++]=d,s[r++]=0,o!==null)for(var m=0,g=o.length;m<g;++m){var b=o[m];s[r++]=b>>16&255,s[r++]=b>>8&255,s[r++]=255&b}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");s[r++]=33,s[r++]=255,s[r++]=11,s[r++]=78,s[r++]=69,s[r++]=84,s[r++]=83,s[r++]=67,s[r++]=65,s[r++]=80,s[r++]=69,s[r++]=50,s[r++]=46,s[r++]=48,s[r++]=3,s[r++]=1,s[r++]=255&n,s[r++]=n>>8&255,s[r++]=0}var w=!1;this.addFrame=function(_,S,M,k,T,A){if(w===!0&&(--r,w=!1),A=A===void 0?{}:A,_<0||S<0||65535<_||65535<S)throw new Error("x/y invalid.");if(M<=0||k<=0||65535<M||65535<k)throw new Error("Width/Height invalid.");if(T.length<M*k)throw new Error("Not enough pixels for the frame size.");var O=!0,R=A.palette;if(R==null&&(O=!1,R=o),R==null)throw new Error("Must supply either a local or global palette.");for(var B=a(R),U=0;B>>=1;)++U;var B=1<<U,W=A.delay===void 0?0:A.delay,N=A.disposal===void 0?0:A.disposal;if(N<0||3<N)throw new Error("Disposal out of range.");var z=!1,Y=0;if(A.transparent!==void 0&&A.transparent!==null&&(z=!0,(Y=A.transparent)<0||B<=Y))throw new Error("Transparent color index.");if(N===0&&!z&&W===0||(s[r++]=33,s[r++]=249,s[r++]=4,s[r++]=N<<2|(z===!0?1:0),s[r++]=255&W,s[r++]=W>>8&255,s[r++]=Y,s[r++]=0),s[r++]=44,s[r++]=255&_,s[r++]=_>>8&255,s[r++]=255&S,s[r++]=S>>8&255,s[r++]=255&M,s[r++]=M>>8&255,s[r++]=255&k,s[r++]=k>>8&255,s[r++]=O===!0?128|U-1:0,O===!0)for(var Z=0,G=R.length;Z<G;++Z){var C=R[Z];s[r++]=C>>16&255,s[r++]=C>>8&255,s[r++]=255&C}return r=function(L,D,q,J){L[D++]=q;var te=D++,se=1<<q,ce=se-1,ne=1+se,ae=1+ne,de=q+1,Q=0,ie=0;function me(Ne){for(;Ne<=Q;)L[D++]=255&ie,ie>>=8,Q-=8,D===te+256&&(L[te]=255,te=D++)}function ve(Ne){ie|=Ne<<Q,Q+=de,me(8)}var he=J[0]&ce,xe={};ve(se);for(var Te=1,Ae=J.length;Te<Ae;++Te){var Ee=J[Te]&ce,ze=he<<8|Ee,Be=xe[ze];if(Be===void 0){for(ie|=he<<Q,Q+=de;8<=Q;)L[D++]=255&ie,ie>>=8,Q-=8,D===te+256&&(L[te]=255,te=D++);ae===4096?(ve(se),ae=1+ne,de=q+1,xe={}):(1<<de<=ae&&++de,xe[ze]=ae++),he=Ee}else he=Be}return ve(he),ve(ne),me(1),te+1===D?L[te]=0:(L[te]=D-te-1,L[D++]=0),D}(s,r,U<2?2:U,T)},this.end=function(){return w===!1&&(s[r++]=59,w=!0),r},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(_){s=_},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(_){r=_}}function u(s,i,p,h){for(var r=s[i++],n=1<<r,o=1+n,a=1+o,c=r+1,d=(1<<c)-1,y=0,m=0,g=0,b=s[i++],w=new Int32Array(4096),_=null;;){for(;y<16&&b!==0;)m|=s[i++]<<y,y+=8,b===1?b=s[i++]:--b;if(y<c)break;var S=m&d;if(m>>=c,y-=c,S==n)a=1+o,d=(1<<(c=r+1))-1,_=null;else{if(S==o)break;for(var M=S<a?S:_,k=0,T=M;n<T;)T=w[T]>>8,++k;var A=T;if(h<g+k+(M!==S?1:0))return void console.log("Warning, gif stream longer than expected.");p[g++]=A;var O=g+=k;for(M!==S&&(p[g++]=A),T=M;k--;)T=w[T],p[--O]=255&T,T>>=8;_!==null&&a<4096&&(w[a++]=_<<8|A,d+1<=a&&c<12&&(++c,d=d<<1|1)),_=S}}g!==h&&console.log("Warning, gif stream shorter than expected.")}try{E.GifWriter=f,E.GifReader=function(s){var i=0;if(s[i++]!==71||s[i++]!==73||s[i++]!==70||s[i++]!==56||(s[i++]+1&253)!=56||s[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=s[i++]|s[i++]<<8,h=s[i++]|s[i++]<<8,r=s[i++],n=1<<1+(7&r),o=(s[i++],s[i++],null),a=null,c=(r>>7&&(o=i,i+=3*(a=n)),!0),d=[],y=0,m=null,g=0,b=null;for(this.width=p,this.height=h;c&&i<s.length;)switch(s[i++]){case 33:switch(s[i++]){case 255:if(s[i]!==11||s[i+1]==78&&s[i+2]==69&&s[i+3]==84&&s[i+4]==83&&s[i+5]==67&&s[i+6]==65&&s[i+7]==80&&s[i+8]==69&&s[i+9]==50&&s[i+10]==46&&s[i+11]==48&&s[i+12]==3&&s[i+13]==1&&s[i+16]==0)i+=14,b=s[i++]|s[i++]<<8,i++;else for(i+=12;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}break;case 249:if(s[i++]!==4||s[i+4]!==0)throw new Error("Invalid graphics extension block.");var w=s[i++],y=s[i++]|s[i++]<<8,m=s[i++];!(1&w)&&(m=null),g=w>>2&7,i++;break;case 254:for(;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}break;default:throw new Error("Unknown graphic control label: 0x"+s[i-1].toString(16))}break;case 44:var _,S=s[i++]|s[i++]<<8,M=s[i++]|s[i++]<<8,k=s[i++]|s[i++]<<8,T=s[i++]|s[i++]<<8,W=s[i++],A=W>>6&1,O=1<<1+(7&W),R=o,U=a,B=!1,W=(W>>7&&(B=!0,R=i,i+=3*(U=O)),i);for(i++;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}d.push({x:S,y:M,width:k,height:T,has_local_palette:B,palette_offset:R,palette_size:U,data_offset:W,data_length:i-W,transparent_index:m,interlaced:!!A,delay:y,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+s[i-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,z){for(var N=this.frameInfo(N),Y=N.width*N.height,Z=new Uint8Array(Y),G=(u(s,N.data_offset,Z,Y),N.palette_offset),C=N.transparent_index,L=(C===null&&(C=256),N.width),D=p-L,q=L,J=4*(N.y*p+N.x),te=4*((N.y+N.height)*p+N.x),se=J,ce=4*D,ne=(N.interlaced===!0&&(ce+=4*p*7),8),ae=0,de=Z.length;ae<de;++ae){var Q,ie,me=Z[ae];q===0&&(q=L,te<=(se+=ce)&&(ce=4*D+4*p*(ne-1),se=J+(L+D)*(ne<<1),ne>>=1)),me===C?se+=4:(Q=s[G+3*me],ie=s[G+3*me+1],me=s[G+3*me+2],z[se++]=me,z[se++]=ie,z[se++]=Q,z[se++]=255),--q}},this.decodeAndBlitFrameRGBA=function(N,z){for(var N=this.frameInfo(N),Y=N.width*N.height,Z=new Uint8Array(Y),G=(u(s,N.data_offset,Z,Y),N.palette_offset),C=N.transparent_index,L=(C===null&&(C=256),N.width),D=p-L,q=L,J=4*(N.y*p+N.x),te=4*((N.y+N.height)*p+N.x),se=J,ce=4*D,ne=(N.interlaced===!0&&(ce+=4*p*7),8),ae=0,de=Z.length;ae<de;++ae){var Q,ie,me=Z[ae];q===0&&(q=L,te<=(se+=ce)&&(ce=4*D+4*p*(ne-1),se=J+(L+D)*(ne<<1),ne>>=1)),me===C?se+=4:(Q=s[G+3*me],ie=s[G+3*me+1],me=s[G+3*me+2],z[se++]=Q,z[se++]=ie,z[se++]=me,z[se++]=255),--q}}}}catch{}},{}],241:[function(t,V,E){(function(f){var u,s;u=this,s=function(i){function p(P){if(this==null)throw TypeError();var v,j=String(this),x=j.length,P=P?Number(P):0;if(!((P=P!=P?0:P)<0||x<=P))return 55296<=(v=j.charCodeAt(P))&&v<=56319&&P+1<x&&56320<=(x=j.charCodeAt(P+1))&&x<=57343?1024*(v-55296)+x-56320+65536:v}String.prototype.codePointAt||((h=function(){try{var l={},v=Object.defineProperty,j=v(l,l,l)&&v}catch{}return j}())?h(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var h,r=0,n=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(l,v){this.source=l,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=v,this.destLen=0,this.ltree=new o,this.dtree=new o}var c=new o,d=new o,y=new Uint8Array(30),m=new Uint16Array(30),g=new Uint8Array(30),b=new Uint16Array(30),w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new o,S=new Uint8Array(320);function M(l,v,j,x){for(var P,I=0;I<j;++I)l[I]=0;for(I=0;I<30-j;++I)l[I+j]=I/j|0;for(P=x,I=0;I<30;++I)v[I]=P,P+=1<<l[I]}var k=new Uint16Array(16);function T(l,v,j,x){for(var P,I=0;I<16;++I)l.table[I]=0;for(I=0;I<x;++I)l.table[v[j+I]]++;for(I=P=l.table[0]=0;I<16;++I)k[I]=P,P+=l.table[I];for(I=0;I<x;++I)v[j+I]&&(l.trans[k[v[j+I]]++]=I)}function A(l,v,j){if(!v)return j;for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var x=l.tag&65535>>>16-v;return l.tag>>>=v,l.bitcount-=v,x+j}function O(l,v){for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;for(var j=0,x=0,P=0,I=l.tag;x=2*x+(1&I),I>>>=1,j+=v.table[++P],0<=(x-=v.table[P]););return l.tag=I,l.bitcount-=P,v.trans[j+x]}function R(l,v,j){for(;;){var x=O(l,v);if(x===256)return r;if(x<256)l.dest[l.destLen++]=x;else for(var P,I=A(l,y[x-=257],m[x]),x=O(l,j),F=P=l.destLen-A(l,g[x],b[x]);F<P+I;++F)l.dest[l.destLen++]=l.dest[F]}}for(var U=c,B=d,W=0;W<7;++W)U.table[W]=0;for(U.table[7]=24,U.table[8]=152,U.table[9]=112,W=0;W<24;++W)U.trans[W]=256+W;for(W=0;W<144;++W)U.trans[24+W]=W;for(W=0;W<8;++W)U.trans[168+W]=280+W;for(W=0;W<112;++W)U.trans[176+W]=144+W;for(W=0;W<5;++W)B.table[W]=0;for(B.table[5]=32,W=0;W<32;++W)B.trans[W]=W;M(y,m,4,3),M(g,b,2,1),y[28]=0,m[28]=258;var N=function(l,v){var j,x,P,I=new a(l,v);do{switch(P=void 0,(x=I).bitcount--||(x.tag=x.source[x.sourceIndex++],x.bitcount=7),P=1&x.tag,x.tag>>>=1,x=P,A(I,2,0)){case 0:j=function(Se){for(var Ke,ot;8<Se.bitcount;)Se.sourceIndex--,Se.bitcount-=8;if((Ke=256*Se.source[Se.sourceIndex+1]+Se.source[Se.sourceIndex])!==(65535&~(256*Se.source[Se.sourceIndex+3]+Se.source[Se.sourceIndex+2])))return n;for(Se.sourceIndex+=4,ot=Ke;ot;--ot)Se.dest[Se.destLen++]=Se.source[Se.sourceIndex++];return Se.bitcount=0,r}(I);break;case 1:j=R(I,c,d);break;case 2:ke=Me=Pe=we=F=le=ge=_e=pe=re=oe=K=void 0;for(var F,K=I,oe=I.ltree,re=I.dtree,pe=A(K,5,257),_e=A(K,5,1),ge=A(K,4,4),le=0;le<19;++le)S[le]=0;for(le=0;le<ge;++le){var Pe=A(K,3,0);S[w[le]]=Pe}for(T(_,S,0,19),F=0;F<pe+_e;){var Me=O(K,_);switch(Me){case 16:for(var ke=S[F-1],we=A(K,2,3);we;--we)S[F++]=ke;break;case 17:for(we=A(K,3,3);we;--we)S[F++]=0;break;case 18:for(we=A(K,7,11);we;--we)S[F++]=0;break;default:S[F++]=Me}}T(oe,S,0,pe),T(re,S,pe,_e),j=R(I,I.ltree,I.dtree);break;default:j=n}if(j!==r)throw new Error("Data error")}while(!x);return I.destLen<I.dest.length?typeof I.dest.slice=="function"?I.dest.slice(0,I.destLen):I.dest.subarray(0,I.destLen):I.dest};function z(l,v,j,x,P){return Math.pow(1-P,3)*l+3*Math.pow(1-P,2)*P*v+3*(1-P)*Math.pow(P,2)*j+Math.pow(P,3)*x}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Z(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function G(l){throw new Error(l)}function C(l,v){l||G(v)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(l,v){typeof l=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=l,this.x2=l),l<this.x1&&(this.x1=l),l>this.x2&&(this.x2=l)),typeof v=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=v,this.y2=v),v<this.y1&&(this.y1=v),v>this.y2&&(this.y2=v))},Y.prototype.addX=function(l){this.addPoint(l,null)},Y.prototype.addY=function(l){this.addPoint(null,l)},Y.prototype.addBezier=function(l,v,j,x,P,I,F,K){var oe=[l,v],re=[j,x],pe=[P,I],_e=[F,K];this.addPoint(l,v),this.addPoint(F,K);for(var ge=0;ge<=1;ge++){var le,Pe=6*oe[ge]-12*re[ge]+6*pe[ge],Me=-3*oe[ge]+9*re[ge]-9*pe[ge]+3*_e[ge],ke=3*re[ge]-3*oe[ge];Me==0?Pe==0||0<(le=-ke/Pe)&&le<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],le)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],le))):(le=Math.pow(Pe,2)-4*ke*Me)<0||(0<(ke=(-Pe+Math.sqrt(le))/(2*Me))&&ke<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],ke)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],ke))),0<(ke=(-Pe-Math.sqrt(le))/(2*Me))&&ke<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],ke)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],ke))))}},Y.prototype.addQuad=function(l,v,j,x,P,I){j=l+2/3*(j-l),x=v+2/3*(x-v),this.addBezier(l,v,j,x,j+1/3*(P-l),x+1/3*(I-v),P,I)},Z.prototype.moveTo=function(l,v){this.commands.push({type:"M",x:l,y:v})},Z.prototype.lineTo=function(l,v){this.commands.push({type:"L",x:l,y:v})},Z.prototype.curveTo=Z.prototype.bezierCurveTo=function(l,v,j,x,P,I){this.commands.push({type:"C",x1:l,y1:v,x2:j,y2:x,x:P,y:I})},Z.prototype.quadTo=Z.prototype.quadraticCurveTo=function(l,v,j,x){this.commands.push({type:"Q",x1:l,y1:v,x:j,y:x})},Z.prototype.close=Z.prototype.closePath=function(){this.commands.push({type:"Z"})},Z.prototype.extend=function(l){var v;if(l.commands)l=l.commands;else if(l instanceof Y)return v=l,this.moveTo(v.x1,v.y1),this.lineTo(v.x2,v.y1),this.lineTo(v.x2,v.y2),this.lineTo(v.x1,v.y2),void this.close();Array.prototype.push.apply(this.commands,l)},Z.prototype.getBoundingBox=function(){for(var l=new Y,v=0,j=0,x=0,P=0,I=0;I<this.commands.length;I++){var F=this.commands[I];switch(F.type){case"M":l.addPoint(F.x,F.y),v=x=F.x,j=P=F.y;break;case"L":l.addPoint(F.x,F.y),x=F.x,P=F.y;break;case"Q":l.addQuad(x,P,F.x1,F.y1,F.x,F.y),x=F.x,P=F.y;break;case"C":l.addBezier(x,P,F.x1,F.y1,F.x2,F.y2,F.x,F.y),x=F.x,P=F.y;break;case"Z":x=v,P=j;break;default:throw new Error("Unexpected path command "+F.type)}}return l.isEmpty()&&l.addPoint(0,0),l},Z.prototype.draw=function(l){l.beginPath();for(var v=0;v<this.commands.length;v+=1){var j=this.commands[v];j.type==="M"?l.moveTo(j.x,j.y):j.type==="L"?l.lineTo(j.x,j.y):j.type==="C"?l.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):j.type==="Q"?l.quadraticCurveTo(j.x1,j.y1,j.x,j.y):j.type==="Z"&&l.closePath()}this.fill&&(l.fillStyle=this.fill,l.fill()),this.stroke&&(l.strokeStyle=this.stroke,l.lineWidth=this.strokeWidth,l.stroke())},Z.prototype.toPathData=function(l){function v(){for(var I=arguments,F="",K=0;K<arguments.length;K+=1){var oe=I[K];0<=oe&&0<K&&(F+=" "),F+=(oe=oe,Math.round(oe)===oe?""+Math.round(oe):oe.toFixed(l))}return F}l=l!==void 0?l:2;for(var j="",x=0;x<this.commands.length;x+=1){var P=this.commands[x];P.type==="M"?j+="M"+v(P.x,P.y):P.type==="L"?j+="L"+v(P.x,P.y):P.type==="C"?j+="C"+v(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"?j+="Q"+v(P.x1,P.y1,P.x,P.y):P.type==="Z"&&(j+="Z")}return j},Z.prototype.toSVG=function(l){var v=(v='<path d="')+this.toPathData(l)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?v+=' fill="none"':v+=' fill="'+this.fill+'"'),this.stroke&&(v+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),v+="/>"},Z.prototype.toDOMElement=function(v){var v=this.toPathData(v),j=document.createElementNS("http://www.w3.org/2000/svg","path");return j.setAttribute("d",v),j};var L={fail:G,argument:C,assert:C},D={},q={},J={};function te(l){return function(){return l}}q.BYTE=function(l){return L.argument(0<=l&&l<=255,"Byte value should be between 0 and 255."),[l]},J.BYTE=te(1),q.CHAR=function(l){return[l.charCodeAt(0)]},J.CHAR=te(1),q.CHARARRAY=function(l){for(var v=[],j=0;j<l.length;j+=1)v[j]=l.charCodeAt(j);return v},J.CHARARRAY=function(l){return l.length},q.USHORT=function(l){return[l>>8&255,255&l]},J.USHORT=te(2),q.SHORT=function(l){return[(l=32768<=l?-(65536-l):l)>>8&255,255&l]},J.SHORT=te(2),q.UINT24=function(l){return[l>>16&255,l>>8&255,255&l]},J.UINT24=te(3),q.ULONG=function(l){return[l>>24&255,l>>16&255,l>>8&255,255&l]},J.ULONG=te(4),q.LONG=function(l){return[(l=2147483648<=l?-(4294967296-l):l)>>24&255,l>>16&255,l>>8&255,255&l]},J.LONG=te(4),q.FIXED=q.ULONG,J.FIXED=J.ULONG,q.FWORD=q.SHORT,J.FWORD=J.SHORT,q.UFWORD=q.USHORT,J.UFWORD=J.USHORT,q.LONGDATETIME=function(l){return[0,0,0,0,l>>24&255,l>>16&255,l>>8&255,255&l]},J.LONGDATETIME=te(8),q.TAG=function(l){return L.argument(l.length===4,"Tag should be exactly 4 ASCII characters."),[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]},J.TAG=te(4),q.Card8=q.BYTE,J.Card8=J.BYTE,q.Card16=q.USHORT,J.Card16=J.USHORT,q.OffSize=q.BYTE,J.OffSize=J.BYTE,q.SID=q.USHORT,J.SID=J.USHORT,q.NUMBER=function(l){return-107<=l&&l<=107?[l+139]:108<=l&&l<=1131?[247+((l-=108)>>8),255&l]:-1131<=l&&l<=-108?[251+((l=-l-108)>>8),255&l]:-32768<=l&&l<=32767?q.NUMBER16(l):q.NUMBER32(l)},J.NUMBER=function(l){return q.NUMBER(l).length},q.NUMBER16=function(l){return[28,l>>8&255,255&l]},J.NUMBER16=te(3),q.NUMBER32=function(l){return[29,l>>24&255,l>>16&255,l>>8&255,255&l]},J.NUMBER32=te(5),q.REAL=function(l){for(var v=l.toString(),j=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(v),x=(j&&(j=parseFloat("1e"+((j[2]?+j[2]:0)+j[1].length)),v=(Math.round(l*j)/j).toString()),""),P=0,I=v.length;P<I;P+=1){var F=v[P];x+=F==="e"?v[++P]==="-"?"c":"b":F==="."?"a":F==="-"?"e":F}for(var K=[30],oe=0,re=(x+=1&x.length?"f":"ff").length;oe<re;oe+=2)K.push(parseInt(x.substr(oe,2),16));return K},J.REAL=function(l){return q.REAL(l).length},q.NAME=q.CHARARRAY,J.NAME=J.CHARARRAY,q.STRING=q.CHARARRAY,J.STRING=J.CHARARRAY,D.UTF8=function(l,v,j){for(var x=[],P=j,I=0;I<P;I++,v+=1)x[I]=l.getUint8(v);return String.fromCharCode.apply(null,x)},D.UTF16=function(l,v,j){for(var x=[],P=j/2,I=0;I<P;I++,v+=2)x[I]=l.getUint16(v);return String.fromCharCode.apply(null,x)},q.UTF16=function(l){for(var v=[],j=0;j<l.length;j+=1){var x=l.charCodeAt(j);v[v.length]=x>>8&255,v[v.length]=255&x}return v},J.UTF16=function(l){return 2*l.length};var se,ce={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ne=(D.MACSTRING=function(l,v,j,x){var P=ce[x];if(P!==void 0){for(var I="",F=0;F<j;F++){var K=l.getUint8(v+F);I+=K<=127?String.fromCharCode(K):P[127&K]}return I}},typeof WeakMap=="function"&&new WeakMap);function ae(l){return-128<=l&&l<=127}q.MACSTRING=function(l,v){var j=function(F){if(!se)for(var K in se={},ce)se[K]=new String(K);var oe=se[F];if(oe!==void 0){if(ne){var re=ne.get(oe);if(re!==void 0)return re}var pe=ce[F];if(pe!==void 0){for(var _e={},ge=0;ge<pe.length;ge++)_e[pe.charCodeAt(ge)]=ge+128;return ne&&ne.set(oe,_e),_e}}}(v);if(j!==void 0){for(var x=[],P=0;P<l.length;P++){var I=l.charCodeAt(P);if(128<=I&&(I=j[I])===void 0)return;x[P]=I}return x}},J.MACSTRING=function(l,v){return l=q.MACSTRING(l,v),l!==void 0?l.length:0},q.VARDELTAS=function(l){for(var x=0,v=[];x<l.length;)var j=l[x],x=(j===0?function(P,I,F){for(var K=0,oe=P.length;I<oe&&K<64&&P[I]===0;)++I,++K;return F.push(128|K-1),I}:-128<=j&&j<=127?function(P,I,F){for(var K=0,oe=P.length,re=I;re<oe&&K<64;){var pe=P[re];if(!ae(pe)||pe===0&&re+1<oe&&P[re+1]===0)break;++re,++K}F.push(K-1);for(var _e=I;_e<re;++_e)F.push(P[_e]+256&255);return re}:function(P,I,F){for(var K=0,oe=P.length,re=I;re<oe&&K<64;){var pe=P[re];if(pe===0||ae(pe)&&re+1<oe&&ae(P[re+1]))break;++re,++K}F.push(64|K-1);for(var _e=I;_e<re;++_e){var ge=P[_e];F.push(ge+65536>>8&255,ge+256&255)}return re})(l,x,v);return v},q.INDEX=function(l){for(var v=1,j=[v],x=[],P=0;P<l.length;P+=1){var I=q.OBJECT(l[P]);Array.prototype.push.apply(x,I),v+=I.length,j.push(v)}if(x.length===0)return[0,0];for(var F=[],K=1+Math.floor(Math.log(v)/Math.log(2))/8|0,oe=[void 0,q.BYTE,q.USHORT,q.UINT24,q.ULONG][K],re=0;re<j.length;re+=1){var pe=oe(j[re]);Array.prototype.push.apply(F,pe)}return Array.prototype.concat(q.Card16(l.length),q.OffSize(K),F,x)},J.INDEX=function(l){return q.INDEX(l).length},q.DICT=function(l){for(var v=[],j=Object.keys(l),x=j.length,P=0;P<x;P+=1){var I=parseInt(j[P],0),F=l[I];v=(v=v.concat(q.OPERAND(F.value,F.type))).concat(q.OPERATOR(I))}return v},J.DICT=function(l){return q.DICT(l).length},q.OPERATOR=function(l){return l<1200?[l]:[12,l-1200]},q.OPERAND=function(l,v){var j=[];if(Array.isArray(v))for(var x=0;x<v.length;x+=1)L.argument(l.length===v.length,"Not enough arguments given for type"+v),j=j.concat(q.OPERAND(l[x],v[x]));else if(v==="SID")j=j.concat(q.NUMBER(l));else if(v==="offset")j=j.concat(q.NUMBER32(l));else if(v==="number")j=j.concat(q.NUMBER(l));else{if(v!=="real")throw new Error("Unknown operand type "+v);j=j.concat(q.REAL(l))}return j},q.OP=q.BYTE,J.OP=J.BYTE;var de=typeof WeakMap=="function"&&new WeakMap;function Q(l,v,j){for(var x=0;x<v.length;x+=1){var P=v[x];this[P.name]=P.value}if(this.tableName=l,this.fields=v,j)for(var I=Object.keys(j),F=0;F<I.length;F+=1){var K=I[F],oe=j[K];this[K]!==void 0&&(this[K]=oe)}}function ie(l,v,j){j===void 0&&(j=v.length);var x=new Array(v.length+1);x[0]={name:l+"Count",type:"USHORT",value:j};for(var P=0;P<v.length;P++)x[P+1]={name:l+P,type:"USHORT",value:v[P]};return x}function me(l,v,j){var x=v.length,P=new Array(x+1);P[0]={name:l+"Count",type:"USHORT",value:x};for(var I=0;I<x;I++)P[I+1]={name:l+I,type:"TABLE",value:j(v[I],I)};return P}function ve(l,v,j){var x=v.length,P=[];P[0]={name:l+"Count",type:"USHORT",value:x};for(var I=0;I<x;I++)P=P.concat(j(v[I],I));return P}function he(l){l.format===1?Q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ie("glyph",l.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function xe(l){Q.call(this,"scriptListTable",ve("scriptRecord",l,function(v,j){var x=v.script,P=x.defaultLangSys;return L.assert(!!P,"Unable to write GSUB: script "+v.tag+" has no default language system."),[{name:"scriptTag"+j,type:"TAG",value:v.tag},{name:"script"+j,type:"TABLE",value:new Q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:P.reqFeatureIndex}].concat(ie("featureIndex",P.featureIndexes)))}].concat(ve("langSys",x.langSysRecords,function(I,F){var K=I.langSys;return[{name:"langSysTag"+F,type:"TAG",value:I.tag},{name:"langSys"+F,type:"TABLE",value:new Q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:K.reqFeatureIndex}].concat(ie("featureIndex",K.featureIndexes)))}]})))}]}))}function Te(l){Q.call(this,"featureListTable",ve("featureRecord",l,function(v,j){var x=v.feature;return[{name:"featureTag"+j,type:"TAG",value:v.tag},{name:"feature"+j,type:"TABLE",value:new Q("featureTable",[{name:"featureParams",type:"USHORT",value:x.featureParams}].concat(ie("lookupListIndex",x.lookupListIndexes)))}]}))}function Ae(l,v){Q.call(this,"lookupListTable",me("lookup",l,function(j){var x=v[j.lookupType];return L.assert(!!x,"Unable to write GSUB lookup type "+j.lookupType+" tables."),new Q("lookupTable",[{name:"lookupType",type:"USHORT",value:j.lookupType},{name:"lookupFlag",type:"USHORT",value:j.lookupFlag}].concat(me("subtable",j.subtables,x)))}))}q.CHARSTRING=function(l){if(de){var v=de.get(l);if(v!==void 0)return v}for(var I=[],j=l.length,x=0;x<j;x+=1)var P=l[x],I=I.concat(q[P.type](P.value));return de&&de.set(l,I),I},J.CHARSTRING=function(l){return q.CHARSTRING(l).length},q.OBJECT=function(l){var v=q[l.type];return L.argument(v!==void 0,"No encoding function for type "+l.type),v(l.value)},J.OBJECT=function(l){var v=J[l.type];return L.argument(v!==void 0,"No sizeOf function for type "+l.type),v(l.value)},q.TABLE=function(l){for(var v=[],j=l.fields.length,x=[],P=[],I=0;I<j;I+=1){var F=l.fields[I],oe=q[F.type],K=(L.argument(oe!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")"),l[F.name]),oe=oe(K=K===void 0?F.value:K);F.type==="TABLE"?(P.push(v.length),v=v.concat([0,0]),x.push(oe)):v=v.concat(oe)}for(var re=0;re<x.length;re+=1){var pe=P[re],_e=v.length;L.argument(_e<65536,"Table "+l.tableName+" too big."),v[pe]=_e>>8,v[pe+1]=255&_e,v=v.concat(x[re])}return v},J.TABLE=function(l){for(var v=0,j=l.fields.length,x=0;x<j;x+=1){var P=l.fields[x],I=J[P.type],F=(L.argument(I!==void 0,"No sizeOf function for field type "+P.type+" ("+P.name+")"),l[P.name]);v+=I(F=F===void 0?P.value:F),P.type==="TABLE"&&(v+=2)}return v},q.RECORD=q.TABLE,J.RECORD=J.TABLE,q.LITERAL=function(l){return l},J.LITERAL=function(l){return l.length},Q.prototype.encode=function(){return q.TABLE(this)},Q.prototype.sizeOf=function(){return J.TABLE(this)};var Ee={Table:Q,Record:Q,Coverage:(he.prototype=Object.create(Q.prototype)).constructor=he,ScriptList:(xe.prototype=Object.create(Q.prototype)).constructor=xe,FeatureList:(Te.prototype=Object.create(Q.prototype)).constructor=Te,LookupList:(Ae.prototype=Object.create(Q.prototype)).constructor=Ae,ushortList:ie,tableList:me,recordList:ve};function ze(l,v){return l.getUint8(v)}function Be(l,v){return l.getUint16(v,!1)}function Ne(l,v){return l.getUint32(v,!1)}function Xe(l,v){return l.getInt16(v,!1)+l.getUint16(v+2,!1)/65535}var Ve={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ye(l,v){this.data=l,this.offset=v,this.relativeOffset=0}ye.prototype.parseByte=function(){var l=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},ye.prototype.parseChar=function(){var l=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},ye.prototype.parseCard8=ye.prototype.parseByte,ye.prototype.parseCard16=ye.prototype.parseUShort=function(){var l=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},ye.prototype.parseSID=ye.prototype.parseUShort,ye.prototype.parseOffset16=ye.prototype.parseUShort,ye.prototype.parseShort=function(){var l=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},ye.prototype.parseF2Dot14=function(){var l=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,l},ye.prototype.parseOffset32=ye.prototype.parseULong=function(){var l=Ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},ye.prototype.parseFixed=function(){var l=Xe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},ye.prototype.parseString=function(l){var v=this.data,j=this.offset+this.relativeOffset,x="";this.relativeOffset+=l;for(var P=0;P<l;P++)x+=String.fromCharCode(v.getUint8(j+P));return x},ye.prototype.parseTag=function(){return this.parseString(4)},ye.prototype.parseLongDateTime=function(){var l=Ne(this.data,this.offset+this.relativeOffset+4);return l-=2082844800,this.relativeOffset+=8,l},ye.prototype.parseVersion=function(l){var v=Be(this.data,this.offset+this.relativeOffset),j=Be(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,v+j/(l=l===void 0?4096:l)/10},ye.prototype.skip=function(l,v){this.relativeOffset+=Ve[l]*(v=v===void 0?1:v)},ye.prototype.parseULongList=function(l){l===void 0&&(l=this.parseULong());for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint32(x),x+=4;return this.relativeOffset+=4*l,v},ye.prototype.parseOffset16List=ye.prototype.parseUShortList=function(l){l===void 0&&(l=this.parseUShort());for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint16(x),x+=2;return this.relativeOffset+=2*l,v},ye.prototype.parseShortList=function(l){for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getInt16(x),x+=2;return this.relativeOffset+=2*l,v},ye.prototype.parseByteList=function(l){for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint8(x++);return this.relativeOffset+=l,v},ye.prototype.parseList=function(l,v){v||(v=l,l=this.parseUShort());for(var j=new Array(l),x=0;x<l;x++)j[x]=v.call(this);return j},ye.prototype.parseList32=function(l,v){v||(v=l,l=this.parseULong());for(var j=new Array(l),x=0;x<l;x++)j[x]=v.call(this);return j},ye.prototype.parseRecordList=function(l,v){v||(v=l,l=this.parseUShort());for(var j=new Array(l),x=Object.keys(v),P=0;P<l;P++){for(var I={},F=0;F<x.length;F++){var K=x[F],oe=v[K];I[K]=oe.call(this)}j[P]=I}return j},ye.prototype.parseRecordList32=function(l,v){v||(v=l,l=this.parseULong());for(var j=new Array(l),x=Object.keys(v),P=0;P<l;P++){for(var I={},F=0;F<x.length;F++){var K=x[F],oe=v[K];I[K]=oe.call(this)}j[P]=I}return j},ye.prototype.parseStruct=function(l){if(typeof l=="function")return l.call(this);for(var v=Object.keys(l),j={},x=0;x<v.length;x++){var P=v[x],I=l[P];j[P]=I.call(this)}return j},ye.prototype.parseValueRecord=function(l){var v;if((l=l===void 0?this.parseUShort():l)!==0)return v={},1&l&&(v.xPlacement=this.parseShort()),2&l&&(v.yPlacement=this.parseShort()),4&l&&(v.xAdvance=this.parseShort()),8&l&&(v.yAdvance=this.parseShort()),16&l&&(v.xPlaDevice=void 0,this.parseShort()),32&l&&(v.yPlaDevice=void 0,this.parseShort()),64&l&&(v.xAdvDevice=void 0,this.parseShort()),128&l&&(v.yAdvDevice=void 0,this.parseShort()),v},ye.prototype.parseValueRecordList=function(){for(var l=this.parseUShort(),v=this.parseUShort(),j=new Array(v),x=0;x<v;x++)j[x]=this.parseValueRecord(l);return j},ye.prototype.parsePointer=function(l){var v=this.parseOffset16();if(0<v)return new ye(this.data,this.offset+v).parseStruct(l)},ye.prototype.parsePointer32=function(l){var v=this.parseOffset32();if(0<v)return new ye(this.data,this.offset+v).parseStruct(l)},ye.prototype.parseListOfLists=function(l){for(var v=this.parseOffset16List(),j=v.length,x=this.relativeOffset,P=new Array(j),I=0;I<j;I++){var F=v[I];if(F===0)P[I]=void 0;else if(this.relativeOffset=F,l){for(var K=this.parseOffset16List(),oe=new Array(K.length),re=0;re<K.length;re++)this.relativeOffset=F+K[re],oe[re]=l.call(this);P[I]=oe}else P[I]=this.parseUShortList()}return this.relativeOffset=x,P},ye.prototype.parseCoverage=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort(),j=this.parseUShort();if(v===1)return{format:1,glyphs:this.parseUShortList(j)};if(v!==2)throw new Error("0x"+l.toString(16)+": Coverage format must be 1 or 2.");for(var x=new Array(j),P=0;P<j;P++)x[P]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:x}},ye.prototype.parseClassDef=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();if(v===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(v===2)return{format:2,ranges:this.parseRecordList({start:ye.uShort,end:ye.uShort,classId:ye.uShort})};throw new Error("0x"+l.toString(16)+": ClassDef format must be 1 or 2.")},ye.list=function(l,v){return function(){return this.parseList(l,v)}},ye.list32=function(l,v){return function(){return this.parseList32(l,v)}},ye.recordList=function(l,v){return function(){return this.parseRecordList(l,v)}},ye.recordList32=function(l,v){return function(){return this.parseRecordList32(l,v)}},ye.pointer=function(l){return function(){return this.parsePointer(l)}},ye.pointer32=function(l){return function(){return this.parsePointer32(l)}},ye.tag=ye.prototype.parseTag,ye.byte=ye.prototype.parseByte,ye.uShort=ye.offset16=ye.prototype.parseUShort,ye.uShortList=ye.prototype.parseUShortList,ye.uLong=ye.offset32=ye.prototype.parseULong,ye.uLongList=ye.prototype.parseULongList,ye.struct=ye.prototype.parseStruct,ye.coverage=ye.prototype.parseCoverage,ye.classDef=ye.prototype.parseClassDef;var Oe={reserved:ye.uShort,reqFeatureIndex:ye.uShort,featureIndexes:ye.uShortList},je=(ye.prototype.parseScriptList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,script:ye.pointer({defaultLangSys:ye.pointer(Oe),langSysRecords:ye.recordList({tag:ye.tag,langSys:ye.pointer(Oe)})})}))||[]},ye.prototype.parseFeatureList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,feature:ye.pointer({featureParams:ye.offset16,lookupListIndexes:ye.uShortList})}))||[]},ye.prototype.parseLookupList=function(l){return this.parsePointer(ye.list(ye.pointer(function(){var v=this.parseUShort(),j=(L.argument(1<=v&&v<=9,"GPOS/GSUB lookup type "+v+" unknown."),this.parseUShort()),x=16&j;return{lookupType:v,lookupFlag:j,subtables:this.parseList(ye.pointer(l[v])),markFilteringSet:x?this.parseUShort():void 0}})))||[]},ye.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var l=this.parseUShort(),v=this.parseUShort();return L.argument(l===1&&v<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ye.offset32,featureTableSubstitutionOffset:ye.offset32})})||[]},{getByte:ze,getCard8:ze,getUShort:Be,getCard16:Be,getShort:function(l,v){return l.getInt16(v,!1)},getULong:Ne,getFixed:Xe,getTag:function(l,v){for(var j="",x=v;x<v+4;x+=1)j+=String.fromCharCode(l.getInt8(x));return j},getOffset:function(l,v,j){for(var x=0,P=0;P<j;P+=1)x=(x<<=8)+l.getUint8(v+P);return x},getBytes:function(l,v,j){for(var x=[],P=v;P<j;P+=1)x.push(l.getUint8(P));return x},bytesToString:function(l){for(var v="",j=0;j<l.length;j+=1)v+=String.fromCharCode(l[j]);return v},Parser:ye}),X={parse:function(l,v){for(var j={},x=(j.version=je.getUShort(l,v),L.argument(j.version===0,"cmap table version should be 0."),j.numTables=je.getUShort(l,v+2),-1),P=j.numTables-1;0<=P;--P){var I=je.getUShort(l,v+4+8*P),F=je.getUShort(l,v+4+8*P+2);if(I===3&&(F===0||F===1||F===10)||I===0&&(F===0||F===1||F===2||F===3||F===4)){x=je.getULong(l,v+4+8*P+4);break}}if(x===-1)throw new Error("No valid cmap sub-tables found.");var K=new je.Parser(l,v+x);if(j.format=K.parseUShort(),j.format===12){var oe,re=j,pe=K;pe.parseUShort(),re.length=pe.parseULong(),re.language=pe.parseULong(),re.groupCount=oe=pe.parseULong(),re.glyphIndexMap={};for(var _e=0;_e<oe;_e+=1)for(var ge=pe.parseULong(),le=pe.parseULong(),Pe=pe.parseULong(),Me=ge;Me<=le;Me+=1)re.glyphIndexMap[Me]=Pe,Pe++}else{if(j.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+j.format+").");var ke=j,we=l,Se=v,Ke=x;ke.length=K.parseUShort(),ke.language=K.parseUShort(),ke.segCount=ot=K.parseUShort()>>1,K.skip("uShort",3),ke.glyphIndexMap={};for(var ot,$e=new je.Parser(we,Se+Ke+14),Je=new je.Parser(we,Se+Ke+16+2*ot),nt=new je.Parser(we,Se+Ke+16+4*ot),yt=new je.Parser(we,Se+Ke+16+6*ot),xt=Se+Ke+16+8*ot,Et=0;Et<ot-1;Et+=1)for(var Ft=void 0,Nt=$e.parseUShort(),Ht=Je.parseUShort(),pt=nt.parseShort(),vt=yt.parseUShort(),dt=Ht;dt<=Nt;dt+=1)vt!==0?(xt=(xt=yt.offset+yt.relativeOffset-2)+vt+2*(dt-Ht),(Ft=je.getUShort(we,xt))!==0&&(Ft=Ft+pt&65535)):Ft=dt+pt&65535,ke.glyphIndexMap[dt]=Ft}return j},make:function(l){for(var v=!0,j=l.length-1;0<j;--j)if(65535<l.get(j).unicode){console.log("Adding CMAP format 12 (needed!)"),v=!1;break}var x,P,I=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:v?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:v?12:20}],F=(I=(I=v?I:I.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ee.Table("cmap",I));for(F.segments=[],j=0;j<l.length;j+=1){for(var K=l.get(j),oe=0;oe<K.unicodes.length;oe+=1)x=K.unicodes[oe],P=j,F.segments.push({end:x,start:x,delta:-(x-P),offset:0,glyphIndex:P});F.segments=F.segments.sort(function(Se,Ke){return Se.start-Ke.start})}F.segments.push({end:65535,start:65535,delta:1,offset:0});var re=F.segments.length,pe=0,_e=[],ge=[],le=[],Pe=[],Me=[],ke=[];for(j=0;j<re;j+=1){var we=F.segments[j];we.end<=65535&&we.start<=65535?(_e=_e.concat({name:"end_"+j,type:"USHORT",value:we.end}),ge=ge.concat({name:"start_"+j,type:"USHORT",value:we.start}),le=le.concat({name:"idDelta_"+j,type:"SHORT",value:we.delta}),Pe=Pe.concat({name:"idRangeOffset_"+j,type:"USHORT",value:we.offset}),we.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+j,type:"USHORT",value:we.glyphId}))):pe+=1,v||we.glyphIndex===void 0||(ke=(ke=(ke=ke.concat({name:"cmap12Start_"+j,type:"ULONG",value:we.start})).concat({name:"cmap12End_"+j,type:"ULONG",value:we.end})).concat({name:"cmap12Glyph_"+j,type:"ULONG",value:we.glyphIndex}))}return F.segCountX2=2*(re-pe),F.searchRange=2*Math.pow(2,Math.floor(Math.log(re-pe)/Math.log(2))),F.entrySelector=Math.log(F.searchRange/2)/Math.log(2),F.rangeShift=F.segCountX2-F.searchRange,F.fields=F.fields.concat(_e),F.fields.push({name:"reservedPad",type:"USHORT",value:0}),F.fields=F.fields.concat(ge),F.fields=F.fields.concat(le),F.fields=F.fields.concat(Pe),F.fields=F.fields.concat(Me),F.cmap4Length=14+2*_e.length+2+2*ge.length+2*le.length+2*Pe.length+2*Me.length,v||(I=16+4*ke.length,F.cmap12Offset=20+F.cmap4Length,F.fields=F.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:I},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:ke.length/3}]),F.fields=F.fields.concat(ke)),F}},$=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],H=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],fe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function be(l){this.font=l}function Ce(l){this.cmap=l}function Ie(l,v){this.encoding=l,this.charset=v}function Ue(l){switch(l.version){case 1:this.names=fe.slice();break;case 2:this.names=new Array(l.numberOfGlyphs);for(var v=0;v<l.numberOfGlyphs;v++)l.glyphNameIndex[v]<fe.length?this.names[v]=fe[l.glyphNameIndex[v]]:this.names[v]=l.names[l.glyphNameIndex[v]-fe.length];break;case 2.5:this.names=new Array(l.numberOfGlyphs);for(var j=0;j<l.numberOfGlyphs;j++)this.names[j]=fe[j+l.glyphNameIndex[j]];break;default:this.names=[]}}be.prototype.charToGlyphIndex=function(l){var v=l.codePointAt(0),j=this.font.glyphs;if(j){for(var x=0;x<j.length;x+=1)for(var P=j.get(x),I=0;I<P.unicodes.length;I+=1)if(P.unicodes[I]===v)return x}return null},Ce.prototype.charToGlyphIndex=function(l){return this.cmap.glyphIndexMap[l.codePointAt(0)]||0},Ie.prototype.charToGlyphIndex=function(l){return l=l.codePointAt(0),l=this.encoding[l],this.charset.indexOf(l)},Ue.prototype.nameToGlyphIndex=function(l){return this.names.indexOf(l)},Ue.prototype.glyphIndexToName=function(l){return this.names[l]};var Fe={line:function(l,v,j,x,P){l.beginPath(),l.moveTo(v,j),l.lineTo(x,P),l.stroke()}};function We(l){this.bindConstructorValues(l)}function rt(l,v,j){Object.defineProperty(l,v,{get:function(){return l.path,l[j]},set:function(x){l[j]=x},enumerable:!0,configurable:!0})}function et(l,v){if(this.font=l,this.glyphs={},Array.isArray(v))for(var j=0;j<v.length;j++)this.glyphs[j]=v[j];this.length=v&&v.length||0}We.prototype.bindConstructorValues=function(l){var v;this.index=l.index||0,this.name=l.name||null,this.unicode=l.unicode||void 0,this.unicodes=l.unicodes||l.unicode!==void 0?[l.unicode]:[],l.xMin&&(this.xMin=l.xMin),l.yMin&&(this.yMin=l.yMin),l.xMax&&(this.xMax=l.xMax),l.yMax&&(this.yMax=l.yMax),l.advanceWidth&&(this.advanceWidth=l.advanceWidth),Object.defineProperty(this,"path",(l=l.path,v=l||new Z,{configurable:!0,get:function(){return v=typeof v=="function"?v():v},set:function(j){v=j}}))},We.prototype.addUnicode=function(l){this.unicodes.length===0&&(this.unicode=l),this.unicodes.push(l)},We.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},We.prototype.getPath=function(l,v,j,x,P){l=l!==void 0?l:0,v=v!==void 0?v:0,j=j!==void 0?j:72;for(var I,F,K=(x=x||{}).xScale,oe=x.yScale,re=((I=x.hinting&&P&&P.hinting?this.path&&P.hinting.exec(this,j):I)?(F=P.hinting.getCommands(I),l=Math.round(l),v=Math.round(v),K=oe=1):(F=this.path.commands,x=1/this.path.unitsPerEm*j,K===void 0&&(K=x),oe===void 0&&(oe=x)),new Z),pe=0;pe<F.length;pe+=1){var _e=F[pe];_e.type==="M"?re.moveTo(l+_e.x*K,v+-_e.y*oe):_e.type==="L"?re.lineTo(l+_e.x*K,v+-_e.y*oe):_e.type==="Q"?re.quadraticCurveTo(l+_e.x1*K,v+-_e.y1*oe,l+_e.x*K,v+-_e.y*oe):_e.type==="C"?re.curveTo(l+_e.x1*K,v+-_e.y1*oe,l+_e.x2*K,v+-_e.y2*oe,l+_e.x*K,v+-_e.y*oe):_e.type==="Z"&&re.closePath()}return re},We.prototype.getContours=function(){if(this.points===void 0)return[];for(var l=[],v=[],j=0;j<this.points.length;j+=1){var x=this.points[j];v.push(x),x.lastPointOfContour&&(l.push(v),v=[])}return L.argument(v.length===0,"There are still points left in the current contour."),l},We.prototype.getMetrics=function(){for(var l=this.path.commands,v=[],j=[],x=0;x<l.length;x+=1){var P=l[x];P.type!=="Z"&&(v.push(P.x),j.push(P.y)),P.type!=="Q"&&P.type!=="C"||(v.push(P.x1),j.push(P.y1)),P.type==="C"&&(v.push(P.x2),j.push(P.y2))}var I={xMin:Math.min.apply(null,v),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,v),yMax:Math.max.apply(null,j),leftSideBearing:this.leftSideBearing};return isFinite(I.xMin)||(I.xMin=0),isFinite(I.xMax)||(I.xMax=this.advanceWidth),isFinite(I.yMin)||(I.yMin=0),isFinite(I.yMax)||(I.yMax=0),I.rightSideBearing=this.advanceWidth-I.leftSideBearing-(I.xMax-I.xMin),I},We.prototype.draw=function(l,v,j,x,P){this.getPath(v,j,x,P).draw(l)},We.prototype.drawPoints=function(l,v,j,x){function P(pe,_e,ge,le){var Pe=2*Math.PI;l.beginPath();for(var Me=0;Me<pe.length;Me+=1)l.moveTo(_e+pe[Me].x*le,ge+pe[Me].y*le),l.arc(_e+pe[Me].x*le,ge+pe[Me].y*le,2,0,Pe,!1);l.closePath(),l.fill()}v=v!==void 0?v:0,j=j!==void 0?j:0;for(var x=1/this.path.unitsPerEm*(x=x!==void 0?x:24),I=[],F=[],K=this.path,oe=0;oe<K.commands.length;oe+=1){var re=K.commands[oe];re.x!==void 0&&I.push({x:re.x,y:-re.y}),re.x1!==void 0&&F.push({x:re.x1,y:-re.y1}),re.x2!==void 0&&F.push({x:re.x2,y:-re.y2})}l.fillStyle="blue",P(I,v,j,x),l.fillStyle="red",P(F,v,j,x)},We.prototype.drawMetrics=function(l,v,j,x){v=v!==void 0?v:0,j=j!==void 0?j:0,x=1/this.path.unitsPerEm*(x=x!==void 0?x:24),l.lineWidth=1,l.strokeStyle="black",Fe.line(l,v,-1e4,v,1e4),Fe.line(l,-1e4,j,1e4,j);var P=this.xMin||0,I=this.yMin||0,F=this.xMax||0,K=this.yMax||0,oe=this.advanceWidth||0;l.strokeStyle="blue",Fe.line(l,v+P*x,-1e4,v+P*x,1e4),Fe.line(l,v+F*x,-1e4,v+F*x,1e4),Fe.line(l,-1e4,j+-I*x,1e4,j+-I*x),Fe.line(l,-1e4,j+-K*x,1e4,j+-K*x),l.strokeStyle="green",Fe.line(l,v+oe*x,-1e4,v+oe*x,1e4)},et.prototype.get=function(l){return typeof this.glyphs[l]=="function"&&(this.glyphs[l]=this.glyphs[l]()),this.glyphs[l]},et.prototype.push=function(l,v){this.glyphs[l]=v,this.length++};var Ze={GlyphSet:et,glyphLoader:function(l,v){return new We({index:v,font:l})},ttfGlyphLoader:function(l,v,j,x,P,I){return function(){var F=new We({index:v,font:l});return F.path=function(){j(F,x,P);var K=I(l.glyphs,F);return K.unitsPerEm=l.unitsPerEm,K},rt(F,"xMin","_xMin"),rt(F,"xMax","_xMax"),rt(F,"yMin","_yMin"),rt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(l,v,j,x){return function(){var P=new We({index:v,font:l});return P.path=function(){var I=j(l,P,x);return I.unitsPerEm=l.unitsPerEm,I},P}}};function tt(l){return l=l.length<1240?107:l.length<33900?1131:32768,l}function Qe(l,v,j){var x,P=[],I=[],F=je.getCard16(l,v);if(F!==0){for(var K=je.getByte(l,v+2),oe=v+(F+1)*K+2,re=v+3,pe=0;pe<F+1;pe+=1)P.push(je.getOffset(l,re,K)),re+=K;x=oe+P[F]}else x=v+2;for(var _e=0;_e<P.length-1;_e+=1){var ge=je.getBytes(l,oe+P[_e],oe+P[_e+1]);j&&(ge=j(ge)),I.push(ge)}return{objects:I,startOffset:v,endOffset:x}}function mt(l,v){if(v===28)return l.parseByte()<<8|l.parseByte();if(v===29)return l.parseByte()<<24|l.parseByte()<<16|l.parseByte()<<8|l.parseByte();if(v===30){for(var j=l,x="",P=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var F=j.parseByte(),I=F>>4,F=15&F;if(I==15||(x+=P[I],F==15))break;x+=P[F]}return parseFloat(x)}if(32<=v&&v<=246)return v-139;if(247<=v&&v<=250)return 256*(v-247)+l.parseByte()+108;if(251<=v&&v<=254)return 256*-(v-251)-l.parseByte()-108;throw new Error("Invalid b0 "+v)}function Ut(l,v,j){var x=new je.Parser(l,v=v!==void 0?v:0),P=[],I=[];for(j=j!==void 0?j:l.length;x.relativeOffset<j;){var F=x.parseByte();F<=21?(F===12&&(F=1200+x.parseByte()),P.push([F,I]),I=[]):I.push(mt(x,F))}for(var K=P,oe={},re=0;re<K.length;re+=1){var pe=K[re][0],_e=K[re][1],ge=void 0,ge=_e.length===1?_e[0]:_e;if(oe.hasOwnProperty(pe)&&!isNaN(oe[pe]))throw new Error("Object "+oe+" already has key "+pe);oe[pe]=ge}return oe}function St(l,v){return v=v<=390?$[v]:l[v-391]}function ct(l,v,j){for(var x,P={},I=0;I<v.length;I+=1){var F=v[I];if(Array.isArray(F.type)){var K=[];K.length=F.type.length;for(var oe=0;oe<F.type.length;oe++)(x=l[F.op]!==void 0?l[F.op][oe]:void 0)===void 0&&(x=F.value!==void 0&&F.value[oe]!==void 0?F.value[oe]:null),F.type[oe]==="SID"&&(x=St(j,x)),K[oe]=x;P[F.name]=K}else(x=l[F.op])===void 0&&(x=F.value!==void 0?F.value:null),F.type==="SID"&&(x=St(j,x)),P[F.name]=x}return P}var gt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],lt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function At(l,v,j,x){return ct(Ut(l,v,j),lt,x)}function Ct(l,v,j,x){for(var P=[],I=0;I<j.length;I+=1){var F=new DataView(new Uint8Array(j[I]).buffer),F=(K=x,ct(Ut(F,0,F.byteLength),gt,K)),K=(F._subrs=[],F._subrsBias=0,F.private[0]),oe=F.private[1];K!==0&&oe!==0&&(K=At(l,oe+v,K,x),F._defaultWidthX=K.defaultWidthX,F._nominalWidthX=K.nominalWidthX,K.subrs!==0&&(oe=Qe(l,oe+K.subrs+v),F._subrs=oe.objects,F._subrsBias=tt(F._subrs)),F._privateDict=K),P.push(F)}return P}function ht(l,v,j){var x,P,I,F,K,oe,re,pe,_e,ge=new Z,le=[],Pe=0,Me=!1,ke=!1,we=0,Se=0,Ke=(_e=(l.isCIDFont?(K=l.tables.cff.topDict._fdSelect[v.index],K=l.tables.cff.topDict._fdArray[K],oe=K._subrs,re=K._subrsBias,pe=K._defaultWidthX,K):(oe=l.tables.cff.topDict._subrs,re=l.tables.cff.topDict._subrsBias,pe=l.tables.cff.topDict._defaultWidthX,l.tables.cff.topDict))._nominalWidthX,pe);function ot(Je,nt){ke&&ge.closePath(),ge.moveTo(Je,nt),ke=!0}function $e(){le.length%2==0||Me||(Ke=le.shift()+_e),Pe+=le.length>>1,le.length=0,Me=!0}return function Je(nt){for(var yt,xt,Et,Ft,Nt,Ht,pt,vt,dt,Bt,jt,It,bt=0;bt<nt.length;){var Pt=nt[bt];switch(bt+=1,Pt){case 1:case 3:$e();break;case 4:1<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),Se+=le.pop(),ot(we,Se);break;case 5:for(;0<le.length;)we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);break;case 6:for(;0<le.length&&(we+=le.shift(),ge.lineTo(we,Se),le.length!==0);)Se+=le.shift(),ge.lineTo(we,Se);break;case 7:for(;0<le.length&&(Se+=le.shift(),ge.lineTo(we,Se),le.length!==0);)we+=le.shift(),ge.lineTo(we,Se);break;case 8:for(;0<le.length;)x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 10:Nt=le.pop()+re,(Ht=oe[Nt])&&Je(Ht);break;case 11:return;case 12:switch(Pt=nt[bt],bt+=1,Pt){case 35:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F+le.shift(),dt=pt+le.shift(),Bt=vt+le.shift(),jt=dt+le.shift(),It=Bt+le.shift(),we=jt+le.shift(),Se=It+le.shift(),le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 34:x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F,dt=pt+le.shift(),Bt=F,jt=dt+le.shift(),It=Se,we=jt+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 36:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F,dt=pt+le.shift(),Bt=F,jt=dt+le.shift(),It=Bt+le.shift(),we=jt+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 37:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F+le.shift(),dt=pt+le.shift(),Bt=vt+le.shift(),jt=dt+le.shift(),It=Bt+le.shift(),Math.abs(jt-we)>Math.abs(It-Se)?we=jt+le.shift():Se=It+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;default:console.log("Glyph "+v.index+": unknown operator 1200"+Pt),le.length=0}break;case 14:0<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),ke&&(ge.closePath(),ke=!1);break;case 18:$e();break;case 19:case 20:$e(),bt+=Pe+7>>3;break;case 21:2<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),Se+=le.pop(),ot(we+=le.pop(),Se);break;case 22:1<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),ot(we+=le.pop(),Se);break;case 23:$e();break;case 24:for(;2<le.length;)x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);break;case 25:for(;6<le.length;)we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 26:for(le.length%2&&(we+=le.shift());0<le.length;)x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I,Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 27:for(le.length%2&&(Se+=le.shift());0<le.length;)x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F,ge.curveTo(x,P,I,F,we,Se);break;case 28:yt=nt[bt],xt=nt[bt+1],le.push((yt<<24|xt<<16)>>16),bt+=2;break;case 29:Nt=le.pop()+l.gsubrsBias,(Ht=l.gsubrs[Nt])&&Je(Ht);break;case 30:for(;0<le.length&&(x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se),le.length!==0);)x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),Se=F+le.shift(),we=I+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se);break;case 31:for(;0<le.length&&(x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),Se=F+le.shift(),we=I+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se),le.length!==0);)x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se);break;default:Pt<32?console.log("Glyph "+v.index+": unknown operator "+Pt):Pt<247?le.push(Pt-139):Pt<251?(yt=nt[bt],bt+=1,le.push(256*(Pt-247)+yt+108)):Pt<255?(yt=nt[bt],bt+=1,le.push(256*-(Pt-251)-yt-108)):(yt=nt[bt],xt=nt[bt+1],Et=nt[bt+2],Ft=nt[bt+3],bt+=4,le.push((yt<<24|xt<<16|Et<<8|Ft)/65536))}}}(j),v.advanceWidth=Ke,ge}function Rt(l,v){var j,x=$.indexOf(l);return 0<=x&&(j=x),0<=(x=v.indexOf(l))?j=x+$.length:(j=$.length+v.length,v.push(l)),j}function nr(l,v,j){for(var x={},P=0;P<l.length;P+=1){var I=l[P],F=v[I.name];F===void 0||function K(oe,re){if(oe===re)return 1;if(Array.isArray(oe)&&Array.isArray(re)&&oe.length===re.length){for(var pe=0;pe<oe.length;pe+=1)if(!K(oe[pe],re[pe]))return;return 1}}(F,I.value)||(I.type==="SID"&&(F=Rt(F,j)),x[I.op]={name:I.name,type:I.type,value:F})}return x}function sr(l,v){var j=new Ee.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return j.dict=nr(gt,l,v),j}function ar(l){var v=new Ee.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return v.topDicts=[{name:"topDict_0",type:"TABLE",value:l}],v}function fr(l){for(var v=new Ee.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),j=0;j<l.length;j+=1){var x=l.get(j),P=function(I){for(var F=[],K=I.path,oe=(F.push({name:"width",type:"NUMBER",value:I.advanceWidth}),0),re=0,pe=0;pe<K.commands.length;pe+=1){var _e,ge,le,Pe,Me=void 0,ke=void 0,we=K.commands[pe];(we=we.type==="Q"?{type:"C",x:we.x,y:we.y,x1:1/3*oe+2/3*we.x1,y1:1/3*re+2/3*we.y1,x2:1/3*we.x+2/3*we.x1,y2:1/3*we.y+2/3*we.y1}:we).type==="M"?(Me=Math.round(we.x-oe),ke=Math.round(we.y-re),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rmoveto",type:"OP",value:21}),oe=Math.round(we.x),re=Math.round(we.y)):we.type==="L"?(Me=Math.round(we.x-oe),ke=Math.round(we.y-re),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rlineto",type:"OP",value:5}),oe=Math.round(we.x),re=Math.round(we.y)):we.type==="C"&&(_e=Math.round(we.x1-oe),ge=Math.round(we.y1-re),le=Math.round(we.x2-we.x1),Pe=Math.round(we.y2-we.y1),Me=Math.round(we.x-we.x2),ke=Math.round(we.y-we.y2),F.push({name:"dx1",type:"NUMBER",value:_e}),F.push({name:"dy1",type:"NUMBER",value:ge}),F.push({name:"dx2",type:"NUMBER",value:le}),F.push({name:"dy2",type:"NUMBER",value:Pe}),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rrcurveto",type:"OP",value:8}),oe=Math.round(we.x),re=Math.round(we.y))}return F.push({name:"endchar",type:"OP",value:14}),F}(x);v.charStrings.push({name:x.name,type:"CHARSTRING",value:P})}return v}var ir={parse:function(l,v,j){j.tables.cff={},K=l,x=v,(P={}).formatMajor=je.getCard8(K,x),P.formatMinor=je.getCard8(K,x+1),P.size=je.getCard8(K,x+2),P.offsetSize=je.getCard8(K,x+3),P.startOffset=x,P.endOffset=x+4;var K=Qe(l,P.endOffset,je.bytesToString),x=Qe(l,K.endOffset),P=Qe(l,x.endOffset,je.bytesToString),K=Qe(l,P.endOffset);if(j.gsubrs=K.objects,j.gsubrsBias=tt(j.gsubrs),(K=Ct(l,v,x.objects,P.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+K.length);if(x=K[0],(j.tables.cff.topDict=x)._privateDict&&(j.defaultWidthX=x._privateDict.defaultWidthX,j.nominalWidthX=x._privateDict.nominalWidthX),x.ros[0]!==void 0&&x.ros[1]!==void 0&&(j.isCIDFont=!0),j.isCIDFont){var K=x.fdArray,I=x.fdSelect;if(K===0||I===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");K=Ct(l,v,Qe(l,K+=v).objects,P.objects),x._fdArray=K,x._fdSelect=function(ge,le,Pe,Me){var ke,we=[],Se=new je.Parser(ge,le);if((ge=Se.parseCard8())===0)for(var Ke=0;Ke<Pe;Ke++){if(Me<=(ke=Se.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+ke+" (FD count "+Me+")");we.push(ke)}else{if(ge!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ge);var ot,$e=Se.parseCard16(),Je=Se.parseCard16();if(Je!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Je);for(var nt=0;nt<$e;nt++){if(ke=Se.parseCard8(),ot=Se.parseCard16(),Me<=ke)throw new Error("CFF table CID Font FDSelect has bad FD index value "+ke+" (FD count "+Me+")");if(Pe<ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ot);for(;Je<ot;Je++)we.push(ke);Je=ot}if(ot!==Pe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ot)}return we}(l,I+=v,j.numGlyphs,K.length)}var I=v+x.private[1],K=At(l,I,x.private[0],P.objects),F=(j.defaultWidthX=K.defaultWidthX,j.nominalWidthX=K.nominalWidthX,K.subrs!==0?(I=Qe(l,I+K.subrs),j.subrs=I.objects,j.subrsBias=tt(j.subrs)):(j.subrs=[],j.subrsBias=0),Qe(l,v+x.charStrings)),K=(j.nGlyphs=F.objects.length,function(pe,_e,ge,le){var Pe=new je.Parser(pe,_e),Me=(--ge,[".notdef"]);if((pe=Pe.parseCard8())===0)for(var ke=0;ke<ge;ke+=1)we=Pe.parseSID(),Me.push(St(le,we));else if(pe===1)for(;Me.length<=ge;)for(var we=Pe.parseSID(),Se=Pe.parseCard8(),Ke=0;Ke<=Se;Ke+=1)Me.push(St(le,we)),we+=1;else{if(pe!==2)throw new Error("Unknown charset format "+pe);for(;Me.length<=ge;){we=Pe.parseSID(),Se=Pe.parseCard16();for(var ot=0;ot<=Se;ot+=1)Me.push(St(le,we)),we+=1}}return Me}(l,v+x.charset,j.nGlyphs,P.objects));x.encoding===0?j.cffEncoding=new Ie(H,K):x.encoding===1?j.cffEncoding=new Ie(ee,K):j.cffEncoding=function(pe,_e,ge){var le={},Pe=new je.Parser(pe,_e);if((pe=Pe.parseCard8())===0)for(var Me=Pe.parseCard8(),ke=0;ke<Me;ke+=1)le[Se=Pe.parseCard8()]=ke;else{if(pe!==1)throw new Error("Unknown encoding format "+pe);for(var we=Pe.parseCard8(),Se=1,Ke=0;Ke<we;Ke+=1)for(var ot=Pe.parseCard8(),$e=Pe.parseCard8(),Je=ot;Je<=ot+$e;Je+=1)le[Je]=Se,Se+=1}return new Ie(le,ge)}(l,v+x.encoding,K),j.encoding=j.encoding||j.cffEncoding,j.glyphs=new Ze.GlyphSet(j);for(var oe=0;oe<j.nGlyphs;oe+=1){var re=F.objects[oe];j.glyphs.push(oe,Ze.cffGlyphLoader(j,oe,ht,re))}},make:function(l,pe){for(var j,x=new Ee.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),P=1/pe.unitsPerEm,P={version:pe.version,fullName:pe.fullName,familyName:pe.familyName,weight:pe.weightName,fontBBox:pe.fontBBox||[0,0,0,0],fontMatrix:[P,0,0,P,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},I=[],F=1;F<l.length;F+=1)j=l.get(F),I.push(j.name);var K,oe,re=[],pe=(x.header=new Ee.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),x.nameIndex=function(ge){var le=new Ee.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);le.names=[];for(var Pe=0;Pe<ge.length;Pe+=1)le.names.push({name:"name_"+Pe,type:"NAME",value:ge[Pe]});return le}([pe.postScriptName]),sr(P,re)),_e=(x.topDictIndex=ar(pe),x.globalSubrIndex=new Ee.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),x.charsets=function(ge,le){for(var Pe=new Ee.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Me=0;Me<ge.length;Me+=1){var ke=Rt(ge[Me],le);Pe.fields.push({name:"glyph_"+Me,type:"SID",value:ke})}return Pe}(I,re),x.charStringsIndex=fr(l),x.privateDict=(_e={},K=re,(oe=new Ee.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=nr(lt,_e,K),oe),x.stringIndex=function(ge){var le=new Ee.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);le.strings=[];for(var Pe=0;Pe<ge.length;Pe+=1)le.strings.push({name:"string_"+Pe,type:"STRING",value:ge[Pe]});return le}(re),x.header.sizeOf()+x.nameIndex.sizeOf()+x.topDictIndex.sizeOf()+x.stringIndex.sizeOf()+x.globalSubrIndex.sizeOf());return P.charset=_e,P.encoding=0,P.charStrings=P.charset+x.charsets.sizeOf(),P.private[1]=P.charStrings+x.charStringsIndex.sizeOf(),pe=sr(P,re),x.topDictIndex=ar(pe),x}},lr={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.fontRevision=Math.round(1e3*x.parseFixed())/1e3,j.checkSumAdjustment=x.parseULong(),j.magicNumber=x.parseULong(),L.argument(j.magicNumber===1594834165,"Font header has wrong magic number."),j.flags=x.parseUShort(),j.unitsPerEm=x.parseUShort(),j.created=x.parseLongDateTime(),j.modified=x.parseLongDateTime(),j.xMin=x.parseShort(),j.yMin=x.parseShort(),j.xMax=x.parseShort(),j.yMax=x.parseShort(),j.macStyle=x.parseUShort(),j.lowestRecPPEM=x.parseUShort(),j.fontDirectionHint=x.parseShort(),j.indexToLocFormat=x.parseShort(),j.glyphDataFormat=x.parseShort(),j},make:function(l){var v=Math.round(new Date().getTime()/1e3)+2082844800,j=v;return l.createdTimestamp&&(j=l.createdTimestamp+2082844800),new Ee.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:j},{name:"modified",type:"LONGDATETIME",value:v},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],l)}},ue={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.ascender=x.parseShort(),j.descender=x.parseShort(),j.lineGap=x.parseShort(),j.advanceWidthMax=x.parseUShort(),j.minLeftSideBearing=x.parseShort(),j.minRightSideBearing=x.parseShort(),j.xMaxExtent=x.parseShort(),j.caretSlopeRise=x.parseShort(),j.caretSlopeRun=x.parseShort(),j.caretOffset=x.parseShort(),x.relativeOffset+=8,j.metricDataFormat=x.parseShort(),j.numberOfHMetrics=x.parseUShort(),j},make:function(l){return new Ee.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],l)}},De={parse:function(l,v,j,x,P){for(var I,F,K=new je.Parser(l,v),oe=0;oe<x;oe+=1){oe<j&&(I=K.parseUShort(),F=K.parseShort());var re=P.get(oe);re.advanceWidth=I,re.leftSideBearing=F}},make:function(l){for(var v=new Ee.Table("hmtx",[]),j=0;j<l.length;j+=1){var P=l.get(j),x=P.advanceWidth||0,P=P.leftSideBearing||0;v.fields.push({name:"advanceWidth_"+j,type:"USHORT",value:x}),v.fields.push({name:"leftSideBearing_"+j,type:"SHORT",value:P})}return v}},qe={make:function(l){for(var v=new Ee.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:l.length}]),j="",x=12+4*l.length,P=0;P<l.length;++P){var I=j.indexOf(l[P]);I<0&&(I=j.length,j+=l[P]),v.fields.push({name:"offset "+P,type:"USHORT",value:x+I}),v.fields.push({name:"length "+P,type:"USHORT",value:l[P].length})}return v.fields.push({name:"stringPool",type:"CHARARRAY",value:j}),v},parse:function(l,v){for(var j=new je.Parser(l,v),x=j.parseULong(),P=(L.argument(x===1,"Unsupported ltag table version."),j.skip("uLong",1),j.parseULong()),I=[],F=0;F<P;F++){for(var K="",oe=v+j.parseUShort(),re=j.parseUShort(),pe=oe;pe<oe+re;++pe)K+=String.fromCharCode(l.getInt8(pe));I.push(K)}return I}},Re={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.numGlyphs=x.parseUShort(),j.version===1&&(j.maxPoints=x.parseUShort(),j.maxContours=x.parseUShort(),j.maxCompositePoints=x.parseUShort(),j.maxCompositeContours=x.parseUShort(),j.maxZones=x.parseUShort(),j.maxTwilightPoints=x.parseUShort(),j.maxStorage=x.parseUShort(),j.maxFunctionDefs=x.parseUShort(),j.maxInstructionDefs=x.parseUShort(),j.maxStackElements=x.parseUShort(),j.maxSizeOfInstructions=x.parseUShort(),j.maxComponentElements=x.parseUShort(),j.maxComponentDepth=x.parseUShort()),j},make:function(l){return new Ee.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:l}])}},st=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Le={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ut={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ge={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},at="utf-16",He={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},wt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Mt(l,v,j){switch(l){case 0:return at;case 1:return wt[j]||He[v];case 3:if(v===1||v===10)return at}}function _t(l){var v,j={};for(v in l)j[l[v]]=parseInt(v);return j}function kt(l,v,j,x,P,I){return new Ee.Record("NameRecord",[{name:"platformID",type:"USHORT",value:l},{name:"encodingID",type:"USHORT",value:v},{name:"languageID",type:"USHORT",value:j},{name:"nameID",type:"USHORT",value:x},{name:"length",type:"USHORT",value:P},{name:"offset",type:"USHORT",value:I}])}function Wt(l,v){if((j=function(I,F){var K=I.length,oe=F.length-K+1;e:for(var re=0;re<oe;re++)for(;re<oe;re++){for(var pe=0;pe<K;pe++)if(F[re+pe]!==I[pe])continue e;return re}return-1}(l,v))<0)for(var j=v.length,x=0,P=l.length;x<P;++x)v.push(l[x]);return j}var Gt={parse:function(l,v,j){for(var x={},P=new je.Parser(l,v),v=P.parseUShort(),I=P.parseUShort(),F=P.offset+P.parseUShort(),K=0;K<I;K++){var Pe=P.parseUShort(),oe=P.parseUShort(),re=P.parseUShort(),pe=P.parseUShort(),pe=st[pe]||pe,_e=P.parseUShort(),ge=P.parseUShort(),le=function(ke,we,Se){switch(ke){case 0:if(we===65535)return"und";if(Se)return Se[we];break;case 1:return Le[we];case 3:return Ge[we]}}(Pe,re,j),Pe=Mt(Pe,oe,re);Pe!==void 0&&le!==void 0&&(oe=void 0,(oe=Pe===at?D.UTF16(l,F+ge,_e):D.MACSTRING(l,F+ge,_e,Pe))&&((re=(re=x[pe])===void 0?x[pe]={}:re)[le]=oe))}return v===1&&P.parseUShort(),x},make:function(l,v){var j,x=[],P={},I=_t(st);for(j in l){var F=I[j];if(F===void 0&&(F=j),ge=parseInt(F),isNaN(ge))throw new Error('Name table entry "'+j+'" does not exist, see nameTableNames for complete list.');P[ge]=l[j],x.push(ge)}for(var K=_t(Le),oe=_t(Ge),re=[],pe=[],_e=0;_e<x.length;_e++){var ge,le,Pe=P[ge=x[_e]];for(le in Pe){var Me=Pe[le],ot=1,ke=K[le],we=ut[ke],Se=Mt(ot,we,ke),Se=q.MACSTRING(Me,Se),Ke=(Se===void 0&&(ot=0,(ke=v.indexOf(le))<0&&(ke=v.length,v.push(le)),we=4,Se=q.UTF16(Me)),Wt(Se,pe)),ot=(re.push(kt(ot,we,ke,ge,Se.length,Ke)),oe[le]);ot!==void 0&&(ke=Wt(we=q.UTF16(Me),pe),re.push(kt(3,1,ot,ge,we.length,ke)))}}re.sort(function(nt,yt){return nt.platformID-yt.platformID||nt.encodingID-yt.encodingID||nt.languageID-yt.languageID||nt.nameID-yt.nameID});for(var $e=new Ee.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:re.length},{name:"stringOffset",type:"USHORT",value:6+12*re.length}]),Je=0;Je<re.length;Je++)$e.fields.push({name:"record_"+Je,type:"RECORD",value:re[Je]});return $e.fields.push({name:"strings",type:"LITERAL",value:pe}),$e}},qt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ot={parse:function(l,v){var j={},x=new je.Parser(l,v);j.version=x.parseUShort(),j.xAvgCharWidth=x.parseShort(),j.usWeightClass=x.parseUShort(),j.usWidthClass=x.parseUShort(),j.fsType=x.parseUShort(),j.ySubscriptXSize=x.parseShort(),j.ySubscriptYSize=x.parseShort(),j.ySubscriptXOffset=x.parseShort(),j.ySubscriptYOffset=x.parseShort(),j.ySuperscriptXSize=x.parseShort(),j.ySuperscriptYSize=x.parseShort(),j.ySuperscriptXOffset=x.parseShort(),j.ySuperscriptYOffset=x.parseShort(),j.yStrikeoutSize=x.parseShort(),j.yStrikeoutPosition=x.parseShort(),j.sFamilyClass=x.parseShort(),j.panose=[];for(var P=0;P<10;P++)j.panose[P]=x.parseByte();return j.ulUnicodeRange1=x.parseULong(),j.ulUnicodeRange2=x.parseULong(),j.ulUnicodeRange3=x.parseULong(),j.ulUnicodeRange4=x.parseULong(),j.achVendID=String.fromCharCode(x.parseByte(),x.parseByte(),x.parseByte(),x.parseByte()),j.fsSelection=x.parseUShort(),j.usFirstCharIndex=x.parseUShort(),j.usLastCharIndex=x.parseUShort(),j.sTypoAscender=x.parseShort(),j.sTypoDescender=x.parseShort(),j.sTypoLineGap=x.parseShort(),j.usWinAscent=x.parseUShort(),j.usWinDescent=x.parseUShort(),1<=j.version&&(j.ulCodePageRange1=x.parseULong(),j.ulCodePageRange2=x.parseULong()),2<=j.version&&(j.sxHeight=x.parseShort(),j.sCapHeight=x.parseShort(),j.usDefaultChar=x.parseUShort(),j.usBreakChar=x.parseUShort(),j.usMaxContent=x.parseUShort()),j},make:function(l){return new Ee.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],l)},unicodeRanges:qt,getUnicodeRange:function(l){for(var v=0;v<qt.length;v+=1){var j=qt[v];if(l>=j.begin&&l<j.end)return v}return-1}},kr={parse:function(l,v){var j={},x=new je.Parser(l,v);switch(j.version=x.parseVersion(),j.italicAngle=x.parseFixed(),j.underlinePosition=x.parseShort(),j.underlineThickness=x.parseShort(),j.isFixedPitch=x.parseULong(),j.minMemType42=x.parseULong(),j.maxMemType42=x.parseULong(),j.minMemType1=x.parseULong(),j.maxMemType1=x.parseULong(),j.version){case 1:j.names=fe.slice();break;case 2:j.numberOfGlyphs=x.parseUShort(),j.glyphNameIndex=new Array(j.numberOfGlyphs);for(var P=0;P<j.numberOfGlyphs;P++)j.glyphNameIndex[P]=x.parseUShort();j.names=[];for(var I,F=0;F<j.numberOfGlyphs;F++)j.glyphNameIndex[F]>=fe.length&&(I=x.parseChar(),j.names.push(x.parseString(I)));break;case 2.5:j.numberOfGlyphs=x.parseUShort(),j.offset=new Array(j.numberOfGlyphs);for(var K=0;K<j.numberOfGlyphs;K++)j.offset[K]=x.parseChar()}return j},make:function(){return new Ee.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Vt=new Array(9),er=(Vt[1]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),deltaGlyphId:this.parseUShort()}:v===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+l.toString(16)+": lookup type 1 format must be 1 or 2.")},Vt[2]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),sequences:this.parseListOfLists()}},Vt[3]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),alternateSets:this.parseListOfLists()}},Vt[4]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB ligature table identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ye.uShort,lookupListIndex:ye.uShort});Vt[5]=function(){var l,v,j=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:x,coverage:this.parsePointer(ye.coverage),ruleSets:this.parseListOfLists(function(){var P=this.parseUShort(),I=this.parseUShort();return{input:this.parseUShortList(P-1),lookupRecords:this.parseRecordList(I,er)}})}:x===2?{substFormat:x,coverage:this.parsePointer(ye.coverage),classDef:this.parsePointer(ye.classDef),classSets:this.parseListOfLists(function(){var P=this.parseUShort(),I=this.parseUShort();return{classes:this.parseUShortList(P-1),lookupRecords:this.parseRecordList(I,er)}})}:x===3?(l=this.parseUShort(),v=this.parseUShort(),{substFormat:x,coverages:this.parseList(l,ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(v,er)}):void L.assert(!1,"0x"+j.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Vt[6]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(er)}})}:v===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),backtrackClassDef:this.parsePointer(ye.classDef),inputClassDef:this.parsePointer(ye.classDef),lookaheadClassDef:this.parsePointer(ye.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(er)}})}:v===3?{substFormat:3,backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),inputCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(er)}:void L.assert(!1,"0x"+l.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Vt[7]=function(){var l=this.parseUShort(),l=(L.argument(l===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),v=new ye(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:l,extension:Vt[l].call(v)}},Vt[8]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),substitutes:this.parseUShortList()}};var pr=new Array(9);pr[1]=function(l){return l.substFormat===1?new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)},{name:"deltaGlyphID",type:"USHORT",value:l.deltaGlyphId}]):new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.ushortList("substitute",l.substitute)))},pr[3]=function(l){return L.assert(l.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.tableList("altSet",l.alternateSets,function(v){return new Ee.Table("alternateSetTable",Ee.ushortList("alternate",v))})))},pr[4]=function(l){return L.assert(l.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.tableList("ligSet",l.ligatureSets,function(v){return new Ee.Table("ligatureSetTable",Ee.tableList("ligature",v,function(j){return new Ee.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:j.ligGlyph}].concat(Ee.ushortList("component",j.components,j.components.length+1)))}))})))};var Or={parse:function(l,v){return v=(l=new ye(l,v=v||0)).parseVersion(1),L.argument(v===1||v===1.1,"Unsupported GSUB table version."),v===1?{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(Vt)}:{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(Vt),variations:l.parseFeatureVariationsList()}},make:function(l){return new Ee.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(l.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(l.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(l.lookups,pr)}])}},Pr={parse:function(l,v){for(var j=new je.Parser(l,v),x=j.parseULong(),P=(L.argument(x===1,"Unsupported META table version."),j.parseULong(),j.parseULong(),j.parseULong()),I={},F=0;F<P;F++){var K=j.parseTag(),re=j.parseULong(),oe=j.parseULong(),re=D.UTF8(l,v+re,oe);I[K]=re}return I},make:function(l){var v,j=Object.keys(l).length,x="",P=16+12*j,I=new Ee.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:P},{name:"numTags",type:"ULONG",value:j}]);for(v in l){var F=x.length;x+=l[v],I.fields.push({name:"tag "+v,type:"TAG",value:v}),I.fields.push({name:"offset "+v,type:"ULONG",value:P+F}),I.fields.push({name:"length "+v,type:"ULONG",value:l[v].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:x}),I}};function Lr(l){return Math.log(l)/Math.log(2)|0}function _r(l){for(;l.length%4!=0;)l.push(0);for(var v=0,j=0;j<l.length;j+=4)v+=(l[j]<<24)+(l[j+1]<<16)+(l[j+2]<<8)+l[j+3];return v%=Math.pow(2,32)}function Ar(l,v,j,x){return new Ee.Record("Table Record",[{name:"tag",type:"TAG",value:l!==void 0?l:""},{name:"checkSum",type:"ULONG",value:v!==void 0?v:0},{name:"offset",type:"ULONG",value:j!==void 0?j:0},{name:"length",type:"ULONG",value:x!==void 0?x:0}])}function Rr(l){for(var v=new Ee.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),j=(v.tables=l,v.numTables=l.length,Math.pow(2,Lr(v.numTables))),x=(v.searchRange=16*j,v.entrySelector=Lr(j),v.rangeShift=16*v.numTables-v.searchRange,[]),P=[],I=v.sizeOf()+Ar().sizeOf()*v.numTables;I%4!=0;)I+=1,P.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<l.length;F+=1){var K=l[F],oe=(L.argument(K.tableName.length===4,"Table name"+K.tableName+" is invalid."),K.sizeOf()),re=Ar(K.tableName,_r(K.encode()),I,oe);for(x.push({name:re.tag+" Table Record",type:"RECORD",value:re}),P.push({name:K.tableName+" table",type:"RECORD",value:K}),I+=oe,L.argument(!isNaN(I),"Something went wrong calculating the offset.");I%4!=0;)I+=1,P.push({name:"padding",type:"BYTE",value:0})}return x.sort(function(pe,_e){return pe.value.tag>_e.value.tag?1:-1}),v.fields=v.fields.concat(x),v.fields=v.fields.concat(P),v}function Ir(l,v,j){for(var x=0;x<v.length;x+=1){var P=l.charToGlyphIndex(v[x]);if(0<P)return l.glyphs.get(P).getMetrics()}return j}var vo={make:Rr,fontToTable:function(l){for(var v,j=[],x=[],P=[],I=[],F=[],K=[],oe=[],re=0,pe=0,_e=0,ge=0,le=0,Pe=0;Pe<l.glyphs.length;Pe+=1){var Me=l.glyphs.get(Pe),ke=0|Me.unicode;if(isNaN(Me.advanceWidth))throw new Error("Glyph "+Me.name+" ("+Pe+"): advanceWidth is not a number.");(ke<v||v===void 0)&&0<ke&&(v=ke),re<ke&&(re=ke);var ke=Ot.getUnicodeRange(ke);if(ke<32)pe|=1<<ke;else if(ke<64)_e|=1<<ke-32;else if(ke<96)ge|=1<<ke-64;else{if(!(ke<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");le|=1<<ke-96}Me.name!==".notdef"&&(ke=Me.getMetrics(),j.push(ke.xMin),x.push(ke.yMin),P.push(ke.xMax),I.push(ke.yMax),K.push(ke.leftSideBearing),oe.push(ke.rightSideBearing),F.push(Me.advanceWidth))}var we,Se={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,x),xMax:Math.max.apply(null,P),yMax:Math.max.apply(null,I),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(Pt){for(var hr=0,or=0;or<Pt.length;or+=1)hr+=Pt[or];return hr/Pt.length}(F),minLeftSideBearing:Math.min.apply(null,K),maxLeftSideBearing:Math.max.apply(null,K),minRightSideBearing:Math.min.apply(null,oe)},Ke=(Se.ascender=l.ascender,Se.descender=l.descender,lr.make({flags:3,unitsPerEm:l.unitsPerEm,xMin:Se.xMin,yMin:Se.yMin,xMax:Se.xMax,yMax:Se.yMax,lowestRecPPEM:3,createdTimestamp:l.createdTimestamp})),ot=ue.make({ascender:Se.ascender,descender:Se.descender,advanceWidthMax:Se.advanceWidthMax,minLeftSideBearing:Se.minLeftSideBearing,minRightSideBearing:Se.minRightSideBearing,xMaxExtent:Se.maxLeftSideBearing+(Se.xMax-Se.xMin),numberOfHMetrics:l.glyphs.length}),$e=Re.make(l.glyphs.length),Je=Ot.make({xAvgCharWidth:Math.round(Se.advanceWidthAvg),usWeightClass:l.tables.os2.usWeightClass,usWidthClass:l.tables.os2.usWidthClass,usFirstCharIndex:v,usLastCharIndex:re,ulUnicodeRange1:pe,ulUnicodeRange2:_e,ulUnicodeRange3:ge,ulUnicodeRange4:le,fsSelection:l.tables.os2.fsSelection,sTypoAscender:Se.ascender,sTypoDescender:Se.descender,sTypoLineGap:0,usWinAscent:Se.yMax,usWinDescent:Math.abs(Se.yMin),ulCodePageRange1:1,sxHeight:Ir(l,"xyvw",{yMax:Math.round(Se.ascender/2)}).yMax,sCapHeight:Ir(l,"HIKLEFJMNTZBDPRAGOQSUVWXY",Se).yMax,usDefaultChar:l.hasChar(" ")?32:0,usBreakChar:l.hasChar(" ")?32:0}),nt=De.make(l.glyphs),yt=X.make(l.glyphs),vt=l.getEnglishName("fontFamily"),dt=l.getEnglishName("fontSubfamily"),pt=vt+" "+dt,xt=(xt=l.getEnglishName("postScriptName"))||vt.replace(/\s/g,"")+"-"+dt,Et={};for(we in l.names)Et[we]=l.names[we];Et.uniqueID||(Et.uniqueID={en:l.getEnglishName("manufacturer")+":"+pt}),Et.postScriptName||(Et.postScriptName={en:xt}),Et.preferredFamily||(Et.preferredFamily=l.names.fontFamily),Et.preferredSubfamily||(Et.preferredSubfamily=l.names.fontSubfamily);var Nt=[],Ft=Gt.make(Et,Nt),Nt=0<Nt.length?qe.make(Nt):void 0,Ht=kr.make(),pt=ir.make(l.glyphs,{version:l.getEnglishName("version"),fullName:pt,familyName:vt,weightName:dt,postScriptName:xt,unitsPerEm:l.unitsPerEm,fontBBox:[0,Se.yMin,Se.ascender,Se.advanceWidthMax]}),vt=l.metas&&0<Object.keys(l.metas).length?Pr.make(l.metas):void 0,dt=[Ke,ot,$e,Je,Ft,yt,Ht,pt,nt];Nt&&dt.push(Nt),l.tables.gsub&&dt.push(Or.make(l.tables.gsub)),vt&&dt.push(vt);for(var Bt=_r((xt=Rr(dt)).encode()),jt=xt.fields,It=!1,bt=0;bt<jt.length;bt+=1)if(jt[bt].name==="head table"){jt[bt].value.checkSumAdjustment=2981146554-Bt,It=!0;break}if(It)return xt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:_r};function xr(l,v){for(var j=0,x=l.length-1;j<=x;){var P=j+x>>>1,I=l[P].tag;if(I===v)return P;I<v?j=1+P:x=P-1}return-j-1}function Dr(l,v){for(var j=0,x=l.length-1;j<=x;){var P=j+x>>>1,I=l[P];if(I===v)return P;I<v?j=1+P:x=P-1}return-j-1}function Ur(l,v){for(var j=0,x=l.length-1;j<=x;){var P,I=j+x>>>1,F=(P=l[I]).start;if(F===v)return P;F<v?j=1+I:x=I-1}if(0<j)return v>(P=l[j-1]).end?0:P}function mr(l,v){this.font=l,this.tableName=v}function yr(l){mr.call(this,l,"gpos")}function Xt(l){mr.call(this,l,"gsub")}function Fr(l,v,j){for(var x=l.subtables,P=0;P<x.length;P++){var I=x[P];if(I.substFormat===v)return I}if(j)return x.push(j),j}function Nr(l){for(var v=new ArrayBuffer(l.length),j=new Uint8Array(v),x=0;x<l.length;++x)j[x]=l[x];return v}function tr(l,v){if(!l)throw v}function Br(l,v,j,x,P){var I=0<(v&x)?(I=l.parseByte(),j+(I=v&P?I:-I)):0<(v&P)?j:j+l.parseShort();return I}function bo(l,v,j){var x,P=new je.Parser(v,j);if(l.numberOfContours=P.parseShort(),l._xMin=P.parseShort(),l._yMin=P.parseShort(),l._xMax=P.parseShort(),l._yMax=P.parseShort(),0<l.numberOfContours){for(var I=l.endPointIndices=[],F=0;F<l.numberOfContours;F+=1)I.push(P.parseUShort());l.instructionLength=P.parseUShort(),l.instructions=[];for(var K=0;K<l.instructionLength;K+=1)l.instructions.push(P.parseByte());for(var oe=I[I.length-1]+1,re=[],pe=0;pe<oe;pe+=1)if(x=P.parseByte(),re.push(x),0<(8&x))for(var _e=P.parseByte(),ge=0;ge<_e;ge+=1)re.push(x),pe+=1;if(L.argument(re.length===oe,"Bad flags."),0<I.length){var le,Pe=[];if(0<oe){for(var Me=0;Me<oe;Me+=1)x=re[Me],(le={}).onCurve=!!(1&x),le.lastPointOfContour=0<=I.indexOf(Me),Pe.push(le);for(var ke=0,we=0;we<oe;we+=1)x=re[we],(le=Pe[we]).x=Br(P,x,ke,2,16),ke=le.x;for(var Se=0,Ke=0;Ke<oe;Ke+=1)x=re[Ke],(le=Pe[Ke]).y=Br(P,x,Se,4,32),Se=le.y}l.points=Pe}else l.points=[]}else if(l.numberOfContours===0)l.points=[];else{l.isComposite=!0,l.points=[],l.components=[];for(var ot=!0;ot;){re=P.parseUShort();var $e={glyphIndex:P.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&re)?0<(2&re)?($e.dx=P.parseShort(),$e.dy=P.parseShort()):$e.matchedPoints=[P.parseUShort(),P.parseUShort()]:0<(2&re)?($e.dx=P.parseChar(),$e.dy=P.parseChar()):$e.matchedPoints=[P.parseByte(),P.parseByte()],0<(8&re)?$e.xScale=$e.yScale=P.parseF2Dot14():0<(64&re)?($e.xScale=P.parseF2Dot14(),$e.yScale=P.parseF2Dot14()):0<(128&re)&&($e.xScale=P.parseF2Dot14(),$e.scale01=P.parseF2Dot14(),$e.scale10=P.parseF2Dot14(),$e.yScale=P.parseF2Dot14()),l.components.push($e),ot=!!(32&re)}if(256&re){l.instructionLength=P.parseUShort(),l.instructions=[];for(var Je=0;Je<l.instructionLength;Je+=1)l.instructions.push(P.parseByte())}}}function wr(l,v){for(var j=[],x=0;x<l.length;x+=1){var P=l[x],P={x:v.xScale*P.x+v.scale01*P.y+v.dx,y:v.scale10*P.x+v.yScale*P.y+v.dy,onCurve:P.onCurve,lastPointOfContour:P.lastPointOfContour};j.push(P)}return j}function Gr(l){var v=new Z;if(l)for(var j=function(_e){for(var ge=[],le=[],Pe=0;Pe<_e.length;Pe+=1){var Me=_e[Pe];le.push(Me),Me.lastPointOfContour&&(ge.push(le),le=[])}return L.argument(le.length===0,"There are still points left in the current contour."),ge}(l),x=0;x<j.length;++x){var P,I=j[x],F=I[I.length-1],K=I[0];F.onCurve?v.moveTo(F.x,F.y):K.onCurve?v.moveTo(K.x,K.y):(P={x:.5*(F.x+K.x),y:.5*(F.y+K.y)},v.moveTo(P.x,P.y));for(var oe=0;oe<I.length;++oe){var re,pe=F,F=K,K=I[(oe+1)%I.length];F.onCurve?v.lineTo(F.x,F.y):(re=K,pe.onCurve||(F.x,pe.x,F.y,pe.y),K.onCurve||(re={x:.5*(F.x+K.x),y:.5*(F.y+K.y)}),v.quadraticCurveTo(F.x,F.y,re.x,re.y))}v.closePath()}return v}function jo(l,v){if(v.isComposite)for(var j=0;j<v.components.length;j+=1){var x=v.components[j],P=l.get(x.glyphIndex);if(P.getPath(),P.points){var I=void 0;if(x.matchedPoints===void 0)I=wr(P.points,x);else{if(x.matchedPoints[0]>v.points.length-1||x.matchedPoints[1]>P.points.length-1)throw Error("Matched points out of range in "+v.name);var F=v.points[x.matchedPoints[0]],K=P.points[x.matchedPoints[1]],x={xScale:x.xScale,scale01:x.scale01,scale10:x.scale10,yScale:x.yScale,dx:0,dy:0},K=wr([K],x)[0];x.dx=F.x-K.x,x.dy=F.y-K.y,I=wr(P.points,x)}v.points=v.points.concat(I)}}return Gr(v.points)}(yr.prototype=mr.prototype={searchTag:xr,binSearch:Dr,getTable:function(l){var v=this.font.tables[this.tableName];return v=!v&&l?this.font.tables[this.tableName]=this.createDefaultTable():v},getScriptNames:function(){var l=this.getTable();return l?l.scripts.map(function(v){return v.tag}):[]},getDefaultScriptName:function(){var l=this.getTable();if(l){for(var v=!1,j=0;j<l.scripts.length;j++){var x=l.scripts[j].tag;if(x==="DFLT")return x;x==="latn"&&(v=!0)}return v?"latn":void 0}},getScriptTable:function(l,v){var j,x=this.getTable(v);if(x)return j=x.scripts,0<=(x=xr(x.scripts,l=l||"DFLT"))?j[x].script:v?(j.splice(-1-x,0,v={tag:l,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),v.script):void 0},getLangSysTable:function(P,v,j){var x,P=this.getScriptTable(P,j);if(P)return v&&v!=="dflt"&&v!=="DFLT"?0<=(x=xr(P.langSysRecords,v))?P.langSysRecords[x].langSys:j?(P.langSysRecords.splice(-1-x,0,j={tag:v,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),j.langSys):void 0:P.defaultLangSys},getFeatureTable:function(l,v,j,x){if(l=this.getLangSysTable(l,v,x),l){for(var P,I=l.featureIndexes,F=this.font.tables[this.tableName].features,K=0;K<I.length;K++)if((P=F[I[K]]).tag===j)return P.feature;if(x)return v=F.length,L.assert(v===0||j>=F[v-1].tag,"Features must be added in alphabetical order."),F.push(P={tag:j,feature:{params:0,lookupListIndexes:[]}}),I.push(v),P.feature}},getLookupTables:function(I,v,j,x,P){var I=this.getFeatureTable(I,v,j,P),F=[];if(I){for(var K,oe=I.lookupListIndexes,re=this.font.tables[this.tableName].lookups,pe=0;pe<oe.length;pe++)(K=re[oe[pe]]).lookupType===x&&F.push(K);if(F.length===0&&P)return v=re.length,re.push(K={lookupType:x,lookupFlag:0,subtables:[],markFilteringSet:void 0}),oe.push(v),[K]}return F},getGlyphClass:function(l,v){switch(l.format){case 1:return l.startGlyph<=v&&v<l.startGlyph+l.classes.length?l.classes[v-l.startGlyph]:0;case 2:var j=Ur(l.ranges,v);return j?j.classId:0}},getCoverageIndex:function(l,v){switch(l.format){case 1:var j=Dr(l.glyphs,v);return 0<=j?j:-1;case 2:return j=Ur(l.ranges,v),j?j.index+v-j.start:-1}},expandCoverage:function(l){if(l.format===1)return l.glyphs;for(var v=[],j=l.ranges,x=0;x<j.length;x++)for(var P=j[x],I=P.start,F=P.end,K=I;K<=F;K++)v.push(K);return v}}).init=function(){var l=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(l)},yr.prototype.getKerningValue=function(l,v,j){for(var x=0;x<l.length;x++)for(var P=l[x].subtables,I=0;I<P.length;I++){var F=P[I],K=this.getCoverageIndex(F.coverage,v);if(!(K<0))switch(F.posFormat){case 1:for(var oe=F.pairSets[K],re=0;re<oe.length;re++){var pe=oe[re];if(pe.secondGlyph===j)return pe.value1&&pe.value1.xAdvance||0}break;case 2:var ge=this.getGlyphClass(F.classDef1,v),_e=this.getGlyphClass(F.classDef2,j),ge=F.classRecords[ge][_e];return ge.value1&&ge.value1.xAdvance||0}}return 0},yr.prototype.getKerningTables=function(l,v){if(this.font.tables.gpos)return this.getLookupTables(l,v,"kern",2)},(Xt.prototype=mr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Xt.prototype.getSingle=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,1),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++){var oe=F[K],re=this.expandCoverage(oe.coverage),pe=void 0;if(oe.substFormat===1)for(var _e=oe.deltaGlyphId,pe=0;pe<re.length;pe++){var ge=re[pe];x.push({sub:ge,by:ge+_e})}else{var le=oe.substitute;for(pe=0;pe<re.length;pe++)x.push({sub:re[pe],by:le[pe]})}}return x},Xt.prototype.getAlternates=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,3),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++)for(var oe=F[K],re=this.expandCoverage(oe.coverage),pe=oe.alternateSets,_e=0;_e<re.length;_e++)x.push({sub:re[_e],by:pe[_e]});return x},Xt.prototype.getLigatures=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,4),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++)for(var oe=F[K],re=this.expandCoverage(oe.coverage),pe=oe.ligatureSets,_e=0;_e<re.length;_e++)for(var ge=re[_e],le=pe[_e],Pe=0;Pe<le.length;Pe++){var Me=le[Pe];x.push({sub:[ge].concat(Me.components),by:Me.ligGlyph})}return x},Xt.prototype.addSingle=function(l,v,j,x){j=Fr(this.getLookupTables(j,x,l,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),x=v.sub,l=this.binSearch(j.coverage.glyphs,x),l<0&&(j.coverage.glyphs.splice(l=-1-l,0,x),j.substitute.splice(l,0,0)),j.substitute[l]=v.by},Xt.prototype.addAlternate=function(l,v,j,x){j=Fr(this.getLookupTables(j,x,l,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),x=v.sub,l=this.binSearch(j.coverage.glyphs,x),l<0&&(j.coverage.glyphs.splice(l=-1-l,0,x),j.alternateSets.splice(l,0,0)),j.alternateSets[l]=v.by},Xt.prototype.addLigature=function(I,oe,K,P){var K=this.getLookupTables(K,P,I,4,!0)[0],P=K.subtables[0],I=(P||(K.subtables[0]=P={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),oe.sub[0]),F=oe.sub.slice(1),K={ligGlyph:oe.by,components:F},oe=this.binSearch(P.coverage.glyphs,I);if(0<=oe){for(var re=P.ligatureSets[oe],pe=0;pe<re.length;pe++)if(function(_e,ge){var le=_e.length;if(le===ge.length){for(var Pe=0;Pe<le;Pe++)if(_e[Pe]!==ge[Pe])return;return 1}}(re[pe].components,F))return;re.push(K)}else P.coverage.glyphs.splice(oe=-1-oe,0,I),P.ligatureSets.splice(oe,0,[K])},Xt.prototype.getFeature=function(l,v,j){if(/ss\d\d/.test(l))return this.getSingle(l,v,j);switch(l){case"aalt":case"salt":return this.getSingle(l,v,j).concat(this.getAlternates(l,v,j));case"dlig":case"liga":case"rlig":return this.getLigatures(l,v,j)}},Xt.prototype.add=function(l,v,j,x){if(/ss\d\d/.test(l))return this.addSingle(l,v,j,x);switch(l){case"aalt":case"salt":return typeof v.by=="number"?this.addSingle(l,v,j,x):this.addAlternate(l,v,j,x);case"dlig":case"liga":case"rlig":return this.addLigature(l,v,j,x)}};var Vr={getPath:Gr,parse:function(l,v,j,x){for(var P=new Ze.GlyphSet(x),I=0;I<j.length-1;I+=1){var F=j[I];F!==j[I+1]?P.push(I,Ze.ttfGlyphLoader(x,I,bo,l,v+F,jo)):P.push(I,Ze.glyphLoader(x,I))}return P}};function zr(l){this.font=l,this.getCommands=function(v){return Vr.getPath(v).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function _o(l){return l}function Hr(l){return Math.sign(l)*Math.round(Math.abs(l))}function xo(l){return Math.sign(l)*Math.round(Math.abs(2*l))/2}function wo(l){return Math.sign(l)*(Math.round(Math.abs(l)+.5)-.5)}function So(l){return Math.sign(l)*Math.ceil(Math.abs(l))}function To(l){return Math.sign(l)*Math.floor(Math.abs(l))}function Wr(l){var v=this.srPeriod,j=this.srPhase,x=1;return l<0&&(l=-l,x=-1),l+=this.srThreshold-j,l=Math.trunc(l/v)*v,(l+=j)<0?j*x:l*x}var Yt={x:1,y:0,axis:"x",distance:function(l,v,j,x){return(j?l.xo:l.x)-(x?v.xo:v.x)},interpolate:function(l,v,j,x){var P,I,F,K,oe,re,pe;if(!x||x===this)return P=l.xo-v.xo,I=l.xo-j.xo,oe=v.x-v.xo,re=j.x-j.xo,(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?void(l.x=l.xo+(oe+re)/2):void(l.x=l.xo+(oe*K+re*F)/pe);P=x.distance(l,v,!0,!0),I=x.distance(l,j,!0,!0),oe=x.distance(v,v,!1,!0),re=x.distance(j,j,!1,!0),(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?Yt.setRelative(l,l,(oe+re)/2,x,!0):Yt.setRelative(l,l,(oe*K+re*F)/pe,x,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(l,v,j,x,P){var I,F;x&&x!==this?(I=P?v.xo:v.x,F=P?v.yo:v.y,I+=j*x.x,F+=j*x.y,l.x=I+(l.y-F)/x.normalSlope):l.x=(P?v.xo:v.x)+j},slope:0,touch:function(l){l.xTouched=!0},touched:function(l){return l.xTouched},untouch:function(l){l.xTouched=!1}},Zt={x:0,y:1,axis:"y",distance:function(l,v,j,x){return(j?l.yo:l.y)-(x?v.yo:v.y)},interpolate:function(l,v,j,x){var P,I,F,K,oe,re,pe;if(!x||x===this)return P=l.yo-v.yo,I=l.yo-j.yo,oe=v.y-v.yo,re=j.y-j.yo,(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?void(l.y=l.yo+(oe+re)/2):void(l.y=l.yo+(oe*K+re*F)/pe);P=x.distance(l,v,!0,!0),I=x.distance(l,j,!0,!0),oe=x.distance(v,v,!1,!0),re=x.distance(j,j,!1,!0),(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?Zt.setRelative(l,l,(oe+re)/2,x,!0):Zt.setRelative(l,l,(oe*K+re*F)/pe,x,!0)},normalSlope:0,setRelative:function(l,v,j,x,P){var I,F;x&&x!==this?(I=P?v.xo:v.x,F=P?v.yo:v.y,I+=j*x.x,F+=j*x.y,l.y=F+x.normalSlope*(l.x-I)):l.y=(P?v.yo:v.y)+j},slope:Number.POSITIVE_INFINITY,touch:function(l){l.yTouched=!0},touched:function(l){return l.yTouched},untouch:function(l){l.yTouched=!1}};function ur(l,v){this.x=l,this.y=v,this.axis=void 0,this.slope=v/l,this.normalSlope=-l/v,Object.freeze(this)}function cr(l,v){var j=Math.sqrt(l*l+v*v);return v/=j,(l/=j)===1&&v===0?Yt:l===0&&v===1?Zt:new ur(l,v)}function Kt(l,v,j,x){this.x=this.xo=Math.round(64*l)/64,this.y=this.yo=Math.round(64*v)/64,this.lastPointOfContour=j,this.onCurve=x,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Yt),Object.freeze(Zt),ur.prototype.distance=function(l,v,j,x){return this.x*Yt.distance(l,v,j,x)+this.y*Zt.distance(l,v,j,x)},ur.prototype.interpolate=function(l,P,I,x){var F=x.distance(l,P,!0,!0),K=x.distance(l,I,!0,!0),P=x.distance(P,P,!1,!0),I=x.distance(I,I,!1,!0),F=Math.abs(F),K=Math.abs(K),oe=F+K;oe===0?this.setRelative(l,l,(P+I)/2,x,!0):this.setRelative(l,l,(P*K+I*F)/oe,x,!0)},ur.prototype.setRelative=function(l,I,oe,re,K){var F=K?I.xo:I.x,K=K?I.yo:I.y,I=F+oe*(re=re||this).x,F=K+oe*re.y,K=re.normalSlope,oe=this.slope,re=l.x,pe=l.y;l.x=(oe*re-K*I+F-pe)/(oe-K),l.y=oe*(l.x-re)+pe},ur.prototype.touch=function(l){l.xTouched=!0,l.yTouched=!0},Kt.prototype.nextTouched=function(l){for(var v=this.nextPointOnContour;!l.touched(v)&&v!==this;)v=v.nextPointOnContour;return v},Kt.prototype.prevTouched=function(l){for(var v=this.prevPointOnContour;!l.touched(v)&&v!==this;)v=v.prevPointOnContour;return v};var dr=Object.freeze(new Kt(0,0)),Eo={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $t(l,v){switch(this.env=l,this.stack=[],this.prog=v,l){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yt,this.round=Hr}}function gr(l){for(var v=l.tZone=new Array(l.gZone.length),j=0;j<v.length;j++)v[j]=new Kt(0,0)}function qr(l,v){var j,x=l.prog,P=l.ip,I=1;do if((j=x[++P])===88)I++;else if(j===89)I--;else if(j===64)P+=x[P+1]+1;else if(j===65)P+=2*x[P+1]+1;else if(176<=j&&j<=183)P+=j-176+1;else if(184<=j&&j<=191)P+=2*(j-184+1);else if(v&&I===1&&j===27)break;while(0<I);l.ip=P}function Xr(l,v){i.DEBUG&&console.log(v.step,"SVTCA["+l.axis+"]"),v.fv=v.pv=v.dpv=l}function Yr(l,v){i.DEBUG&&console.log(v.step,"SPVTCA["+l.axis+"]"),v.pv=v.dpv=l}function Zr(l,v){i.DEBUG&&console.log(v.step,"SFVTCA["+l.axis+"]"),v.fv=l}function Kr(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log("SPVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.pv=v.dpv=cr(j,x)}function $r(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log("SFVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.fv=cr(j,x)}function Sr(l){i.DEBUG&&console.log(l.step,"POP[]"),l.stack.pop()}function Jr(l,v){var j=v.stack.pop(),x=v.z0[j],P=v.fv,I=v.pv,F=(i.DEBUG&&console.log(v.step,"MDAP["+l+"]",j),I.distance(x,dr));l&&(F=v.round(F)),P.setRelative(x,dr,F,I),P.touch(x),v.rp0=v.rp1=j}function Qr(l,v){var j,x,P,I=v.z2,F=I.length-2;i.DEBUG&&console.log(v.step,"IUP["+l.axis+"]");for(var K=0;K<F;K++)j=I[K],l.touched(j)||(x=j.prevTouched(l))!==j&&(x===(P=j.nextTouched(l))&&l.setRelative(j,j,l.distance(x,x,!1,!0),l,!0),l.interpolate(j,x,P,l))}function eo(l,v){for(var j=v.stack,x=l?v.rp1:v.rp2,P=(l?v.z0:v.z1)[x],I=v.fv,F=v.pv,K=v.loop,oe=v.z2;K--;){var re=j.pop(),pe=oe[re],_e=F.distance(P,P,!1,!0);I.setRelative(pe,pe,_e,F),I.touch(pe),i.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-K)+": ":"")+"SHP["+(l?"rp1":"rp2")+"]",re)}v.loop=1}function to(l,v){for(var j=v.stack,F=l?v.rp1:v.rp2,x=(l?v.z0:v.z1)[F],P=v.fv,I=v.pv,F=j.pop(),K=v.z2[v.contours[F]],oe=K,re=(i.DEBUG&&console.log(v.step,"SHC["+l+"]",F),I.distance(x,x,!1,!0));oe!==x&&P.setRelative(oe,oe,re,I),(oe=oe.nextPointOnContour)!==K;);}function ro(l,v){var j,x,K=v.stack,P=l?v.rp1:v.rp2,P=(l?v.z0:v.z1)[P],I=v.fv,F=v.pv,K=K.pop();switch(i.DEBUG&&console.log(v.step,"SHZ["+l+"]",K),K){case 0:j=v.tZone;break;case 1:j=v.gZone;break;default:throw new Error("Invalid zone")}for(var oe=F.distance(P,P,!1,!0),re=j.length-2,pe=0;pe<re;pe++)x=j[pe],I.setRelative(x,x,oe,F)}function oo(l,v){var x=v.stack,j=x.pop()/64,x=x.pop(),P=v.z1[x],I=v.z0[v.rp0],F=v.fv,K=v.pv;F.setRelative(P,I,j,K),F.touch(P),i.DEBUG&&console.log(v.step,"MSIRP["+l+"]",j,x),v.rp1=v.rp0,v.rp2=x,l&&(v.rp0=x)}function no(l,v){var j=v.stack,K=j.pop(),j=j.pop(),x=v.z0[j],P=v.fv,I=v.pv,F=v.cvt[K],K=(i.DEBUG&&console.log(v.step,"MIAP["+l+"]",K,"(",F,")",j),I.distance(x,dr));l&&(Math.abs(K-F)<v.cvCutIn&&(K=F),K=v.round(K)),P.setRelative(x,dr,K,I),v.zp0===0&&(x.xo=x.x,x.yo=x.y),P.touch(x),v.rp0=v.rp1=j}function so(l,v){var j=v.stack,x=j.pop(),P=v.z2[x];i.DEBUG&&console.log(v.step,"GC["+l+"]",x),j.push(64*v.dpv.distance(P,dr,l,!1))}function ao(l,v){var x=v.stack,j=x.pop(),x=x.pop(),P=v.z1[j],I=v.z0[x],I=v.dpv.distance(I,P,l,l);i.DEBUG&&console.log(v.step,"MD["+l+"]",j,x,"->",I),v.stack.push(Math.round(64*I))}function Tr(l,v){var j=v.stack,x=j.pop(),P=v.fv,I=v.pv,F=v.ppem,K=v.deltaBase+16*(l-1),oe=v.deltaShift,re=v.z0;i.DEBUG&&console.log(v.step,"DELTAP["+l+"]",x,j);for(var pe=0;pe<x;pe++){var _e=j.pop(),ge=j.pop();K+((240&ge)>>4)===F&&(0<=(ge=(15&ge)-8)&&ge++,i.DEBUG&&console.log(v.step,"DELTAPFIX",_e,"by",ge*oe),_e=re[_e],P.setRelative(_e,_e,ge*oe,I))}}function vr(l,v){var j=v.stack,x=j.pop();i.DEBUG&&console.log(v.step,"ROUND[]"),j.push(64*v.round(x/64))}function Er(l,v){var j=v.stack,x=j.pop(),P=v.ppem,I=v.deltaBase+16*(l-1),F=v.deltaShift;i.DEBUG&&console.log(v.step,"DELTAC["+l+"]",x,j);for(var K=0;K<x;K++){var oe=j.pop(),re=j.pop();I+((240&re)>>4)===P&&(0<=(re=(15&re)-8)&&re++,re=re*F,i.DEBUG&&console.log(v.step,"DELTACFIX",oe,"by",re),v.cvt[oe]+=re)}}function io(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log(v.step,"SDPVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.dpv=cr(j,x)}function Jt(l,v){var j=v.stack,x=v.prog,P=v.ip;i.DEBUG&&console.log(v.step,"PUSHB["+l+"]");for(var I=0;I<l;I++)j.push(x[++P]);v.ip=P}function Qt(l,v){var j=v.ip,x=v.prog,P=v.stack;i.DEBUG&&console.log(v.ip,"PUSHW["+l+"]");for(var I=0;I<l;I++){var F=x[++j]<<8|x[++j];32768&F&&(F=-(1+(65535^F))),P.push(F)}v.ip=j}function Ye(l,v,j,x,P,I){var F,K,re=I.stack,oe=l&&re.pop(),re=re.pop(),pe=I.rp0,pe=I.z0[pe],_e=I.z1[re],ge=I.minDis,le=I.fv,Pe=I.dpv,Me=F=Pe.distance(_e,pe,!0,!0),ke=0<=Me?1:-1;Me=Math.abs(Me),l&&(K=I.cvt[oe],x&&Math.abs(Me-K)<I.cvCutIn&&(Me=K)),j&&Me<ge&&(Me=ge),x&&(Me=I.round(Me)),le.setRelative(_e,pe,ke*Me,Pe),le.touch(_e),i.DEBUG&&console.log(I.step,(l?"MIRP[":"MDRP[")+(v?"M":"m")+(j?">":"_")+(x?"R":"_")+(P===0?"Gr":P===1?"Bl":P===2?"Wh":"")+"]",l?oe+"("+I.cvt[oe]+","+K+")":"",re,"(d =",F,"->",ke*Me,")"),I.rp1=I.rp0,I.rp2=re,v&&(I.rp0=re)}zr.prototype.exec=function(l,v){if(typeof v!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var j=this.font,x=this._prepState;if(!x||x.ppem!==v){var P=this._fpgmState;if(!P){$t.prototype=Eo,(P=this._fpgmState=new $t("fpgm",j.tables.fpgm)).funcs=[],P.font=j,i.DEBUG&&(console.log("---EXEC FPGM---"),P.step=-1);try{rr(P)}catch(re){return console.log("Hinting error in FPGM:"+re),void(this._errorState=3)}}$t.prototype=P,(x=this._prepState=new $t("prep",j.tables.prep)).ppem=v;var I=j.tables.cvt;if(I)for(var F=x.cvt=new Array(I.length),K=v/j.unitsPerEm,oe=0;oe<I.length;oe++)F[oe]=I[oe]*K;else x.cvt=[];i.DEBUG&&(console.log("---EXEC PREP---"),x.step=-1);try{rr(x)}catch(re){this._errorState<2&&console.log("Hinting error in PREP:"+re),this._errorState=2}}if(!(1<this._errorState))try{return Mo(l,x)}catch(re){this._errorState<1&&(console.log("Hinting error:"+re),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Mo=function(l,v){var j=v.ppem/v.font.unitsPerEm,x=j,P=l.components;if($t.prototype=v,P){for(var I=v.font,F=[],K=[],oe=0;oe<P.length;oe++){var re=P[oe],pe=I.glyphs.get(re.glyphIndex),_e=new $t("glyf",pe.instructions);i.DEBUG&&(console.log("---EXEC COMP "+oe+"---"),_e.step=-1),lo(pe,_e,j,x);for(var ge=Math.round(re.dx*j),le=Math.round(re.dy*x),Pe=_e.gZone,Me=_e.contours,ke=0;ke<Pe.length;ke++){var we=Pe[ke];we.xTouched=we.yTouched=!1,we.xo=we.x=we.x+ge,we.yo=we.y=we.y+le}var Se=F.length;F.push.apply(F,Pe);for(var Ke=0;Ke<Me.length;Ke++)K.push(Me[Ke]+Se)}l.instructions&&!_e.inhibitGridFit&&((_e=new $t("glyf",l.instructions)).gZone=_e.z0=_e.z1=_e.z2=F,_e.contours=K,F.push(new Kt(0,0),new Kt(Math.round(l.advanceWidth*j),0)),i.DEBUG&&(console.log("---EXEC COMPOSITE---"),_e.step=-1),rr(_e),F.length-=2)}else _e=new $t("glyf",l.instructions),i.DEBUG&&(console.log("---EXEC GLYPH---"),_e.step=-1),lo(l,_e,j,x),F=_e.gZone;return F},lo=function(l,v,j,x){for(var P,I,F,K=l.points||[],oe=K.length,re=v.gZone=v.z0=v.z1=v.z2=[],pe=v.contours=[],_e=0;_e<oe;_e++)P=K[_e],re[_e]=new Kt(P.x*j,P.y*x,P.lastPointOfContour,P.onCurve);for(var ge=0;ge<oe;ge++)P=re[ge],I||(I=P,pe.push(ge)),P.lastPointOfContour?((P.nextPointOnContour=I).prevPointOnContour=P,I=void 0):(F=re[ge+1],(P.nextPointOnContour=F).prevPointOnContour=P);if(!v.inhibitGridFit){if(i.DEBUG){console.log("PROCESSING GLYPH",v.stack);for(var le=0;le<oe;le++)console.log(le,re[le].x,re[le].y)}if(re.push(new Kt(0,0),new Kt(Math.round(l.advanceWidth*j),0)),rr(v),re.length-=2,i.DEBUG){console.log("FINISHED GLYPH",v.stack);for(var Pe=0;Pe<oe;Pe++)console.log(Pe,re[Pe].x,re[Pe].y)}}},rr=function(l){var v=l.prog;if(v){var j,x=v.length;for(l.ip=0;l.ip<x;l.ip++){if(i.DEBUG&&l.step++,!(j=Co[v[l.ip]]))throw new Error("unknown instruction: 0x"+Number(v[l.ip]).toString(16));j(l)}}},Co=[Xr.bind(void 0,Zt),Xr.bind(void 0,Yt),Yr.bind(void 0,Zt),Yr.bind(void 0,Yt),Zr.bind(void 0,Zt),Zr.bind(void 0,Yt),Kr.bind(void 0,0),Kr.bind(void 0,1),$r.bind(void 0,0),$r.bind(void 0,1),function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"SPVFS[]",v,j),l.pv=l.dpv=cr(j,v)},function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"SPVFS[]",v,j),l.fv=cr(j,v)},function(l){var v=l.stack,j=l.pv;i.DEBUG&&console.log(l.step,"GPV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(l){var v=l.stack,j=l.fv;i.DEBUG&&console.log(l.step,"GFV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(l){l.fv=l.pv,i.DEBUG&&console.log(l.step,"SFVTPV[]")},function(v){var j=(F=v.stack).pop(),x=F.pop(),P=F.pop(),I=F.pop(),F=F.pop(),oe=v.z0,pe=v.z1,K=oe[j],oe=oe[x],re=pe[P],pe=pe[I],v=v.z2[F],j=(i.DEBUG&&console.log("ISECT[], ",j,x,P,I,F),K.x),x=K.y,P=oe.x,I=oe.y,F=re.x,K=re.y,oe=pe.x,re=pe.y,pe=(j-P)*(K-re)-(x-I)*(F-oe),_e=j*I-x*P,ge=F*re-K*oe;v.x=(_e*(F-oe)-ge*(j-P))/pe,v.y=(_e*(K-re)-ge*(x-I))/pe},function(l){l.rp0=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP0[]",l.rp0)},function(l){l.rp1=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP1[]",l.rp1)},function(l){l.rp2=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP2[]",l.rp2)},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP0[]",v),l.zp0=v){case 0:l.tZone||gr(l),l.z0=l.tZone;break;case 1:l.z0=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP1[]",v),l.zp1=v){case 0:l.tZone||gr(l),l.z1=l.tZone;break;case 1:l.z1=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP2[]",v),l.zp2=v){case 0:l.tZone||gr(l),l.z2=l.tZone;break;case 1:l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZPS[]",v),l.zp0=l.zp1=l.zp2=v){case 0:l.tZone||gr(l),l.z0=l.z1=l.z2=l.tZone;break;case 1:l.z0=l.z1=l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){l.loop=l.stack.pop(),i.DEBUG&&console.log(l.step,"SLOOP[]",l.loop)},function(l){i.DEBUG&&console.log(l.step,"RTG[]"),l.round=Hr},function(l){i.DEBUG&&console.log(l.step,"RTHG[]"),l.round=wo},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SMD[]",v),l.minDis=v/64},function(l){i.DEBUG&&console.log(l.step,"ELSE[]"),qr(l,!1)},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"JMPR[]",v),l.ip+=v-1},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCVTCI[]",v),l.cvCutIn=v/64},void 0,void 0,function(l){var v=l.stack;i.DEBUG&&console.log(l.step,"DUP[]"),v.push(v[v.length-1])},Sr,function(l){i.DEBUG&&console.log(l.step,"CLEAR[]"),l.stack.length=0},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"SWAP[]"),v.push(j),v.push(x)},function(l){var v=l.stack;i.DEBUG&&console.log(l.step,"DEPTH[]"),v.push(v.length)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"CINDEX[]",j),v.push(v[v.length-j])},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"MINDEX[]",j),v.push(v.splice(v.length-j,1)[0])},void 0,void 0,void 0,function(l){var v=(x=l.stack).pop(),j=x.pop(),x=(i.DEBUG&&console.log(l.step,"LOOPCALL[]",v,j),l.ip),P=l.prog;l.prog=l.funcs[v];for(var I=0;I<j;I++)rr(l),i.DEBUG&&console.log(++l.step,I+1<j?"next loopcall":"done loopcall",I);l.ip=x,l.prog=P},function(l){var v=l.stack.pop(),j=(i.DEBUG&&console.log(l.step,"CALL[]",v),l.ip),x=l.prog;l.prog=l.funcs[v],rr(l),l.ip=j,l.prog=x,i.DEBUG&&console.log(++l.step,"returning from",v)},function(l){if(l.env!=="fpgm")throw new Error("FDEF not allowed here");var x=l.stack,v=l.prog,j=l.ip,x=x.pop(),P=j;for(i.DEBUG&&console.log(l.step,"FDEF[]",x);v[++j]!==45;);l.ip=j,l.funcs[x]=v.slice(P+1,j)},void 0,Jr.bind(void 0,0),Jr.bind(void 0,1),Qr.bind(void 0,Zt),Qr.bind(void 0,Yt),eo.bind(void 0,0),eo.bind(void 0,1),to.bind(void 0,0),to.bind(void 0,1),ro.bind(void 0,0),ro.bind(void 0,1),function(l){for(var v=l.stack,j=l.loop,x=l.fv,P=v.pop()/64,I=l.z2;j--;){var F=v.pop(),K=I[F];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-j)+": ":"")+"SHPIX[]",F,P),x.setRelative(K,K,P),x.touch(K)}l.loop=1},function(l){for(var v=l.stack,j=l.rp1,x=l.rp2,P=l.loop,I=l.z0[j],F=l.z1[x],K=l.fv,oe=l.dpv,re=l.z2;P--;){var pe=v.pop(),_e=re[pe];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-P)+": ":"")+"IP[]",pe,j,"<->",x),K.interpolate(_e,I,F,oe),K.touch(_e)}l.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(l){for(var v=l.stack,j=l.rp0,x=l.z0[j],P=l.loop,I=l.fv,F=l.pv,K=l.z1;P--;){var oe=v.pop(),re=K[oe];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-P)+": ":"")+"ALIGNRP[]",oe),I.setRelative(re,x,0,F),I.touch(re)}l.loop=1},function(l){i.DEBUG&&console.log(l.step,"RTDG[]"),l.round=xo},no.bind(void 0,0),no.bind(void 0,1),function(l){var v=l.prog,j=l.ip,x=l.stack,P=v[++j];i.DEBUG&&console.log(l.step,"NPUSHB[]",P);for(var I=0;I<P;I++)x.push(v[++j]);l.ip=j},function(l){var v=l.ip,j=l.prog,x=l.stack,P=j[++v];i.DEBUG&&console.log(l.step,"NPUSHW[]",P);for(var I=0;I<P;I++){var F=j[++v]<<8|j[++v];32768&F&&(F=-(1+(65535^F))),x.push(F)}l.ip=v},function(l){var x=l.stack,v=(v=l.store)||(l.store=[]),j=x.pop(),x=x.pop();i.DEBUG&&console.log(l.step,"WS",j,x),v[x]=j},function(P){var v=P.stack,j=P.store,x=v.pop(),P=(i.DEBUG&&console.log(P.step,"RS",x),j&&j[x]||0);v.push(P)},function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"WCVTP",v,j),l.cvt[j]=v/64},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"RCVT",j),v.push(64*l.cvt[j])},so.bind(void 0,0),so.bind(void 0,1),void 0,ao.bind(void 0,0),ao.bind(void 0,1),function(l){i.DEBUG&&console.log(l.step,"MPPEM[]"),l.stack.push(l.ppem)},void 0,function(l){i.DEBUG&&console.log(l.step,"FLIPON[]"),l.autoFlip=!0},void 0,void 0,function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"LT[]",j,x),v.push(x<j?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"LTEQ[]",j,x),v.push(x<=j?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"GT[]",j,x),v.push(j<x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"GTEQ[]",j,x),v.push(j<=x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"EQ[]",j,x),v.push(j===x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"NEQ[]",j,x),v.push(j!==x?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"ODD[]",j),v.push(Math.trunc(j)%2?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"EVEN[]",j),v.push(Math.trunc(j)%2?0:1)},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"IF[]",v),v||(qr(l,!0),i.DEBUG&&console.log(l.step,"EIF[]"))},function(l){i.DEBUG&&console.log(l.step,"EIF[]")},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"AND[]",j,x),v.push(j&&x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"OR[]",j,x),v.push(j||x?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"NOT[]",j),v.push(j?0:1)},Tr.bind(void 0,1),function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SDB[]",v),l.deltaBase=v},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SDS[]",v),l.deltaShift=Math.pow(.5,v)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"ADD[]",j,x),v.push(x+j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"SUB[]",j,x),v.push(x-j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"DIV[]",j,x),v.push(64*x/j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MUL[]",j,x),v.push(x*j/64)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"ABS[]",j),v.push(Math.abs(j))},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"NEG[]",j),v.push(-j)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"FLOOR[]",j),v.push(64*Math.floor(j/64))},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"CEILING[]",j),v.push(64*Math.ceil(j/64))},vr.bind(void 0,0),vr.bind(void 0,1),vr.bind(void 0,2),vr.bind(void 0,3),void 0,void 0,void 0,void 0,function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"WCVTF[]",v,j),l.cvt[j]=v*l.ppem/l.font.unitsPerEm},Tr.bind(void 0,2),Tr.bind(void 0,3),Er.bind(void 0,1),Er.bind(void 0,2),Er.bind(void 0,3),function(l){var v,j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SROUND[]",j),l.round=Wr,192&j){case 0:v=.5;break;case 64:v=1;break;case 128:v=2;break;default:throw new Error("invalid SROUND value")}switch(l.srPeriod=v,48&j){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*v;break;case 32:l.srPhase=.5*v;break;case 48:l.srPhase=.75*v;break;default:throw new Error("invalid SROUND value")}l.srThreshold=(j&=15)===0?0:(j/8-.5)*v},function(l){var v,j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"S45ROUND[]",j),l.round=Wr,192&j){case 0:v=Math.sqrt(2)/2;break;case 64:v=Math.sqrt(2);break;case 128:v=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(l.srPeriod=v,48&j){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*v;break;case 32:l.srPhase=.5*v;break;case 48:l.srPhase=.75*v;break;default:throw new Error("invalid S45ROUND value")}l.srThreshold=(j&=15)===0?0:(j/8-.5)*v},void 0,void 0,function(l){i.DEBUG&&console.log(l.step,"ROFF[]"),l.round=_o},void 0,function(l){i.DEBUG&&console.log(l.step,"RUTG[]"),l.round=So},function(l){i.DEBUG&&console.log(l.step,"RDTG[]"),l.round=To},Sr,Sr,void 0,void 0,void 0,void 0,void 0,function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCANCTRL[]",v)},io.bind(void 0,0),io.bind(void 0,1),function(l){var v=l.stack,j=v.pop(),x=0;i.DEBUG&&console.log(l.step,"GETINFO[]",j),1&j&&(x=35),32&j&&(x|=4096),v.push(x)},void 0,function(l){var v=l.stack,j=v.pop(),x=v.pop(),P=v.pop();i.DEBUG&&console.log(l.step,"ROLL[]"),v.push(x),v.push(j),v.push(P)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MAX[]",j,x),v.push(Math.max(x,j))},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MIN[]",j,x),v.push(Math.min(x,j))},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCANTYPE[]",v)},function(l){var v=l.stack.pop(),j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"INSTCTRL[]",v,j),v){case 1:return void(l.inhibitGridFit=!!j);case 2:return void(l.ignoreCvt=!!j);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Jt.bind(void 0,1),Jt.bind(void 0,2),Jt.bind(void 0,3),Jt.bind(void 0,4),Jt.bind(void 0,5),Jt.bind(void 0,6),Jt.bind(void 0,7),Jt.bind(void 0,8),Qt.bind(void 0,1),Qt.bind(void 0,2),Qt.bind(void 0,3),Qt.bind(void 0,4),Qt.bind(void 0,5),Qt.bind(void 0,6),Qt.bind(void 0,7),Qt.bind(void 0,8),Ye.bind(void 0,0,0,0,0,0),Ye.bind(void 0,0,0,0,0,1),Ye.bind(void 0,0,0,0,0,2),Ye.bind(void 0,0,0,0,0,3),Ye.bind(void 0,0,0,0,1,0),Ye.bind(void 0,0,0,0,1,1),Ye.bind(void 0,0,0,0,1,2),Ye.bind(void 0,0,0,0,1,3),Ye.bind(void 0,0,0,1,0,0),Ye.bind(void 0,0,0,1,0,1),Ye.bind(void 0,0,0,1,0,2),Ye.bind(void 0,0,0,1,0,3),Ye.bind(void 0,0,0,1,1,0),Ye.bind(void 0,0,0,1,1,1),Ye.bind(void 0,0,0,1,1,2),Ye.bind(void 0,0,0,1,1,3),Ye.bind(void 0,0,1,0,0,0),Ye.bind(void 0,0,1,0,0,1),Ye.bind(void 0,0,1,0,0,2),Ye.bind(void 0,0,1,0,0,3),Ye.bind(void 0,0,1,0,1,0),Ye.bind(void 0,0,1,0,1,1),Ye.bind(void 0,0,1,0,1,2),Ye.bind(void 0,0,1,0,1,3),Ye.bind(void 0,0,1,1,0,0),Ye.bind(void 0,0,1,1,0,1),Ye.bind(void 0,0,1,1,0,2),Ye.bind(void 0,0,1,1,0,3),Ye.bind(void 0,0,1,1,1,0),Ye.bind(void 0,0,1,1,1,1),Ye.bind(void 0,0,1,1,1,2),Ye.bind(void 0,0,1,1,1,3),Ye.bind(void 0,1,0,0,0,0),Ye.bind(void 0,1,0,0,0,1),Ye.bind(void 0,1,0,0,0,2),Ye.bind(void 0,1,0,0,0,3),Ye.bind(void 0,1,0,0,1,0),Ye.bind(void 0,1,0,0,1,1),Ye.bind(void 0,1,0,0,1,2),Ye.bind(void 0,1,0,0,1,3),Ye.bind(void 0,1,0,1,0,0),Ye.bind(void 0,1,0,1,0,1),Ye.bind(void 0,1,0,1,0,2),Ye.bind(void 0,1,0,1,0,3),Ye.bind(void 0,1,0,1,1,0),Ye.bind(void 0,1,0,1,1,1),Ye.bind(void 0,1,0,1,1,2),Ye.bind(void 0,1,0,1,1,3),Ye.bind(void 0,1,1,0,0,0),Ye.bind(void 0,1,1,0,0,1),Ye.bind(void 0,1,1,0,0,2),Ye.bind(void 0,1,1,0,0,3),Ye.bind(void 0,1,1,0,1,0),Ye.bind(void 0,1,1,0,1,1),Ye.bind(void 0,1,1,0,1,2),Ye.bind(void 0,1,1,0,1,3),Ye.bind(void 0,1,1,1,0,0),Ye.bind(void 0,1,1,1,0,1),Ye.bind(void 0,1,1,1,0,2),Ye.bind(void 0,1,1,1,0,3),Ye.bind(void 0,1,1,1,1,0),Ye.bind(void 0,1,1,1,1,1),Ye.bind(void 0,1,1,1,1,2),Ye.bind(void 0,1,1,1,1,3)],ko=Array.from||function(l){return l.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function ft(l){(l=l||{}).empty||(tr(l.familyName,"When creating a new Font object, familyName is required."),tr(l.styleName,"When creating a new Font object, styleName is required."),tr(l.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),tr(l.ascender,"When creating a new Font object, ascender is required."),tr(l.descender,"When creating a new Font object, descender is required."),tr(l.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:l.familyName||" "},fontSubfamily:{en:l.styleName||" "},fullName:{en:l.fullName||l.familyName+" "+l.styleName},postScriptName:{en:l.postScriptName||(l.familyName+l.styleName).replace(/\s/g,"")},designer:{en:l.designer||" "},designerURL:{en:l.designerURL||" "},manufacturer:{en:l.manufacturer||" "},manufacturerURL:{en:l.manufacturerURL||" "},license:{en:l.license||" "},licenseURL:{en:l.licenseURL||" "},version:{en:l.version||"Version 0.1"},description:{en:l.description||" "},copyright:{en:l.copyright||" "},trademark:{en:l.trademark||" "}},this.unitsPerEm=l.unitsPerEm||1e3,this.ascender=l.ascender,this.descender=l.descender,this.createdTimestamp=l.createdTimestamp,this.tables={os2:{usWeightClass:l.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:l.widthClass||this.usWidthClasses.MEDIUM,fsSelection:l.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ze.GlyphSet(this,l.glyphs||[]),this.encoding=new be(this),this.position=new yr(this),this.substitution=new Xt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new zr(this):void 0)}})}function uo(l,v){var j,x=JSON.stringify(l),P=256;for(j in v){var I=parseInt(j);if(I&&!(I<256)){if(JSON.stringify(v[j])===x)return I;P<=I&&(P=I+1)}}return v[P]=l,P}ft.prototype.hasChar=function(l){return this.encoding.charToGlyphIndex(l)!==null},ft.prototype.charToGlyphIndex=function(l){return this.encoding.charToGlyphIndex(l)},ft.prototype.charToGlyph=function(l){return l=this.charToGlyphIndex(l),this.glyphs.get(l)||this.glyphs.get(0)},ft.prototype.stringToGlyphs=function(l,v){v=v||this.defaultRenderOptions;for(var j=ko(l),x=[],P=0;P<j.length;P+=1){var I=j[P];x.push(this.charToGlyphIndex(I))}var F=x.length;if(v.features){var l=v.script||this.substitution.getDefaultScriptName(),K=[];v.features.liga&&(K=K.concat(this.substitution.getFeature("liga",l,v.language))),v.features.rlig&&(K=K.concat(this.substitution.getFeature("rlig",l,v.language)));for(var oe=0;oe<F;oe+=1)for(var re=0;re<K.length;re++){for(var pe=K[re],_e=pe.sub,ge=_e.length,le=0;le<ge&&_e[le]===x[oe+le];)le++;le===ge&&(x.splice(oe,ge,pe.by),F=F-ge+1)}}for(var Pe=new Array(F),Me=this.glyphs.get(0),ke=0;ke<F;ke+=1)Pe[ke]=this.glyphs.get(x[ke])||Me;return Pe},ft.prototype.nameToGlyphIndex=function(l){return this.glyphNames.nameToGlyphIndex(l)},ft.prototype.nameToGlyph=function(l){return l=this.nameToGlyphIndex(l),this.glyphs.get(l)||this.glyphs.get(0)},ft.prototype.glyphIndexToName=function(l){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(l):""},ft.prototype.getKerningValue=function(l,v){l=l.index||l,v=v.index||v;var j=this.position.defaultKerningTables;return j?this.position.getKerningValue(j,l,v):this.kerningPairs[l+","+v]||0},ft.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},ft.prototype.forEachGlyph=function(l,v,j,x,P,I){v=v!==void 0?v:0,j=j!==void 0?j:0,P=P||this.defaultRenderOptions;var F,K=1/this.unitsPerEm*(x=x!==void 0?x:72),oe=this.stringToGlyphs(l,P);P.kerning&&(l=P.script||this.position.getDefaultScriptName(),F=this.position.getKerningTables(l,P.language));for(var re=0;re<oe.length;re+=1){var pe=oe[re];I.call(this,pe,v,j,x,P),pe.advanceWidth&&(v+=pe.advanceWidth*K),P.kerning&&re<oe.length-1&&(v+=(F?this.position.getKerningValue(F,pe.index,oe[re+1].index):this.getKerningValue(pe,oe[re+1]))*K),P.letterSpacing?v+=P.letterSpacing*x:P.tracking&&(v+=P.tracking/1e3*x)}return v},ft.prototype.getPath=function(l,v,j,x,P){var I=new Z;return this.forEachGlyph(l,v,j,x,P,function(F,K,oe,re){F=F.getPath(K,oe,re,P,this),I.extend(F)}),I},ft.prototype.getPaths=function(l,v,j,x,P){var I=[];return this.forEachGlyph(l,v,j,x,P,function(F,K,oe,re){F=F.getPath(K,oe,re,P,this),I.push(F)}),I},ft.prototype.getAdvanceWidth=function(l,v,j){return this.forEachGlyph(l,0,0,v,j,function(){})},ft.prototype.draw=function(l,v,j,x,P,I){this.getPath(v,j,x,P,I).draw(l)},ft.prototype.drawPoints=function(l,v,j,x,P,I){this.forEachGlyph(v,j,x,P,I,function(F,K,oe,re){F.drawPoints(l,K,oe,re)})},ft.prototype.drawMetrics=function(l,v,j,x,P,I){this.forEachGlyph(v,j,x,P,I,function(F,K,oe,re){F.drawMetrics(l,K,oe,re)})},ft.prototype.getEnglishName=function(l){if(l=this.names[l],l)return l.en},ft.prototype.validate=function(){var l=this;function v(j){j=l.getEnglishName(j),j&&j.trim().length}v("fontFamily"),v("weightName"),v("manufacturer"),v("copyright"),v("version"),this.unitsPerEm},ft.prototype.toTables=function(){return vo.fontToTable(this)},ft.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ft.prototype.toArrayBuffer=function(){for(var l=this.toTables().encode(),v=new ArrayBuffer(l.length),j=new Uint8Array(v),x=0;x<l.length;x++)j[x]=l[x];return v},ft.prototype.download=function(l){var v=this.getEnglishName("fontFamily"),j=this.getEnglishName("fontSubfamily"),x=(l=l||v.replace(/\s/g,"")+"-"+j+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,x.byteLength,function(P){P.root.getFile(l,{create:!0},function(I){I.createWriter(function(F){var K=new DataView(x),K=new Blob([K],{type:"font/opentype"});F.write(K),F.addEventListener("writeend",function(){location.href=I.toURL()},!1)})})},function(P){throw new Error(P.name+": "+P.message)})):(v=t("fs"),j=function(P){for(var I=new f(P.byteLength),F=new Uint8Array(P),K=0;K<I.length;++K)I[K]=F[K];return I}(x),v.writeFileSync(l,j))},ft.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ft.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ft.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Oo={make:function(l,v){var j=new Ee.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:l.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:l.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*l.axes.length}]);j.offsetToData=j.sizeOf();for(var x,P,I,F=0;F<l.axes.length;F++)j.fields=j.fields.concat((x=F,P=l.axes[F],I=v,I=uo(P.name,v),[{name:"tag_"+x,type:"TAG",value:P.tag},{name:"minValue_"+x,type:"FIXED",value:P.minValue<<16},{name:"defaultValue_"+x,type:"FIXED",value:P.defaultValue<<16},{name:"maxValue_"+x,type:"FIXED",value:P.maxValue<<16},{name:"flags_"+x,type:"USHORT",value:0},{name:"nameID_"+x,type:"USHORT",value:I}]));for(var K=0;K<l.instances.length;K++)j.fields=j.fields.concat(function(oe,re,pe,_e){for(var ge=[{name:"nameID_"+oe,type:"USHORT",value:uo(re.name,_e)},{name:"flags_"+oe,type:"USHORT",value:0}],le=0;le<pe.length;++le){var Pe=pe[le].tag;ge.push({name:"axis_"+oe+" "+Pe,type:"FIXED",value:re.coordinates[Pe]<<16})}return ge}(K,l.instances[K],l.axes,v));return j},parse:function(l,v,j){for(var x,P,I,F,K=new je.Parser(l,v),oe=K.parseULong(),re=(L.argument(oe===65536,"Unsupported fvar table version."),K.parseOffset16()),pe=(K.skip("uShort",1),K.parseUShort()),_e=K.parseUShort(),ge=K.parseUShort(),le=K.parseUShort(),Pe=[],Me=0;Me<pe;Me++)Pe.push((x=l,P=v+re+Me*_e,I=j,F={},x=new je.Parser(x,P),F.tag=x.parseTag(),F.minValue=x.parseFixed(),F.defaultValue=x.parseFixed(),F.maxValue=x.parseFixed(),x.skip("uShort",1),F.name=I[x.parseUShort()]||{},F));for(var ke=[],we=v+re+pe*_e,Se=0;Se<ge;Se++)ke.push(function(Ke,ot,$e,Je){var nt={},yt=new je.Parser(Ke,ot);nt.name=Je[yt.parseUShort()]||{},yt.skip("uShort",1),nt.coordinates={};for(var xt=0;xt<$e.length;++xt)nt.coordinates[$e[xt].tag]=yt.parseFixed();return nt}(l,we+Se*le,Pe,j));return{axes:Pe,instances:ke}}},zt=new Array(10);zt[1]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{posFormat:1,coverage:this.parsePointer(ye.coverage),value:this.parseValueRecord()}:v===2?{posFormat:2,coverage:this.parsePointer(ye.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+l.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},zt[2]=function(){var l,v,j,x,I=this.offset+this.relativeOffset,P=this.parseUShort(),I=(L.assert(P===1||P===2,"0x"+I.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ye.coverage)),F=this.parseUShort(),K=this.parseUShort();return P===1?{posFormat:P,coverage:I,valueFormat1:F,valueFormat2:K,pairSets:this.parseList(ye.pointer(ye.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(F),value2:this.parseValueRecord(K)}})))}:P===2?(l=this.parsePointer(ye.classDef),v=this.parsePointer(ye.classDef),j=this.parseUShort(),x=this.parseUShort(),{posFormat:P,coverage:I,valueFormat1:F,valueFormat2:K,classDef1:l,classDef2:v,class1Count:j,class2Count:x,classRecords:this.parseList(j,ye.list(x,function(){return{value1:this.parseValueRecord(F),value2:this.parseValueRecord(K)}}))}):void 0},zt[3]=function(){return{error:"GPOS Lookup 3 not supported"}},zt[4]=function(){return{error:"GPOS Lookup 4 not supported"}},zt[5]=function(){return{error:"GPOS Lookup 5 not supported"}},zt[6]=function(){return{error:"GPOS Lookup 6 not supported"}},zt[7]=function(){return{error:"GPOS Lookup 7 not supported"}},zt[8]=function(){return{error:"GPOS Lookup 8 not supported"}},zt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Po=new Array(10),Lo={parse:function(l,v){return v=(l=new ye(l,v=v||0)).parseVersion(1),L.argument(v===1||v===1.1,"Unsupported GPOS table version "+v),v===1?{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(zt)}:{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(zt),variations:l.parseFeatureVariationsList()}},make:function(l){return new Ee.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(l.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(l.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(l.lookups,Po)}])}},Ao={parse:function(l,v){if(l=new je.Parser(l,v),(v=l.parseUShort())===0){var j=l,x={},_e=(j.skip("uShort"),j.parseUShort()),P=(L.argument(_e===0,"Unsupported kern sub-table version."),j.skip("uShort",2),j.parseUShort());j.skip("uShort",3);for(var I=0;I<P;I+=1){var F=j.parseUShort(),K=j.parseUShort(),oe=j.parseShort();x[F+","+K]=oe}return x}if(v!==1)throw new Error("Unsupported kern table version ("+v+").");var re=l,pe={},_e=(re.skip("uShort"),1<re.parseULong()&&console.warn("Only the first kern subtable is supported."),re.skip("uLong"),255&re.parseUShort());if(re.skip("uShort"),_e==0){var ge=re.parseUShort();re.skip("uShort",3);for(var le=0;le<ge;le+=1){var Pe=re.parseUShort(),Me=re.parseUShort(),ke=re.parseShort();pe[Pe+","+Me]=ke}}return pe}},Ro={parse:function(l,v,j,x){for(var P=new je.Parser(l,v),I=x?P.parseUShort:P.parseULong,F=[],K=0;K<j+1;K+=1){var oe=I.call(P);x&&(oe*=2),F.push(oe)}return F}};function Io(l,v){t("fs").readFile(l,function(j,x){if(j)return v(j.message);v(null,Nr(x))})}function Do(l,v){var j=new XMLHttpRequest;j.open("get",l,!0),j.responseType="arraybuffer",j.onload=function(){return j.response?v(null,j.response):v("Font could not be loaded: "+j.statusText)},j.onerror=function(){v("Font could not be loaded")},j.send()}function co(l,v){for(var j=[],x=12,P=0;P<v;P+=1){var I=je.getTag(l,x),F=je.getULong(l,x+4),K=je.getULong(l,x+8),oe=je.getULong(l,x+12);j.push({tag:I,checksum:F,offset:K,length:oe,compression:!1}),x+=16}return j}function Tt(j,v){if(v.compression!=="WOFF")return{data:j,offset:v.offset};var j=new Uint8Array(j.buffer,v.offset+2,v.compressedLength-2),x=new Uint8Array(v.length);if(N(j,x),x.byteLength!==v.length)throw new Error("Decompression error: "+v.tag+" decompressed length doesn't match recorded length");return{data:new DataView(x.buffer,0),offset:0}}function Mr(Se){var v,j,x,P,I,F,K,oe,re,pe,_e,ge,le,Pe,Me=new ft({empty:!0}),ke=new DataView(Se,0),we=[],Se=je.getTag(ke,0);if(Se===String.fromCharCode(0,1,0,0)||Se==="true"||Se==="typ1")Me.outlinesFormat="truetype",we=co(ke,x=je.getUShort(ke,4));else if(Se==="OTTO")Me.outlinesFormat="cff",we=co(ke,x=je.getUShort(ke,4));else{if(Se!=="wOFF")throw new Error("Unsupported OpenType signature "+Se);var Ke=je.getTag(ke,4);if(Ke===String.fromCharCode(0,1,0,0))Me.outlinesFormat="truetype";else{if(Ke!=="OTTO")throw new Error("Unsupported OpenType flavor "+Se);Me.outlinesFormat="cff"}we=function(vt,dt){for(var Bt=[],jt=44,It=0;It<dt;It+=1){var bt=je.getTag(vt,jt),Pt=je.getULong(vt,jt+4),hr=je.getULong(vt,jt+8),or=je.getULong(vt,jt+12),ho=void 0,ho=hr<or&&"WOFF";Bt.push({tag:bt,offset:Pt,compression:ho,compressedLength:hr,length:or}),jt+=20}return Bt}(ke,x=je.getUShort(ke,12))}for(var ot=0;ot<x;ot+=1){var $e=we[ot],Je=void 0;switch($e.tag){case"cmap":Je=Tt(ke,$e),Me.tables.cmap=X.parse(Je.data,Je.offset),Me.encoding=new Ce(Me.tables.cmap);break;case"cvt ":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.cvt=Pe.parseShortList($e.length/2);break;case"fvar":I=$e;break;case"fpgm":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.fpgm=Pe.parseByteList($e.length);break;case"head":Je=Tt(ke,$e),Me.tables.head=lr.parse(Je.data,Je.offset),Me.unitsPerEm=Me.tables.head.unitsPerEm,v=Me.tables.head.indexToLocFormat;break;case"hhea":Je=Tt(ke,$e),Me.tables.hhea=ue.parse(Je.data,Je.offset),Me.ascender=Me.tables.hhea.ascender,Me.descender=Me.tables.hhea.descender,Me.numberOfHMetrics=Me.tables.hhea.numberOfHMetrics;break;case"hmtx":re=$e;break;case"ltag":Je=Tt(ke,$e),j=qe.parse(Je.data,Je.offset);break;case"maxp":Je=Tt(ke,$e),Me.tables.maxp=Re.parse(Je.data,Je.offset),Me.numGlyphs=Me.tables.maxp.numGlyphs;break;case"name":ge=$e;break;case"OS/2":Je=Tt(ke,$e),Me.tables.os2=Ot.parse(Je.data,Je.offset);break;case"post":Je=Tt(ke,$e),Me.tables.post=kr.parse(Je.data,Je.offset),Me.glyphNames=new Ue(Me.tables.post);break;case"prep":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.prep=Pe.parseByteList($e.length);break;case"glyf":F=$e;break;case"loca":_e=$e;break;case"CFF ":P=$e;break;case"kern":pe=$e;break;case"GPOS":K=$e;break;case"GSUB":oe=$e;break;case"meta":le=$e}}if(Ke=Tt(ke,ge),Me.tables.name=Gt.parse(Ke.data,Ke.offset,j),Me.names=Me.tables.name,F&&_e)Se=v===0,Ke=Tt(ke,_e),Ke=Ro.parse(Ke.data,Ke.offset,Me.numGlyphs,Se),Se=Tt(ke,F),Me.glyphs=Vr.parse(Se.data,Se.offset,Ke,Me);else{if(!P)throw new Error("Font doesn't contain TrueType or CFF outlines.");Se=Tt(ke,P),ir.parse(Se.data,Se.offset,Me)}for(var Ke=Tt(ke,re),nt=(De.parse(Ke.data,Ke.offset,Me.numberOfHMetrics,Me.numGlyphs,Me.glyphs),Me),yt=nt.tables.cmap.glyphIndexMap,xt=Object.keys(yt),Et=0;Et<xt.length;Et+=1){var Ft,Nt=xt[Et],Ht=yt[Nt];(Ft=nt.glyphs.get(Ht)).addUnicode(parseInt(Nt))}for(var pt=0;pt<nt.glyphs.length;pt+=1)Ft=nt.glyphs.get(pt),nt.cffEncoding?nt.isCIDFont?Ft.name="gid"+pt:Ft.name=nt.cffEncoding.charset[pt]:nt.glyphNames.names&&(Ft.name=nt.glyphNames.glyphIndexToName(pt));return pe?(Se=Tt(ke,pe),Me.kerningPairs=Ao.parse(Se.data,Se.offset)):Me.kerningPairs={},K&&(Ke=Tt(ke,K),Me.tables.gpos=Lo.parse(Ke.data,Ke.offset),Me.position.init()),oe&&(Se=Tt(ke,oe),Me.tables.gsub=Or.parse(Se.data,Se.offset)),I&&(Ke=Tt(ke,I),Me.tables.fvar=Oo.parse(Ke.data,Ke.offset,Me.names)),le&&(Se=Tt(ke,le),Me.tables.meta=Pr.parse(Se.data,Se.offset),Me.metas=Me.tables.meta),Me}i.Font=ft,i.Glyph=We,i.Path=Z,i.BoundingBox=Y,i._parse=je,i.parse=Mr,i.load=function(l,v){(typeof window>"u"?Io:Do)(l,function(j,x){if(j)return v(j);var P;try{P=Mr(x)}catch(I){return v(I,null)}return v(null,P)})},i.loadSync=function(l){return Mr(Nr(t("fs").readFileSync(l)))},Object.defineProperty(i,"__esModule",{value:!0})},s(typeof E=="object"&&V!==void 0?E:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],242:[function(t,V,E){(function(f){function u(p,h){for(var r=0,n=p.length-1;0<=n;n--){var o=p[n];o==="."?p.splice(n,1):o===".."?(p.splice(n,1),r++):r&&(p.splice(n,1),r--)}if(h)for(;r--;)p.unshift("..");return p}function s(p,h){if(p.filter)return p.filter(h);for(var r=[],n=0;n<p.length;n++)h(p[n],n,p)&&r.push(p[n]);return r}E.resolve=function(){for(var p="",h=!1,r=arguments.length-1;-1<=r&&!h;r--){var n=0<=r?arguments[r]:f.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");n&&(p=n+"/"+p,h=n.charAt(0)==="/")}return(h?"/":"")+(p=u(s(p.split("/"),function(o){return!!o}),!h).join("/"))||"."},E.normalize=function(p){var h=E.isAbsolute(p),r=i(p,-1)==="/";return(p=(p=u(s(p.split("/"),function(n){return!!n}),!h).join("/"))||h?p:".")&&r&&(p+="/"),(h?"/":"")+p},E.isAbsolute=function(p){return p.charAt(0)==="/"},E.join=function(){var p=Array.prototype.slice.call(arguments,0);return E.normalize(s(p,function(h,r){if(typeof h!="string")throw new TypeError("Arguments to path.join must be strings");return h}).join("/"))},E.relative=function(p,h){function r(m){for(var g=0;g<m.length&&m[g]==="";g++);for(var b=m.length-1;0<=b&&m[b]==="";b--);return b<g?[]:m.slice(g,b-g+1)}p=E.resolve(p).substr(1),h=E.resolve(h).substr(1);for(var n=r(p.split("/")),o=r(h.split("/")),a=Math.min(n.length,o.length),c=a,d=0;d<a;d++)if(n[d]!==o[d]){c=d;break}for(var y=[],d=c;d<n.length;d++)y.push("..");return(y=y.concat(o.slice(c))).join("/")},E.sep="/",E.delimiter=":",E.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var h=p.charCodeAt(0)===47,r=-1,n=!0,o=p.length-1;1<=o;--o)if(p.charCodeAt(o)===47){if(!n){r=o;break}}else n=!1;return r===-1?h?"/":".":h&&r===1?"/":p.slice(0,r)},E.basename=function(p,h){return p=function(r){typeof r!="string"&&(r+="");for(var n=0,o=-1,a=!0,c=r.length-1;0<=c;--c)if(r.charCodeAt(c)===47){if(!a){n=c+1;break}}else o===-1&&(a=!1,o=c+1);return o===-1?"":r.slice(n,o)}(p),p=h&&p.substr(-1*h.length)===h?p.substr(0,p.length-h.length):p},E.extname=function(p){typeof p!="string"&&(p+="");for(var h=-1,r=0,n=-1,o=!0,a=0,c=p.length-1;0<=c;--c){var d=p.charCodeAt(c);if(d===47){if(o)continue;r=c+1;break}n===-1&&(o=!1,n=c+1),d===46?h===-1?h=c:a!==1&&(a=1):h!==-1&&(a=-1)}return h===-1||n===-1||a===0||a===1&&h===n-1&&h===r+1?"":p.slice(h,n)};var i="ab".substr(-1)==="b"?function(p,h,r){return p.substr(h,r)}:function(p,h,r){return h<0&&(h=p.length+h),p.substr(h,r)}}).call(this,t("_process"))},{_process:243}],243:[function(t,s,E){var f,u,s=s.exports={};function i(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{f=typeof setTimeout=="function"?setTimeout:i}catch{f=i}try{u=typeof clearTimeout=="function"?clearTimeout:p}catch{u=p}function h(g){if(f===setTimeout)return setTimeout(g,0);if((f===i||!f)&&setTimeout)return(f=setTimeout)(g,0);try{return f(g,0)}catch{try{return f.call(null,g,0)}catch{return f.call(this,g,0)}}}var r,n=[],o=!1,a=-1;function c(){o&&r&&(o=!1,r.length?n=r.concat(n):a=-1,n.length&&d())}function d(){if(!o){for(var g=h(c),b=(o=!0,n.length);b;){for(r=n,n=[];++a<b;)r&&r[a].run();a=-1,b=n.length}r=null,o=!1,function(w){if(u===clearTimeout)return clearTimeout(w);if((u===p||!u)&&clearTimeout)return(u=clearTimeout)(w);try{u(w)}catch{try{return u.call(null,w)}catch{return u.call(this,w)}}}(g)}}function y(g,b){this.fun=g,this.array=b}function m(){}s.nextTick=function(g){var b=new Array(arguments.length-1);if(1<arguments.length)for(var w=1;w<arguments.length;w++)b[w-1]=arguments[w];n.push(new y(g,b)),n.length!==1||o||h(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(g){return[]},s.binding=function(g){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(g){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],244:[function(t,V,E){V=function(f){var u,s=Object.prototype,i=s.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},p=_.iterator||"@@iterator",h=_.asyncIterator||"@@asyncIterator",r=_.toStringTag||"@@toStringTag";function n(W,D,z,q){var Z,G,C,L,D=D&&D.prototype instanceof g?D:g,D=Object.create(D.prototype),q=new R(q||[]);return D._invoke=(Z=W,G=z,C=q,L=a,function(J,te){if(L===d)throw new Error("Generator is already running");if(L===y){if(J==="throw")throw te;return B()}for(C.method=J,C.arg=te;;){var se=C.delegate;if(se&&(se=function ce(ne,ae){var de=ne.iterator[ae.method];if(de===u){if(ae.delegate=null,ae.method==="throw"){if(ne.iterator.return&&(ae.method="return",ae.arg=u,ce(ne,ae),ae.method==="throw"))return m;ae.method="throw",ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}if(de=o(de,ne.iterator,ae.arg),de.type==="throw")return ae.method="throw",ae.arg=de.arg,ae.delegate=null,m;if(de=de.arg,!de)return ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,m;{if(!de.done)return de;ae[ne.resultName]=de.value,ae.next=ne.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=u)}return ae.delegate=null,m}(se,C),se)){if(se===m)continue;return se}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(L===a)throw L=y,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);if(L=d,se=o(Z,G,C),se.type==="normal"){if(L=C.done?y:c,se.arg!==m)return{value:se.arg,done:C.done}}else se.type==="throw"&&(L=y,C.method="throw",C.arg=se.arg)}}),D}function o(W,N,z){try{return{type:"normal",arg:W.call(N,z)}}catch(Y){return{type:"throw",arg:Y}}}f.wrap=n;var a="suspendedStart",c="suspendedYield",d="executing",y="completed",m={};function g(){}function b(){}function w(){}var _={},S=(_[p]=function(){return this},Object.getPrototypeOf),S=S&&S(S(U([]))),M=(S&&S!==s&&i.call(S,p)&&(_=S),w.prototype=g.prototype=Object.create(_));function k(W){["next","throw","return"].forEach(function(N){W[N]=function(z){return this._invoke(N,z)}})}function T(W){var N;this._invoke=function(z,Y){function Z(){return new Promise(function(G,C){(function L(ce,q,J,te){var se,ce=o(W[ce],W,q);if(ce.type!=="throw")return(q=(se=ce.arg).value)&&typeof q=="object"&&i.call(q,"__await")?Promise.resolve(q.__await).then(function(ne){L("next",ne,J,te)},function(ne){L("throw",ne,J,te)}):Promise.resolve(q).then(function(ne){se.value=ne,J(se)},function(ne){return L("throw",ne,J,te)});te(ce.arg)})(z,Y,G,C)})}return N=N?N.then(Z,Z):Z()}}function A(W){var N={tryLoc:W[0]};1 in W&&(N.catchLoc=W[1]),2 in W&&(N.finallyLoc=W[2],N.afterLoc=W[3]),this.tryEntries.push(N)}function O(W){var N=W.completion||{};N.type="normal",delete N.arg,W.completion=N}function R(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(A,this),this.reset(!0)}function U(W){if(W){var N,z=W[p];if(z)return z.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length))return N=-1,(z=function Y(){for(;++N<W.length;)if(i.call(W,N))return Y.value=W[N],Y.done=!1,Y;return Y.value=u,Y.done=!0,Y}).next=z}return{next:B}}function B(){return{value:u,done:!0}}return(b.prototype=M.constructor=w).constructor=b,w[r]=b.displayName="GeneratorFunction",f.isGeneratorFunction=function(W){return W=typeof W=="function"&&W.constructor,!!W&&(W===b||(W.displayName||W.name)==="GeneratorFunction")},f.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,w):(W.__proto__=w,r in W||(W[r]="GeneratorFunction")),W.prototype=Object.create(M),W},f.awrap=function(W){return{__await:W}},k(T.prototype),T.prototype[h]=function(){return this},f.AsyncIterator=T,f.async=function(W,N,z,Y){var Z=new T(n(W,N,z,Y));return f.isGeneratorFunction(N)?Z:Z.next().then(function(G){return G.done?G.value:Z.next()})},k(M),M[r]="Generator",M[p]=function(){return this},M.toString=function(){return"[object Generator]"},f.keys=function(W){var N,z=[];for(N in W)z.push(N);return z.reverse(),function Y(){for(;z.length;){var Z=z.pop();if(Z in W)return Y.value=Z,Y.done=!1,Y}return Y.done=!0,Y}},f.values=U,R.prototype={constructor:R,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!W)for(var N in this)N.charAt(0)==="t"&&i.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=u)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var N=this;function z(D,q){return G.type="throw",G.arg=W,N.next=D,q&&(N.method="next",N.arg=u),!!q}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var Z=this.tryEntries[Y],G=Z.completion;if(Z.tryLoc==="root")return z("end");if(Z.tryLoc<=this.prev){var C=i.call(Z,"catchLoc"),L=i.call(Z,"finallyLoc");if(C&&L){if(this.prev<Z.catchLoc)return z(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return z(Z.finallyLoc)}else if(C){if(this.prev<Z.catchLoc)return z(Z.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return z(Z.finallyLoc)}}}},abrupt:function(W,N){for(var z=this.tryEntries.length-1;0<=z;--z){var Y=this.tryEntries[z];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var Z=Y;break}}var G=(Z=Z&&(W==="break"||W==="continue")&&Z.tryLoc<=N&&N<=Z.finallyLoc?null:Z)?Z.completion:{};return G.type=W,G.arg=N,Z?(this.method="next",this.next=Z.finallyLoc,m):this.complete(G)},complete:function(W,N){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&N&&(this.next=N),m},finish:function(W){for(var N=this.tryEntries.length-1;0<=N;--N){var z=this.tryEntries[N];if(z.finallyLoc===W)return this.complete(z.completion,z.afterLoc),O(z),m}},catch:function(W){for(var N=this.tryEntries.length-1;0<=N;--N){var z,Y,Z=this.tryEntries[N];if(Z.tryLoc===W)return(z=Z.completion).type==="throw"&&(Y=z.arg,O(Z)),Y}throw new Error("illegal catch attempt")},delegateYield:function(W,N,z){return this.delegate={iterator:U(W),resultName:N,nextLoc:z},this.method==="next"&&(this.arg=u),m}},f}(typeof V=="object"?V.exports:{});try{regeneratorRuntime=V}catch{Function("r","regeneratorRuntime = r")(V)}},{}],245:[function(t,V,E){(function(f){var u,s,i,p,h,r,n,o,a,c;function d(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function y(O){return O=typeof O!="string"?String(O):O}function m(O){var R={next:function(){var U=O.shift();return{done:U===void 0,value:U}}};return s&&(R[Symbol.iterator]=function(){return R}),R}function g(O){this.map={},O instanceof g?O.forEach(function(R,U){this.append(U,R)},this):Array.isArray(O)?O.forEach(function(R){this.append(R[0],R[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(R){this.append(R,O[R])},this)}function b(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function w(O){return new Promise(function(R,U){O.onload=function(){R(O.result)},O.onerror=function(){U(O.error)}})}function _(O){var R=new FileReader,U=w(R);return R.readAsArrayBuffer(O),U}function S(O){var R;return O.slice?O.slice(0):((R=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),R.buffer)}function M(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(i&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(p&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(u&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(h&&i&&n(O))this._bodyArrayBuffer=S(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!h||!ArrayBuffer.prototype.isPrototypeOf(O)&&!o(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=S(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var O=b(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var O,R,U=b(this);if(U)return U;if(this._bodyBlob)return U=this._bodyBlob,O=new FileReader,R=w(O),O.readAsText(U),R;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var W=new Uint8Array(B),N=new Array(W.length),z=0;z<W.length;z++)N[z]=String.fromCharCode(W[z]);return N.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(O,R){var U,B=(R=R||{}).body;if(O instanceof k){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,R.headers||(this.headers=new g(O.headers)),this.method=O.method,this.mode=O.mode,B||O._bodyInit==null||(B=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=R.credentials||this.credentials||"omit",!R.headers&&this.headers||(this.headers=new g(R.headers)),this.method=(O=R.method||this.method||"GET",U=O.toUpperCase(),-1<a.indexOf(U)?U:O),this.mode=R.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function T(O){var R=new FormData;return O.trim().split("&").forEach(function(U){var B;U&&(B=(U=U.split("=")).shift().replace(/\+/g," "),U=U.join("=").replace(/\+/g," "),R.append(decodeURIComponent(B),decodeURIComponent(U)))}),R}function A(O,R){R=R||{},this.type="default",this.status=R.status===void 0?200:R.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new g(R.headers),this.url=R.url||"",this._initBody(O)}f.fetch||(u="URLSearchParams"in f,s="Symbol"in f&&"iterator"in Symbol,i="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in f,(h="ArrayBuffer"in f)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(O){return O&&DataView.prototype.isPrototypeOf(O)},o=ArrayBuffer.isView||function(O){return O&&-1<r.indexOf(Object.prototype.toString.call(O))}),g.prototype.append=function(O,R){O=d(O),R=y(R);var U=this.map[O];this.map[O]=U?U+","+R:R},g.prototype.delete=function(O){delete this.map[d(O)]},g.prototype.get=function(O){return O=d(O),this.has(O)?this.map[O]:null},g.prototype.has=function(O){return this.map.hasOwnProperty(d(O))},g.prototype.set=function(O,R){this.map[d(O)]=y(R)},g.prototype.forEach=function(O,R){for(var U in this.map)this.map.hasOwnProperty(U)&&O.call(R,this.map[U],U,this)},g.prototype.keys=function(){var O=[];return this.forEach(function(R,U){O.push(U)}),m(O)},g.prototype.values=function(){var O=[];return this.forEach(function(R){O.push(R)}),m(O)},g.prototype.entries=function(){var O=[];return this.forEach(function(R,U){O.push([U,R])}),m(O)},s&&(g.prototype[Symbol.iterator]=g.prototype.entries),a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},M.call(k.prototype),M.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},A.error=function(){var O=new A(null,{status:0,statusText:""});return O.type="error",O},c=[301,302,303,307,308],A.redirect=function(O,R){if(c.indexOf(R)===-1)throw new RangeError("Invalid status code");return new A(null,{status:R,headers:{location:O}})},f.Headers=g,f.Request=k,f.Response=A,f.fetch=function(O,R){return new Promise(function(U,B){var W=new k(O,R),N=new XMLHttpRequest;N.onload=function(){var z,Y={status:N.status,statusText:N.statusText,headers:(Y=N.getAllResponseHeaders()||"",z=new g,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(C){var C=C.split(":"),L=C.shift().trim();L&&(C=C.join(":").trim(),z.append(L,C))}),z)},Z=(Y.url="responseURL"in N?N.responseURL:Y.headers.get("X-Request-URL"),"response"in N?N.response:N.responseText);U(new A(Z,Y))},N.onerror=function(){B(new TypeError("Network request failed"))},N.ontimeout=function(){B(new TypeError("Network request failed"))},N.open(W.method,W.url,!0),W.credentials==="include"?N.withCredentials=!0:W.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&i&&(N.responseType="blob"),W.headers.forEach(function(z,Y){N.setRequestHeader(Y,z)}),N.send(W._bodyInit===void 0?null:W._bodyInit)})},f.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(t,V,E){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,u=i(t("../core/main")),s=i(t("../color/color_conversion"));function i(r){return r&&r.__esModule?r:{default:r}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],h=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(a){var n,o,a=s.default._rgbaToHSBA(a),c=[(f=a)[0],a[1],a[2]];c[0]!==0&&(c[0]=Math.round(100*c[0]),(a=c[0].toString().split(""))[o=a.length-1]=parseInt(a[o]),a[o]<2.5?a[o]=0:2.5<=a[o]&&a[o]<7.5&&(a[o]=5),a.length===2?(a[0]=parseInt(a[0]),7.5<=a[o]&&(a[o]=0,a[0]=a[0]+1),c[0]=10*a[0]+a[1]):7.5<=a[o]?c[0]=10:c[0]=a[o]),c[2]=c[2]/255;for(var d=c.length-1;1<=d;d--)c[d]<=.25?c[d]=0:.25<c[d]&&c[d]<.75?c[d]=.5:c[d]=1;if(c[0]===0&&c[1]===0&&c[2]===1){for(var y=2;0<=y;y--)f[y]=Math.round(1e4*f[y])/1e4;for(var m=0;m<p.length;m++){if(p[m].h===f[0]&&p[m].s===f[1]&&p[m].b===f[2]){n=p[m].name;break}n="white"}}else for(var g=0;g<h.length;g++)if(h[g].h===c[0]&&h[g].s===c[1]&&h[g].b===c[2]){n=h[g].name;break}return n},t=u.default,E.default=t},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",s="_fallbackDesc",i="_fallbackTable",p="_Label",h="_labelDesc",r="_labelTable";function n(o){if(o==="label"||o==="fallback")throw new Error("description should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")||o.endsWith("?")||o.endsWith("!")||(o+="."),o}f.default.prototype.describe=function(o,a){var c;f.default._validateParameters("describe",arguments),typeof o=="string"&&(c=this.canvas.id,o=n(o),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==o&&(this.descriptions.fallback.innerHTML=o):this._describeHTML("fallback",o),a===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==o&&(this.descriptions.label.innerHTML=o):this._describeHTML("label",o)))},f.default.prototype.describeElement=function(o,a,c){var d,y;f.default._validateParameters("describeElement",arguments),typeof a=="string"&&typeof o=="string"&&(d=this.canvas.id,a=n(a),y=function(m){if(m==="label"||m==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return m.endsWith(".")||m.endsWith(";")||m.endsWith(",")?m=m.replace(/.$/,":"):m.endsWith(":")||(m+=":"),m}(o),o=o.replace(/[^a-zA-Z0-9]/g,""),y='<th scope="row">'.concat(y,"</th><td>").concat(a,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[o]?this.descriptions.fallbackElements[o].innerHTML!==y&&(this.descriptions.fallbackElements[o].innerHTML=y):this._describeElementHTML("fallback",o,y),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[o]?this.descriptions.labelElements[o].innerHTML!==y&&(this.descriptions.labelElements[o].innerHTML=y):this._describeElementHTML("label",o,y)))},f.default.prototype._describeHTML=function(o,a){var c,d=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(d+u))?this.dummyDOM.querySelector("#"+d+i).insertAdjacentHTML("beforebegin",'<p id="'.concat(d+s,'"></p>')):(c='<div id="'.concat(d).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(d).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(d)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(d).concat(s)),this.descriptions.fallback.innerHTML=a):o==="label"&&(this.dummyDOM.querySelector("#".concat(d+p))?this.dummyDOM.querySelector("#".concat(d+r))&&this.dummyDOM.querySelector("#".concat(d+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(d).concat(h,'"></p>')):(c='<div id="'.concat(d).concat(p,'" class="p5Label"><p id="').concat(d).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+d+h),this.descriptions.label.innerHTML=a)},f.default.prototype._describeElementHTML=function(o,a,c){var d,y=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(y+u))?this.dummyDOM.querySelector("#"+y+i)||this.dummyDOM.querySelector("#"+y+s).insertAdjacentHTML("afterend",'<table id="'.concat(y).concat(i,'"><caption>Canvas elements and their descriptions</caption></table>')):(d='<div id="'.concat(y).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(y).concat(i,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+y).innerHTML=d),(d=document.createElement("tr")).id=y+"_fte_"+a,this.dummyDOM.querySelector("#"+y+i).appendChild(d),this.descriptions.fallbackElements[a]=this.dummyDOM.querySelector("#".concat(y).concat("_fte_").concat(a)),this.descriptions.fallbackElements[a].innerHTML=c):o==="label"&&(this.dummyDOM.querySelector("#".concat(y+p))?this.dummyDOM.querySelector("#".concat(y+r))||this.dummyDOM.querySelector("#"+y+h).insertAdjacentHTML("afterend",'<table id="'.concat(y+r,'"></table>')):(d='<div id="'.concat(y).concat(p,'" class="p5Label"><table id="').concat(y).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",d)),(o=document.createElement("tr")).id=y+"_lte_"+a,this.dummyDOM.querySelector("#"+y+r).appendChild(o),this.descriptions.labelElements[a]=this.dummyDOM.querySelector("#".concat(y).concat("_lte_").concat(a)),this.descriptions.labelElements[a].innerHTML=c)},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(f){var u,s,i,p;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(u=this._accessibleOutputs[f],i=function(h,r,n,o){return r="".concat(r," canvas, ").concat(n," by ").concat(o," pixels, contains ").concat(h[0]),r=(h[0]===1?"".concat(r," shape: "):"".concat(r," shapes: ")).concat(h[1]),r}((s=function(h,r){var n,o="",a="",c=0;for(n in r){var d,y=0;for(d in r[n]){var m='<li id="'.concat(h,"shape").concat(c,'">').concat(r[n][d].color," ").concat(n,",");n==="line"?m+=" location = ".concat(r[n][d].pos,", length = ").concat(r[n][d].length," pixels"):(m+=" location = ".concat(r[n][d].pos),n!=="point"&&(m+=", area = ".concat(r[n][d].area," %")),m+="</li>"),o+=m,y++,c++}a=1<y?"".concat(a," ").concat(y," ").concat(n,"s"):"".concat(a," ").concat(y," ").concat(n)}return{numShapes:[c,a],details:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(h,r){var n,o,a,c=0,d="",y=Array.apply(null,Array(10)).map(function(){});for(n in y)y[n]=Array.apply(null,Array(10)).map(function(){});for(o in r)for(var m in r[o]){var g=void 0;g=o!=="line"?'<a href="#'.concat(h,"shape").concat(c,'">').concat(r[o][m].color," ").concat(o,"</a>"):'<a href="#'.concat(h,"shape").concat(c,'">').concat(r[o][m].color," ").concat(o," midpoint</a>"),y[r[o][m].loc.locY][r[o][m].loc.locX]?y[r[o][m].loc.locY][r[o][m].loc.locX]=y[r[o][m].loc.locY][r[o][m].loc.locX]+"  "+g:y[r[o][m].loc.locY][r[o][m].loc.locX]=g,c++}for(a in y){var b,w="<tr>";for(b in y[a])w+="<td>",y[a][b]!==void 0&&(w+=y[a][b]),w+="</td>";d=d+w+"</tr>"}return d}(f,this.ingredients.shapes),i!==u.summary.innerHTML&&(u.summary.innerHTML=i),p!==u.map.innerHTML&&(u.map.innerHTML=p),s.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=s.details),this._accessibleOutputs[f]=u)},t=t.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,p,h){return i[0]<.4*p?i[1]<.4*h?"top left":i[1]>.6*h?"bottom left":"mid left":i[0]>.6*p?i[1]<.4*h?"top right":i[1]>.6*h?"bottom right":"mid right":i[1]<.4*h?"top middle":i[1]>.6*h?"bottom middle":"middle"}function s(i,p,h){return p=Math.floor(i[0]/p*10),i=Math.floor(i[1]/h*10),p===10&&(p-=1),i===10&&(i-=1),{locX:p,locY:i}}f.default.prototype.textOutput=function(i){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),i===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(i){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),i===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(i,p){var h,r,n,o=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");p==="Fallback"?(h=o+i,this.dummyDOM.querySelector("#".concat(r=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(h=o+i+(a=p),this.dummyDOM.querySelector("#".concat(r=o+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[h]={},i==="textOutput"?(a="#".concat(o,"gridOutput").concat(a),n='<div id="'.concat(h,'">Text Output<div id="').concat(h,'Summary" aria-label="text output summary"><p id="').concat(h,'_summary"></p><ul id="').concat(h,'_list"></ul></div><table id="').concat(h,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[h].list=this.dummyDOM.querySelector("#".concat(h,"_list"))):i==="gridOutput"&&(a="#".concat(o,"textOutput").concat(a),n='<div id="'.concat(h,'">Grid Output<p id="').concat(h,'_summary" aria-label="grid output summary"><table id="').concat(h,'_map" summary="grid output content"></table><ul id="').concat(h,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[h].map=this.dummyDOM.querySelector("#".concat(h,"_map"))),this._accessibleOutputs[h].shapeDetails=this.dummyDOM.querySelector("#".concat(h,"_shapeDetails")),this._accessibleOutputs[h].summary=this.dummyDOM.querySelector("#".concat(h,"_summary"))},f.default.prototype._updateAccsOutput=function(){var i=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(i+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(i+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(i+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(i+"gridOutputLabel"))},f.default.prototype._accsBackground=function(i){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==i&&(this.ingredients.colors.backgroundRGBA=i,this.ingredients.colors.background=this._rgbColorName(i))},f.default.prototype._accsCanvasColors=function(i,p){i==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):i==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},f.default.prototype._accsOutput=function(i,p){i==="ellipse"&&p[2]===p[3]?i="circle":i==="rectangle"&&p[2]===p[3]&&(i="square");var h,r,n={},o=!0,a=function(d,y){var m;return d=d==="rectangle"||d==="ellipse"||d==="arc"||d==="circle"||d==="square"?(m=Math.round(y[0]+y[2]/2),Math.round(y[1]+y[3]/2)):d==="triangle"?(m=(y[0]+y[2]+y[4])/3,(y[1]+y[3]+y[5])/3):d==="quadrilateral"?(m=(y[0]+y[2]+y[4]+y[6])/4,(y[1]+y[3]+y[5]+y[7])/4):d==="line"?(m=(y[0]+y[2])/2,(y[1]+y[3])/2):(m=y[0],y[1]),[m,d]}(i,p);if(i==="line"?(n.color=this.ingredients.colors.stroke,n.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),h=u([p[0],[1]],this.width,this.height),r=u([p[2],[3]],this.width,this.height),n.loc=s(a,this.width,this.height),n.pos=h===r?"at ".concat(h):"from ".concat(h," to ").concat(r)):(i==="point"?n.color=this.ingredients.colors.stroke:(n.color=this.ingredients.colors.fill,n.area=function(d,y,m,g){var b=0;{var w,_,S,M,k,T,A;d==="arc"?(w=((y[5]-y[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),b=w*y[2]*y[3]/8,y[6]!=="open"&&y[6]!=="chord"||(A=y[0],_=y[1],S=y[0]+y[2]/2*Math.cos(y[4]).toFixed(2),M=y[1]+y[3]/2*Math.sin(y[4]).toFixed(2),k=y[0]+y[2]/2*Math.cos(y[5]).toFixed(2),T=y[1]+y[3]/2*Math.sin(y[5]).toFixed(2),A=Math.abs(A*(M-T)+S*(T-_)+k*(_-M))/2,w>Math.PI?b+=A:b-=A)):d==="ellipse"||d==="circle"?b=3.14*y[2]/2*y[3]/2:d==="line"||d==="point"?b=0:d==="quadrilateral"?b=Math.abs((y[6]+y[0])*(y[7]-y[1])+(y[0]+y[2])*(y[1]-y[3])+(y[2]+y[4])*(y[3]-y[5])+(y[4]+y[6])*(y[5]-y[7]))/2:d==="rectangle"||d==="square"?b=y[2]*y[3]:d==="triangle"&&(b=Math.abs(y[0]*(y[3]-y[5])+y[2]*(y[5]-y[1])+y[4]*(y[1]-y[3]))/2)}return Math.round(100*b/(m*g))}(i,p,this.width,this.height)),n.pos=u(a,this.width,this.height),n.loc=s(a,this.width,this.height)),this.ingredients.shapes[i]){if(this.ingredients.shapes[i]!==[n]){for(var c in this.ingredients.shapes[i])JSON.stringify(this.ingredients.shapes[i][c])===JSON.stringify(n)&&(o=!1);o===!0&&this.ingredients.shapes[i].push(n)}}else this.ingredients.shapes[i]=[n]},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(f){var u,s,i,p;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(u=this._accessibleOutputs[f],i=function(h,r,n,o){return n="Your output is a, ".concat(n," by ").concat(o," pixels, ").concat(r," canvas containing the following"),n=h===1?"".concat(n," shape:"):"".concat(n," ").concat(h," shapes:"),n}((s=function(h,r){var n,o="",a=0;for(n in r)for(var c in r[n]){var d='<li><a href="#'.concat(h,"shape").concat(a,'">').concat(r[n][c].color," ").concat(n,"</a>");n==="line"?d+=", ".concat(r[n][c].pos,", ").concat(r[n][c].length," pixels long.</li>"):(d+=", at ".concat(r[n][c].pos),n!=="point"&&(d+=", covering ".concat(r[n][c].area,"% of the canvas")),d+=".</li>"),o+=d,a++}return{numShapes:a,listShapes:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(h,r){var n,o="",a=0;for(n in r)for(var c in r[n]){var d='<tr id="'.concat(h,"shape").concat(a,'"><th>').concat(r[n][c].color," ").concat(n,"</th>");n==="line"?d+="<td>location = ".concat(r[n][c].pos,"</td><td>length = ").concat(r[n][c].length," pixels</td></tr>"):(d+="<td>location = ".concat(r[n][c].pos,"</td>"),n!=="point"&&(d+="<td> area = ".concat(r[n][c].area,"%</td>")),d+="</tr>"),o+=d,a++}return o}(f,this.ingredients.shapes),i!==u.summary.innerHTML&&(u.summary.innerHTML=i),s.listShapes!==u.list.innerHTML&&(u.list.innerHTML=s.listShapes),p!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=p),this._accessibleOutputs[f]=u)},t=t.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(t,V,E){var f=(f=t("./core/main"))&&f.__esModule?f:{default:f};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),V.exports=f.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(f){var u=f[0],s=f[1],i=f[2],p=(2-s)*i/2;return p!=0&&(p==1?s=0:p<.5?s/=2-s:s=s*i/(2-2*p)),[u,s,p,f[3]]},t.default.ColorConversion._hsbaToRGBA=function(f){var u,s,i,p,h,r=6*f[0],n=f[1],o=f[2];return n===0?[o,o,o,f[3]]:(s=o*(1-n),i=o*(1-n*(r-(u=Math.floor(r)))),n=o*(1-n*(1+u-r)),r=u===1?(p=i,h=o,s):u===2?(p=s,h=o,n):u===3?(p=s,h=i,o):u===4?(p=n,h=s,o):u===5?(p=o,h=s,i):(p=o,h=n,s),[p,h,r,f[3]])},t.default.ColorConversion._hslaToHSBA=function(f){var u=f[0],s=f[1],i=f[2],p=i<.5?(1+s)*i:i+s-i*s;return[u,s=2*(p-i)/p,p,f[3]]},t.default.ColorConversion._hslaToRGBA=function(f){var u,s=6*f[0],i=f[1],p=f[2];return i===0?[p,p,p,f[3]]:[(u=function(h,r,n){return h<0?h+=6:6<=h&&(h-=6),h<1?r+(n-r)*h:h<3?n:h<4?r+(n-r)*(4-h):r})(2+s,i=2*p-(p=p<.5?(1+i)*p:p+i-p*i),p),u(s,i,p),u(s-2,i,p),f[3]]},t.default.ColorConversion._rgbaToHSBA=function(f){var u,s,i=f[0],p=f[1],h=f[2],r=Math.max(i,p,h),n=r-Math.min(i,p,h);return n==0?s=u=0:(s=n/r,i===r?u=(p-h)/n:p===r?u=2+(h-i)/n:h===r&&(u=4+(i-p)/n),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,r,f[3]]},t.default.ColorConversion._rgbaToHSLA=function(f){var u,s,i=f[0],p=f[1],h=f[2],r=Math.max(i,p,h),o=Math.min(i,p,h),n=r+o,o=r-o;return o==0?s=u=0:(s=n<1?o/n:o/(2-n),i===r?u=(p-h)/o:p===r?u=2+(h-i)/o:h===r&&(u=4+(i-p)/o),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,n/2,f[3]]},t=t.default.ColorConversion,E.default=t},{"../core/main":267}],253:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(r){return s.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},s.default.prototype.blue=function(r){return s.default._validateParameters("blue",arguments),this.color(r)._getBlue()},s.default.prototype.brightness=function(r){return s.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},s.default.prototype.color=function(){var r;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(r=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,r))},s.default.prototype.green=function(r){return s.default._validateParameters("green",arguments),this.color(r)._getGreen()},s.default.prototype.hue=function(r){return s.default._validateParameters("hue",arguments),this.color(r)._getHue()},s.default.prototype.lerpColor=function(r,n,o){s.default._validateParameters("lerpColor",arguments);var a,c,d,y=this._colorMode,m=this._colorMaxes;if(y===i.RGB)c=r.levels.map(function(g){return g/255}),d=n.levels.map(function(g){return g/255});else if(y===i.HSB)r._getBrightness(),n._getBrightness(),c=r.hsba,d=n.hsba;else{if(y!==i.HSL)throw new Error("".concat(y,"cannot be used for interpolation."));r._getLightness(),n._getLightness(),c=r.hsla,d=n.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(g,b,w){return w*(b-g)+g}),r=this.lerp(c[0],d[0],o),n=this.lerp(c[1],d[1],o),a=this.lerp(c[2],d[2],o),c=this.lerp(c[3],d[3],o),r*=m[y][0],n*=m[y][1],a*=m[y][2],c*=m[y][3],this.color(r,n,a,c)},s.default.prototype.lightness=function(r){return s.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},s.default.prototype.red=function(r){return s.default._validateParameters("red",arguments),this.color(r)._getRed()},s.default.prototype.saturation=function(r){return s.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var h=s.default;E.default=h},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(o,V,E){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function u(m){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(g){return f(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(m)}o("core-js/modules/es.symbol"),o("core-js/modules/es.symbol.description"),o("core-js/modules/es.symbol.iterator"),o("core-js/modules/es.array.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.get-own-property-descriptor"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.iterator"),o("core-js/modules/es.string.trim"),o("core-js/modules/es.weak-map"),o("core-js/modules/web.dom-collections.iterator"),o("core-js/modules/es.array.join"),o("core-js/modules/es.array.map"),o("core-js/modules/es.array.slice"),o("core-js/modules/es.object.to-string"),o("core-js/modules/es.regexp.constructor"),o("core-js/modules/es.regexp.exec"),o("core-js/modules/es.regexp.to-string"),o("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=r(o("../core/main")),i=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var g=h();if(g&&g.has(m))return g.get(m);var b,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var S;Object.prototype.hasOwnProperty.call(m,b)&&((S=_?Object.getOwnPropertyDescriptor(m,b):null)&&(S.get||S.set)?Object.defineProperty(w,b,S):w[b]=m[b])}return w.default=m,g&&g.set(m,w),w}(o("../core/constants")),p=r(o("./color_conversion"));function h(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,h=function(){return m},m)}function r(m){return m&&m.__esModule?m:{default:m}}s.default.Color=function(m,g){if(this._storeModeAndMaxes(m._colorMode,m._colorMaxes),this.mode!==i.RGB&&this.mode!==i.HSL&&this.mode!==i.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=s.default.Color._parseInputs.apply(this,g),this._calculateLevels(),this},s.default.Color.prototype.toString=function(m){var g=this.levels,b=this._array,w=b[3];switch(m){case"#rrggbb":return"#".concat(g[0]<16?"0".concat(g[0].toString(16)):g[0].toString(16),g[1]<16?"0".concat(g[1].toString(16)):g[1].toString(16),g[2]<16?"0".concat(g[2].toString(16)):g[2].toString(16));case"#rrggbbaa":return"#".concat(g[0]<16?"0".concat(g[0].toString(16)):g[0].toString(16),g[1]<16?"0".concat(g[1].toString(16)):g[1].toString(16),g[2]<16?"0".concat(g[2].toString(16)):g[2].toString(16),g[3]<16?"0".concat(g[3].toString(16)):g[3].toString(16));case"#rgb":return"#".concat(Math.round(15*b[0]).toString(16),Math.round(15*b[1]).toString(16),Math.round(15*b[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*b[0]).toString(16),Math.round(15*b[1]).toString(16),Math.round(15*b[2]).toString(16),Math.round(15*b[3]).toString(16));case"rgb":return"rgb(".concat(g[0],", ",g[1],", ",g[2],")");case"rgb%":return"rgb(".concat((100*b[0]).toPrecision(3),"%, ",(100*b[1]).toPrecision(3),"%, ",(100*b[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*b[0]).toPrecision(3),"%, ",(100*b[1]).toPrecision(3),"%, ",(100*b[2]).toPrecision(3),"%, ",(100*b[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],", ",w,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*w).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],", ",w,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*w).toPrecision(3),"%)");default:return"rgba(".concat(g[0],",",g[1],",",g[2],",",w,")")}},s.default.Color.prototype.setRed=function(m){this._array[0]=m/this.maxes[i.RGB][0],this._calculateLevels()},s.default.Color.prototype.setGreen=function(m){this._array[1]=m/this.maxes[i.RGB][1],this._calculateLevels()},s.default.Color.prototype.setBlue=function(m){this._array[2]=m/this.maxes[i.RGB][2],this._calculateLevels()},s.default.Color.prototype.setAlpha=function(m){this._array[3]=m/this.maxes[this.mode][3],this._calculateLevels()},s.default.Color.prototype._calculateLevels=function(){for(var m=this._array,g=this.levels=new Array(m.length),b=m.length-1;0<=b;--b)g[b]=Math.round(255*m[b]);this.hsla=null,this.hsba=null},s.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},s.default.Color.prototype._storeModeAndMaxes=function(m,g){this.mode=m,this.maxes=g},s.default.Color.prototype._getMode=function(){return this.mode},s.default.Color.prototype._getMaxes=function(){return this.maxes},s.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[i.RGB][2]},s.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[i.HSB][2]},s.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[i.RGB][1]},s.default.Color.prototype._getHue=function(){return this.mode===i.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[i.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[i.HSL][0])},s.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[i.HSL][2]},s.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[i.RGB][0]},s.default.Color.prototype._getSaturation=function(){return this.mode===i.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[i.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[i.HSL][1])};var n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},o=/\s*/,y=/(\d{1,3})/,a=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,c=new RegExp("".concat(a.source,"%")),d={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",y.source,",",y.source,",",y.source,"\\)$"].join(o.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),RGBA:new RegExp(["^rgba\\(",y.source,",",y.source,",",y.source,",",a.source,"\\)$"].join(o.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",a.source,"\\)$"].join(o.source),"i"),HSL:new RegExp(["^hsl\\(",y.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),HSLA:new RegExp(["^hsla\\(",y.source,",",c.source,",",c.source,",",a.source,"\\)$"].join(o.source),"i"),HSB:new RegExp(["^hsb\\(",y.source,",",c.source,",",c.source,"\\)$"].join(o.source),"i"),HSBA:new RegExp(["^hsba\\(",y.source,",",c.source,",",c.source,",",a.source,"\\)$"].join(o.source),"i")},y=(s.default.Color._parseInputs=function(m,g,b,w){var _,S=arguments.length,M=this.mode,k=this.maxes[M],T=[];if(3<=S){for(T[0]=m/k[0],T[1]=g/k[1],T[2]=b/k[2],T[3]=typeof w=="number"?w/k[3]:1,_=T.length-1;0<=_;--_){var A=T[_];A<0?T[_]=0:1<A&&(T[_]=1)}return M===i.HSL?p.default._hslaToRGBA(T):M===i.HSB?p.default._hsbaToRGBA(T):T}if(S===1&&typeof m=="string"){if(b=m.trim().toLowerCase(),n[b])return s.default.Color._parseInputs.call(this,n[b]);if(d.HEX3.test(b))return(T=d.HEX3.exec(b).slice(1).map(function(O){return parseInt(O+O,16)/255}))[3]=1,T;if(d.HEX6.test(b))return(T=d.HEX6.exec(b).slice(1).map(function(O){return parseInt(O,16)/255}))[3]=1,T;if(d.HEX4.test(b))return T=d.HEX4.exec(b).slice(1).map(function(O){return parseInt(O+O,16)/255});if(d.HEX8.test(b))return T=d.HEX8.exec(b).slice(1).map(function(O){return parseInt(O,16)/255});if(d.RGB.test(b))return(T=d.RGB.exec(b).slice(1).map(function(O){return O/255}))[3]=1,T;if(d.RGB_PERCENT.test(b))return(T=d.RGB_PERCENT.exec(b).slice(1).map(function(O){return parseFloat(O)/100}))[3]=1,T;if(d.RGBA.test(b))return T=d.RGBA.exec(b).slice(1).map(function(O,R){return R===3?parseFloat(O):O/255});if(d.RGBA_PERCENT.test(b))return T=d.RGBA_PERCENT.exec(b).slice(1).map(function(O,R){return R===3?parseFloat(O):parseFloat(O)/100});if(d.HSL.test(b)?(T=d.HSL.exec(b).slice(1).map(function(O,R){return R===0?parseInt(O,10)/360:parseInt(O,10)/100}))[3]=1:d.HSLA.test(b)&&(T=d.HSLA.exec(b).slice(1).map(function(O,R){return R===0?parseInt(O,10)/360:R===3?parseFloat(O):parseInt(O,10)/100})),(T=T.map(function(O){return Math.max(Math.min(O,1),0)})).length)return p.default._hslaToRGBA(T);if(d.HSB.test(b)?(T=d.HSB.exec(b).slice(1).map(function(O,R){return R===0?parseInt(O,10)/360:parseInt(O,10)/100}))[3]=1:d.HSBA.test(b)&&(T=d.HSBA.exec(b).slice(1).map(function(O,R){return R===0?parseInt(O,10)/360:R===3?parseFloat(O):parseInt(O,10)/100})),T.length){for(_=T.length-1;0<=_;--_)T[_]=Math.max(Math.min(T[_],1),0);return p.default._hsbaToRGBA(T)}T=[1,1,1,1]}else{if(S!==1&&S!==2||typeof m!="number")throw new Error("".concat(arguments,"is not a valid color representation."));T[0]=m/k[2],T[1]=m/k[2],T[2]=m/k[2],T[3]=typeof g=="number"?g/k[3]:1,T=T.map(function(O){return Math.max(Math.min(O,1),0)})}return T},s.default.Color);E.default=y},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Color"),s.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(r,n,o,a,c){return s.default._validateParameters("colorMode",arguments),r!==i.RGB&&r!==i.HSB&&r!==i.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=n,r[1]=n,r[2]=n,r[3]=n):arguments.length===4?(r[0]=n,r[1]=o,r[2]=a):arguments.length===5&&(r[0]=n,r[1]=o,r[2]=a,r[3]=c)),this},s.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var h=s.default;E.default=h},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.BEZIER=E.QUADRATIC=E.LINEAR=E._CTX_MIDDLE=E._DEFAULT_LEADMULT=E._DEFAULT_TEXT_FILL=E.WORD=E.CHAR=E.BOLDITALIC=E.BOLD=E.ITALIC=E.NORMAL=E.BLUR=E.ERODE=E.DILATE=E.POSTERIZE=E.INVERT=E.OPAQUE=E.GRAY=E.THRESHOLD=E.BURN=E.DODGE=E.SOFT_LIGHT=E.HARD_LIGHT=E.OVERLAY=E.REPLACE=E.SCREEN=E.MULTIPLY=E.EXCLUSION=E.SUBTRACT=E.DIFFERENCE=E.LIGHTEST=E.DARKEST=E.ADD=E.REMOVE=E.BLEND=E.UP_ARROW=E.TAB=E.SHIFT=E.RIGHT_ARROW=E.RETURN=E.OPTION=E.LEFT_ARROW=E.ESCAPE=E.ENTER=E.DOWN_ARROW=E.DELETE=E.CONTROL=E.BACKSPACE=E.ALT=E.AUTO=E.HSL=E.HSB=E.RGB=E.MITER=E.BEVEL=E.ROUND=E.SQUARE=E.PROJECT=E.PIE=E.CHORD=E.OPEN=E.CLOSE=E.TESS=E.QUAD_STRIP=E.QUADS=E.TRIANGLE_STRIP=E.TRIANGLE_FAN=E.TRIANGLES=E.LINE_LOOP=E.LINE_STRIP=E.LINES=E.POINTS=E.BASELINE=E.BOTTOM=E.TOP=E.CENTER=E.LEFT=E.RIGHT=E.RADIUS=E.CORNERS=E.CORNER=E.RAD_TO_DEG=E.DEG_TO_RAD=E.RADIANS=E.DEGREES=E.TWO_PI=E.TAU=E.QUARTER_PI=E.PI=E.HALF_PI=E.WAIT=E.TEXT=E.MOVE=E.HAND=E.CROSS=E.ARROW=E.WEBGL=E.P2D=E.VERSION=void 0,E.COVER=E.CONTAIN=E.FALLBACK=E.LABEL=E.AXES=E.GRID=E._DEFAULT_FILL=E._DEFAULT_STROKE=E.PORTRAIT=E.LANDSCAPE=E.MIRROR=E.CLAMP=E.REPEAT=E.NEAREST=E.IMAGE=E.IMMEDIATE=E.TEXTURE=E.FILL=E.STROKE=E.CURVE=void 0;var f=Math.PI,u=(E.VERSION="1.6.0",E.P2D="p2d",E.WEBGL="webgl",E.ARROW="default",E.CROSS="crosshair",E.HAND="pointer",E.MOVE="move",E.TEXT="text",E.WAIT="wait",f/2),u=(E.HALF_PI=u,f),u=(E.PI=u,f/4),u=(E.QUARTER_PI=u,2*f),u=(E.TAU=u,2*f),u=(E.TWO_PI=u,E.DEGREES="degrees",E.RADIANS="radians",f/180),u=(E.DEG_TO_RAD=u,180/f);E.RAD_TO_DEG=u,E.CORNER="corner",E.CORNERS="corners",E.RADIUS="radius",E.RIGHT="right",E.LEFT="left",E.CENTER="center",E.TOP="top",E.BOTTOM="bottom",E.BASELINE="alphabetic",E.POINTS=0,E.LINES=1,E.LINE_STRIP=3,E.LINE_LOOP=2,E.TRIANGLES=4,E.TRIANGLE_FAN=6,E.TRIANGLE_STRIP=5,E.QUADS="quads",E.QUAD_STRIP="quad_strip",E.TESS="tess",E.CLOSE="close",E.OPEN="open",E.CHORD="chord",E.PIE="pie",E.PROJECT="square",E.SQUARE="butt",E.ROUND="round",E.BEVEL="bevel",E.MITER="miter",E.RGB="rgb",E.HSB="hsb",E.HSL="hsl",E.AUTO="auto",E.ALT=18,E.BACKSPACE=8,E.CONTROL=17,E.DELETE=46,E.DOWN_ARROW=40,E.ENTER=13,E.ESCAPE=27,E.LEFT_ARROW=37,E.OPTION=18,E.RETURN=13,E.RIGHT_ARROW=39,E.SHIFT=16,E.TAB=9,E.UP_ARROW=38,E.BLEND="source-over",E.REMOVE="destination-out",E.ADD="lighter",E.DARKEST="darken",E.LIGHTEST="lighten",E.DIFFERENCE="difference",E.SUBTRACT="subtract",E.EXCLUSION="exclusion",E.MULTIPLY="multiply",E.SCREEN="screen",E.REPLACE="copy",E.OVERLAY="overlay",E.HARD_LIGHT="hard-light",E.SOFT_LIGHT="soft-light",E.DODGE="color-dodge",E.BURN="color-burn",E.THRESHOLD="threshold",E.GRAY="gray",E.OPAQUE="opaque",E.INVERT="invert",E.POSTERIZE="posterize",E.DILATE="dilate",E.ERODE="erode",E.BLUR="blur",E.NORMAL="normal",E.ITALIC="italic",E.BOLD="bold",E.BOLDITALIC="bold italic",E.CHAR="CHAR",E.WORD="WORD",E._DEFAULT_TEXT_FILL="#000000",E._DEFAULT_LEADMULT=1.25,E._CTX_MIDDLE="middle",E.LINEAR="linear",E.QUADRATIC="quadratic",E.BEZIER="bezier",E.CURVE="curve",E.STROKE="stroke",E.FILL="fill",E.TEXTURE="texture",E.IMMEDIATE="immediate",E.IMAGE="image",E.NEAREST="nearest",E.REPEAT="repeat",E.CLAMP="clamp",E.MIRROR="mirror",E.LANDSCAPE="landscape",E.PORTRAIT="portrait",E._DEFAULT_STROKE="#000000",E._DEFAULT_FILL="#FFFFFF",E.GRID="grid",E.AXES="axes",E.LABEL="label",E.FALLBACK="fallback",E.CONTAIN="contain",E.COVER="cover"},{}],257:[function(t,V,E){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function u(a){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(i=t("./main"))&&i.__esModule?i:{default:i},i=function(a){if(a&&a.__esModule)return a;if(a===null||u(a)!=="object"&&typeof a!="function")return{default:a};var c=p();if(c&&c.has(a))return c.get(a);var d,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var g;Object.prototype.hasOwnProperty.call(a,d)&&((g=m?Object.getOwnPropertyDescriptor(a,d):null)&&(g.get||g.set)?Object.defineProperty(y,d,g):y[d]=a[d])}return y.default=a,c&&c.set(a,y),y}(t("./constants"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}var h=[i.ARROW,i.CROSS,i.HAND,i.MOVE,i.TEXT,i.WAIT],r=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print);function n(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function o(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var a;arguments.length?(a=console).log.apply(a,arguments):r()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(a,c,d){var y,m="auto",g=this._curElement.elt;h.includes(a)?m=a:typeof a=="string"&&(y="",c&&d&&typeof c=="number"&&typeof d=="number"&&(y="".concat(c," ").concat(d)),m=a.substring(0,7)==="http://"||a.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(a)?"url(".concat(a,") ").concat(y,", auto"):a),g.style.cursor=m},s.default.prototype.frameRate=function(a){return s.default._validateParameters("frameRate",arguments),typeof a!="number"||a<0?this._frameRate:(this._setProperty("_targetFrameRate",a),a===0&&this._setProperty("_frameRate",a),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(a){return this.frameRate(a)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=n(),s.default.prototype.windowHeight=o(),s.default.prototype._onresize=function(a){this._setProperty("windowWidth",n()),this._setProperty("windowHeight",o());var c=this._isGlobal?window:this;typeof c.windowResized!="function"||(c=c.windowResized(a))===void 0||c||a.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(a){if(s.default._validateParameters("fullscreen",arguments),a===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(a){if(a=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(a){var c;return s.default._validateParameters("pixelDensity",arguments),typeof a=="number"?(a!==this._pixelDensity&&(this._pixelDensity=a),(c=this).resizeCanvas(this.width,this.height,!0)):c=this._pixelDensity,c},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(a){return a!==""})},s.default.prototype.getURLParams=function(){for(var a,c=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,d={};(a=c.exec(location.search))!=null;)a.index===c.lastIndex&&c.lastIndex++,d[a[1]]=a[2];return d},t=s.default,E.default=t},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(h=t("../main"))&&h.__esModule?h:{default:h};t("../internationalization");function u(r,n){n=n||console.log.bind(console),s||p(),s.some(function(o){var a;if(r.message&&r.message.match("\\W?".concat(o.name,"\\W"))!==null)return a=o.type==="function"?"".concat(o.name,"()"):o.name,n("Did you just try to use p5.js's ".concat(a," ").concat(o.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(i)),!0})}var s=null,p=null,i=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function r(o){return Object.getOwnPropertyNames(o).filter(function(a){return a[0]!=="_"&&!(a in n)&&(n[a]=!0)}).map(function(a){var c=typeof o[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable";return{name:a,type:c}})}var n={};(s=[].concat(r(f.default.prototype),r(t("../constants")))).sort(function(o,a){return a.name.length-o.name.length})},h=(f.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),f.default);E.default=h},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};t("../internationalization"),f.default._friendlyFileLoadError=function(){},t=f.default,E.default=t},{"../internationalization":265,"../main":267}],260:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=h(t("../main"));t("../internationalization"),p(t("../constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&((c=y?Object.getOwnPropertyDescriptor(n,a):null)&&(c.get||c.set)?Object.defineProperty(d,a,c):d[a]=n[a]);return d.default=n,o&&o.set(n,d),d}function h(n){return n&&n.__esModule?n:{default:n}}s.default._fesCodeReader=function(){};var r=s.default;E.default=r},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(t,V,E){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function f(){var u=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(s)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(h){return!!h.match(s)},this).map(function(h){var r=(h=-1<h.indexOf("(eval ")?h.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):h).replace(/^\s+/,"").replace(/\(eval code/g,"("),n=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=n?r.replace(n[0],""):r).split(/\s+/).slice(1),n=this.extractLocation(n?n[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(h){return!h.match(i)},this).map(function(h){var r,n;return(h=-1<h.indexOf(" > eval")?h.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):h).indexOf("@")===-1&&h.indexOf(":")===-1?{functionName:h}:{functionName:(n=h.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&n[1]?n[1]:void 0,fileName:(n=this.extractLocation(h.replace(r,"")))[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var h=/Line (\d+).*script (?:in )?(\S+)/i,r=p.message.split(`
`),n=[],o=2,a=r.length;o<a;o+=2){var c=h.exec(r[o]);c&&n.push({fileName:c[2],lineNumber:c[1],source:r[o]})}return n},parseOpera10:function(p){for(var h=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=p.stacktrace.split(`
`),n=[],o=0,a=r.length;o<a;o+=2){var c=h.exec(r[o]);c&&n.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:r[o]})}return n},parseOpera11:function(p){return p.stack.split(`
`).filter(function(h){return!!h.match(u)&&!h.match(/^Error created at/)},this).map(function(h){var r,o=h.split("@"),n=this.extractLocation(o.pop()),o=o.shift()||"";return{functionName:o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=o.match(/\(([^)]*)\)/)?o.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)}}}t.default._getErrorStackParser=function(){return new f},t=t.default,E.default=t},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(p){if(!(p&&p.__esModule)&&!(p===null||i(p)!=="object"&&typeof p!="function")){var h=s();if(h&&h.has(p))return h.get(p);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in p){var a;Object.prototype.hasOwnProperty.call(p,r)&&((a=o?Object.getOwnPropertyDescriptor(p,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=p[r])}n.default=p,h&&h.set(p,n)}})(t("../constants")),t("../internationalization");function s(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,s=function(){return p},p)}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,E.default=t},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function u(p){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var h=i();if(h&&h.has(p))return h.get(p);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in p){var a;Object.prototype.hasOwnProperty.call(p,r)&&((a=o?Object.getOwnPropertyDescriptor(p,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=p[r])}return n.default=p,h&&h.set(p,n),n}(t("./constants"));function i(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,i=function(){return p},p)}E.default={modeAdjust:function(p,h,r,n,o){return o===s.CORNER?{x:p,y:h,w:r,h:n}:o===s.CORNERS?{x:p,y:h,w:r-p,h:n-h}:o===s.RADIUS?{x:p-r,y:h-n,w:2*r,h:2*n}:o===s.CENTER?{x:p-.5*r,y:h-.5*n,w:r,h:n}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(t,V,E){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(s,i){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),u]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!f.default.instance&&new f.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(t,V,E){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.setTranslatorLanguage=E.currentTranslatorLanguage=E.availableTranslatorLanguages=E.initialize=E.translator=void 0;var f,u,s=p(t("i18next")),i=p(t("i18next-browser-languagedetector"));function p(n){return n&&n.__esModule?n:{default:n}}function h(n,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}var r=function(){function n(c,d){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.init(c,d)}var o,a;return o=n,(a=[{key:"fetchWithTimeout",value:function(c,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(c,d),new Promise(function(m,g){return setTimeout(function(){return g(new Error("timeout"))},y)})])}},{key:"init",value:function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=c,this.options=d}},{key:"read",value:function(c,d,y){var m=this.options.loadPath;c===this.options.fallback?y(null,f[c][d]):u.includes(c)?(m=this.services.interpolator.interpolate(m,{lng:c,ns:d}),this.loadUrl(m,y)):y("Not found",!1)}},{key:"loadUrl",value:function(c,d){this.fetchWithTimeout(c).then(function(y){if(y.ok)return y.json();throw new Error("failed loading ".concat(c))},function(){throw new Error("failed loading ".concat(c))}).then(function(y){return d(null,y)}).catch(d)}}])&&h(o.prototype,a),n}();r.type="backend",E.translator=function(n,o){console.debug("p5.js translator called before translations were loaded"),s.default.t(n,o)},E.initialize=function(){return s.default.use(i.default).use(r).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(n){E.translator=n},function(n){return console.debug("Translations failed to load (".concat(n,")"))})},E.availableTranslatorLanguages=function(){return s.default.languages},E.currentTranslatorLanguage=function(n){return s.default.language},E.setTranslatorLanguage=function(n){return s.default.changeLanguage(n||void 0,function(o){return console.debug("Translations failed to load (".concat(o,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,E.default=t},{"./main":267}],267:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t("./shim");var s=function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("./constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}var h,r=function(){function n(c,g,y){var m=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=g,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var g=Object.getOwnPropertyNames(n.prototype._registeredMethods),b=!0,w=!1,_=void 0;try{for(var S,M=g[Symbol.iterator]();!(b=(S=M.next()).done);b=!0){var k=S.value;this._registeredMethods[k]=n.prototype._registeredMethods[k].slice()}}catch(z){w=!0,_=z}finally{try{b||M.return==null||M.return()}finally{if(w)throw _}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){m._userNode&&typeof m._userNode=="string"&&(m._userNode=document.getElementById(m._userNode));var z=m._isGlobal?window:m;if(z.preload){var Y,Z=document.getElementById(m._loadingScreenId),G=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=m._loadingScreenId,(m._userNode||document.body).appendChild(Z)),m._preloadMethods);for(Y in G){G[Y]=G[Y]||n;var C=G[Y];C!==n.prototype&&C!==n||(m._isGlobal&&(window[Y]=m._wrapPreload(m,Y)),C=m),m._registeredPreloadMethods[Y]=C[Y],C[Y]=m._wrapPreload(C,Y)}z.preload(),m._runIfPreloadsAreDone()}else m._setup(),m._recording||m._draw()},this._runIfPreloadsAreDone=function(){var z,Y=this._isGlobal?window:this;Y._preloadCount===0&&((z=document.getElementById(Y._loadingScreenId))&&z.parentNode.removeChild(z),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||typeof z.preload!="function"||(z._setProperty("_preloadCount",z._preloadCount-1),z._runIfPreloadsAreDone())},this._wrapPreload=function(z,Y){var Z=this;return function(){Z._incrementPreload();for(var G=arguments.length,C=new Array(G),L=0;L<G;L++)C[L]=arguments[L];return Z._registeredPreloadMethods[Y].apply(z,C)}},this._incrementPreload=function(){var z=this._isGlobal?window:this;z._preloadDone||z._setProperty("_preloadCount",z._preloadCount+1)},this._setup=function(){m.createCanvas(m._defaultCanvasSize.width,m._defaultCanvasSize.height,"p2d");var z=m._isGlobal?window:m;if(typeof z.preload=="function")for(var Y in m._preloadMethods)z[Y]=m._preloadMethods[Y][Y],z[Y]&&m&&(z[Y]=z[Y].bind(m));m._millisStart=window.performance.now(),z._preloadDone=!0,typeof z.setup=="function"&&z.setup();var Z=document.getElementsByTagName("canvas"),G=!0,C=!1,L=void 0;try{for(var D,q=Z[Symbol.iterator]();!(G=(D=q.next()).done);G=!0){var J=D.value;J.dataset.hidden==="true"&&(J.style.visibility="",delete J.dataset.hidden)}}catch(te){C=!0,L=te}finally{try{G||q.return==null||q.return()}finally{if(C)throw L}}m._lastTargetFrameTime=window.performance.now(),m._lastRealFrameTime=window.performance.now(),m._setupDone=!0,(m._accessibleOutputs.grid||m._accessibleOutputs.text)&&m._updateAccsOutput()},this._draw=function(){var z=window.performance.now(),Y=z-m._lastTargetFrameTime,Z=1e3/m._targetFrameRate;(!m._loop||Z-5<=Y)&&(m.redraw(),m._frameRate=1e3/(z-m._lastRealFrameTime),m.deltaTime=z-m._lastRealFrameTime,m._setProperty("deltaTime",m.deltaTime),m._lastTargetFrameTime=Math.max(m._lastTargetFrameTime+Z,z),m._lastRealFrameTime=z,m._updateMouseCoords!==void 0&&(m._updateMouseCoords(),m._setProperty("movedX",0),m._setProperty("movedY",0))),m._loop&&(m._requestAnimId=window.requestAnimationFrame(m._draw))},this._setProperty=function(z,Y){m[z]=Y,m._isGlobal&&(window[z]=Y)},this.remove=function(){var z=document.getElementById(m._loadingScreenId);if(z&&(z.parentNode.removeChild(z),m._incrementPreload()),m._curElement){for(var Y in m._loop=!1,m._requestAnimId&&window.cancelAnimationFrame(m._requestAnimId),m._events)window.removeEventListener(Y,m._events[Y]);var Z=!0,z=!1,G=void 0;try{for(var C,L=m._elements[Symbol.iterator]();!(Z=(C=L.next()).done);Z=!0){var D,q=C.value;for(D in q.elt&&q.elt.parentNode&&q.elt.parentNode.removeChild(q.elt),q._events)q.elt.removeEventListener(D,q._events[D])}}catch(ne){z=!0,G=ne}finally{try{Z||L.return==null||L.return()}finally{if(z)throw G}}var J=m;m._registeredMethods.remove.forEach(function(ne){ne!==void 0&&ne.call(J)})}if(m._isGlobal){for(var te in n.prototype)try{delete window[te]}catch{window[te]=void 0}for(var se in m)if(m.hasOwnProperty(se))try{delete window[se]}catch{window[se]=void 0}n.instance=null}},this._registeredMethods.init.forEach(function(z){z!==void 0&&z.call(this)},this),this._setupPromisePreloads();var T,A,O=this._createFriendlyGlobalFunctionBinder();if(c)c(this),n._checkForUserDefinedFunctions(this);else{for(var R in this._isGlobal=!0,n.instance=this,n.prototype)typeof n.prototype[R]=="function"?(T=R.substring(2),this._events.hasOwnProperty(T)||(Math.hasOwnProperty(R)&&Math[R]===n.prototype[R]?O(R,n.prototype[R]):O(R,n.prototype[R].bind(this)))):O(R,n.prototype[R]);for(var U in this)this.hasOwnProperty(U)&&O(U,this[U])}for(A in this._events){var B=this["_on".concat(A)];B&&(B=B.bind(this),window.addEventListener(A,B,{passive:!1}),this._events[A]=B)}function W(){m._setProperty("focused",!0)}function N(){m._setProperty("focused",!1)}window.addEventListener("focus",W),window.addEventListener("blur",N),this.registerMethod("remove",function(){window.removeEventListener("focus",W),window.removeEventListener("blur",N)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var o,a;return o=n,(a=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(c,d){n.prototype._preloadMethods.hasOwnProperty(c)||(n.prototype._preloadMethods[c]=d)}},{key:"registerMethod",value:function(c,d){var y=this||n.prototype;y._registeredMethods.hasOwnProperty(c)||(y._registeredMethods[c]=[]),y._registeredMethods[c].push(d)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=c.globalObject||window;return c.log||console.log.bind(console),function(y,m){n.disableFriendlyErrors,d[y]=m}}}])&&p(o.prototype,a),n}();for(h in r.instance=null,r.disableFriendlyErrors=!1,s)r.prototype[h]=s[h];r.VERSION=s.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},E.default=r},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};f.default.Element=function(u,s){this.elt=u,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},f.default.Element.prototype.parent=function(u){return u===void 0?this.elt.parentNode:(typeof u=="string"?(u[0]==="#"&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof f.default.Element&&(u=u.elt),u.appendChild(this.elt),this)},f.default.Element.prototype.id=function(u){return u===void 0?this.elt.id:(this.elt.id=u,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},f.default.Element.prototype.class=function(u){return u===void 0?this.elt.className:(this.elt.className=u,this)},f.default.Element.prototype.mousePressed=function(u){return f.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),u.call(this,s)},this),this},f.default.Element.prototype.doubleClicked=function(u){return f.default.Element._adjustListener("dblclick",u,this),this},f.default.Element.prototype.mouseWheel=function(u){return f.default.Element._adjustListener("wheel",u,this),this},f.default.Element.prototype.mouseReleased=function(u){return f.default.Element._adjustListener("mouseup",u,this),this},f.default.Element.prototype.mouseClicked=function(u){return f.default.Element._adjustListener("click",u,this),this},f.default.Element.prototype.mouseMoved=function(u){return f.default.Element._adjustListener("mousemove",u,this),this},f.default.Element.prototype.mouseOver=function(u){return f.default.Element._adjustListener("mouseover",u,this),this},f.default.Element.prototype.mouseOut=function(u){return f.default.Element._adjustListener("mouseout",u,this),this},f.default.Element.prototype.touchStarted=function(u){return f.default.Element._adjustListener("touchstart",u,this),this},f.default.Element.prototype.touchMoved=function(u){return f.default.Element._adjustListener("touchmove",u,this),this},f.default.Element.prototype.touchEnded=function(u){return f.default.Element._adjustListener("touchend",u,this),this},f.default.Element.prototype.dragOver=function(u){return f.default.Element._adjustListener("dragover",u,this),this},f.default.Element.prototype.dragLeave=function(u){return f.default.Element._adjustListener("dragleave",u,this),this},f.default.Element._adjustListener=function(u,s,i){return s===!1?f.default.Element._detachListener(u,i):f.default.Element._attachListener(u,s,i),this},f.default.Element._attachListener=function(u,s,i){i._events[u]&&f.default.Element._detachListener(u,i),s=s.bind(i),i.elt.addEventListener(u,s,!1),i._events[u]=s},f.default.Element._detachListener=function(u,s){var i=s._events[u];s.elt.removeEventListener(u,i,!1),s._events[u]=null},f.default.Element.prototype._setProperty=function(u,s){this[u]=s},t=f.default.Element,E.default=t},{"./main":267}],269:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("./main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("./constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.Graphics=function(r,n,d,a){var c,d=d||i.P2D;for(c in this.canvas=document.createElement("canvas"),(a._userNode||document.body).appendChild(this.canvas),s.default.Element.call(this,this.canvas,a),s.default.prototype)this[c]||(typeof s.default.prototype[c]=="function"?this[c]=s.default.prototype[c].bind(this):this[c]=s.default.prototype[c]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=r,this.height=n,this._pixelDensity=a._pixelDensity,d===i.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),a._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(r,n),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var r,n=this._pInst._elements.indexOf(this);for(r in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(r,this._events[r])};var h=s.default.Graphics;E.default=h},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(r=t("./main"))&&r.__esModule?r:{default:r},s=function(n){if(n&&n.__esModule)return n;if(n===null||p(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("../core/constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}function h(n){var o=0,a=0;if(n.offsetParent)for(;o+=n.offsetLeft,a+=n.offsetTop,n=n.offsetParent;);else o+=n.offsetLeft,a+=n.offsetTop;return[o,a]}u.default.Renderer=function(n,o,a){u.default.Element.call(this,n,o),this.canvas=n,this._pixelsState=o,a?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._textWrap=s.WORD,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},u.default.Renderer.prototype=Object.create(u.default.Element.prototype),u.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},u.default.Renderer.prototype.pop=function(n){n.properties&&Object.assign(this,n.properties)},u.default.Renderer.prototype.resize=function(n,o){this.width=n,this.height=o,this.elt.width=n*this._pInst._pixelDensity,this.elt.height=o*this._pInst._pixelDensity,this.elt.style.width="".concat(n,"px"),this.elt.style.height="".concat(o,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},u.default.Renderer.prototype.get=function(n,o,a,c){var d=this._pixelsState,y=d._pixelDensity,m=this.canvas;if(n===void 0&&o===void 0)n=o=0,a=d.width,c=d.height;else if(n*=y,o*=y,a===void 0&&c===void 0)return n<0||o<0||n>=m.width||o>=m.height?[0,0,0,0]:this._getPixel(n,o);return d=new u.default.Image(a,c),d.canvas.getContext("2d").drawImage(m,n,o,a*y,c*y,0,0,a,c),d},u.default.Renderer.prototype.textLeading=function(n){return typeof n=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",n),this._pInst):this._textLeading},u.default.Renderer.prototype.textSize=function(n){return typeof n=="number"?(this._setProperty("_textSize",n),this._leadingSet||this._setProperty("_textLeading",n*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer.prototype.textStyle=function(n){return n?(n!==s.NORMAL&&n!==s.ITALIC&&n!==s.BOLD&&n!==s.BOLDITALIC||this._setProperty("_textStyle",n),this._applyTextProperties()):this._textStyle},u.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},u.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},u.default.Renderer.prototype.textAlign=function(n,o){return n!==void 0?(this._setProperty("_textAlign",n),o!==void 0&&this._setProperty("_textBaseline",o),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},u.default.Renderer.prototype.textWrap=function(n){return this._setProperty("_textWrap",n),this._textWrap},u.default.Renderer.prototype.text=function(n,o,a,c,d){var y,m,g,b,w=this._pInst,_=this._textWrap,S=Number.MAX_VALUE,M=a;if((this._doFill||this._doStroke)&&n!==void 0){if(y=(n=(n=typeof n!="string"?n.toString():n).replace(/(\t)/g,"  ")).split(`
`),c!==void 0){switch(this._rectMode===s.CENTER&&(o-=c/2),this._textAlign){case s.CENTER:o+=c/2;break;case s.RIGHT:o+=c}if(d!==void 0){this._rectMode===s.CENTER&&(a-=d/2,M-=d/2);var n=a,k=w.textAscent();switch(this._textBaseline){case s.BOTTOM:b=a+d,a=Math.max(b,a),M+=k;break;case s.CENTER:b=a+d/2,a=Math.max(b,a),M+=k/2}S=a+d-k,this._textBaseline===s.CENTER&&(S=n+d-k/2)}else{if(this._textBaseline===s.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===s.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(_===s.WORD){for(var T=[],A=0;A<y.length;A++){for(var O="",R=y[A].split(" "),U=0;U<R.length;U++)m="".concat(O+R[U])+" ",O=c<(g=this.textWidth(m))&&0<O.length?(T.push(O),"".concat(R[U])+" "):m;T.push(O)}var B=0;this._textBaseline===s.CENTER?B=(T.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(B=(T.length-1)*w.textLeading());for(var W=0;W<y.length;W++){O="",R=y[W].split(" ");for(var N=0;N<R.length;N++)m="".concat(O+R[N])+" ",c<(g=this.textWidth(m))&&0<O.length?(this._renderText(w,O.trim(),o,a-B,S,M),O="".concat(R[N])+" ",a+=w.textLeading()):O=m;this._renderText(w,O.trim(),o,a-B,S,M),a+=w.textLeading()}}else{for(var z=[],Y=0;Y<y.length;Y++)for(var Z=y[Y].split(O=""),G=0;G<Z.length;G++)m="".concat(O+Z[G]),(g=this.textWidth(m))<=c?O+=Z[G]:c<g&&0<O.length&&(z.push(O),O="".concat(Z[G]));z.push(O);var C=0;this._textBaseline===s.CENTER?C=(z.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(C=(z.length-1)*w.textLeading());for(var L=0;L<y.length;L++){Z=y[L].split(O="");for(var D=0;D<Z.length;D++)m="".concat(O+Z[D]),(g=this.textWidth(m))<=c?O+=Z[D]:c<g&&0<O.length&&(this._renderText(w,O.trim(),o,a-C,S,M),a+=w.textLeading(),O="".concat(Z[D]))}this._renderText(w,O.trim(),o,a-C,S,M),a+=w.textLeading()}}else{var q=0;this._textBaseline===s.CENTER?q=(y.length-1)*w.textLeading()/2:this._textBaseline===s.BOTTOM&&(q=(y.length-1)*w.textLeading());for(var J=0;J<y.length;J++)this._renderText(w,y[J],o,a-q,S,M-q),a+=w.textLeading()}return w}},u.default.Renderer.prototype._applyDefaults=function(){return this},u.default.Renderer.prototype._isOpenType=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(n)==="object"&&n.font&&n.font.supported},u.default.Renderer.prototype._updateTextMetrics=function(){var n,o,a,c,d,y;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((n=document.createElement("span")).style.fontFamily=this._textFont,n.style.fontSize="".concat(this._textSize,"px"),n.innerHTML="ABCjgq|",(y=document.createElement("div")).style.display="inline-block",y.style.width="1px",y.style.height="0px",c=((o=document.createElement("div")).appendChild(n),o.appendChild(y),o.style.height="0px",o.style.overflow="hidden",document.body.appendChild(o),y.style.verticalAlign="baseline",h(y)),d=h(n),a=c[1]-d[1],c=(y.style.verticalAlign="bottom",h(y)),d=h(n),y=c[1]-d[1]-a,document.body.removeChild(o),this._setProperty("_textAscent",a),this._setProperty("_textDescent",y)),this};var r=u.default.Renderer;E.default=r},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(r=t("./main"))&&r.__esModule?r:{default:r},i=function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=p();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("./constants"));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}t("./p5.Renderer");var h="rgba(0,0,0,0)",r=(s.default.Renderer2D=function(n,o,a){return s.default.Renderer.call(this,n,o,a),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},s.default.Renderer2D.prototype=Object.create(s.default.Renderer.prototype),s.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=i.BLEND,this._setFill(i._DEFAULT_FILL),this._setStroke(i._DEFAULT_STROKE),this.drawingContext.lineCap=i.ROUND,this.drawingContext.font="normal 12px sans-serif"},s.default.Renderer2D.prototype.resize=function(n,o){s.default.Renderer.prototype.resize.call(this,n,o),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},s.default.Renderer2D.prototype.background=function(){var n,o;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(n=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(n,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(n=this._getFill(),o=(o=this._pInst).color.apply(o,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(o.levels),o=o.toString(),this._setFill(o),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(n),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},s.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},s.default.Renderer2D.prototype.fill=function(){var n=(n=this._pInst).color.apply(n,arguments);this._setFill(n.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",n.levels)},s.default.Renderer2D.prototype.stroke=function(){var n=(n=this._pInst).color.apply(n,arguments);this._setStroke(n.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",n.levels)},s.default.Renderer2D.prototype.erase=function(n,o){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,n=this._pInst.color(255,n).toString(),this.drawingContext.fillStyle=n,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n=this._pInst.color(255,o).toString(),this.drawingContext.strokeStyle=n,o=this._cachedBlendMode,this.blendMode(i.REMOVE),this._cachedBlendMode=o,this._isErasing=!0)},s.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},s.default.Renderer2D.prototype.image=function(n,o,a,c,d,y,m,g,b){n.gifProperties&&n._animateGif(this._pInst);try{s.default.MediaElement&&n instanceof s.default.MediaElement&&n._ensureCanvas();var w=(w=this._tint&&n.canvas?this._getTintedImageCanvas(n):w)||n.canvas||n.elt,_=1;n.width&&0<n.width&&(_=w.width/n.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(w,_*o,_*a,_*c,_*d,y,m,g,b),this._isErasing&&this._pInst.erase()}catch(S){if(S.name!=="NS_ERROR_NOT_AVAILABLE")throw S}},s.default.Renderer2D.prototype._getTintedImageCanvas=function(n){if(!n.canvas)return n;n.tintCanvas||(n.tintCanvas=document.createElement("canvas")),n.tintCanvas.width!==n.canvas.width&&(n.tintCanvas.width=n.canvas.width),n.tintCanvas.height!==n.canvas.height&&(n.tintCanvas.height=n.canvas.height);var o=n.tintCanvas.getContext("2d");return o.save(),o.clearRect(0,0,n.canvas.width,n.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(o.drawImage(n.canvas,0,0),o.globalCompositeOperation="luminosity",o.drawImage(n.canvas,0,0),o.globalCompositeOperation="color",o.drawImage(n.canvas,0,0),o.globalCompositeOperation="multiply",o.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),o.fillRect(0,0,n.canvas.width,n.canvas.height),o.globalCompositeOperation="destination-in"),o.globalAlpha=this._tint[3]/255,o.drawImage(n.canvas,0,0),o.restore(),n.tintCanvas},s.default.Renderer2D.prototype.blendMode=function(n){if(n===i.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(n!==i.BLEND&&n!==i.REMOVE&&n!==i.DARKEST&&n!==i.LIGHTEST&&n!==i.DIFFERENCE&&n!==i.MULTIPLY&&n!==i.EXCLUSION&&n!==i.SCREEN&&n!==i.REPLACE&&n!==i.OVERLAY&&n!==i.HARD_LIGHT&&n!==i.SOFT_LIGHT&&n!==i.DODGE&&n!==i.BURN&&n!==i.ADD)throw new Error("Mode ".concat(n," not recognized."));this._cachedBlendMode=n,this.drawingContext.globalCompositeOperation=n}},s.default.Renderer2D.prototype.blend=function(){for(var n=this.drawingContext.globalCompositeOperation,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var d=a[a.length-1],y=Array.prototype.slice.call(a,0,a.length-1);this.drawingContext.globalCompositeOperation=d,s.default.prototype.copy.apply(this,y),this.drawingContext.globalCompositeOperation=n},s.default.Renderer2D.prototype._getPixel=function(n,o){return n=this.drawingContext.getImageData(n,o,1,1).data,[n[0],n[1],n[2],n[3]]},s.default.Renderer2D.prototype.loadPixels=function(){var n=this._pixelsState,o=n._pixelDensity,a=this.width*o,o=this.height*o,a=this.drawingContext.getImageData(0,0,a,o);n._setProperty("imageData",a),n._setProperty("pixels",a.data)},s.default.Renderer2D.prototype.set=function(n,o,a){n=Math.floor(n),o=Math.floor(o);var c=this._pixelsState;if(a instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(c._pixelDensity,c._pixelDensity),this.drawingContext.clearRect(n,o,a.width,a.height),this.drawingContext.drawImage(a.canvas,n,o),this.drawingContext.restore();else{var d=0,y=0,m=0,g=0,b=4*(o*c._pixelDensity*(this.width*c._pixelDensity)+n*c._pixelDensity);if(c.imageData||c.loadPixels.call(c),typeof a=="number")b<c.pixels.length&&(m=y=d=a,g=255);else if(a instanceof Array){if(a.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");b<c.pixels.length&&(d=a[0],y=a[1],m=a[2],g=a[3])}else a instanceof s.default.Color&&b<c.pixels.length&&(d=a.levels[0],y=a.levels[1],m=a.levels[2],g=a.levels[3]);for(var w=0;w<c._pixelDensity;w++)for(var _=0;_<c._pixelDensity;_++)b=4*((o*c._pixelDensity+_)*this.width*c._pixelDensity+(n*c._pixelDensity+w)),c.pixels[b]=d,c.pixels[b+1]=y,c.pixels[b+2]=m,c.pixels[b+3]=g}},s.default.Renderer2D.prototype.updatePixels=function(n,o,a,c){var d=this._pixelsState,y=d._pixelDensity;n===void 0&&o===void 0&&a===void 0&&c===void 0&&(o=n=0,a=this.width,c=this.height),n*=y,o*=y,a*=y,c*=y,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=d.imageData),this.drawingContext.putImageData(d.imageData,n,o,0,0,a,c)},s.default.Renderer2D.prototype._acuteArcToBezier=function(n,o){var y=o/2,a=Math.cos(y),g=Math.sin(y),c=1/Math.tan(y),y=n+y,d=Math.cos(y),y=Math.sin(y),m=(4-a)/3,g=g+(a-m)*c;return{ax:Math.cos(n).toFixed(7),ay:Math.sin(n).toFixed(7),bx:(m*d+g*y).toFixed(7),by:(m*y-g*d).toFixed(7),cx:(m*d-g*y).toFixed(7),cy:(m*y+g*d).toFixed(7),dx:Math.cos(n+o).toFixed(7),dy:Math.sin(n+o).toFixed(7)}},s.default.Renderer2D.prototype.arc=function(n,o,a,c,d,y,m){var g,b=this.drawingContext,w=a/2,_=c/2,S=[];for(n+=w,o+=_;1e-5<=y-d;)g=Math.min(y-d,i.HALF_PI),S.push(this._acuteArcToBezier(d,g)),d+=g;return this._doFill&&(b.beginPath(),S.forEach(function(M,k){k===0&&b.moveTo(n+M.ax*w,o+M.ay*_),b.bezierCurveTo(n+M.bx*w,o+M.by*_,n+M.cx*w,o+M.cy*_,n+M.dx*w,o+M.dy*_)}),m!==i.PIE&&m!=null||b.lineTo(n,o),b.closePath(),b.fill()),this._doStroke&&(b.beginPath(),S.forEach(function(M,k){k===0&&b.moveTo(n+M.ax*w,o+M.ay*_),b.bezierCurveTo(n+M.bx*w,o+M.by*_,n+M.cx*w,o+M.cy*_,n+M.dx*w,o+M.dy*_)}),m===i.PIE?(b.lineTo(n,o),b.closePath()):m===i.CHORD&&b.closePath(),b.stroke()),this},s.default.Renderer2D.prototype.ellipse=function(S){var o=this.drawingContext,a=this._doFill,c=this._doStroke,d=parseFloat(S[0]),y=parseFloat(S[1]),_=parseFloat(S[2]),S=parseFloat(S[3]);if(a&&!c){if(this._getFill()===h)return this}else if(!a&&c&&this._getStroke()===h)return this;var m=_/2*.5522847498,g=S/2*.5522847498,b=d+_,w=y+S,_=d+_/2,S=y+S/2;o.beginPath(),o.moveTo(d,S),o.bezierCurveTo(d,S-g,_-m,y,_,y),o.bezierCurveTo(_+m,y,b,S-g,b,S),o.bezierCurveTo(b,S+g,_+m,w,_,w),o.bezierCurveTo(_-m,w,d,S+g,d,S),a&&o.fill(),c&&o.stroke()},s.default.Renderer2D.prototype.line=function(n,o,a,c){var d=this.drawingContext;return this._doStroke&&this._getStroke()!==h&&(d.beginPath(),d.moveTo(n,o),d.lineTo(a,c),d.stroke()),this},s.default.Renderer2D.prototype.point=function(n,o){var a,c,d=this.drawingContext;return!this._doStroke||this._getStroke()===h?this:(a=this._getStroke(),c=this._getFill(),this._setFill(a),d.beginPath(),d.arc(n,o,d.lineWidth/2,0,i.TWO_PI,!1),d.fill(),void this._setFill(c))},s.default.Renderer2D.prototype.quad=function(n,o,a,c,d,y,m,g){var b=this.drawingContext,w=this._doFill,_=this._doStroke;if(w&&!_){if(this._getFill()===h)return this}else if(!w&&_&&this._getStroke()===h)return this;return b.beginPath(),b.moveTo(n,o),b.lineTo(a,c),b.lineTo(d,y),b.lineTo(m,g),b.closePath(),w&&b.fill(),_&&b.stroke(),this},s.default.Renderer2D.prototype.rect=function(_){var o,a,c=_[0],d=_[1],y=_[2],m=_[3],g=_[4],b=_[5],w=_[6],_=_[7],S=this.drawingContext,M=this._doFill,k=this._doStroke;if(M&&!k){if(this._getFill()===h)return this}else if(!M&&k&&this._getStroke()===h)return this;return S.beginPath(),g===void 0?S.rect(c,d,y,m):(b===void 0&&(b=g),w===void 0&&(w=b),_===void 0&&(_=w),k=(M=Math.abs(y))/2,a=(o=Math.abs(m))/2,o<2*(g=M<2*g?k:g)&&(g=a),o<2*(b=M<2*b?k:b)&&(b=a),o<2*(w=M<2*w?k:w)&&(w=a),o<2*(_=M<2*_?k:_)&&(_=a),S.beginPath(),S.moveTo(c+g,d),S.arcTo(c+y,d,c+y,d+m,b),S.arcTo(c+y,d+m,c,d+m,w),S.arcTo(c,d+m,c,d,_),S.arcTo(c,d,c+y,d,g),S.closePath()),this._doFill&&S.fill(),this._doStroke&&S.stroke(),this},s.default.Renderer2D.prototype.triangle=function(w){var o=this.drawingContext,a=this._doFill,c=this._doStroke,d=w[0],y=w[1],m=w[2],g=w[3],b=w[4],w=w[5];if(a&&!c){if(this._getFill()===h)return this}else if(!a&&c&&this._getStroke()===h)return this;o.beginPath(),o.moveTo(d,y),o.lineTo(m,g),o.lineTo(b,w),o.closePath(),a&&o.fill(),c&&o.stroke()},s.default.Renderer2D.prototype.endShape=function(n,o,a,c,d,y,m){if(o.length!==0&&(this._doStroke||this._doFill)){var g,b,w,_=n===i.CLOSE,S=(_&&!y&&o.push(o[0]),o.length);if(!a||m!==i.POLYGON&&m!==null)if(!c||m!==i.POLYGON&&m!==null)if(!d||m!==i.POLYGON&&m!==null)if(m===i.POINTS)for(b=0;b<S;b++)g=o[b],this._doStroke&&this._pInst.stroke(g[6]),this._pInst.point(g[0],g[1]);else if(m===i.LINES)for(b=0;b+1<S;b+=2)g=o[b],this._doStroke&&this._pInst.stroke(o[b+1][6]),this._pInst.line(g[0],g[1],o[b+1][0],o[b+1][1]);else if(m===i.TRIANGLES)for(b=0;b+2<S;b+=3)g=o[b],this.drawingContext.beginPath(),this.drawingContext.moveTo(g[0],g[1]),this.drawingContext.lineTo(o[b+1][0],o[b+1][1]),this.drawingContext.lineTo(o[b+2][0],o[b+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(o[b+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(o[b+2][6]),this.drawingContext.stroke());else if(m===i.TRIANGLE_STRIP)for(b=0;b+1<S;b++)g=o[b],this.drawingContext.beginPath(),this.drawingContext.moveTo(o[b+1][0],o[b+1][1]),this.drawingContext.lineTo(g[0],g[1]),this._doStroke&&this._pInst.stroke(o[b+1][6]),this._doFill&&this._pInst.fill(o[b+1][5]),b+2<S&&(this.drawingContext.lineTo(o[b+2][0],o[b+2][1]),this._doStroke&&this._pInst.stroke(o[b+2][6]),this._doFill&&this._pInst.fill(o[b+2][5])),this._doFillStrokeClose(_);else if(m===i.TRIANGLE_FAN){if(2<S){for(this.drawingContext.beginPath(),b=2;b<S;b++)g=o[b],this.drawingContext.moveTo(o[0][0],o[0][1]),this.drawingContext.lineTo(o[b-1][0],o[b-1][1]),this.drawingContext.lineTo(g[0],g[1]),this.drawingContext.lineTo(o[0][0],o[0][1]),b<S-1&&(this._doFill&&g[5]!==o[b+1][5]||this._doStroke&&g[6]!==o[b+1][6])&&(this._doFill&&(this._pInst.fill(g[5]),this.drawingContext.fill(),this._pInst.fill(o[b+1][5])),this._doStroke&&(this._pInst.stroke(g[6]),this.drawingContext.stroke(),this._pInst.stroke(o[b+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(_)}}else if(m===i.QUADS)for(b=0;b+3<S;b+=4){for(g=o[b],this.drawingContext.beginPath(),this.drawingContext.moveTo(g[0],g[1]),w=1;w<4;w++)this.drawingContext.lineTo(o[b+w][0],o[b+w][1]);this.drawingContext.lineTo(g[0],g[1]),this._doFill&&this._pInst.fill(o[b+3][5]),this._doStroke&&this._pInst.stroke(o[b+3][6]),this._doFillStrokeClose(_)}else if(m===i.QUAD_STRIP){if(3<S)for(b=0;b+1<S;b+=2)g=o[b],this.drawingContext.beginPath(),b+3<S?(this.drawingContext.moveTo(o[b+2][0],o[b+2][1]),this.drawingContext.lineTo(g[0],g[1]),this.drawingContext.lineTo(o[b+1][0],o[b+1][1]),this.drawingContext.lineTo(o[b+3][0],o[b+3][1]),this._doFill&&this._pInst.fill(o[b+3][5]),this._doStroke&&this._pInst.stroke(o[b+3][6])):(this.drawingContext.moveTo(g[0],g[1]),this.drawingContext.lineTo(o[b+1][0],o[b+1][1])),this._doFillStrokeClose(_)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(o[0][0],o[0][1]),b=1;b<S;b++)(g=o[b]).isVert&&(g.moveTo?this.drawingContext.moveTo(g[0],g[1]):this.drawingContext.lineTo(g[0],g[1]));this._doFillStrokeClose(_)}else{for(this.drawingContext.beginPath(),b=0;b<S;b++)o[b].isVert?o[b].moveTo?this.drawingContext.moveTo(o[b][0],o[b][1]):this.drawingContext.lineTo(o[b][0],o[b][1]):this.drawingContext.quadraticCurveTo(o[b][0],o[b][1],o[b][2],o[b][3]);this._doFillStrokeClose(_)}else{for(this.drawingContext.beginPath(),b=0;b<S;b++)o[b].isVert?o[b].moveTo?this.drawingContext.moveTo(o[b][0],o[b][1]):this.drawingContext.lineTo(o[b][0],o[b][1]):this.drawingContext.bezierCurveTo(o[b][0],o[b][1],o[b][2],o[b][3],o[b][4],o[b][5]);this._doFillStrokeClose(_)}else if(3<S){var M=[],k=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(o[1][0],o[1][1]),b=1;b+2<S;b++)g=o[b],M[0]=[g[0],g[1]],M[1]=[g[0]+(k*o[b+1][0]-k*o[b-1][0])/6,g[1]+(k*o[b+1][1]-k*o[b-1][1])/6],M[2]=[o[b+1][0]+(k*o[b][0]-k*o[b+2][0])/6,o[b+1][1]+(k*o[b][1]-k*o[b+2][1])/6],M[3]=[o[b+1][0],o[b+1][1]],this.drawingContext.bezierCurveTo(M[1][0],M[1][1],M[2][0],M[2][1],M[3][0],M[3][1]);_&&this.drawingContext.lineTo(o[b+1][0],o[b+1][1]),this._doFillStrokeClose(_)}y=d=c=a=!1,_&&o.pop()}return this},s.default.Renderer2D.prototype.strokeCap=function(n){return n!==i.ROUND&&n!==i.SQUARE&&n!==i.PROJECT||(this.drawingContext.lineCap=n),this},s.default.Renderer2D.prototype.strokeJoin=function(n){return n!==i.ROUND&&n!==i.BEVEL&&n!==i.MITER||(this.drawingContext.lineJoin=n),this},s.default.Renderer2D.prototype.strokeWeight=function(n){return this.drawingContext.lineWidth=n===void 0||n===0?1e-4:n,this},s.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},s.default.Renderer2D.prototype._setFill=function(n){n!==this._cachedFillStyle&&(this.drawingContext.fillStyle=n,this._cachedFillStyle=n)},s.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},s.default.Renderer2D.prototype._setStroke=function(n){n!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=n,this._cachedStrokeStyle=n)},s.default.Renderer2D.prototype.bezier=function(n,o,a,c,d,y,m,g){return this._pInst.beginShape(),this._pInst.vertex(n,o),this._pInst.bezierVertex(a,c,d,y,m,g),this._pInst.endShape(),this},s.default.Renderer2D.prototype.curve=function(n,o,a,c,d,y,m,g){return this._pInst.beginShape(),this._pInst.curveVertex(n,o),this._pInst.curveVertex(a,c),this._pInst.curveVertex(d,y),this._pInst.curveVertex(m,g),this._pInst.endShape(),this},s.default.Renderer2D.prototype._doFillStrokeClose=function(n){n&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},s.default.Renderer2D.prototype.applyMatrix=function(n,o,a,c,d,y){this.drawingContext.transform(n,o,a,c,d,y)},s.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},s.default.Renderer2D.prototype.rotate=function(n){this.drawingContext.rotate(n)},s.default.Renderer2D.prototype.scale=function(n,o){return this.drawingContext.scale(n,o),this},s.default.Renderer2D.prototype.translate=function(n,o){return n instanceof s.default.Vector&&(o=n.y,n=n.x),this.drawingContext.translate(n,o),this},s.default.Renderer2D.prototype.text=function(n,o,a,m,d){m!==void 0&&this.drawingContext.textBaseline===i.BASELINE&&(y=!0,this.drawingContext.textBaseline=i.TOP);var y,m=s.default.Renderer.prototype.text.apply(this,arguments);return y&&(this.drawingContext.textBaseline=i.BASELINE),m},s.default.Renderer2D.prototype._renderText=function(n,o,a,c,d,y){if(!(c<y||d<=c))return n.push(),this._isOpenType()?this._textFont._renderPath(o,a,c,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(o,a,c),this._doFill&&(this._fillSet||this._setFill(i._DEFAULT_TEXT_FILL),this.drawingContext.fillText(o,a,c))),n.pop(),n},s.default.Renderer2D.prototype.textWidth=function(n){return this._isOpenType()?this._textFont._textWidth(n,this._textSize):this.drawingContext.measureText(n).width},s.default.Renderer2D.prototype._applyTextProperties=function(){var n,o=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),n=this._textFont,this._isOpenType()&&(n=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(n||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===i.CENTER?this.drawingContext.textBaseline=i._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,o},s.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),s.default.Renderer.prototype.push.apply(this)},s.default.Renderer2D.prototype.pop=function(n){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s.default.Renderer.prototype.pop.call(this,n)},s.default.Renderer2D);E.default=r},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("./main"))&&t.__esModule?t:{default:t};f.default.prototype._promisePreloads=[];function u(){return{}}var s=!(f.default.prototype.registerPromisePreload=function(i){f.default.prototype._promisePreloads.push(i)});f.default.prototype._setupPromisePreloads=function(){var i=!0,p=!1,h=void 0;try{for(var r,n=this._promisePreloads[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){var o=r.value,a=this,c=o.method,d=o.addCallbacks,y=o.legacyPreloadSetup,m=o.target||this,g=m[c].bind(m);if(m===f.default.prototype){if(s)continue;a=null,g=m[c]}m[c]=this._wrapPromisePreload(a,g,d),y&&(m[y.method]=this._legacyPreloadGenerator(a,y,m[c]))}}catch(b){p=!0,h=b}finally{try{i||n.return==null||n.return()}finally{if(p)throw h}}s=!0},f.default.prototype._wrapPromisePreload=function(i,p,h){var r=function(){for(var n=this,o=(this._incrementPreload(),null),a=null,c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];if(h)for(var m=d.length-1;0<=m&&!a&&typeof d[m]=="function";m--)a=o,o=d.pop();var g=Promise.resolve(p.apply(this,d));return o&&g.then(o),a&&g.catch(a),g.then(function(){return n._decrementPreload()}),g};return r=i?r.bind(i):r},f.default.prototype._legacyPreloadGenerator=function(i,n,h){var r=n.createBaseObject||u,n=function(){var o=this,a=(this._incrementPreload(),r.apply(this,arguments));return h.apply(this,arguments).then(function(c){Object.assign(a,c),o._decrementPreload()}),a};return n=i?n.bind(i):n}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(r=t("./main"))&&r.__esModule?r:{default:r},s=function(n){if(n&&n.__esModule)return n;if(n===null||p(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("./constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var h="defaultCanvas0",r=(u.default.prototype.createCanvas=function(n,o,m){u.default._validateParameters("createCanvas",arguments);var c,d,y,m=m||s.P2D;if(m===s.WEBGL)(d=document.getElementById(h))&&(d.parentNode.removeChild(d),c=this._renderer,this._elements=this._elements.filter(function(b){return b!==c})),(d=document.createElement("canvas")).id=h,d.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)d=this.canvas;else{d=document.createElement("canvas");for(var g=0;document.getElementById("defaultCanvas".concat(g));)g++;h="defaultCanvas".concat(g),d.id=h,d.classList.add("p5Canvas")}return this._setupDone||(d.dataset.hidden=!0,d.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(y=document.createElement("main"),document.body.appendChild(y)),document.getElementsByTagName("main")[0])).appendChild(d),m===s.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(d,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(d,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(n,o),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(n,o,a){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,d,y={};for(c in this.drawingContext){var m=this.drawingContext[c];p(m)!=="object"&&typeof m!="function"&&(y[c]=m)}for(d in this._renderer.resize(n,o),this.width=n,this.height=o,y)try{this.drawingContext[d]=y[d]}catch{}a||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(n,o,a){return u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(n,o,a,this)},u.default.prototype.blendMode=function(n){u.default._validateParameters("blendMode",arguments),n===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),n=s.BLEND),this._renderer.blendMode(n)},u.default);E.default=r},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=r(t("../main")),i=function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=h();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("../constants")),p=r(t("../helpers"));function h(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,h=function(){return n},n)}function r(n){return n&&n.__esModule?n:{default:n}}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(n,o,a,c,d){var y;return n-=i.TWO_PI*Math.floor(n/i.TWO_PI),o-=i.TWO_PI*Math.floor(o/i.TWO_PI),y=Math.min(Math.abs(n-o),i.TWO_PI-Math.abs(n-o)),d&&(n=n<=i.HALF_PI?Math.atan(a/c*Math.tan(n)):n>i.HALF_PI&&n<=3*i.HALF_PI?Math.atan(a/c*Math.tan(n))+i.PI:Math.atan(a/c*Math.tan(n))+i.TWO_PI,o=o<=i.HALF_PI?Math.atan(a/c*Math.tan(o)):o>i.HALF_PI&&o<=3*i.HALF_PI?Math.atan(a/c*Math.tan(o))+i.PI:Math.atan(a/c*Math.tan(o))+i.TWO_PI),o<n&&(o+=i.TWO_PI),{start:n,stop:o,correspondToSamePoint:y<1e-5}},s.default.prototype.arc=function(n,o,a,c,d,y,m,g){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&d!==y&&(d=this._toRadians(d),y=this._toRadians(y),a=Math.abs(a),c=Math.abs(c),n=p.default.modeAdjust(n,o,a,c,this._renderer._ellipseMode),(o=this._normalizeArcAngles(d,y,n.w,n.h,!0)).correspondToSamePoint?this._renderer.ellipse([n.x,n.y,n.w,n.h,g]):(this._renderer.arc(n.x,n.y,n.w,n.h,o.start,o.stop,m,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[n.x,n.y,n.w,n.h,o.start,o.stop,m]))),this},s.default.prototype.ellipse=function(n,o,a,c,d){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var n=Array.prototype.slice.call(arguments,0,2);return n.push(arguments[2]),n.push(arguments[2]),this._renderEllipse.apply(this,n)},s.default.prototype._renderEllipse=function(n,o,a,c,d){return(this._renderer._doStroke||this._renderer._doFill)&&(a<0&&(a=Math.abs(a)),c===void 0?c=a:c<0&&(c=Math.abs(c)),n=p.default.modeAdjust(n,o,a,c,this._renderer._ellipseMode),this._renderer.ellipse([n.x,n.y,n.w,n.h,d]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[n.x,n.y,n.w,n.h])),this},s.default.prototype.line=function(){for(var n,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s.default._validateParameters("line",a),this._renderer._doStroke&&(n=this._renderer).line.apply(n,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",a),this},s.default.prototype.point=function(){for(var n,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s.default._validateParameters("point",a),this._renderer._doStroke&&(a.length===1&&a[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,a[0].x,a[0].y,a[0].z):((n=this._renderer).point.apply(n,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",a))),this},s.default.prototype.quad=function(){for(var n,o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s.default._validateParameters("quad",a),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&a.length<12?this._renderer.quad.call(this._renderer,a[0],a[1],0,a[2],a[3],0,a[4],a[5],0,a[6],a[7],0,a[8],a[9]):((n=this._renderer).quad.apply(n,a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",a))),this},s.default.prototype.rect=function(){return s.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},s.default.prototype.square=function(n,o,a,c,d,y,m){return s.default._validateParameters("square",arguments),this._renderRect.call(this,n,o,a,a,c,d,y,m)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var n=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),o=[n.x,n.y,n.w,n.h],a=4;a<arguments.length;a++)o[a]=arguments[a];this._renderer.rect(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[n.x,n.y,n.w,n.h])}return this},s.default.prototype.triangle=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s.default._validateParameters("triangle",o),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(o),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",o),this},t=s.default,E.default=t},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype.ellipseMode=function(r){return s.default._validateParameters("ellipseMode",arguments),r!==i.CORNER&&r!==i.CORNERS&&r!==i.RADIUS&&r!==i.CENTER||(this._renderer._ellipseMode=r),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(r){return s.default._validateParameters("rectMode",arguments),r!==i.CORNER&&r!==i.CORNERS&&r!==i.RADIUS&&r!==i.CENTER||(this._renderer._rectMode=r),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(r){return s.default._validateParameters("strokeCap",arguments),r!==i.ROUND&&r!==i.SQUARE&&r!==i.PROJECT||this._renderer.strokeCap(r),this},s.default.prototype.strokeJoin=function(r){return s.default._validateParameters("strokeJoin",arguments),r!==i.ROUND&&r!==i.BEVEL&&r!==i.MITER||this._renderer.strokeJoin(r),this},s.default.prototype.strokeWeight=function(r){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var h=s.default;E.default=h},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var s,i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,p),this},f.default.prototype.bezierDetail=function(s){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},f.default.prototype.bezierPoint=function(s,i,p,h,r){f.default._validateParameters("bezierPoint",arguments);var n=1-r;return Math.pow(n,3)*s+3*Math.pow(n,2)*r*i+3*n*Math.pow(r,2)*p+Math.pow(r,3)*h},f.default.prototype.bezierTangent=function(s,i,p,h,r){f.default._validateParameters("bezierTangent",arguments);var n=1-r;return 3*h*Math.pow(r,2)-3*p*Math.pow(r,2)+6*p*n*r-6*i*n*r+3*i*Math.pow(n,2)-3*s*Math.pow(n,2)},f.default.prototype.curve=function(){for(var s,i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("curve",p),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,p),this},f.default.prototype.curveDetail=function(s){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},f.default.prototype.curveTightness=function(s){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},f.default.prototype.curvePoint=function(s,i,p,h,r){f.default._validateParameters("curvePoint",arguments);var n=this._renderer._curveTightness,o=r*r*r,a=r*r;return s*((n-1)/2*o+(1-n)*a+(n-1)/2*r)+i*((n+3)/2*o+(-5-n)/2*a+1)+p*((-3-n)/2*o+(n+2)*a+(1-n)/2*r)+h*((1-n)/2*o+(n-1)/2*a)},f.default.prototype.curveTangent=function(s,i,p,h,a){f.default._validateParameters("curveTangent",arguments);var n=this._renderer._curveTightness,o=a*a*3,a=2*a;return s*((n-1)/2*o+(1-n)*a+(n-1)/2)+i*((n+3)/2*o+(-5-n)/2*a)+p*((-3-n)/2*o+(n+2)*a+(1-n)/2)+h*((1-n)/2*o+(n-1)/2*a)};var u=f.default;E.default=u},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(t,V,E){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function u(g){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m},i=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var b=p();if(b&&b.has(g))return b.get(g);var w,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var M;Object.prototype.hasOwnProperty.call(g,w)&&((M=S?Object.getOwnPropertyDescriptor(g,w):null)&&(M.get||M.set)?Object.defineProperty(_,w,M):_[w]=g[w])}return _.default=g,b&&b.set(g,_),_}(t("../constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}var h=null,r=[],n=[],o=!1,a=!1,c=!1,d=!1,y=!0,m=(s.default.prototype.beginContour=function(){return n=[],d=!0,this},s.default.prototype.beginShape=function(g){var b;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(b=this._renderer).beginShape.apply(b,arguments):(h=g===i.POINTS||g===i.LINES||g===i.TRIANGLES||g===i.TRIANGLE_FAN||g===i.TRIANGLE_STRIP||g===i.QUADS||g===i.QUAD_STRIP?g:null,r=[],n=[]),this},s.default.prototype.bezierVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];if(s.default._validateParameters("bezierVertex",w),this._renderer.isP3D)(g=this._renderer).bezierVertex.apply(g,w);else if(r.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var S=[],M=0;M<w.length;M++)S[M]=w[M];S.isVert=!1,(d?n:r).push(S)}return this},s.default.prototype.curveVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];return s.default._validateParameters("curveVertex",w),this._renderer.isP3D?(g=this._renderer).curveVertex.apply(g,w):(a=!0,this.vertex(w[0],w[1])),this},s.default.prototype.endContour=function(){var g=n[0].slice();g.isVert=n[0].isVert,g.moveTo=!1,n.push(g),y&&(r.push(r[0]),y=!1);for(var b=0;b<n.length;b++)r.push(n[b]);return this},s.default.prototype.endShape=function(g){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(g,a,o,c,d,h);else{if(r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var b=g===i.CLOSE;b&&!d&&r.push(r[0]),this._renderer.endShape(g,r,a,o,c,d,h),y=!(d=c=o=a=!1),b&&r.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];if(s.default._validateParameters("quadraticVertex",w),this._renderer.isP3D)(g=this._renderer).quadraticVertex.apply(g,w);else{if(this._contourInited)return(g={}).x=w[0],g.y=w[1],g.x3=w[2],g.y3=w[3],g.type=i.QUADRATIC,this._contourVertices.push(g),this;if(0<r.length){c=!0;for(var S=[],M=0;M<w.length;M++)S[M]=w[M];S.isVert=!1,(d?n:r).push(S)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(g,b,w,_,S){var M;return this._renderer.isP3D?(M=this._renderer).vertex.apply(M,arguments):((M=[]).isVert=!0,M[0]=g,M[1]=b,M[2]=0,M[3]=0,M[4]=0,M[5]=this._renderer._getFill(),M[6]=this._renderer._getStroke(),w&&(M.moveTo=w),(d?(n.length===0&&(M.moveTo=!0),n):r).push(M)),this},s.default.prototype.normal=function(g,b,w){var _;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(_=this._renderer).normal.apply(_,arguments),this},s.default);E.default=m},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(t,V,E){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(h)}function u(h){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(h)}var s,i,p;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h,r){window.setTimeout(h,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(s=Object.keys,t=Object.defineProperty,i=typeof Symbol=="function"&&u(Symbol())==="symbol",p=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(h,r){if(h==null)throw new TypeError("target must be an object");for(var n,o,a,c=Object(h),d=1;d<arguments.length;++d)for(n=Object(arguments[d]),a=s(n),i&&Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(n).filter(function(y){return function(m){return p.call(y,m)}}(n))),o=0;o<a.length;++o)c[a[o]]=n[a[o]];return c},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(t,V,E){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var u=parseInt(f),s=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var i=function(h){h.call(s)},p=0;p<u;p++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),s._registeredMethods.pre.forEach(i),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}s._registeredMethods.post.forEach(i)}}}},t=t.default,E.default=t},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function u(s){return function(i){if(Array.isArray(i)){for(var p=0,h=new Array(i.length);p<i.length;p++)h[p]=i[p];return h}}(s)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var s=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,u(arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(s,i){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),i),this},f.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},f.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},f.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},f.default.prototype.scale=function(s,i,p){var h;return f.default._validateParameters("scale",arguments),s instanceof f.default.Vector?(s=(h=s).x,i=h.y,p=h.z):s instanceof Array&&(s=(h=s)[0],i=h[1],p=h[2]||1),isNaN(i)?i=p=s:isNaN(p)&&(p=1),this._renderer.scale.call(this._renderer,s,i,p),this},f.default.prototype.shearX=function(s){return f.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},f.default.prototype.shearY=function(s){return f.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},f.default.prototype.translate=function(s,i,p){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,i,p):this._renderer.translate(s,i),this},t=f.default,E.default=t},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(p){return function(h){if(Array.isArray(h)){for(var r=0,n=new Array(h.length);r<h.length;r++)n[r]=h[r];return n}}(p)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}u.default.prototype.storeItem=function(p,h){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),h===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=i(h);switch(r){case"number":case"boolean":h=h.toString();break;case"object":h instanceof u.default.Color?r="p5.Color":h instanceof u.default.Vector&&(r="p5.Vector",h=[h.x,h.y,h.z]),h=JSON.stringify(h)}localStorage.setItem(p,h),p="".concat(p,"p5TypeID"),localStorage.setItem(p,r)},u.default.prototype.getItem=function(p){var h=localStorage.getItem(p),r=localStorage.getItem("".concat(p,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(h!==null)switch(r){case"number":h=parseFloat(h);break;case"boolean":h=h==="true";break;case"object":h=JSON.parse(h);break;case"p5.Color":h=JSON.parse(h),h=this.color.apply(this,s(h.levels));break;case"p5.Vector":h=JSON.parse(h),h=this.createVector.apply(this,s(h))}return h},u.default.prototype.clearStorage=function(){localStorage.clear()},u.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.createStringDict=function(u,s){return f.default._validateParameters("createStringDict",arguments),new f.default.StringDict(u,s)},f.default.prototype.createNumberDict=function(u,s){return f.default._validateParameters("createNumberDict",arguments),new f.default.NumberDict(u,s)},f.default.TypedDict=function(u,s){return u instanceof Object?this.data=u:(this.data={},this.data[u]=s),this},f.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},f.default.TypedDict.prototype.hasKey=function(u){return this.data.hasOwnProperty(u)},f.default.TypedDict.prototype.get=function(u){if(this.data.hasOwnProperty(u))return this.data[u];console.log("".concat(u," does not exist in this Dictionary"))},f.default.TypedDict.prototype.set=function(u,s){this._validate(s)?this.data[u]=s:console.log("Those values dont work for this dictionary type.")},f.default.TypedDict.prototype._addObj=function(u){for(var s in u)this.set(s,u[s])},f.default.TypedDict.prototype.create=function(u,s){u instanceof Object&&s===void 0?this._addObj(u):u!==void 0?this.set(u,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},f.default.TypedDict.prototype.clear=function(){this.data={}},f.default.TypedDict.prototype.remove=function(u){if(!this.data.hasOwnProperty(u))throw new Error("".concat(u," does not exist in this Dictionary"));delete this.data[u]},f.default.TypedDict.prototype.print=function(){for(var u in this.data)console.log("key:".concat(u," value:").concat(this.data[u]))},f.default.TypedDict.prototype.saveTable=function(u){var s,i="";for(s in this.data)i+="".concat(s,",").concat(this.data[s],`
`);var p=new Blob([i],{type:"text/csv"});f.default.prototype.downloadFile(p,u||"mycsv","csv")},f.default.TypedDict.prototype.saveJSON=function(u,s){f.default.prototype.saveJSON(this.data,u,s)},f.default.TypedDict.prototype._validate=function(u){return!0},f.default.StringDict=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];f.default.TypedDict.apply(this,s)},f.default.StringDict.prototype=Object.create(f.default.TypedDict.prototype),f.default.StringDict.prototype._validate=function(u){return typeof u=="string"},f.default.NumberDict=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];f.default.TypedDict.apply(this,s)},f.default.NumberDict.prototype=Object.create(f.default.TypedDict.prototype),f.default.NumberDict.prototype._validate=function(u){return typeof u=="number"},f.default.NumberDict.prototype.add=function(u,s){this.data.hasOwnProperty(u)?this.data[u]+=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},f.default.NumberDict.prototype.sub=function(u,s){this.add(u,-s)},f.default.NumberDict.prototype.mult=function(u,s){this.data.hasOwnProperty(u)?this.data[u]*=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},f.default.NumberDict.prototype.div=function(u,s){this.data.hasOwnProperty(u)?this.data[u]/=s:console.log("The key - ".concat(u," does not exist in this dictionary."))},f.default.NumberDict.prototype._valueTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,i=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*u<i*u&&(i=this.data[s]);return i},f.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},f.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},f.default.NumberDict.prototype._keyTest=function(u){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],i=1;i<Object.keys(this.data).length;i++)Object.keys(this.data)[i]*u<s*u&&(s=Object.keys(this.data)[i]);return s},f.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},f.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t=f.default.TypedDict,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(r){return(s=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}function i(r,n,o){return(n._userNode||document.body).appendChild(r),o=new(o?u.default.MediaElement:u.default.Element)(r,n),n._elements.push(o),o}function p(r,y,o,a){var c=document.createElement(y),d=(typeof(o=o||"")=="string"&&(o=[o]),!0),y=!1,m=void 0;try{for(var g,b=o[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var w=g.value,_=document.createElement("source");_.setAttribute("src",w),c.appendChild(_)}}catch(M){y=!0,m=M}finally{try{d||b.return==null||b.return()}finally{if(y)throw m}}typeof a=="function"&&c.addEventListener("canplaythrough",function M(){a(),c.removeEventListener("canplaythrough",M)});var S=i(c,r,!0);return S.loadedmetadata=!1,c.addEventListener("loadedmetadata",function(){S.width=c.videoWidth,S.height=c.videoHeight,S.elt.width===0&&(S.elt.width=c.videoWidth),S.elt.height===0&&(S.elt.height=c.videoHeight),S.presetPlaybackRate&&(S.elt.playbackRate=S.presetPlaybackRate,delete S.presetPlaybackRate),S.loadedmetadata=!0}),S}u.default.prototype.select=function(r,n){return u.default._validateParameters("select",arguments),n=this._getContainer(n).querySelector(r),n?this._wrapElement(n):null},u.default.prototype.selectAll=function(r,n){u.default._validateParameters("selectAll",arguments);var o=[],a=this._getContainer(n).querySelectorAll(r);if(a)for(var c=0;c<a.length;c++){var d=this._wrapElement(a[c]);o.push(d)}return o},u.default.prototype._getContainer=function(r){var n=document;return typeof r=="string"?n=document.querySelector(r)||document:r instanceof u.default.Element?n=r.elt:r instanceof HTMLElement&&(n=r),n},u.default.prototype._wrapElement=function(r){var n,o=Array.prototype.slice.call(r.children);return r.tagName==="INPUT"&&r.type==="checkbox"?((n=new u.default.Element(r,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},n):r.tagName==="VIDEO"||r.tagName==="AUDIO"?new u.default.MediaElement(r,this):r.tagName==="SELECT"?this.createSelect(new u.default.Element(r,this)):0<o.length&&o.every(function(a){return a.tagName==="INPUT"||a.tagName==="LABEL"})?this.createRadio(new u.default.Element(r,this)):new u.default.Element(r,this)},u.default.prototype.removeElements=function(r){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(n){return!(n.elt instanceof HTMLCanvasElement)}).map(function(n){return n.remove()})},u.default.Element.prototype.changed=function(r){return u.default.Element._adjustListener("change",r,this),this},u.default.Element.prototype.input=function(r){return u.default.Element._adjustListener("input",r,this),this},u.default.prototype.createDiv=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",n=document.createElement("div");return n.innerHTML=r,i(n,this)},u.default.prototype.createP=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",n=document.createElement("p");return n.innerHTML=r,i(n,this)},u.default.prototype.createSpan=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",n=document.createElement("span");return n.innerHTML=r,i(n,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var r,n=document.createElement("img"),o=arguments;return 1<o.length&&typeof o[1]=="string"&&(n.alt=o[1]),2<o.length&&typeof o[2]=="string"&&(n.crossOrigin=o[2]),n.src=o[0],r=i(n,this),n.addEventListener("load",function(){r.width=n.offsetWidth||n.width,r.height=n.offsetHeight||n.height;var a=o[o.length-1];typeof a=="function"&&a(r)}),r},u.default.prototype.createA=function(r,n,o){u.default._validateParameters("createA",arguments);var a=document.createElement("a");return a.href=r,a.innerHTML=n,o&&(a.target=o),i(a,this)},u.default.prototype.createSlider=function(r,n,o,a){u.default._validateParameters("createSlider",arguments);var c=document.createElement("input");return c.type="range",c.min=r,c.max=n,a===0?c.step=1e-18:a&&(c.step=a),typeof o=="number"&&(c.value=o),i(c,this)},u.default.prototype.createButton=function(r,n){u.default._validateParameters("createButton",arguments);var o=document.createElement("button");return o.innerHTML=r,n&&(o.value=n),i(o,this)},u.default.prototype.createCheckbox=function(){u.default._validateParameters("createCheckbox",arguments);var r=document.createElement("div"),n=document.createElement("input"),o=(n.type="checkbox",document.createElement("label")),a=(o.appendChild(n),r.appendChild(o),i(r,this));return a.checked=function(){var c=a.elt.firstElementChild.getElementsByTagName("input")[0];if(c){if(arguments.length===0)return c.checked;c.checked=!!arguments[0]}return a},this.value=function(c){return a.value=c,this},arguments[0]&&(a.value(arguments[0]),(r=document.createElement("span")).innerHTML=arguments[0],o.appendChild(r)),arguments[1]&&(n.checked=!0),a},u.default.prototype.createSelect=function(){u.default._validateParameters("createSelect",arguments);var r,n,o=arguments[0];return o instanceof u.default.Element&&o.elt instanceof HTMLSelectElement?this.elt=(r=o).elt:o instanceof HTMLSelectElement?(r=i(o,this),this.elt=o):(n=document.createElement("select"),o&&typeof o=="boolean"&&n.setAttribute("multiple","true"),r=i(n,this),this.elt=n),r.option=function(a,c){var d;if(a!==void 0){for(var y,m=0;m<this.elt.length;m+=1)if(this.elt[m].textContent===a){d=m;break}d!==void 0?c===!1?this.elt.remove(d):this.elt[d].value=c:((y=document.createElement("option")).textContent=a,y.value=c===void 0?a:c,this.elt.appendChild(y),this._pInst._elements.push(y))}},r.selected=function(a){if(a!==void 0){for(var c=0;c<this.elt.length;c+=1)this.elt[c].value.toString()===a.toString()&&(this.elt.selectedIndex=c);return this}if(this.elt.getAttribute("multiple")){var d=[],y=!0,m=!1,g=void 0;try{for(var b,w=this.elt.selectedOptions[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var _=b.value;d.push(_.value)}}catch(S){m=!0,g=S}finally{try{y||w.return==null||w.return()}finally{if(m)throw g}}return d}return this.elt.value},r.disable=function(a){if(typeof a=="string")for(var c=0;c<this.elt.length;c++)this.elt[c].value.toString()===a&&(this.elt[c].disabled=!0,this.elt[c].selected=!1);else this.elt.disabled=!0;return this},r},u.default.prototype.createRadio=function(){function r(y){return y instanceof HTMLInputElement&&y.type==="radio"}function n(y){return y instanceof HTMLLabelElement}var o,a,c,d=arguments[0];return d instanceof u.default.Element&&(d.elt instanceof HTMLDivElement||d.elt instanceof HTMLSpanElement)?(o=d,this.elt=d.elt):d instanceof HTMLDivElement||d instanceof HTMLSpanElement?(o=i(d,this),a=this.elt=d,typeof arguments[1]=="string"&&(c=arguments[1])):(typeof d=="string"&&(c=d),a=document.createElement("div"),o=i(a,this),this.elt=a),o._name=c||"radioOption",o._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(y){return r(y)||n(y)&&r(y.firstElementChild)}).map(function(y){return r(y)?y:y.firstElementChild})},o.option=function(y,m){var g,b,w,_=!0,S=!1,M=void 0;try{for(var k,T=o._getOptionsArray()[Symbol.iterator]();!(_=(k=T.next()).done);_=!0){var A=k.value;if(A.value===y){g=A;break}}}catch(O){S=!0,M=O}finally{try{_||T.return==null||T.return()}finally{if(S)throw M}}return g===void 0&&((g=document.createElement("input")).setAttribute("type","radio"),g.setAttribute("value",y)),g.setAttribute("name",o._name),n(g.parentElement)?b=g.parentElement:(b=document.createElement("label")).insertAdjacentElement("afterbegin",g),b.lastElementChild instanceof HTMLSpanElement?w=b.lastElementChild:(w=document.createElement("span"),g.insertAdjacentElement("afterend",w)),w.innerHTML=m===void 0?y:m,this.elt.appendChild(b),g},o.remove=function(y){var m=!0,g=!1,b=void 0;try{for(var w,_=o._getOptionsArray()[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var S=w.value;if(S.value===y)return void(n(S.parentElement)?S.parentElement:S).remove()}}catch(M){g=!0,b=M}finally{try{m||_.return==null||_.return()}finally{if(g)throw b}}},o.value=function(){var y="",m=!0,g=!1,b=void 0;try{for(var w,_=o._getOptionsArray()[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var S=w.value;if(S.checked){y=S.value;break}}}catch(M){g=!0,b=M}finally{try{m||_.return==null||_.return()}finally{if(g)throw b}}return y},o.selected=function(y){var m=null;if(y===void 0){var g=!0,b=!1,w=void 0;try{for(var _,S=o._getOptionsArray()[Symbol.iterator]();!(g=(_=S.next()).done);g=!0){var M=_.value;if(M.checked){m=M;break}}}catch(R){b=!0,w=R}finally{try{g||S.return==null||S.return()}finally{if(b)throw w}}}else{o._getOptionsArray().forEach(function(B){B.checked=!1,B.removeAttribute("checked")});var k=!0,b=!1,w=void 0;try{for(var T,A=o._getOptionsArray()[Symbol.iterator]();!(k=(T=A.next()).done);k=!0){var O=T.value;O.value===y&&(O.setAttribute("checked",!0),O.checked=!0,m=O)}}catch(B){b=!0,w=B}finally{try{k||A.return==null||A.return()}finally{if(b)throw w}}}return m},o.disable=function(){var y=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],m=!0,g=!1,b=void 0;try{for(var w,_=o._getOptionsArray()[Symbol.iterator]();!(m=(w=_.next()).done);m=!0)w.value.setAttribute("disabled",y)}catch(S){g=!0,b=S}finally{try{m||_.return==null||_.return()}finally{if(g)throw b}}},o},u.default.prototype.createColorPicker=function(r){u.default._validateParameters("createColorPicker",arguments);var n=document.createElement("input");return n.type="color",r?r instanceof u.default.Color?n.value=r.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},n.value=u.default.prototype.color(r).toString("#rrggbb")):n.value="#000000",(n=i(n,this)).color=function(){return r&&(r.mode&&(u.default.prototype._colorMode=r.mode),r.maxes&&(u.default.prototype._colorMaxes=r.maxes)),u.default.prototype.color(this.elt.value)},n},u.default.prototype.createInput=function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",o=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return o.setAttribute("value",r),o.setAttribute("type",n),i(o,this)},u.default.prototype.createFileInput=function(r){var n,o=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(n=document.createElement("input")).setAttribute("type","file"),o&&n.setAttribute("multiple",!0),n.addEventListener("change",function(a){var c=!0,d=!1,y=void 0;try{for(var m,g=a.target.files[Symbol.iterator]();!(c=(m=g.next()).done);c=!0){var b=m.value;u.default.File._load(b,r)}}catch(w){d=!0,y=w}finally{try{c||g.return==null||g.return()}finally{if(d)throw y}}},!1),i(n,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(r,n){return u.default._validateParameters("createVideo",arguments),p(this,"video",r,n)},u.default.prototype.createAudio=function(r,n){return u.default._validateParameters("createAudio",arguments),p(this,"audio",r,n)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(r){var n=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return n?new Promise(function(o,a){n.call(navigator,r,o,a)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){if(u.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var r,n=!0,o=!0,a=!0,c=!1,d=void 0;try{for(var y,m=arguments[Symbol.iterator]();!(a=(y=m.next()).done);a=!0){var g=y.value;g===u.default.prototype.VIDEO?o=!1:g===u.default.prototype.AUDIO?n=!1:s(g)==="object"?b=g:typeof g=="function"&&(r=g)}}catch(S){c=!0,d=S}finally{try{a||m.return==null||m.return()}finally{if(c)throw d}}var b=b||{video:n,audio:o},w=document.createElement("video"),_=(w.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(b).then(function(S){try{"srcObject"in w?w.srcObject=S:w.src=window.URL.createObjectURL(S)}catch{w.src=S}},console.log),i(w,this,!0));return _.loadedmetadata=!1,w.addEventListener("loadedmetadata",function(){w.play(),w.width?(_.width=w.width,_.height=w.height):(_.width=_.elt.width=w.videoWidth,_.height=_.elt.height=w.videoHeight),_.loadedmetadata=!0,r&&r(w.srcObject)}),_},u.default.prototype.createElement=function(r,n){return u.default._validateParameters("createElement",arguments),r=document.createElement(r),n!==void 0&&(r.innerHTML=n),i(r,this)},u.default.Element.prototype.addClass=function(r){return this.elt.className?this.hasClass(r)||(this.elt.className=this.elt.className+" "+r):this.elt.className=r,this},u.default.Element.prototype.removeClass=function(r){return this.elt.classList.remove(r),this},u.default.Element.prototype.hasClass=function(r){return this.elt.classList.contains(r)},u.default.Element.prototype.toggleClass=function(r){return this.elt.classList.contains(r)?this.elt.classList.remove(r):this.elt.classList.add(r),this},u.default.Element.prototype.child=function(r){return r===void 0?this.elt.childNodes:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof u.default.Element&&(r=r.elt),r instanceof HTMLElement&&this.elt.appendChild(r),this)},u.default.Element.prototype.center=function(r){var n=this.elt.style.display,o=this.elt.style.display==="none",a=this.parent().style.display==="none",c={x:this.elt.offsetLeft,y:this.elt.offsetTop},d=(o&&this.show(),a&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),y=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return r==="both"||r===void 0?this.position(d/2+this.parent().offsetLeft,y/2+this.parent().offsetTop):r==="horizontal"?this.position(d/2+this.parent().offsetLeft,c.y):r==="vertical"&&this.position(c.x,y/2+this.parent().offsetTop),this.style("display",n),o&&this.hide(),a&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=r,this},u.default.Element.prototype._rotate=function(){var r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=r,this},u.default.Element.prototype.style=function(r,n){if((n=n instanceof u.default.Color?"rgba("+n.levels[0]+","+n.levels[1]+","+n.levels[2]+","+n.levels[3]/255+")":n)===void 0){if(r.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(r);for(var o=r.split(";"),a=0;a<o.length;a++){var c=o[a].split(":");c[0]&&c[1]&&(this.elt.style[c[0].trim()]=c[1].trim())}}else this.elt.style[r]=n,r!=="width"&&r!=="height"&&r!=="left"&&r!=="top"||(n=window.getComputedStyle(this.elt).getPropertyValue(r).replace(/[^\d.]/g,""),this[r]=Math.round(parseFloat(n,10)));return this},u.default.Element.prototype.attribute=function(r,n){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return n===void 0?this.elt.getAttribute(r):(this.elt.setAttribute(r,n),this);if(n===void 0)return this.elt.firstChild.getAttribute(r);for(var o=0;o<this.elt.childNodes.length;o++)this.elt.childNodes[o].setAttribute(r,n)},u.default.Element.prototype.removeAttribute=function(r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].removeAttribute(r);return this.elt.removeAttribute(r),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(r,n){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var o=r,a=n,c=u.default.prototype.AUTO;if(o!==c||a!==c){if(o===c?o=n*this.width/this.height:a===c&&(a=r*this.height/this.width),this.elt instanceof HTMLCanvasElement){var d,y={},m=this.elt.getContext("2d");for(d in m)y[d]=m[d];for(d in this.elt.setAttribute("width",o*this._pInst._pixelDensity),this.elt.setAttribute("height",a*this._pInst._pixelDensity),this.elt.style.width=o+"px",this.elt.style.height=a+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),y)this.elt.getContext("2d")[d]=y[d]}else this.elt.style.width=o+"px",this.elt.style.height=a+"px",this.elt.width=o,this.elt.height=a;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(n=this.elt.srcObject)!==null&&n.getTracks().forEach(function(o){o.stop()}));var r,n=this._pInst._elements.indexOf(this);for(r in n!==-1&&this._pInst._elements.splice(n,1),this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(r,n){var o;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",o=function(a){a.preventDefault()}),this.elt.addEventListener("dragleave",o)),u.default.Element._attachListener("drop",function(a){a.preventDefault(),typeof n=="function"&&n.call(this,a);for(var c=a.dataTransfer.files,d=0;d<c.length;d++){var y=c[d];u.default.File._load(y,r)}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.MediaElement=function(r,n){u.default.Element.call(this,r,n);var o=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(o,"src",{get:function(){var a=o.elt.children[0].src,c=o.elt.src===window.location.href?"":o.elt.src;return a===window.location.href?c:a},set:function(a){for(var c=0;c<o.elt.children.length;c++)o.elt.removeChild(o.elt.children[c]);var d=document.createElement("source");d.src=a,r.appendChild(d),o.elt.src=a,o.modified=!0}}),o._onended=function(){},o.elt.onended=function(){o._onended(o)}},u.default.MediaElement.prototype=Object.create(u.default.Element.prototype),u.default.MediaElement.prototype.play=function(){var r;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(r=this.elt.play())&&r.catch&&r.catch(function(n){n.name==="NotAllowedError"?console.error(n):console.error("Media play method encountered an unexpected error",n)}),this},u.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},u.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},u.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},u.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},u.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var r=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(r)},{passive:!0,once:!0})},u.default.MediaElement.prototype.autoplay=function(r){var n=this,o=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",r),r&&!o&&(r=function(){return n._setupAutoplayFailDetection()},this.elt.readyState===4?r():this.elt.addEventListener("canplay",r,{passive:!0,once:!0})),this},u.default.MediaElement.prototype.volume=function(r){if(r===void 0)return this.elt.volume;this.elt.volume=r},u.default.MediaElement.prototype.speed=function(r){if(r===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=r:this.presetPlaybackRate=r},u.default.MediaElement.prototype.time=function(r){return r===void 0?this.elt.currentTime:(this.elt.currentTime=r,this)},u.default.MediaElement.prototype.duration=function(){return this.elt.duration},u.default.MediaElement.prototype.pixels=[],u.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},u.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),u.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},u.default.MediaElement.prototype.updatePixels=function(r,n,o,a){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,r,n,o,a)),this.setModified(!0),this},u.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),u.default.Renderer2D.prototype.get.apply(this,arguments)},u.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),u.default.Renderer2D.prototype._getPixel.apply(this,arguments)},u.default.MediaElement.prototype.set=function(r,n,o){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,r,n,o),this.setModified(!0))},u.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),u.default.prototype.copy.apply(this,arguments)},u.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),u.default.Image.prototype.mask.apply(this,arguments)},u.default.MediaElement.prototype.isModified=function(){return this._modified},u.default.MediaElement.prototype.setModified=function(r){this._modified=r},u.default.MediaElement.prototype.onended=function(r){return this._onended=r,this},u.default.MediaElement.prototype.connect=function(r){var n,o;if(typeof u.default.prototype.getAudioContext=="function")n=u.default.prototype.getAudioContext(),o=u.default.soundOut.input;else try{o=(n=r.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=n.createMediaElementSource(this.elt),this.audioSourceNode.connect(o)),r?r.input?this.audioSourceNode.connect(r.input):this.audioSourceNode.connect(r):this.audioSourceNode.connect(o)},u.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},u.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},u.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function h(r,n,o,a){this.callback=r,this.time=n,this.id=o,this.val=a}u.default.MediaElement.prototype.addCue=function(r,c,o){var a=this._cueIDCounter++,c=new h(c,r,a,o);return this._cues.push(c),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),a},u.default.MediaElement.prototype.removeCue=function(r){for(var n=0;n<this._cues.length;n++)this._cues[n].id===r&&(console.log(r),this._cues.splice(n,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},u.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},u.default.MediaElement.prototype._onTimeUpdate=function(){for(var r=this.time(),n=0;n<this._cues.length;n++){var o=this._cues[n].time,a=this._cues[n].val;this._prevTime<o&&o<=r&&this._cues[n].callback(a)}this._prevTime=r},u.default.File=function(r,n){this.file=r,this._pInst=n,n=r.type.split("/"),this.type=n[0],this.subtype=n[1],this.name=r.name,this.size=r.size,this.data=void 0},u.default.File._createLoader=function(r,n){var o=new FileReader;return o.onload=function(a){var c,d=new u.default.File(r);d.file.type==="application/json"?d.data=JSON.parse(a.target.result):d.file.type==="text/xml"?(c=new DOMParser().parseFromString(a.target.result,"text/xml"),d.data=new u.default.XML(c.documentElement)):d.data=a.target.result,n(d)},o},u.default.File._load=function(r,n){var o;/^text\//.test(r.type)||r.type==="application/json"?u.default.File._createLoader(r,n).readAsText(r):/^(video|audio)\//.test(r.type)?((o=new u.default.File(r)).data=URL.createObjectURL(r),n(o)):u.default.File._createLoader(r,n).readAsDataURL(r)},t=u.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(t,V,E){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function u(g){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},i=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var b=p();if(b&&b.has(g))return b.get(g);var w,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var M;Object.prototype.hasOwnProperty.call(g,w)&&((M=S?Object.getOwnPropertyDescriptor(g,w):null)&&(M.get||M.set)?Object.defineProperty(_,w,M):_[w]=g[w])}return _.default=g,b&&b.set(g,_),_}(t("../core/constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var h=s.default.prototype.pRotationZ=0,r=0,n=0,o="clockwise",a="clockwise",c="clockwise",d=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),y=30,m=(s.default.prototype.setMoveThreshold=function(g){s.default._validateParameters("setMoveThreshold",arguments),d=g},s.default.prototype.setShakeThreshold=function(g){s.default._validateParameters("setShakeThreshold",arguments),y=g},s.default.prototype._ondeviceorientation=function(g){this._updatePRotations(),this._angleMode===i.radians&&(g.beta=g.beta*(_PI/180),g.gamma=g.gamma*(_PI/180),g.alpha=g.alpha*(_PI/180)),this._setProperty("rotationX",g.beta),this._setProperty("rotationY",g.gamma),this._setProperty("rotationZ",g.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(g){this._updatePAccelerations(),this._setProperty("accelerationX",2*g.acceleration.x),this._setProperty("accelerationY",2*g.acceleration.y),this._setProperty("accelerationZ",2*g.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var g,b,w,_,S,M=this._isGlobal?window:this;typeof M.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&M.deviceMoved(),typeof M.deviceTurned=="function"&&(b=this.rotationX+180,g=this.pRotationX+180,w=h+180,0<b-g&&b-g<270||b-g<-270?o="clockwise":(b-g<0||270<b-g)&&(o="counter-clockwise"),o!==this.pRotateDirectionX&&(w=b),90<Math.abs(b-w)&&Math.abs(b-w)<270&&(w=b,this._setProperty("turnAxis","X"),M.deviceTurned()),this.pRotateDirectionX=o,h=w-180,g=this.rotationY+180,b=this.pRotationY+180,w=r+180,0<g-b&&g-b<270||g-b<-270?a="clockwise":(g-b<0||270<g-this.pRotationY)&&(a="counter-clockwise"),a!==this.pRotateDirectionY&&(w=g),90<Math.abs(g-w)&&Math.abs(g-w)<270&&(w=g,this._setProperty("turnAxis","Y"),M.deviceTurned()),this.pRotateDirectionY=a,r=w-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?c="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(n=this.rotationZ),90<Math.abs(this.rotationZ-n)&&Math.abs(this.rotationZ-n)<270&&(n=this.rotationZ,this._setProperty("turnAxis","Z"),M.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof M.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),y<_+S&&M.deviceShaken())},s.default);E.default=m},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(u){var s;this._downKeys[u.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||u.charCode||s.keyPressed(u)===!1&&u.preventDefault())},f.default.prototype._onkeyup=function(u){this._downKeys[u.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),this._setProperty("keyCode",u.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(u)===!1&&u.preventDefault()},f.default.prototype._onkeypress=function(u){var s;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(u)===!1&&u.preventDefault())},f.default.prototype._onblur=function(u){this._downKeys={}},f.default.prototype.keyIsDown=function(u){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},f.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=f.default,E.default=t},{"../core/main":267}],286:[function(t,V,E){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(h)}function u(h){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},i=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var r=p();if(r&&r.has(h))return r.get(h);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in h){var c;Object.prototype.hasOwnProperty.call(h,n)&&((c=a?Object.getOwnPropertyDescriptor(h,n):null)&&(c.get||c.set)?Object.defineProperty(o,n,c):o[n]=h[n])}return o.default=h,r&&r.set(h,o),o}(t("../core/constants"));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(h){var r,n,o,a,c;this._curElement!==null&&(!h.touches||0<h.touches.length)&&(r=this._curElement.elt,n=this.width,o=this.height,(a=h)&&!a.clientX&&(a.touches?a=a.touches[0]:a.changedTouches&&(a=a.changedTouches[0])),c=r.getBoundingClientRect(),n=r.scrollWidth/n||1,r=r.scrollHeight/o||1,o={x:(a.clientX-c.left)/n,y:(a.clientY-c.top)/r,winX:a.clientX,winY:a.clientY,id:a.identifier},this._setProperty("movedX",h.movementX),this._setProperty("movedY",h.movementY),this._setProperty("mouseX",o.x),this._setProperty("mouseY",o.y),this._setProperty("winMouseX",o.winX),this._setProperty("winMouseY",o.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(h){h.button===1?this._setProperty("mouseButton",i.CENTER):h.button===2?this._setProperty("mouseButton",i.RIGHT):this._setProperty("mouseButton",i.LEFT)},s.default.prototype._onmousemove=function(h){var r=this._isGlobal?window:this;this._updateNextMouseCoords(h),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(h)===!1&&h.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(h)===!1&&h.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(h)===!1&&h.preventDefault()},s.default.prototype._onmousedown=function(h){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(h),this._updateNextMouseCoords(h),typeof r.mousePressed=="function"?r.mousePressed(h)===!1&&h.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(h)===!1&&h.preventDefault()},s.default.prototype._onmouseup=function(h){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(h)===!1&&h.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(h)===!1&&h.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(h){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(h)===!1&&h.preventDefault()},s.default.prototype._ondblclick=function(h){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(h)===!1&&h.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(h){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",h.deltaY),typeof r.mouseWheel=="function"&&(h.delta=h.deltaY,r.mouseWheel(h)===!1&&h.preventDefault())},s.default.prototype.requestPointerLock=function(){var h=this._curElement.elt;return h.requestPointerLock=h.requestPointerLock||h.mozRequestPointerLock,h.requestPointerLock?(h.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,E.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(t,V,E){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var u=[],s=0;s<f.touches.length;s++)u[s]=function(c,a,d,r){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=c.getBoundingClientRect(),a=c.scrollWidth/a||1,c=c.scrollHeight/d||1,d=r.touches[n]||r.changedTouches[n];return{x:(d.clientX-o.left)/a,y:(d.clientY-o.top)/c,winX:d.clientX,winY:d.clientY,id:d.identifier}}(this._curElement.elt,this.width,this.height,f,s);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(f){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof u.touchStarted=="function"?u.touchStarted(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof u.mousePressed=="function"&&u.mousePressed(f)===!1&&f.preventDefault()},t.default.prototype._ontouchmove=function(f){var u=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof u.touchMoved=="function"?u.touchMoved(f)===!1&&f.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(f)===!1&&f.preventDefault()},t.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"?u.touchEnded(f)===!1&&f.preventDefault():typeof u.mouseReleased=="function"&&u.mouseReleased(f)===!1&&f.preventDefault()},t=t.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(t,V,E){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,u,s,i,p={};function h(r,n){for(var o,a,c,d,y,m,g,b,w,_,S=p._toPixels(r),M=r.width,k=r.height,T=M*k,A=new Int32Array(T),O=0;O<T;O++)A[O]=p._getARGB(S,O);var R,U,B,W=new Int32Array(T),N=new Int32Array(T),z=new Int32Array(T),Y=new Int32Array(T),Z=0,G=3.5*n|0;if(f!==(G=G<1?1:G<248?G:248)){u=1+(f=G)<<1,s=new Int32Array(u),i=new Array(u);for(var C,L,D=0;D<u;D++)i[D]=new Int32Array(256);for(var q=1,J=G-1;q<G;q++){s[G+q]=s[J]=L=J*J;for(var te=i[G+q],se=i[J--],ce=0;ce<256;ce++)te[ce]=se[ce]=L*ce}C=s[G]=G*G,te=i[G];for(var ne=0;ne<256;ne++)te[ne]=C*ne}for(U=0;U<k;U++){for(R=0;R<M;R++){if(d=c=a=y=o=0,(m=R-f)<0)_=-m,m=0;else{if(M<=m)break;_=0}for(B=_;B<u&&!(M<=m);B++){var ae,de=A[m+Z];y+=(ae=i[B])[(-16777216&de)>>>24],a+=ae[(16711680&de)>>16],c+=ae[(65280&de)>>8],d+=ae[255&de],o+=s[B],m++}W[g=Z+R]=y/o,N[g]=a/o,z[g]=c/o,Y[g]=d/o}Z+=M}for(w=(b=-f)*M,U=Z=0;U<k;U++){for(R=0;R<M;R++){if(b<(d=c=a=y=o=0))_=g=-b,m=R;else{if(k<=b)break;_=0,g=b,m=R+w}for(B=_;B<u&&!(k<=g);B++)y+=(ae=i[B])[W[m]],a+=ae[N[m]],c+=ae[z[m]],d+=ae[Y[m]],o+=s[B],g++,m+=M;A[R+Z]=y/o<<24|a/o<<16|c/o<<8|d/o}Z+=M,w+=M,b++}p._setPixels(S,A)}p._toPixels=function(r){var n,o;return r instanceof ImageData?r.data:r.getContext("2d")?r.getContext("2d").getImageData(0,0,r.width,r.height).data:r.getContext("webgl")?(o=(n=r.getContext("webgl")).drawingBufferWidth*n.drawingBufferHeight*4,o=new Uint8Array(o),n.readPixels(0,0,r.width,r.height,n.RGBA,n.UNSIGNED_BYTE,o),o):void 0},p._getARGB=function(r,n){return n*=4,r[3+n]<<24&4278190080|r[n]<<16&16711680|r[1+n]<<8&65280|255&r[2+n]},p._setPixels=function(r,n){for(var o,a=0,c=r.length;a<c;a++)r[0+(o=4*a)]=(16711680&n[a])>>>16,r[1+o]=(65280&n[a])>>>8,r[2+o]=255&n[a],r[3+o]=(4278190080&n[a])>>>24},p._toImageData=function(r){return r instanceof ImageData?r:r.getContext("2d").getImageData(0,0,r.width,r.height)},p._createImageData=function(r,n){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(r,n)},p.apply=function(r,d,o){var a=r.getContext("2d"),c=a.getImageData(0,0,r.width,r.height),d=d(c,o);d instanceof ImageData?a.putImageData(d,0,0,0,0,r.width,r.height):a.putImageData(c,0,0,0,0,r.width,r.height)},p.threshold=function(r,n){for(var o=p._toPixels(r),a=(n===void 0&&(n=.5),Math.floor(255*n)),c=0;c<o.length;c+=4){var d=void 0,d=a<=.2126*o[c]+.7152*o[c+1]+.0722*o[c+2]?255:0;o[c]=o[c+1]=o[c+2]=d}},p.gray=function(r){for(var n=p._toPixels(r),o=0;o<n.length;o+=4){var a=n[o],c=n[o+1],d=n[o+2];n[o]=n[o+1]=n[o+2]=.2126*a+.7152*c+.0722*d}},p.opaque=function(r){for(var n=p._toPixels(r),o=0;o<n.length;o+=4)n[o+3]=255;return n},p.invert=function(r){for(var n=p._toPixels(r),o=0;o<n.length;o+=4)n[o]=255-n[o],n[o+1]=255-n[o+1],n[o+2]=255-n[o+2]},p.posterize=function(r,n){var o=p._toPixels(r);if(n<2||255<n)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=n-1,c=0;c<o.length;c+=4){var d=o[c],y=o[c+1],m=o[c+2];o[c]=255*(d*n>>8)/a,o[c+1]=255*(y*n>>8)/a,o[c+2]=255*(m*n>>8)/a}},p.dilate=function(r){for(var n,o,a,c,d,y,m,g,b,w=p._toPixels(r),_=0,S=w.length?w.length/4:0,M=new Int32Array(S);_<S;)for(o=(n=_)+r.width;_<o;)c=a=p._getARGB(w,_),(b=_-1)<n&&(b=_),o<=(g=_+1)&&(g=_),(d=_-r.width)<0&&(d=0),S<=(y=_+r.width)&&(y=_),d=p._getARGB(w,d),b=p._getARGB(w,b),y=p._getARGB(w,y),(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(a=b,c=m),c<(m=77*((b=p._getARGB(w,g))>>16&255)+151*(b>>8&255)+28*(255&b))&&(a=b,c=m),c<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(a=d,c=g),c<(b=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(a=y,c=b),M[_++]=a;p._setPixels(w,M)},p.erode=function(r){for(var n,o,a,c,d,y,m,g,b,w=p._toPixels(r),_=0,S=w.length?w.length/4:0,M=new Int32Array(S);_<S;)for(o=(n=_)+r.width;_<o;)c=a=p._getARGB(w,_),(b=_-1)<n&&(b=_),o<=(g=_+1)&&(g=_),(d=_-r.width)<0&&(d=0),S<=(y=_+r.width)&&(y=_),d=p._getARGB(w,d),b=p._getARGB(w,b),y=p._getARGB(w,y),(m=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(c=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(a=b,c=m),(m=77*((b=p._getARGB(w,g))>>16&255)+151*(b>>8&255)+28*(255&b))<c&&(a=b,c=m),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<c&&(a=d,c=g),(b=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<c&&(a=y,c=b),M[_++]=a;p._setPixels(w,M)},p.blur=function(r,n){h(r,n)},E.default=p},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("omggif"));function s(p){return p&&p.__esModule?p:{default:p}}function i(p){return function(h){if(Array.isArray(h)){for(var r=0,n=new Array(h.length);r<h.length;r++)n[r]=h[r];return n}}(p)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(p,h){return f.default._validateParameters("createImage",arguments),new f.default.Image(p,h)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var p,h,r,n,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(p=arguments[0],o.shift()):arguments[0]instanceof f.default.Element?(p=arguments[0].elt,o.shift()):p=this._curElement&&this._curElement.elt,1<=o.length&&(h=o[0]),r=(r=2<=o.length?o[1]:r)||f.default.prototype._checkFileExtension(h,r)[1]||"png"){default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}p.toBlob(function(a){f.default.prototype.downloadFile(a,h,r)},n)},f.default.prototype.encodeAndDownloadGif=function(p,h){for(var r=p.gifProperties,n=r.loopLimit,o=(n===1?n=null:n===null&&(n=0),new Uint8Array(p.width*p.height*r.numFrames)),a=[],c={},d=0;d<r.numFrames;d++){for(var y=new Set,m=r.frames[d].image.data,g=m.length,b=new Uint32Array(p.width*p.height),w=0,_=0;w<g;w+=4,_++){var S=m[w+0]<<16|m[w+1]<<8|m[w+2]<<0;y.add(S),b[_]=S}var M=i(y).sort().toString();c[M]===void 0?c[M]={freq:1,frames:[d]}:(c[M].freq+=1,c[M].frames.push(d)),a.push(b)}for(var A=[],k=Object.keys(c).sort(function(C,L){return c[L].freq-c[C].freq}),T=k[0].split(",").map(function(C){return parseInt(C)}),A=A.concat(c[T].frames),O=new Set(T),R=1;R<k.length;R++){var U=k[R].split(",").map(function(C){return parseInt(C)}).filter(function(C){return!O.has(C)});if(T.length+U.length<=256){for(var B=0;B<U.length;B++)T.push(U[B]),O.add(U[B]);A=A.concat(c[k[R]].frames)}}A=new Set(A);for(var W={},N=0;N<T.length;N++)W[T[N]]||(W[T[N]]=N);for(var z=1;z<T.length;)z<<=1;T.length=z;for(var n={loop:n,palette:new Uint32Array(T)},Y=new u.default.GifWriter(o,p.width,p.height,n),Z={},G=0;G<r.numFrames;G++)(function(L){for(var D=!A.has(L),q=D?[]:T,J=new Uint8Array(p.width*p.height),te={},se=new Set,ce=0;ce<a[L].length;ce++){var ne=a[L][ce];D?(te[ne]===void 0&&(te[ne]=q.length,q.push(ne)),J[ce]=te[ne]):J[ce]=W[ne],0<L&&a[L-1][ce]!==ne&&se.add(ne)}var ae={},de=q.filter(function(ve){return!se.has(ve)});if(0<de.length){var de=de[0],Q=(D?te:W)[de];if(0<L){for(var ie=0;ie<a[L].length;ie++)a[L-1][ie]===a[L][ie]&&(J[ie]=Q);ae.transparent=Q,Z.frameOpts.disposal=1}}if(ae.delay=r.frames[L].delay/10,D){for(var me=1;me<q.length;)me<<=1;q.length=me,ae.palette=new Uint32Array(q)}0<L&&Y.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),Z={pixelPaletteIndex:J,frameOpts:ae}})(G);Z.frameOpts.disposal=1,Y.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),n=new Blob([o.slice(0,Y.end())],{type:"image/gif"}),f.default.prototype.downloadFile(n,h,"gif")},f.default.prototype.saveFrames=function(p,h,r,a,o){f.default._validateParameters("saveFrames",arguments),r=f.default.prototype.constrain(r=r||3,0,15),r*=1e3;var a=f.default.prototype.constrain(a||15,0,22),c=0,d=f.default.prototype._makeFrame,y=this._curElement.elt,m=[],g=setInterval(function(){m.push(d(p+c,h,y)),c++},1e3/a);setTimeout(function(){if(clearInterval(g),o)o(m);else{var b=!0,w=!1,_=void 0;try{for(var S,M=m[Symbol.iterator]();!(b=(S=M.next()).done);b=!0){var k=S.value;f.default.prototype.downloadFile(k.imageData,k.filename,k.ext)}}catch(T){w=!0,_=T}finally{try{b||M.return==null||M.return()}finally{if(w)throw _}}}m=[]},.01+r)},f.default.prototype._makeFrame=function(p,h,o){var n,o=this?this._curElement.elt:o;if(h)switch(h.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else h="png",n="image/png";var o=(o=o.toDataURL(n)).replace(n,"image/octet-stream"),a={};return a.imageData=o,a.filename=p,a.ext=h,a},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(t,V,E){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function u(y){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t("regenerator-runtime/runtime");var s=o(t("../core/main")),i=o(t("../core/helpers")),p=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var m=n();if(m&&m.has(y))return m.get(y);var g,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in y){var _;Object.prototype.hasOwnProperty.call(y,g)&&((_=w?Object.getOwnPropertyDescriptor(y,g):null)&&(_.get||_.set)?Object.defineProperty(b,g,_):b[g]=y[g])}return b.default=y,m&&m.set(y,b),b}(t("../core/constants")),h=o(t("omggif")),r=t("gifenc");function n(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,n=function(){return y},y)}function o(y){return y&&y.__esModule?y:{default:y}}function a(y,m,g,b,w,_,S){try{var M=y[_](S),k=M.value}catch(T){return void g(T)}M.done?m(k):Promise.resolve(k).then(b,w)}function c(y,m,g,b,w,_,S,M,k,T,A){var O,R,U,B,W,N,z,Y,Z;return y===p.COVER&&(O=m,U=g,z=_,Y=S,N=M,Z=k,R=T,B=A,W=Math.max(z/R,Y/B),z/=W,Y/=W,W=N,N=Z,O===p.CENTER?W+=(R-z)/2:O===p.RIGHT&&(W+=R-z),U===p.CENTER?N+=(B-Y)/2:U===p.BOTTOM&&(N+=B-Y),M=(Z={x:W,y:N,w:z,h:Y}).x,k=Z.y,T=Z.w,A=Z.h),y===p.CONTAIN&&(O=m,R=g,U=b,B=w,W=_,N=S,z=T,Y=A,Z=Math.max(z/W,Y/N),z/=Z,Y/=Z,Z=U,U=B,O===p.CENTER?Z+=(W-z)/2:O===p.RIGHT&&(Z+=W-z),R===p.CENTER?U+=(N-Y)/2:R===p.BOTTOM&&(U+=N-Y),b=(y={x:Z,y:U,w:z,h:Y}).x,w=y.y,_=y.w,S=y.h),{sx:M,sy:k,sw:T,sh:A,dx:b,dy:w,dw:_,dh:S}}function d(y,m){return 0<y&&y<m?y:m}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(y,m,g){s.default._validateParameters("loadImage",arguments);var b=new s.default.Image(1,1,this),w=this,_=new Request(y,{method:"GET",mode:"cors"});return fetch(y,_).then(function(S){var M,k=S.headers.get("content-type");k===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),k&&k.includes("image/gif")?S.arrayBuffer().then(function(T){if(T){var T=new Uint8Array(T),A=b,O=m,R=g,U=(function(D){w._decrementPreload()}).bind(w),B=new h.default.GifReader(T),W=(A.width=A.canvas.width=B.width,A.height=A.canvas.height=B.height,[]),N=B.numFrames(),z=new Uint8ClampedArray(A.width*A.height*4);if(1<N){for(var Y=0;Y<N;Y++){var Z=B.frameInfo(Y),G=A.drawingContext.getImageData(0,0,A.width,A.height),C=(z=G.data.slice(),function(D,q){try{q.decodeAndBlitFrameRGBA(D,z)}catch(J){s.default._friendlyFileLoadError(8,A.src),typeof R=="function"?R(J):console.error(J)}}(Y,B),new ImageData(z,A.width,A.height)),C=(A.drawingContext.putImageData(C,0,0),Z.delay);C===0&&(C=10),W.push({image:A.drawingContext.getImageData(0,0,A.width,A.height),delay:10*C}),Z.disposal===2?A.drawingContext.clearRect(Z.x,Z.y,Z.width,Z.height):Z.disposal===3&&A.drawingContext.putImageData(G,0,0,Z.x,Z.y,Z.width,Z.height)}T=B.loopCount(),T===null?T=1:T===0&&(T=null),A.drawingContext.putImageData(W[0].image,0,0),A.gifProperties={displayIndex:0,loopLimit:T,loopCount:0,frames:W,numFrames:N,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof O=="function"&&O(A),U()}},function(T){typeof g=="function"?(g(T),w._decrementPreload()):console.error(T)}):((M=new Image).onload=function(){b.width=b.canvas.width=M.width,b.height=b.canvas.height=M.height,b.drawingContext.drawImage(M,0,0),b.modified=!0,typeof m=="function"&&m(b),w._decrementPreload()},M.onerror=function(T){s.default._friendlyFileLoadError(0,M.src),typeof g=="function"?(g(T),w._decrementPreload()):console.error(T)},y.indexOf("data:image/")!==0&&(M.crossOrigin="Anonymous"),M.src=y),b.modified=!0}).catch(function(S){s.default._friendlyFileLoadError(0,y),typeof g=="function"?(g(S),w._decrementPreload()):console.error(S)}),b},s.default.prototype.saveGif=function(){y=regeneratorRuntime.mark(function g(b,w){var _,S,M,k,T,A,O,R,U,B,W,N,z,Y,Z,G,C,L,D,q,J,te,se,ce=arguments;return regeneratorRuntime.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(_=2<ce.length&&ce[2]!==void 0?ce[2]:{delay:0,units:"seconds"},typeof b!="string")throw TypeError("fileName parameter must be a string");ne.next=3;break;case 3:if(typeof w!="number")throw TypeError("Duration parameter must be a number");ne.next=5;break;case 5:if(S=_&&_.delay||0,M=_&&_.units||"seconds",typeof S!="number")throw TypeError("Delay parameter must be a number");ne.next=9;break;case 9:if(M!=="seconds"&&M!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ne.next=11;break;case 11:this._recording=!0,O=this._targetFrameRate,k=(k=1/(O=O!==1/0&&O!==void 0&&O!==0?O:60)*1e3)<20?20:k,A=(T=M==="seconds"?w*O:w)+(O=M==="seconds"?S*O:S),O=O,this.frameCount=O,R=this._pixelDensity,this.pixelDensity(1),U=[],B="p5.gif.progressBar",document.getElementById(B)!==null&&document.getElementById(B).remove(),(B=this.createP("")).id("progressBar"),B.style("font-size","16px"),B.style("font-family","Montserrat"),B.style("background-color","#ffffffa0"),B.style("padding","8px"),B.style("border-radius","10px"),B.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(N=document.getElementById("defaultCanvas0").getContext("webgl"),W=new Uint8Array(N.drawingBufferWidth*N.drawingBufferHeight*4)),this.noLoop();case 36:if(O<A)return this.redraw(),J=void 0,J=this.drawingContext instanceof WebGLRenderingContext?(W=new Uint8Array(N.drawingBufferWidth*N.drawingBufferHeight*4),N.readPixels(0,0,N.drawingBufferWidth,N.drawingBufferHeight,N.RGBA,N.UNSIGNED_BYTE,W),function(ae){for(var de=parseInt(height/2),Q=4*width,ie=new Uint8Array(4*width),me=0;me<de;++me){var ve=me*Q,he=(height-me-1)*Q;ie.set(ae.subarray(ve,ve+Q)),ae.copyWithin(ve,he,he+Q),ae.set(ie,he)}return ae}(W)):this.drawingContext.getImageData(0,0,this.width,this.height).data,U.push(J),O++,B.html("Saved frame <b>"+U.length.toString()+"</b> out of "+T.toString()),ne.next=45,new Promise(function(ae){return setTimeout(ae,0)});ne.next=47;break;case 45:ne.next=36;break;case 47:B.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(R),z=(0,r.GIFEncoder)(),Y=function(ae){for(var de=new Uint8Array(ae.length*ae[0].length),Q=0;Q<ae.length;Q++)de.set(ae[Q],Q*ae[0].length);var ie=(0,r.quantize)(de,256,{format:"rgba4444",oneBitAlpha:!0});return ie.length===256?ie[ie.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ie.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ie}(U),Z={},G=function(ae){for(var de=ae.length/4,Q=new Uint8Array(de),ie=0;ie<de;ie++){var me=ae[4*ie]<<24|ae[4*ie+1]<<16|ae[4*ie+2]<<8|ae[4*ie+3];Z[me]===void 0&&(Z[me]=(0,r.nearestColorIndex)(Y,ae.slice(4*ie,4*(ie+1)))),Q[ie]=Z[me]}return Q},C=Y.length-1,L=[],D=0;case 57:if(!(D<U.length)){ne.next=68;break}if(q=G(U[D]),J=q.slice(),D===0)z.writeFrame(q,this.width,this.height,{palette:Y,delay:k,dispose:1});else{for(te=0;te<q.length;te++)q[te]===L[te]&&(q[te]=C);z.writeFrame(q,this.width,this.height,{delay:k,transparent:!0,transparentIndex:C,dispose:1})}return L=J,B.html("Rendered frame <b>"+D.toString()+"</b> out of "+T.toString()),ne.next=65,new Promise(function(ae){return setTimeout(ae,0)});case 65:D++,ne.next=57;break;case 68:z.finish(),se=z.bytesView(),se=new Blob([se],{type:"image/gif"}),U=[],this._recording=!1,this.loop(),B.html("Done. Downloading your gif!"),s.default.prototype.downloadFile(se,b,"gif");case 77:case"end":return ne.stop()}},g,this)});var y,m=function(){var g=this,b=arguments;return new Promise(function(w,_){var S=y.apply(g,b);function M(T){a(S,w,_,M,k,"next",T)}function k(T){a(S,w,_,M,k,"throw",T)}M(void 0)})};return function(g,b){return m.apply(this,arguments)}}(),s.default.prototype.image=function(y,m,g,b,B,W,N,z,Z,T,A,O){s.default._validateParameters("image",arguments);var Y=y.width,R=y.height,U=(O=O||p.CENTER,A=A||p.CENTER,y.elt&&y.elt.videoWidth&&!y.canvas&&(Y=y.elt.videoWidth,R=y.elt.videoHeight),b||Y),B=B||R,W=W||0,N=N||0,z=d(z||Y,Y),Y=d(Z||R,R),Z=1;y.elt&&!y.canvas&&y.elt.style.width&&(Z=y.elt.videoWidth&&!b?y.elt.videoWidth:y.elt.width,Z/=parseInt(y.elt.style.width,10)),W*=Z,N*=Z,Y*=Z,z*=Z,R=c(T,A,O,(R=i.default.modeAdjust(m,g,U,B,this._renderer._imageMode)).x,R.y,R.w,R.h,W,N,z,Y),this._renderer.image(y,R.sx,R.sy,R.sw,R.sh,R.dx,R.dy,R.dw,R.dh)},s.default.prototype.tint=function(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];s.default._validateParameters("tint",m);var b=this.color.apply(this,m);this._renderer._tint=b.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(y){s.default._validateParameters("imageMode",arguments),y!==p.CORNER&&y!==p.CORNERS&&y!==p.CENTER||(this._renderer._imageMode=y)},t=s.default,E.default=t},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("./filters"));function s(i){return i&&i.__esModule?i:{default:i}}f.default.Image=function(i,p){this.width=i,this.height=p,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},f.default.Image.prototype._animateGif=function(r){var p,h=this.gifProperties,r=r._lastFrameTime;h.lastChangeTime===0&&(h.lastChangeTime=r),h.playing&&(h.timeDisplayed=r-h.lastChangeTime,p=h.frames[h.displayIndex].delay,h.timeDisplayed>=p&&(p=Math.floor(h.timeDisplayed/p),h.timeDisplayed=0,h.lastChangeTime=r,h.displayIndex+=p,h.loopCount=Math.floor(h.displayIndex/h.numFrames),h.loopLimit!==null&&h.loopCount>=h.loopLimit?h.playing=!1:(r=h.displayIndex%h.numFrames,this.drawingContext.putImageData(h.frames[r].image,0,0),h.displayIndex=r,this.setModified(!0))))},f.default.Image.prototype._setProperty=function(i,p){this[i]=p,this.setModified(!0)},f.default.Image.prototype.loadPixels=function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},f.default.Image.prototype.updatePixels=function(i,p,h,r){f.default.Renderer2D.prototype.updatePixels.call(this,i,p,h,r),this.setModified(!0)},f.default.Image.prototype.get=function(i,p,h,r){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)},f.default.Image.prototype._getPixel=f.default.Renderer2D.prototype._getPixel,f.default.Image.prototype.set=function(i,p,h){f.default.Renderer2D.prototype.set.call(this,i,p,h),this.setModified(!0)},f.default.Image.prototype.resize=function(i,p){i===0&&p===0?(i=this.canvas.width,p=this.canvas.height):i===0?i=this.canvas.width*p/this.canvas.height:p===0&&(p=this.canvas.height*i/this.canvas.width),i=Math.floor(i),p=Math.floor(p);var h=document.createElement("canvas");if(h.width=i,h.height=p,this.gifProperties)for(var r=this.gifProperties,n=0;n<r.numFrames;n++){for(var o=this.drawingContext.createImageData(i,p),a=(g=g=m=y=d=void 0,r.frames[n].image),c=o,d=0,y=0;y<c.height;y++)for(var m=0;m<c.width;m++){var g=Math.floor(m*a.width/c.width),g=4*(Math.floor(y*a.height/c.height)*a.width+g);c.data[d++]=a.data[g++],c.data[d++]=a.data[g++],c.data[d++]=a.data[g++],c.data[d++]=a.data[+g]}r.frames[n].image=o}h.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,h.width,h.height),this.canvas.width=this.width=i,this.canvas.height=this.height=p,this.drawingContext.drawImage(h,0,0,i,p,0,0,i,p),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},f.default.Image.prototype.copy=function(){for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];f.default.prototype.copy.apply(this,p)},f.default.Image.prototype.mask=function(i){var p=this.drawingContext.globalCompositeOperation,h=1,r=[i=i===void 0?this:i,0,0,(h=i instanceof f.default.Renderer?i._pInst._pixelDensity:h)*i.width,h*i.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var n=0;n<this.gifProperties.frames.length;n++)this.drawingContext.putImageData(this.gifProperties.frames[n].image,0,0),f.default.Image.prototype.copy.apply(this,r),this.gifProperties.frames[n].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else f.default.Image.prototype.copy.apply(this,r);this.drawingContext.globalCompositeOperation=p,this.setModified(!0)},f.default.Image.prototype.filter=function(i,p){u.default.apply(this.canvas,u.default[i],p),this.setModified(!0)},f.default.Image.prototype.blend=function(){for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,p),this.setModified(!0)},f.default.Image.prototype.setModified=function(i){this._modified=i},f.default.Image.prototype.isModified=function(){return this._modified},f.default.Image.prototype.save=function(i,p){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,i):f.default.prototype.saveCanvas(this.canvas,i,p)},f.default.Image.prototype.reset=function(){var i;this.gifProperties&&((i=this.gifProperties).playing=!0,i.timeSinceStart=0,i.timeDisplayed=0,i.lastChangeTime=0,i.loopCount=0,i.displayIndex=0,this.drawingContext.putImageData(i.frames[0].image,0,0))},f.default.Image.prototype.getCurrentFrame=function(){var i;if(this.gifProperties)return(i=this.gifProperties).displayIndex%i.numFrames},f.default.Image.prototype.setFrame=function(i){var p;this.gifProperties&&(i<(p=this.gifProperties).numFrames&&0<=i?(p.timeDisplayed=0,p.lastChangeTime=0,p.displayIndex=i,this.drawingContext.putImageData(p.frames[i].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},f.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},f.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},f.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},f.default.Image.prototype.delay=function(i,p){if(this.gifProperties){var h=this.gifProperties;if(p<h.numFrames&&0<=p)h.frames[p].delay=i;else{var r=!0,p=!1,n=void 0;try{for(var o,a=h.frames[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)o.value.delay=i}catch(d){p=!0,n=d}finally{try{r||a.return==null||a.return()}finally{if(p)throw n}}}}},t=f.default.Image,E.default=t},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(t,V,E){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("./filters"));function s(i){return i&&i.__esModule?i:{default:i}}t("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var i,p=arguments.length,h=new Array(p),r=0;r<p;r++)h[r]=arguments[r];f.default._validateParameters("blend",h),this._renderer?(i=this._renderer).blend.apply(i,h):f.default.Renderer2D.prototype.blend.apply(this,h)},f.default.prototype.copy=function(){for(var i,p,h,r,n,o,a,c,d,y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];if(f.default._validateParameters("copy",m),m.length===9)i=m[0],p=m[1],h=m[2],r=m[3],n=m[4],o=m[5],a=m[6],c=m[7],d=m[8];else{if(m.length!==8)throw new Error("Signature not supported");i=this,p=m[0],h=m[1],r=m[2],n=m[3],o=m[4],a=m[5],c=m[6],d=m[7]}f.default.prototype._copyHelper(this,i,p,h,r,n,o,a,c,d)},f.default.prototype._copyHelper=function(i,p,h,r,n,o,a,c,d,y){p.loadPixels();var m=p.canvas.width/p.width,g=0,b=0;p._renderer&&p._renderer.isP3D&&(g=p.width/2,b=p.height/2),i._renderer&&i._renderer.isP3D?f.default.RendererGL.prototype.image.call(i._renderer,p,h+g,r+b,n,o,a,c,d,y):i.drawingContext.drawImage(p.canvas,m*(h+g),m*(r+b),m*n,m*o,a,c,d,y)},f.default.prototype.filter=function(i,p){f.default._validateParameters("filter",arguments),this.canvas!==void 0?u.default.apply(this.canvas,u.default[i],p):u.default.apply(this.elt,u.default[i],p)},f.default.prototype.get=function(i,p,h,r){var n;return f.default._validateParameters("get",arguments),(n=this._renderer).get.apply(n,arguments)},f.default.prototype.loadPixels=function(){for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];f.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},f.default.prototype.set=function(i,p,h){this._renderer.set(i,p,h)},f.default.prototype.updatePixels=function(i,p,h,r){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(i,p,h,r)},t=f.default,E.default=t},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=p(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),p(t("fetch-jsonp"))),i=p(t("file-saver"));function p(o){return o&&o.__esModule?o:{default:o}}function h(o){return(h=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}function r(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function n(o,a){a&&a!==!0&&a!=="true"||(a="");var c="";return(o=o||"untitled")&&o.includes(".")&&(c=o.split(".").pop()),a&&c!==a&&(c=a,o="".concat(o,".").concat(c)),[o,c]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];u.default._validateParameters("loadJSON",a);for(var d,y,m,g=a[0],b={},w="json",_=1;_<a.length;_++){var S=a[_];typeof S=="string"?S!=="jsonp"&&S!=="json"||(w=S):typeof S=="function"?d?y=S:d=S:h(S)==="object"&&(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))&&(w="jsonp",m=S)}var M=this;return this.httpDo(g,"GET",m,w,function(k){for(var T in k)b[T]=k[T];d!==void 0&&d(k),M._decrementPreload()},function(k){if(u.default._friendlyFileLoadError(5,g),!y)throw k;y(k)}),b},u.default.prototype.loadStrings=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];u.default._validateParameters("loadStrings",a);for(var d,y,m=[],g=1;g<a.length;g++){var b=a[g];typeof b=="function"&&(d===void 0?d=b:y===void 0&&(y=b))}var w=this;return u.default.prototype.httpDo.call(this,a[0],"GET","text",function(_){for(var S=_.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),M=0,k=S.length;M<k;M+=32768)Array.prototype.push.apply(m,S.slice(M,Math.min(M+32768,k)));d!==void 0&&d(m),w._decrementPreload()},function(_){if(u.default._friendlyFileLoadError(3,_),!y)throw _;y(_)}),m},u.default.prototype.loadTable=function(o){var a,c,d,y=!1,m=o.substring(o.lastIndexOf(".")+1,o.length);m==="csv"?d=",":m==="ssv"?d=";":m==="tsv"&&(d="	");for(var g=1;g<arguments.length;g++)typeof arguments[g]=="function"?a===void 0?a=arguments[g]:c===void 0&&(c=arguments[g]):typeof arguments[g]=="string"&&(arguments[g]==="header"&&(y=!0),arguments[g]==="csv"?d=",":arguments[g]==="ssv"?d=";":arguments[g]==="tsv"&&(d="	"));var b=new u.default.Table,w=this;return this.httpDo(o,"GET","table",function(_){for(var S,M,k={},T=0,A=[],O=0,R=null,U=function(){k.currentState=T,k.token=""},B=function(){R.push(k.token),U()},W=function(){k.currentState=4,A.push(R),R=null};;){if((S=_[O++])==null){if(k.escaped)throw new Error("Unclosed quote in file.");if(R){B(),W();break}}if(R===null&&(k.escaped=!1,R=[],U()),k.currentState===T){if(S==='"'){k.escaped=!0,k.currentState=1;continue}k.currentState=1}if(k.currentState===1&&k.escaped)if(S==='"')_[O]==='"'?(k.token+='"',O++):(k.escaped=!1,k.currentState=2);else{if(S==="\r")continue;k.token+=S}else S==="\r"?(_[O]===`
`&&O++,B(),W()):S===`
`?(B(),W()):S===d?B():k.currentState===1&&(k.token+=S)}if(y)b.columns=A.shift();else for(var N=0;N<A[0].length;N++)b.columns[N]="null";for(var z=0;z<A.length;z++)(A[z].length!==1||A[z][0]!=="undefined"&&A[z][0]!=="")&&((M=new u.default.TableRow).arr=A[z],M.obj=function(Y,Z){var G={};if((Z=Z||[])===void 0)for(var C=0;C<Y.length;C++)Z[C.toString()]=C;for(var L=0;L<Z.length;L++){var D=Z[L],q=Y[L];G[D]=q}return G}(A[z],b.columns),b.addRow(M));typeof a=="function"&&a(b),w._decrementPreload()},function(_){u.default._friendlyFileLoadError(2,o),c?c(_):console.error(_)}),b},u.default.prototype.loadXML=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];for(var d,y,m=new u.default.XML,g=1;g<a.length;g++){var b=a[g];typeof b=="function"&&(d===void 0?d=b:y===void 0&&(y=b))}var w=this;return this.httpDo(a[0],"GET","xml",function(_){for(var S in _)m[S]=_[S];d!==void 0&&d(m),w._decrementPreload()},function(_){if(u.default._friendlyFileLoadError(1,_),!y)throw _;y(_)}),m},u.default.prototype.loadBytes=function(o,a,c){var d={},y=this;return this.httpDo(o,"GET","arrayBuffer",function(m){d.bytes=new Uint8Array(m),typeof a=="function"&&a(d),y._decrementPreload()},function(m){if(u.default._friendlyFileLoadError(6,o),!c)throw m;c(m)}),d},u.default.prototype.httpGet=function(){u.default._validateParameters("httpGet",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,o)},u.default.prototype.httpPost=function(){u.default._validateParameters("httpPost",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,o)},u.default.prototype.httpDo=function(){for(var o,a,c,d={},y=0,m="text/plain",g=arguments.length-1;0<g&&typeof(g<0||arguments.length<=g?void 0:arguments[g])=="function";g--)y++;var b=arguments.length-y,w=arguments.length<=0?void 0:arguments[0];if(b==2&&typeof w=="string"&&h(arguments.length<=1?void 0:arguments[1])==="object")A=new Request(w,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var _,S="GET",M=1;M<arguments.length;M++){var k=M<0||arguments.length<=M?void 0:arguments[M];if(typeof k=="string")k==="GET"||k==="POST"||k==="PUT"||k==="DELETE"?S=k:k==="json"||k==="jsonp"||k==="binary"||k==="arrayBuffer"||k==="xml"||k==="text"||k==="table"?o=k:_=k;else if(typeof k=="number")_=k.toString();else if(h(k)==="object")if(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))for(var T in k)d[T]=k[T];else m=k instanceof u.default.XML?(_=k.serialize(),"application/xml"):(_=JSON.stringify(k),"application/json");else typeof k=="function"&&(a?c=k:a=k)}var b=S==="GET"?new Headers:new Headers({"Content-Type":m}),A=new Request(w,{method:S,mode:"cors",body:_,headers:b})}return(b=(b=(o=o||(w.includes("json")?"json":w.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(w,d):fetch(A)).then(function(O){if(!O.ok)throw(R=new Error(O.body)).status=O.status,R.ok=!1,R;var R=0;switch((R=o!=="jsonp"?O.headers.get("content-length"):R)&&64e6<R&&u.default._friendlyFileLoadError(7,w),o){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(U){return U=new DOMParser().parseFromString(U,"text/xml"),new u.default.XML(U.documentElement)});default:return O.text()}})).then(a||function(){}),b.catch(c||console.error),b},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(o,a){var c,d;for(d in u.default.prototype._pWriters)if(u.default.prototype._pWriters[d].name===o)return c=new u.default.PrintWriter(o+this.millis(),a),u.default.prototype._pWriters.push(c),c;return c=new u.default.PrintWriter(o,a),u.default.prototype._pWriters.push(c),c},u.default.PrintWriter=function(o,a){var c=this;this.name=o,this.content="",this.write=function(d){this.content+=d},this.print=function(d){this.content+="".concat(d,`
`)},this.clear=function(){this.content=""},this.close=function(){var d,y=[];for(d in y.push(this.content),u.default.prototype.writeFile(y,o,a),u.default.prototype._pWriters)u.default.prototype._pWriters[d].name===this.name&&u.default.prototype._pWriters.splice(d,1);c.clear(),c={}}},u.default.prototype.save=function(o,a,c){var d=arguments,y=(this._curElement||this).elt;if(d.length===0)u.default.prototype.saveCanvas(y);else if(d[0]instanceof u.default.Renderer||d[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(d[0].elt,d[1],d[2]);else if(d.length===1&&typeof d[0]=="string")u.default.prototype.saveCanvas(y,d[0]);else switch(n(d[1],d[2])[1]){case"json":return void u.default.prototype.saveJSON(d[0],d[1],d[2]);case"txt":return void u.default.prototype.saveStrings(d[0],d[1],d[2]);default:d[0]instanceof Array?u.default.prototype.saveStrings(d[0],d[1],d[2]):d[0]instanceof u.default.Table?u.default.prototype.saveTable(d[0],d[1],d[2]):d[0]instanceof u.default.Image?u.default.prototype.saveCanvas(d[0].canvas,d[1]):d[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(d[0],d[1],d[2],d[3])}},u.default.prototype.saveJSON=function(o,a,c){u.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(o):JSON.stringify(o,void 0,2),this.saveStrings(c.split(`
`),a,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(o,a,c,d){u.default._validateParameters("saveStrings",arguments);for(var y=this.createWriter(a,c||"txt"),m=0;m<o.length;m++)d?y.write(o[m]+`\r
`):y.write(o[m]+`
`);y.close(),y.clear()},u.default.prototype.saveTable=function(o,a,c){u.default._validateParameters("saveTable",arguments),d=c===void 0?a.substring(a.lastIndexOf(".")+1,a.length):c;var d,y=this.createWriter(a,d),m=o.columns,g=d==="tsv"?"	":",";if(d!=="html"){if(m[0]!=="0"){for(var b=0;b<m.length;b++)b<m.length-1?y.write(m[b]+g):y.write(m[b]);y.write(`
`)}for(var w=0;w<o.rows.length;w++){for(var _=void 0,_=0;_<o.rows[w].arr.length;_++)_<o.rows[w].arr.length-1?d==="csv"&&String(o.rows[w].arr[_]).includes(",")?y.write('"'+o.rows[w].arr[_]+'"'+g):y.write(o.rows[w].arr[_]+g):d==="csv"&&String(o.rows[w].arr[_]).includes(",")?y.write('"'+o.rows[w].arr[_]+'"'):y.write(o.rows[w].arr[_]);y.write(`
`)}}else{if(y.print("<html>"),y.print("<head>"),y.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),y.print("</head>"),y.print("<body>"),y.print("  <table>"),m[0]!=="0"){y.print("    <tr>");for(var S=0;S<m.length;S++){var M=r(m[S]);y.print("      <td>".concat(M)),y.print("      </td>")}y.print("    </tr>")}for(var k=0;k<o.rows.length;k++){y.print("    <tr>");for(var T=0;T<o.columns.length;T++){var A=r(o.rows[k].getString(T));y.print("      <td>".concat(A)),y.print("      </td>")}y.print("    </tr>")}y.print("  </table>"),y.print("</body>"),y.print("</html>")}y.close(),y.clear()},u.default.prototype.writeFile=function(y,a,c){var d="application/octet-stream",y=(u.default.prototype._isSafari()&&(d="text/plain"),new Blob(y,{type:d}));u.default.prototype.downloadFile(y,a,c)},u.default.prototype.downloadFile=function(o,y,m){var d,y=n(y,m),m=y[0];o instanceof Blob?i.default.saveAs(o,m):((d=document.createElement("a")).href=o,d.download=m,d.onclick=function(g){document.body.removeChild(g.target),g.stopPropagation()},d.style.display="none",document.body.appendChild(d),u.default.prototype._isSafari()&&(o=(o=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(y[1],'"'),alert(o)),d.click())},u.default.prototype._checkFileExtension=n,u.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=u.default,E.default=t},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.Table=function(u){this.columns=[],this.rows=[]},f.default.Table.prototype.addRow=function(u){if(u=u||new f.default.TableRow,u.arr===void 0||u.obj===void 0)throw new Error("invalid TableRow: ".concat(u));return(u.table=this).rows.push(u),u},f.default.Table.prototype.removeRow=function(u){this.rows[u].table=null,u=this.rows.splice(u+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(u)},f.default.Table.prototype.getRow=function(u){return this.rows[u]},f.default.Table.prototype.getRows=function(){return this.rows},f.default.Table.prototype.findRow=function(u,s){if(typeof s=="string"){for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[s]===u)return this.rows[i]}else for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[s]===u)return this.rows[p];return null},f.default.Table.prototype.findRows=function(u,s){var i=[];if(typeof s=="string")for(var p=0;p<this.rows.length;p++)this.rows[p].obj[s]===u&&i.push(this.rows[p]);else for(var h=0;h<this.rows.length;h++)this.rows[h].arr[s]===u&&i.push(this.rows[h]);return i},f.default.Table.prototype.matchRow=function(u,s){if(typeof s=="number"){for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[s].match(u))return this.rows[i]}else for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[s].match(u))return this.rows[p];return null},f.default.Table.prototype.matchRows=function(u,s){var i=[];if(typeof s=="number")for(var p=0;p<this.rows.length;p++)this.rows[p].arr[s].match(u)&&i.push(this.rows[p]);else for(var h=0;h<this.rows.length;h++)this.rows[h].obj[s].match(u)&&i.push(this.rows[h]);return i},f.default.Table.prototype.getColumn=function(u){var s=[];if(typeof u=="string")for(var i=0;i<this.rows.length;i++)s.push(this.rows[i].obj[u]);else for(var p=0;p<this.rows.length;p++)s.push(this.rows[p].arr[u]);return s},f.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},f.default.Table.prototype.addColumn=function(u){this.columns.push(u||null)},f.default.Table.prototype.getColumnCount=function(){return this.columns.length},f.default.Table.prototype.getRowCount=function(){return this.rows.length},f.default.Table.prototype.removeTokens=function(u,s){for(var i=[],p=0;p<u.length;p++)i.push(u.charAt(p).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var h=new RegExp(i.join("|"),"g");if(s===void 0)for(var r=0;r<this.columns.length;r++)for(var n=0;n<this.rows.length;n++){var o=(o=this.rows[n].arr[r]).replace(h,"");this.rows[n].arr[r]=o,this.rows[n].obj[this.columns[r]]=o}else if(typeof s=="string")for(var a=0;a<this.rows.length;a++){var c=(c=this.rows[a].obj[s]).replace(h,""),d=(this.rows[a].obj[s]=c,this.columns.indexOf(s));this.rows[a].arr[d]=c}else for(var y=0;y<this.rows.length;y++){var m=(m=this.rows[y].arr[s]).replace(h,"");this.rows[y].arr[s]=m,this.rows[y].obj[this.columns[s]]=m}},f.default.Table.prototype.trim=function(u){var s=new RegExp(" ","g");if(u===void 0)for(var i=0;i<this.columns.length;i++)for(var p=0;p<this.rows.length;p++){var h=(h=this.rows[p].arr[i]).replace(s,"");this.rows[p].arr[i]=h,this.rows[p].obj[this.columns[i]]=h}else if(typeof u=="string")for(var r=0;r<this.rows.length;r++){var n=(n=this.rows[r].obj[u]).replace(s,""),o=(this.rows[r].obj[u]=n,this.columns.indexOf(u));this.rows[r].arr[o]=n}else for(var a=0;a<this.rows.length;a++){var c=(c=this.rows[a].arr[u]).replace(s,"");this.rows[a].arr[u]=c,this.rows[a].obj[this.columns[u]]=c}},f.default.Table.prototype.removeColumn=function(p){typeof p=="string"?i=this.columns.indexOf(s=p):s=this.columns[i=p];var s,i,p=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(p);for(var h=0;h<this.rows.length;h++){var r=this.rows[h].arr,n=r.splice(i+1,r.length);r.pop(),this.rows[h].arr=r.concat(n),delete this.rows[h].obj[s]}},f.default.Table.prototype.set=function(u,s,i){this.rows[u].set(s,i)},f.default.Table.prototype.setNum=function(u,s,i){this.rows[u].setNum(s,i)},f.default.Table.prototype.setString=function(u,s,i){this.rows[u].setString(s,i)},f.default.Table.prototype.get=function(u,s){return this.rows[u].get(s)},f.default.Table.prototype.getNum=function(u,s){return this.rows[u].getNum(s)},f.default.Table.prototype.getString=function(u,s){return this.rows[u].getString(s)},f.default.Table.prototype.getObject=function(u){for(var s,i={},p=0;p<this.rows.length;p++)if(s=this.rows[p].obj,typeof u=="string"){if(!(0<=this.columns.indexOf(u)))throw new Error('This table has no column named "'.concat(u,'"'));i[s[u]]=s}else i[p]=this.rows[p].obj;return i},f.default.Table.prototype.getArray=function(){for(var u=[],s=0;s<this.rows.length;s++)u.push(this.rows[s].arr);return u},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(t,V,E){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.TableRow=function(f,u){var s=[],i={};f&&(s=f.split(u=u||","));for(var p=0;p<s.length;p++){var h=p,r=s[p];i[h]=r}this.arr=s,this.obj=i,this.table=null},t.default.TableRow.prototype.set=function(f,u){if(typeof f=="string"){var s=this.table.columns.indexOf(f);if(!(0<=s))throw new Error('This table has no column named "'.concat(f,'"'));this.obj[f]=u,this.arr[s]=u}else{if(!(f<this.table.columns.length))throw new Error("Column #".concat(f," is out of the range of this table"));this.arr[f]=u,s=this.table.columns[f],this.obj[s]=u}},t.default.TableRow.prototype.setNum=function(f,u){u=parseFloat(u),this.set(f,u)},t.default.TableRow.prototype.setString=function(f,u){u=u.toString(),this.set(f,u)},t.default.TableRow.prototype.get=function(f){return(typeof f=="string"?this.obj:this.arr)[f]},t.default.TableRow.prototype.getNum=function(f){var u=parseFloat(typeof f=="string"?this.obj[f]:this.arr[f]);if(u.toString()==="NaN")throw"Error: ".concat(this.obj[f]," is NaN (Not a Number)");return u},t.default.TableRow.prototype.getString=function(f){return(typeof f=="string"?this.obj:this.arr)[f].toString()},t=t.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(s){for(var i=[],p=0;p<s.length;p++)i.push(new f.default.XML(s[p]));return i}f.default.XML=function(s){s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))},f.default.XML.prototype.getParent=function(){return new f.default.XML(this.DOM.parentElement)},f.default.XML.prototype.getName=function(){return this.DOM.tagName},f.default.XML.prototype.setName=function(s){var i=this.DOM.innerHTML,p=this.DOM.attributes,h=document.implementation.createDocument(null,"default").createElement(s);h.innerHTML=i;for(var r=0;r<p.length;r++)h.setAttribute(p[r].nodeName,p.nodeValue);this.DOM=h},f.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},f.default.XML.prototype.listChildren=function(){for(var s=[],i=0;i<this.DOM.childNodes.length;i++)s.push(this.DOM.childNodes[i].nodeName);return s},f.default.XML.prototype.getChildren=function(s){return u(s?this.DOM.getElementsByTagName(s):this.DOM.children)},f.default.XML.prototype.getChild=function(s){if(typeof s!="string")return new f.default.XML(this.DOM.children[s]);var i=!0,p=!1,h=void 0;try{for(var r,n=this.DOM.children[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){var o=r.value;if(o.tagName===s)return new f.default.XML(o)}}catch(a){p=!0,h=a}finally{try{i||n.return==null||n.return()}finally{if(p)throw h}}},f.default.XML.prototype.addChild=function(s){s instanceof f.default.XML&&this.DOM.appendChild(s.DOM)},f.default.XML.prototype.removeChild=function(s){var i=-1;if(typeof s=="string"){for(var p=0;p<this.DOM.children.length;p++)if(this.DOM.children[p].tagName===s){i=p;break}}else i=s;i!==-1&&this.DOM.removeChild(this.DOM.children[i])},f.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},f.default.XML.prototype.listAttributes=function(){var s=[],i=!0,p=!1,h=void 0;try{for(var r,n=this.DOM.attributes[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){var o=r.value;s.push(o.nodeName)}}catch(a){p=!0,h=a}finally{try{i||n.return==null||n.return()}finally{if(p)throw h}}return s},f.default.XML.prototype.hasAttribute=function(s){var i={},p=!0,h=!1,r=void 0;try{for(var n,o=this.DOM.attributes[Symbol.iterator]();!(p=(n=o.next()).done);p=!0){var a=n.value;i[a.nodeName]=a.nodeValue}}catch(c){h=!0,r=c}finally{try{p||o.return==null||o.return()}finally{if(h)throw r}}return!!i[s]},f.default.XML.prototype.getNum=function(s,i){var p={},h=!0,r=!1,n=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(h=(o=a.next()).done);h=!0){var c=o.value;p[c.nodeName]=c.nodeValue}}catch(d){r=!0,n=d}finally{try{h||a.return==null||a.return()}finally{if(r)throw n}}return Number(p[s])||i||0},f.default.XML.prototype.getString=function(s,i){var p={},h=!0,r=!1,n=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(h=(o=a.next()).done);h=!0){var c=o.value;p[c.nodeName]=c.nodeValue}}catch(d){r=!0,n=d}finally{try{h||a.return==null||a.return()}finally{if(r)throw n}}return p[s]?String(p[s]):i||null},f.default.XML.prototype.setAttribute=function(s,i){this.DOM.setAttribute(s,i)},f.default.XML.prototype.getContent=function(s){var i=this.DOM.textContent;return(i=i.replace(/\s\s+/g,","))||s||null},f.default.XML.prototype.setContent=function(s){this.DOM.children.length||(this.DOM.textContent=s)},f.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(t,V,E){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var s=arguments.length,i=[],p=0,h=0;h<s;h++){var r=arguments[h];if((r=+r)===1/0||r===-1/0)return 1/0;p<(r=Math.abs(r))&&(p=r),i[h]=r}p===0&&(p=1);for(var d=0,c=0,n=0;n<s;n++)var o=i[n]/p,o=o*o-c,a=d+o,c=a-d-o,d=a;return Math.sqrt(d)*p}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(s,i,p){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(s,p),i)},f.default.prototype.dist=function(){for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return f.default._validateParameters("dist",i),i.length===4?u(i[2]-i[0],i[3]-i[1]):i.length===6?u(i[3]-i[0],i[4]-i[1],i[5]-i[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(s,i,p){return f.default._validateParameters("lerp",arguments),p*(i-s)+s},f.default.prototype.log=Math.log,f.default.prototype.mag=function(s,i){return f.default._validateParameters("mag",arguments),u(s,i)},f.default.prototype.map=function(s,i,p,h,r,n){return f.default._validateParameters("map",arguments),s=(s-i)/(p-i)*(r-h)+h,n?h<r?this.constrain(s,h,r):this.constrain(s,r,h):s},f.default.prototype.max=function(){for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return i[0]instanceof Array?Math.max.apply(null,i[0]):Math.max.apply(null,i)},f.default.prototype.min=function(){for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return i[0]instanceof Array?Math.min.apply(null,i[0]):Math.min.apply(null,i)},f.default.prototype.norm=function(s,i,p){return f.default._validateParameters("norm",arguments),this.map(s,i,p,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(s,i){return i?(i=Math.pow(10,i),Math.round(s*i)/i):Math.round(s)},f.default.prototype.sq=function(s){return s*s},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(h){f.default._validateParameters("fract",arguments);var i,p=0,h=Number(h);return isNaN(h)||Math.abs(h)===1/0?h:(h<0&&(h=-h,p=1),String(h).includes(".")&&!String(h).includes("e")?(i=String(h),i=+("0"+i.slice(i.indexOf("."))),Math.abs(p-i)):h<1?Math.abs(p-h):0)},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,p,h){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(r,n,o){var a=[null];return a.push.apply(a,n),n=new(Function.bind.apply(r,a)),o&&s(n,o.prototype),n}).apply(null,arguments)}function s(i,p){return(s=Object.setPrototypeOf||function(h,r){return h.__proto__=r,h})(i,p)}f.default.prototype.createVector=function(i,p,h){return this instanceof f.default?u(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(i,p,h)},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(h,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,h=(h=h("../core/main"))&&h.__esModule?h:{default:h};function f(r){return .5*(1-Math.cos(r*Math.PI))}var u,s=4095,i=4,p=.5,h=(h.default.prototype.noise=function(r){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var a=0;a<4096;a++)u[a]=Math.random()}r<0&&(r=-r),n<0&&(n=-n),o<0&&(o=-o);for(var c,d,y=Math.floor(r),m=Math.floor(n),g=Math.floor(o),b=r-y,w=n-m,_=o-g,S=0,M=.5,k=0;k<i;k++){var T=y+(m<<4)+(g<<8),A=f(b),O=f(w),R=u[T&s];R+=A*(u[T+1&s]-R),c=u[T+16&s],R+=O*((c+=A*(u[T+16+1&s]-c))-R),c=u[(T+=256)&s],c+=A*(u[T+1&s]-c),d=u[T+16&s],c+=O*((d+=A*(u[T+16+1&s]-d))-c),S+=(R+=f(_)*(c-R))*M,M*=p,y<<=1,m<<=1,g<<=1,1<=(b*=2)&&(y++,b--),1<=(w*=2)&&(m++,w--),1<=(_*=2)&&(g++,_--)}return S},h.default.prototype.noiseDetail=function(r,n){0<r&&(i=r),0<n&&(p=n)},h.default.prototype.noiseSeed=function(r){a=4294967296;var n,o,a,c={setSeed:function(y){o=n=(y??Math.random()*a)>>>0},getSeed:function(){return n},rand:function(){return(o=(1664525*o+1013904223)%a)/a}};c.setSeed(r),u=new Array(4096);for(var d=0;d<4096;d++)u[d]=c.rand()},h.default);E.default=h},{"../core/main":267}],300:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../core/constants"));function p(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,p=function(){return o},o)}s.default.Vector=function(){var o,a,c={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],o=arguments[2]||0,a=arguments[3]||0,arguments[4]||0):(o=arguments[0]||0,a=arguments[1]||0,arguments[2]||0);this.x=o,this.y=a,this.z=c},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(o,a,c){return o instanceof s.default.Vector?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):o instanceof Array?(this.x=o[0]||0,this.y=o[1]||0,this.z=o[2]||0):(this.x=o||0,this.y=a||0,this.z=c||0),this},s.default.Vector.prototype.copy=function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(o,a,c){return o instanceof s.default.Vector?(this.x+=o.x||0,this.y+=o.y||0,this.z+=o.z||0):o instanceof Array?(this.x+=o[0]||0,this.y+=o[1]||0,this.z+=o[2]||0):(this.x+=o||0,this.y+=a||0,this.z+=c||0),this};function h(o,a){return o!==0&&(this.x=this.x%o),a!==0&&(this.y=this.y%a),this}function r(o,a,c){return o!==0&&(this.x=this.x%o),a!==0&&(this.y=this.y%a),c!==0&&(this.z=this.z%c),this}s.default.Vector.prototype.rem=function(o,a,c){var d;if(o instanceof s.default.Vector){if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z))return y=parseFloat(o.x),m=parseFloat(o.y),d=parseFloat(o.z),r.call(this,y,m,d)}else if(o instanceof Array){if(o.every(function(g){return Number.isFinite(g)}))return o.length===2?h.call(this,o[0],o[1]):o.length===3?r.call(this,o[0],o[1],o[2]):void 0}else if(arguments.length===1){if(Number.isFinite(o)&&o!==0)return this.x=this.x%o,this.y=this.y%o,this.z=this.z%o,this}else if(arguments.length===2){var y=Array.prototype.slice.call(arguments);if(y.every(function(g){return Number.isFinite(g)})&&y.length===2)return h.call(this,y[0],y[1])}else if(arguments.length===3){var m=Array.prototype.slice.call(arguments);if(m.every(function(g){return Number.isFinite(g)})&&m.length===3)return r.call(this,m[0],m[1],m[2])}},s.default.Vector.prototype.sub=function(o,a,c){return o instanceof s.default.Vector?(this.x-=o.x||0,this.y-=o.y||0,this.z-=o.z||0):o instanceof Array?(this.x-=o[0]||0,this.y-=o[1]||0,this.z-=o[2]||0):(this.x-=o||0,this.y-=a||0,this.z-=c||0),this},s.default.Vector.prototype.mult=function(o,a,c){var d;return o instanceof s.default.Vector?Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"?(this.x*=o.x,this.y*=o.y,this.z*=o.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):o instanceof Array?o.every(function(y){return Number.isFinite(y)})&&o.every(function(y){return typeof y=="number"})?o.length===1?(this.x*=o[0],this.y*=o[0],this.z*=o[0]):o.length===2?(this.x*=o[0],this.y*=o[1]):o.length===3&&(this.x*=o[0],this.y*=o[1],this.z*=o[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(d=Array.prototype.slice.call(arguments)).every(function(y){return Number.isFinite(y)})&&d.every(function(y){return typeof y=="number"})?(arguments.length===1&&(this.x*=o,this.y*=o,this.z*=o),arguments.length===2&&(this.x*=o,this.y*=a),arguments.length===3&&(this.x*=o,this.y*=a,this.z*=c)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(o,a,c){if(o instanceof s.default.Vector)if(Number.isFinite(o.x)&&Number.isFinite(o.y)&&Number.isFinite(o.z)&&typeof o.x=="number"&&typeof o.y=="number"&&typeof o.z=="number"){var d=o.z===0&&this.z===0;if(o.x===0||o.y===0||!d&&o.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=o.x,this.y/=o.y,d||(this.z/=o.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(o instanceof Array)if(o.every(function(y){return Number.isFinite(y)})&&o.every(function(y){return typeof y=="number"})){if(o.some(function(y){return y===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;o.length===1?(this.x/=o[0],this.y/=o[0],this.z/=o[0]):o.length===2?(this.x/=o[0],this.y/=o[1]):o.length===3&&(this.x/=o[0],this.y/=o[1],this.z/=o[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(d=Array.prototype.slice.call(arguments),d.every(function(y){return Number.isFinite(y)})&&d.every(function(y){return typeof y=="number"})){if(d.some(function(y){return y===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=o,this.y/=o,this.z/=o),arguments.length===2&&(this.x/=o,this.y/=a),arguments.length===3&&(this.x/=o,this.y/=a,this.z/=c)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var o=this.x,a=this.y,c=this.z;return o*o+a*a+c*c},s.default.Vector.prototype.dot=function(o,a,c){return o instanceof s.default.Vector?this.dot(o.x,o.y,o.z):this.x*(o||0)+this.y*(a||0)+this.z*(c||0)},s.default.Vector.prototype.cross=function(d){var a=this.y*d.z-this.z*d.y,c=this.z*d.x-this.x*d.z,d=this.x*d.y-this.y*d.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,a,c,d):new s.default.Vector(a,c,d)},s.default.Vector.prototype.dist=function(o){return o.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var o=this.mag();return o!==0&&this.mult(1/o),this},s.default.Vector.prototype.limit=function(o){var a=this.magSq();return o*o<a&&this.div(Math.sqrt(a)).mult(o),this},s.default.Vector.prototype.setMag=function(o){return this.normalize().mult(o)},s.default.Vector.prototype.heading=function(){var o=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(o):o},s.default.Vector.prototype.setHeading=function(o){this.isPInst&&(o=this._toRadians(o));var a=this.mag();return this.x=a*Math.cos(o),this.y=a*Math.sin(o),this},s.default.Vector.prototype.rotate=function(a){var a=this.heading()+a,c=(this.isPInst&&(a=this._toRadians(a)),this.mag());return this.x=Math.cos(a)*c,this.y=Math.sin(a)*c,this},s.default.Vector.prototype.angleBetween=function(o){var a=this.dot(o)/(this.mag()*o.mag()),a=Math.acos(Math.min(1,Math.max(-1,a)));return a*=Math.sign(this.cross(o).z||1),a=this.isPInst?this._fromRadians(a):a},s.default.Vector.prototype.lerp=function(o,a,c,d){return o instanceof s.default.Vector?this.lerp(o.x,o.y,o.z,a):(this.x+=(o-this.x)*d||0,this.y+=(a-this.y)*d||0,this.z+=(c-this.z)*d||0,this)},s.default.Vector.prototype.reflect=function(o){return o.normalize(),this.sub(o.mult(2*this.dot(o)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(m,a,c){var d,y,m=m instanceof s.default.Vector?(d=m.x||0,y=m.y||0,m.z||0):m instanceof Array?(d=m[0]||0,y=m[1]||0,m[2]||0):(d=m||0,y=a||0,c||0);return this.x===d&&this.y===y&&this.z===m},s.default.Vector.fromAngle=function(o,a){return new s.default.Vector((a=a===void 0?1:a)*Math.cos(o),a*Math.sin(o),0)},s.default.Vector.fromAngles=function(g,y,c){c===void 0&&(c=1);var d=Math.cos(y),y=Math.sin(y),m=Math.cos(g),g=Math.sin(g);return new s.default.Vector(c*g*y,-c*m,c*g*d)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*i.TWO_PI)},s.default.Vector.random3D=function(){var o=Math.random()*i.TWO_PI,a=2*Math.random()-1,d=Math.sqrt(1-a*a),c=d*Math.cos(o),d=d*Math.sin(o);return new s.default.Vector(c,d,a)},s.default.Vector.copy=function(o){return o.copy(o)},s.default.Vector.add=function(o,a,c){return c?c.set(o):(c=o.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),c.add(a),c},s.default.Vector.rem=function(o,a){if(o instanceof s.default.Vector&&a instanceof s.default.Vector)return(o=o.copy()).rem(a),o},s.default.Vector.sub=function(o,a,c){return c?c.set(o):(c=o.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),c.sub(a),c},s.default.Vector.mult=function(o,a,c){return c?c.set(o):(c=o.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),c.mult(a),c},s.default.Vector.rotate=function(o,a,c){return arguments.length===2?c=o.copy():(c instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),c.set(o)),c.rotate(a),c},s.default.Vector.div=function(o,a,c){return c?c.set(o):(c=o.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),c.div(a),c},s.default.Vector.dot=function(o,a){return o.dot(a)},s.default.Vector.cross=function(o,a){return o.cross(a)},s.default.Vector.dist=function(o,a){return o.dist(a)},s.default.Vector.lerp=function(o,a,c,d){return d?d.set(o):(d=o.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),d.lerp(a,c),d},s.default.Vector.mag=function(o){return o.mag()},s.default.Vector.magSq=function(o){return o.magSq()},s.default.Vector.normalize=function(o,a){return arguments.length<2?a=o.copy():(a instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),a.set(o)),a.normalize()},s.default.Vector.limit=function(o,a,c){return arguments.length<3?c=o.copy():(c instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),c.set(o)),c.limit(a)},s.default.Vector.setMag=function(o,a,c){return arguments.length<3?c=o.copy():(c instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),c.set(o)),c.setMag(a)},s.default.Vector.heading=function(o){return o.heading()},s.default.Vector.angleBetween=function(o,a){return o.angleBetween(a)},s.default.Vector.reflect=function(o,a,c){return arguments.length<3?c=o.copy():(c instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),c.set(o)),c.reflect(a)},s.default.Vector.array=function(o){return o.array()},s.default.Vector.equals=function(o,a){var c;return o instanceof s.default.Vector?c=o:o instanceof Array?c=new s.default.Vector().set(o):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),c.equals(a)};var n=s.default.Vector;E.default=n},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(p,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(p=p("../core/main"))&&p.__esModule?p:{default:p},u="_lcg_random_state",s=4294967296,i=0,p=(f.default.prototype._lcg=function(h){return this[h]=(1664525*this[h]+1013904223)%s,this[h]/s},f.default.prototype._lcgSetSeed=function(h,r){this[h]=(r??Math.random()*s)>>>0},f.default.prototype.randomSeed=function(h){this._lcgSetSeed(u,h),this._gaussian_previous=!1},f.default.prototype.random=function(h,r){var n,o;return f.default._validateParameters("random",arguments),n=this[u]!=null?this._lcg(u):Math.random(),h===void 0?n:r===void 0?h instanceof Array?h[Math.floor(n*h.length)]:n*h:(r<h&&(o=h,h=r,r=o),n*(r-h)+h)},f.default.prototype.randomGaussian=function(h){var r,n,o,a,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=i,this._gaussian_previous=!1;else{for(;1<=(a=(n=this.random(2)-1)*n+(o=this.random(2)-1)*o););r=n*(a=Math.sqrt(-2*Math.log(a)/a)),i=o*a,this._gaussian_previous=!0}return r*c+(h||0)},f.default);E.default=p},{"../core/main":267}],302:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype._angleMode=i.RADIANS,s.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},s.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},s.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},s.default.prototype.atan2=function(r,n){return this._fromRadians(Math.atan2(r,n))},s.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},s.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},s.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},s.default.prototype.degrees=function(r){return r*i.RAD_TO_DEG},s.default.prototype.radians=function(r){return r*i.DEG_TO_RAD},s.default.prototype.angleMode=function(r){if(s.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==i.DEGREES&&r!==i.RADIANS||(this._angleMode=r)},s.default.prototype._toRadians=function(r){return this._angleMode===i.DEGREES?r*i.DEG_TO_RAD:r},s.default.prototype._toDegrees=function(r){return this._angleMode===i.RADIANS?r*i.RAD_TO_DEG:r},s.default.prototype._fromRadians=function(r){return this._angleMode===i.DEGREES?r*i.RAD_TO_DEG:r};var h=s.default;E.default=h},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.textAlign=function(u,s){var i;return f.default._validateParameters("textAlign",arguments),(i=this._renderer).textAlign.apply(i,arguments)},f.default.prototype.textLeading=function(u){var s;return f.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},f.default.prototype.textSize=function(u){var s;return f.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},f.default.prototype.textStyle=function(u){var s;return f.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},f.default.prototype.textWidth=function(){for(var u,s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return i[0]+="",f.default._validateParameters("textWidth",i),i[0].length===0?0:(u=this._renderer).textWidth.apply(u,i)},f.default.prototype.textAscent=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("textAscent",s),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("textDescent",s),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(u){if(u!=="WORD"&&u!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(u)},t=f.default,E.default=t},{"../core/main":267}],304:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=r(t("../core/constants")),p=r(t("opentype.js"));function h(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,h=function(){return o},o)}function r(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=h();if(a&&a.has(o))return a.get(o);var c,d,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&((d=m?Object.getOwnPropertyDescriptor(o,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=o[c]);return y.default=o,a&&a.set(o,y),y}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(o,a,c){s.default._validateParameters("loadFont",arguments);var d=new s.default.Font(this),y=this;return p.load(o,function(b,w){if(b)return s.default._friendlyFileLoadError(4,o),c!==void 0?c(b):void console.error(b,o);d.font=w,a!==void 0&&a(d),y._decrementPreload();var b=o.split("\\").pop().split("/").pop(),w=b.lastIndexOf("."),_=w<1?null:b.slice(w+1);["ttf","otf","woff","woff2"].includes(_)&&(_=b.slice(0,w!==-1?w:0),(b=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(_,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(b))}),d},s.default.prototype.text=function(o,a,c,d,y){var m;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(m=this._renderer).text.apply(m,arguments):this},s.default.prototype.textFont=function(o,a){if(s.default._validateParameters("textFont",arguments),arguments.length){if(o)return this._renderer._setProperty("_textFont",o),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*i._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var n=s.default;E.default=n},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(t,V,E){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},s=function(_){if(_&&_.__esModule)return _;if(_===null||p(_)!=="object"&&typeof _!="function")return{default:_};var S=i();if(S&&S.has(_))return S.get(_);var M,k={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in _){var A;Object.prototype.hasOwnProperty.call(_,M)&&((A=T?Object.getOwnPropertyDescriptor(_,M):null)&&(A.get||A.set)?Object.defineProperty(k,M,A):k[M]=_[M])}return k.default=_,S&&S.set(_,k),k}(t("../core/constants"));function i(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,i=function(){return _},_)}function p(_){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(S){return f(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":f(S)})(_)}function h(_,S){var M=_.length;return _[S<0?S%M+M:S%M]}function r(_,S,M,k){var T,A,O;return k?(r.tmpPoint1===void 0&&(r.tmpPoint1=[],r.tmpPoint2=[]),A=r.tmpPoint1,O=r.tmpPoint2,A.x=S.x-_.x,A.y=S.y-_.y,O.x=M.x-S.x,O.y=M.y-S.y,T=A.x*O.x+A.y*O.y,A=Math.sqrt(A.x*A.x+A.y*A.y),O=Math.sqrt(O.x*O.x+O.y*O.y),Math.acos(T/(A*O))<k):(S[0]-_[0])*(M[1]-_[1])-(M[0]-_[0])*(S[1]-_[1])==0}function n(C,D,L,q,J,A,O,R,U){var B=1-U,N=Math.pow(B,3),z=Math.pow(B,2),G=U*U,Y=G*U,W=N*C+3*z*U*L+3*B*U*U*J+Y*O,N=N*D+3*z*U*q+3*B*U*U*A+Y*R,z=C+2*U*(L-C)+G*(J-2*L+C),Y=D+2*U*(q-D)+G*(A-2*q+D),Z=L+2*U*(J-L)+G*(O-2*J+L),G=q+2*U*(A-q)+G*(R-2*A+q),C=B*C+U*L,L=B*D+U*q,D=B*J+U*O,q=B*A+U*R,J=90-180*Math.atan2(z-Z,Y-G)/Math.PI;return(Z<z||Y<G)&&(J+=180),{x:W,y:N,m:{x:z,y:Y},n:{x:Z,y:G},start:{x:C,y:L},end:{x:D,y:q},alpha:J}}function o(_,S,M,k,T,A,O,R,U){return U==null?b(_,S,M,k,T,A,O,R):n(_,S,M,k,T,A,O,R,function(B,W,N,z,Y,Z,G,C,L){if(!(L<0||b(B,W,N,z,Y,Z,G,C)<L)){var D,q=.5,J=1-q;for(D=b(B,W,N,z,Y,Z,G,C,J);.01<Math.abs(D-L);)D=b(B,W,N,z,Y,Z,G,C,J+=(D<L?1:-1)*(q/=2));return J}}(_,S,M,k,T,A,O,R,U))}function a(_,S,M){for(var k,T,A,O,R,U=0,B=0,W=(_=function(N,z){function Y(ve,he,xe){var Te,Ae;if(!ve)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ve[0]in{T:1,Q:1}||(he.qx=he.qy=null),ve[0]){case"M":he.X=ve[1],he.Y=ve[2];break;case"A":ve=["C"].concat(d.apply(0,[he.x,he.y].concat(ve.slice(1))));break;case"S":Ae=xe==="C"||xe==="S"?(Te=2*he.x-he.bx,2*he.y-he.by):(Te=he.x,he.y),ve=["C",Te,Ae].concat(ve.slice(1));break;case"T":xe==="Q"||xe==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ve=["C"].concat(g(he.x,he.y,he.qx,he.qy,ve[1],ve[2]));break;case"Q":he.qx=ve[1],he.qy=ve[2],ve=["C"].concat(g(he.x,he.y,ve[1],ve[2],ve[3],ve[4]));break;case"L":ve=["C"].concat(m(he.x,he.y,ve[1],ve[2]));break;case"H":ve=["C"].concat(m(he.x,he.y,ve[1],he.y));break;case"V":ve=["C"].concat(m(he.x,he.y,he.x,ve[1]));break;case"Z":ve=["C"].concat(m(he.x,he.y,he.X,he.Y))}return ve}function Z(ve,he){if(7<ve[he].length){ve[he].shift();for(var xe=ve[he];xe.length;)te[he]="A",D&&(se[he]="A"),ve.splice(he++,0,["C"].concat(xe.splice(0,6)));ve.splice(he,1),C=Math.max(L.length,D&&D.length||0)}}function G(ve,he,xe,Te,Ae){ve&&he&&ve[Ae][0]==="M"&&he[Ae][0]!=="M"&&(he.splice(Ae,0,["M",Te.x,Te.y]),xe.bx=0,xe.by=0,xe.x=ve[Ae][1],xe.y=ve[Ae][2],C=Math.max(L.length,D&&D.length||0))}var C,L=c(N),D=z&&c(z),q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},te=[],se=[],ce="",ne="";C=Math.max(L.length,D&&D.length||0);for(var ae=0;ae<C;ae++){(ce=L[ae]?L[ae][0]:ce)!=="C"&&(te[ae]=ce,ae&&(ne=te[ae-1])),L[ae]=Y(L[ae],q,ne),te[ae]!=="A"&&ce==="C"&&(te[ae]="C"),Z(L,ae),D&&((ce=D[ae]?D[ae][0]:ce)!=="C"&&(se[ae]=ce,ae&&(ne=se[ae-1])),D[ae]=Y(D[ae],J,ne),se[ae]!=="A"&&ce==="C"&&(se[ae]="C"),Z(D,ae)),G(L,D,q,J,ae),G(D,L,J,q,ae);var de=L[ae],Q=D&&D[ae],ie=de.length,me=D&&Q.length;q.x=de[ie-2],q.y=de[ie-1],q.bx=parseFloat(de[ie-4])||q.x,q.by=parseFloat(de[ie-3])||q.y,J.bx=D&&(parseFloat(Q[me-4])||J.x),J.by=D&&(parseFloat(Q[me-3])||J.y),J.x=D&&Q[me-2],J.y=D&&Q[me-1]}return D?[L,D]:L}(_)).length;B<W;B++){if((A=_[B])[0]==="M")k=+A[1],T=+A[2];else{if(S<U+(O=o(k,T,A[1],A[2],A[3],A[4],A[5],A[6]))&&!M)return{x:(R=o(k,T,A[1],A[2],A[3],A[4],A[5],A[6],S-U)).x,y:R.y,alpha:R.alpha};U+=O,k=+A[5],T=+A[6]}A.shift()}return R=(R=M?U:n(k,T,A[0],A[1],A[2],A[3],A[4],A[5],1)).alpha?{x:R.x,y:R.y,alpha:R.alpha}:R}function c(_){var S=[],M=0,k=0,T=0,A=0,O=0;if(_){_[0][0]==="M"&&(T=M=+_[0][1],A=k=+_[0][2],O++,S[0]=["M",M,k]);for(var R,U,B=_.length===3&&_[0][0]==="M"&&_[1][0].toUpperCase()==="R"&&_[2][0].toUpperCase()==="Z",W=O,N=_.length;W<N;W++){if(S.push(R=[]),(U=_[W])[0]!==String.prototype.toUpperCase.call(U[0]))switch(R[0]=String.prototype.toUpperCase.call(U[0]),R[0]){case"A":R[1]=U[1],R[2]=U[2],R[3]=U[3],R[4]=U[4],R[5]=U[5],R[6]=+(U[6]+M),R[7]=+(U[7]+k);break;case"V":R[1]=+U[1]+k;break;case"H":R[1]=+U[1]+M;break;case"R":for(var z,Y=2,Z=(z=[M,k].concat(U.slice(1))).length;Y<Z;Y++)z[Y]=+z[Y]+M,z[++Y]=+z[Y]+k;S.pop(),S=S.concat(y(z,B));break;case"M":T=+U[1]+M,A=+U[2]+k;break;default:for(var G=1,C=U.length;G<C;G++)R[G]=+U[G]+(G%2?M:k)}else if(U[0]==="R")z=[M,k].concat(U.slice(1)),S.pop(),S=S.concat(y(z,B)),R=["R"].concat(U.slice(-2));else for(var L=0,D=U.length;L<D;L++)R[L]=U[L];switch(R[0]){case"Z":M=T,k=A;break;case"H":M=R[1];break;case"V":k=R[1];break;case"M":T=R[R.length-2],A=R[R.length-1];break;default:M=R[R.length-2],k=R[R.length-1]}}}return S}function d(_,S,M,k,D,te,q,R,U,B){function W(me,ve,he){return{x:me*Math.cos(he)-ve*Math.sin(he),y:me*Math.sin(he)+ve*Math.cos(he)}}var N,C=Math.PI,L=120*C/180,z=C/180*(+D||0),Y=[],Z=(B?(ae=B[0],N=B[1],ce=B[2],ne=B[3]):(_=(J=W(_,S,-z)).x,S=J.y,1<(Z=(G=(_-(R=(J=W(R,U,-z)).x))/2)*G/(M*M)+(J=(S-(U=J.y))/2)*J/(k*k))&&(M*=Z=Math.sqrt(Z),k*=Z),Z=M*M,se=k*k,ce=(te=(te===q?-1:1)*Math.sqrt(Math.abs((Z*se-Z*J*J-se*G*G)/(Z*J*J+se*G*G))))*M*J/k+(_+R)/2,ne=te*-k*G/M+(S+U)/2,ae=Math.asin(((S-ne)/k).toFixed(9)),N=Math.asin(((U-ne)/k).toFixed(9)),(ae=_<ce?C-ae:ae)<0&&(ae=2*C+ae),(N=R<ce?C-N:N)<0&&(N=2*C+N),q&&N<ae&&(ae-=2*C),!q&&ae<N&&(N-=2*C)),N-ae),G=(Math.abs(Z)>L&&(se=N,J=R,te=U,N=ae+L*(q&&ae<N?1:-1),Y=d(R=ce+M*Math.cos(N),U=ne+k*Math.sin(N),M,k,D,0,q,J,te,[N,se,ce,ne])),Z=N-ae,Math.cos(ae)),C=Math.sin(ae),L=Math.cos(N),D=Math.sin(N),q=Math.tan(Z/4),J=4/3*M*q,te=4/3*k*q,se=[_,S],ce=[_+J*C,S-te*G],ne=[R+J*D,U-te*L],ae=[R,U];if(ce[0]=2*se[0]-ce[0],ce[1]=2*se[1]-ce[1],B)return[ce,ne,ae].concat(Y);for(var de=[],Q=0,ie=(Y=[ce,ne,ae].concat(Y).join().split(",")).length;Q<ie;Q++)de[Q]=Q%2?W(Y[Q-1],Y[Q],z).y:W(Y[Q],Y[Q+1],z).x;return de}function y(_,S){for(var M=[],k=0,T=_.length;k<T-2*!S;k+=2){var A=[{x:+_[k-2],y:+_[k-1]},{x:+_[k],y:+_[k+1]},{x:+_[k+2],y:+_[k+3]},{x:+_[k+4],y:+_[k+5]}];S?k?T-4===k?A[3]={x:+_[0],y:+_[1]}:T-2===k&&(A[2]={x:+_[0],y:+_[1]},A[3]={x:+_[2],y:+_[3]}):A[0]={x:+_[T-2],y:+_[T-1]}:T-4===k?A[3]=A[2]:k||(A[0]={x:+_[k],y:+_[k+1]}),M.push(["C",(-A[0].x+6*A[1].x+A[2].x)/6,(-A[0].y+6*A[1].y+A[2].y)/6,(A[1].x+6*A[2].x-A[3].x)/6,(A[1].y+6*A[2].y-A[3].y)/6,A[2].x,A[2].y])}return M}function m(_,S,M,k){return[_,S,M,k,M,k]}function g(_,S,M,k,T,A){return[1/3*_+2/3*M,1/3*S+2/3*k,1/3*T+2/3*M,1/3*A+2/3*k,T,A]}function b(_,S,M,k,T,A,O,R,U){for(var B=(U=1<(U=U??1)?1:U<0?0:U)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],N=0,z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Y=0;Y<12;Y++){var G=B*W[Y]+B,Z=w(G,_,M,T,O),G=w(G,S,k,A,R);N+=z[Y]*Math.sqrt(Z*Z+G*G)}return B*N}function w(_,S,M,k,T){return _*(_*(-3*S+9*M-9*k+3*T)+6*S-12*M+6*k)-3*S+3*M}u.default.Font=function(_){this.parent=_,this.cache={},this.font=void 0},u.default.Font.prototype.textBounds=function(_){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,O=3<arguments.length?arguments[3]:void 0,k=4<arguments.length?arguments[4]:void 0,T=k&&k.renderer&&k.renderer._pInst||this.parent,A=T._renderer.drawingContext,O=(A.textAlign||s.LEFT,A.textBaseline||s.BASELINE,O||T._renderer._textSize);if(!L){for(var R=[],U=[],B=[],W=(B[0]=[],[]),N=this._scale(O),z=T._renderer.textLeading(),Y=0,Z=(this.font.forEachGlyph(_,S,M,O,k,function(J,te,se,ce){var ne=J.getMetrics();J.index===0||J.index===10?B[Y+=1]=[]:(B[Y].push(te+ne.xMin*N),B[Y].push(te+ne.xMax*N),W.push(se+Y*z+-ne.yMin*N),W.push(se+Y*z+-ne.yMax*N))}),0<B[Y].length&&(R[Y]=Math.min.apply(null,B[Y]),U[Y]=Math.max.apply(null,B[Y])),0),G=0;G<=Y;G++){R[G]=Math.min.apply(null,B[G]),U[G]=Math.max.apply(null,B[G]);var C=U[G]-R[G];Z<C&&(Z=C)}var A=Math.min.apply(null,R),L={x:A,y:M=Math.min.apply(null,W),h:Math.max.apply(null,W)-M,w:Z,advance:A-S},O=this._handleAlignment(T._renderer,_,L.x,L.y,L.w+L.advance);L.x=O.x,L.y=O.y}return L},u.default.Font.prototype.textToPoints=function(_,S,M,k,T){var A=0,O=[],R=this._getGlyphs(_);k=k||this.parent._renderer._textSize;for(var U,B=0;B<R.length;B++){if(!(R[U=B].name&&R[U].name==="space"||_.length===R.length&&_[U]===" "))for(var W=function(Z){for(var G,C=[],L=0;L<Z.length;L++)Z[L].type==="M"&&(G&&C.push(G),G=[]),G.push(function(D){var q=[D.type];return D.type==="M"||D.type==="L"?q.push(D.x,D.y):D.type==="C"?q.push(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"&&q.push(D.x1,D.y1,D.x,D.y),q}(Z[L]));return C.push(G),C}(R[B].getPath(S,M,k).commands),N=0;N<W.length;N++)for(var z=function(Z,G){for(var G=function(te,se){if(p(te)!=="object")te=se;else for(var ce in se)te[ce]===void 0&&(te[ce]=se[ce]);return te}(G,{sampleFactor:.1,simplifyThreshold:0}),C=a(Z,0,1),L=C/(C*G.sampleFactor),D=[],q=0;q<C;q+=L)D.push(a(Z,q));return G.simplifyThreshold&&function(J){for(var te=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,se=0,ce=J.length-1;3<J.length&&0<=ce;--ce)r(h(J,ce-1),h(J,ce),h(J,ce+1),te)&&(J.splice(ce%J.length,1),se++)}(D,G.simplifyThreshold),D}(W[N],T),Y=0;Y<z.length;Y++)z[Y].x+=A,O.push(z[Y]);A+=R[B].advanceWidth*this._scale(k)}return O},u.default.Font.prototype._getGlyphs=function(_){return this.font.stringToGlyphs(_)},u.default.Font.prototype._getPath=function(_,A,M,k){var T=(k&&k.renderer&&k.renderer._pInst||this.parent)._renderer,A=this._handleAlignment(T,_,A,M);return this.font.getPath(_,A.x,A.y,T._textSize,k)},u.default.Font.prototype._getPathData=function(_,S,M,k){var T=3;return typeof _=="string"&&2<arguments.length?_=this._getPath(_,S,M,k):p(S)==="object"&&(k=S),k&&typeof k.decimals=="number"&&(T=k.decimals),_.toPathData(T)},u.default.Font.prototype._getSVG=function(_,S,M,k){var T=3;return typeof _=="string"&&2<arguments.length?_=this._getPath(_,S,M,k):p(S)==="object"&&(k=S),k&&(typeof k.decimals=="number"&&(T=k.decimals),typeof k.strokeWidth=="number"&&(_.strokeWidth=k.strokeWidth),k.fill!==void 0&&(_.fill=k.fill),k.stroke!==void 0&&(_.stroke=k.stroke)),_.toSVG(T)},u.default.Font.prototype._renderPath=function(O,U,B,k){var T=k&&k.renderer||this.parent._renderer,A=T.drawingContext,O=(p(O)==="object"&&O.commands?O:this._getPath(O,U,B,k)).commands,R=(A.beginPath(),!0),U=!1,B=void 0;try{for(var W,N=O[Symbol.iterator]();!(R=(W=N.next()).done);R=!0){var z=W.value;z.type==="M"?A.moveTo(z.x,z.y):z.type==="L"?A.lineTo(z.x,z.y):z.type==="C"?A.bezierCurveTo(z.x1,z.y1,z.x2,z.y2,z.x,z.y):z.type==="Q"?A.quadraticCurveTo(z.x1,z.y1,z.x,z.y):z.type==="Z"&&A.closePath()}}catch(Y){U=!0,B=Y}finally{try{R||N.return==null||N.return()}finally{if(U)throw B}}return T._doStroke&&T._strokeSet&&A.stroke(),T._doFill&&(T._fillSet||T._setFill(s._DEFAULT_TEXT_FILL),A.fill()),this},u.default.Font.prototype._textWidth=function(_,S){return this.font.getAdvanceWidth(_,S)},u.default.Font.prototype._textAscent=function(_){return this.font.ascender*this._scale(_)},u.default.Font.prototype._textDescent=function(_){return-this.font.descender*this._scale(_)},u.default.Font.prototype._scale=function(_){return 1/this.font.unitsPerEm*(_||this.parent._renderer._textSize)},u.default.Font.prototype._handleAlignment=function(_,S,M,k,T){var A=_._textSize;switch(T===void 0&&(T=this._textWidth(S,A)),_._textAlign){case s.CENTER:M-=T/2;break;case s.RIGHT:M-=T}switch(_._textBaseline){case s.TOP:k+=this._textAscent(A);break;case s.CENTER:k+=this._textAscent(A)/2;break;case s.BOTTOM:k-=this._textDescent(A)}return{x:M,y:k}},t=u.default,E.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(f,u){return f.push(u),f},t.default.prototype.arrayCopy=function(f,u,s,i,p){var h,r;f=p!==void 0?(r=Math.min(p,f.length),h=i,f.slice(u,r+u)):(r=s!==void 0?(r=s,Math.min(r,f.length)):f.length,s=u,f.slice(h=0,r)),Array.prototype.splice.apply(s,[h,r].concat(f))},t.default.prototype.concat=function(f,u){return f.concat(u)},t.default.prototype.reverse=function(f){return f.reverse()},t.default.prototype.shorten=function(f){return f.pop(),f},t.default.prototype.shuffle=function(f,u){for(var s,i,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),h=(f=u||p?f:f.slice()).length;1<h;)s=this.random(0,1)*h|0,i=f[--h],f[h]=f[s],f[s]=i;return f},t.default.prototype.sort=function(f,i){var s=i?f.slice(0,Math.min(i,f.length)):f,i=i?f.slice(Math.min(i,f.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(p,h){return p-h})).concat(i)},t.default.prototype.splice=function(f,u,s){return Array.prototype.splice.apply(f,[s,0].concat(u)),f},t.default.prototype.subset=function(f,u,s){return s!==void 0?f.slice(u,u+s):f.slice(u,f.length)},t=t.default,E.default=t},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(t,V,E){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},f.default.prototype.int=function(u){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,s):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(i){return f.default.prototype.int(i,s)}):void 0},f.default.prototype.str=function(u){return u instanceof Array?u.map(f.default.prototype.str):String(u)},f.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(u){return u=f.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(f.default.prototype.char):typeof u=="string"?f.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},f.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(u,s){if(s=s??8,u instanceof Array)return u.map(function(p){return f.default.prototype.hex(p,s)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(s);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var i=Number(u).toString(16).toUpperCase();i.length<s;)i="0".concat(i);return i=i.length>=s?i.substring(i.length-s,i.length):i}},f.default.prototype.unhex=function(u){return u instanceof Array?u.map(f.default.prototype.unhex):parseInt("0x".concat(u),16)},t=f.default,E.default=t},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(t,V,E){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(h=t("../core/main"))&&h.__esModule?h:{default:h};function u(c,n,o){var a=c<0,c=a?c.toString().substring(1):c.toString(),d=c.indexOf("."),y=d!==-1?c.substring(0,d):c,m=d!==-1?c.substring(d+1):"",g=a?"-":"";if(o!==void 0){a="",(d!==-1||0<o-m.length)&&(a="."),m.length>o&&(m=m.substring(0,o));for(var b=0;b<n-y.length;b++)g+="0";for(var g=(g+=y)+a+m,w=0;w<o-m.length;w++)g+="0";return g}for(var _=0;_<Math.max(n-y.length,0);_++)g+="0";return g+=c}function s(c,n){var o=(c=c.toString()).indexOf("."),a=o!==-1?c.substring(o):"",c=(c=o!==-1?c.substring(0,o):c).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(n===0)a="";else if(n!==void 0)if(n>a.length)for(var d=n-(a+=o===-1?".":"").length+1,y=0;y<d;y++)a+="0";else a=a.substring(0,n+1);return c+a}function i(r){return 0<parseFloat(r)?"+".concat(r.toString()):r.toString()}function p(r){return 0<=parseFloat(r)?" ".concat(r.toString()):r.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.join=function(r,n){return f.default._validateParameters("join",arguments),r.join(n)},f.default.prototype.match=function(r,n){return f.default._validateParameters("match",arguments),r.match(n)},f.default.prototype.matchAll=function(r,n){f.default._validateParameters("matchAll",arguments);for(var o=new RegExp(n,"g"),a=o.exec(r),c=[];a!==null;)c.push(a),a=o.exec(r);return c},f.default.prototype.nf=function(r,n,o){return f.default._validateParameters("nf",arguments),r instanceof Array?r.map(function(a){return u(a,n,o)}):Object.prototype.toString.call(r)==="[object Arguments]"?r.length===3?this.nf(r[0],r[1],r[2]):r.length===2?this.nf(r[0],r[1]):this.nf(r[0]):u(r,n,o)},f.default.prototype.nfc=function(r,n){return f.default._validateParameters("nfc",arguments),r instanceof Array?r.map(function(o){return s(o,n)}):s(r,n)},f.default.prototype.nfp=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];f.default._validateParameters("nfp",n);var a=f.default.prototype.nf.apply(this,n);return a instanceof Array?a.map(i):i(a)},f.default.prototype.nfs=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];f.default._validateParameters("nfs",n);var a=f.default.prototype.nf.apply(this,n);return a instanceof Array?a.map(p):p(a)},f.default.prototype.split=function(r,n){return f.default._validateParameters("split",arguments),r.split(n)},f.default.prototype.splitTokens=function(r,n){var o,a;return f.default._validateParameters("splitTokens",arguments),a=n!==void 0?(a=/\]/g.exec(n=n),(o=/\[/g.exec(n))&&a?(n=n.slice(0,a.index)+n.slice(a.index+1),o=/\[/g.exec(n),n=n.slice(0,o.index)+n.slice(o.index+1),new RegExp("[\\[".concat(n,"\\]]"),"g")):a?(n=n.slice(0,a.index)+n.slice(a.index+1),new RegExp("[".concat(n,"\\]]"),"g")):o?(n=n.slice(0,o.index)+n.slice(o.index+1),new RegExp("[".concat(n,"\\[]"),"g")):new RegExp("[".concat(n,"]"),"g")):/\s/g,r.split(a).filter(function(c){return c})},f.default.prototype.trim=function(r){return f.default._validateParameters("trim",arguments),r instanceof Array?r.map(this.trim):r.trim()};var h=f.default;E.default=h},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,E.default=t},{"../core/main":267}],310:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},i=(t("./p5.Geometry"),function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=p();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("../core/constants")));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}s.default.prototype.plane=function(n,o,a,c){this._assert3d("plane"),s.default._validateParameters("plane",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1);var d,y="plane|".concat(a=a===void 0?1:a,"|").concat(c);return this._renderer.geometryInHash(y)||((d=new s.default.Geometry(a,c,function(){for(var m,g,b=0;b<=this.detailY;b++)for(var w=b/this.detailY,_=0;_<=this.detailX;_++)m=_/this.detailX,g=new s.default.Vector(m-.5,w-.5,0),this.vertices.push(g),this.uvs.push(m,w)})).computeFaces().computeNormals(),a<=1&&c<=1?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,d)),this._renderer.drawBuffersScaled(y,n,o,1),this},s.default.prototype.box=function(n,o,a,c,d){this._assert3d("box"),s.default._validateParameters("box",arguments),n===void 0&&(n=50),o===void 0&&(o=n),a===void 0&&(a=o);var y,m=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,m=(d===void 0&&(d=m?1:4),"box|".concat(c=c===void 0?m?1:4:c,"|").concat(d));return this._renderer.geometryInHash(m)||((y=new s.default.Geometry(c,d,function(){var g=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var b=0;b<g.length;b++){for(var w=g[b],_=4*b,S=0;S<4;S++){var M=w[S],M=new s.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);this.vertices.push(M),this.uvs.push(1&S,(2&S)/2)}this.faces.push([_,1+_,2+_]),this.faces.push([2+_,1+_,3+_])}})).computeNormals(),c<=4&&d<=4?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,a),this},s.default.prototype.sphere=function(n,o,a){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(n=n===void 0?50:n,n,n,o=o===void 0?24:o,a=a===void 0?16:a),this};function h(n,o,a,c,d,y,m){n=n<=0?1:n,o=o<0?0:o,a=a<=0?n:a,c=c<3?3:c;for(var g,b,w=(y=y===void 0||y)?-2:0,_=(d=d<1?1:d)+((m=m===void 0?o!==0:m)?2:0),S=Math.atan2(n-o,a),M=Math.sin(S),k=Math.cos(S),T=w;T<=_;++T){var A=T/d,O=a*A,R=void 0,R=T<0?(A=O=0,n):d<T?(O=a,A=1,o):n+(o-n)*A;for(T!==-2&&T!==d+2||(R=0),O-=a/2,g=0;g<c;++g){var U=g/(c-1),W=2*Math.PI*U,B=Math.sin(W),W=Math.cos(W),N=(this.vertices.push(new s.default.Vector(B*R,O,W*R)),void 0),N=T<0?new s.default.Vector(0,-1,0):d<T&&o?new s.default.Vector(0,1,0):new s.default.Vector(B*k,M,W*k);this.vertexNormals.push(N),this.uvs.push(U,A)}}var z=0;if(y){for(b=0;b<c;++b)this.faces.push([z+b,z+c+(b+1)%c,z+c+b]);z+=2*c}for(T=0;T<d;++T){for(g=0;g<c;++g){var Y=(g+1)%c;this.faces.push([z+g,z+Y,z+c+Y]),this.faces.push([z+g,z+c+Y,z+c+g])}z+=c}if(m)for(z+=c,g=0;g<c;++g)this.faces.push([z+g,z+(g+1)%c,z+c])}s.default.prototype.cylinder=function(n,o,a,c,d,y){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1),y===void 0&&(y=!0),d===void 0&&(d=!0);var m,g="cylinder|".concat(a=a===void 0?24:a,"|").concat(c,"|").concat(d,"|").concat(y);return this._renderer.geometryInHash(g)||(m=new s.default.Geometry(a,c),h.call(m,1,1,1,a,c,d,y),a<=24&&c<=16?m._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,m)),this._renderer.drawBuffersScaled(g,n,o,n),this},s.default.prototype.cone=function(n,o,a,c,d){this._assert3d("cone"),s.default._validateParameters("cone",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1),d===void 0&&(d=!0);var y,m="cone|".concat(a=a===void 0?24:a,"|").concat(c,"|").concat(d);return this._renderer.geometryInHash(m)||(y=new s.default.Geometry(a,c),h.call(y,1,0,1,a,c,d,!1),a<=24&&c<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,n),this},s.default.prototype.ellipsoid=function(n,o,a,c,d){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),n===void 0&&(n=50),o===void 0&&(o=n),a===void 0&&(a=n),d===void 0&&(d=16);var y,m="ellipsoid|".concat(c=c===void 0?24:c,"|").concat(d);return this._renderer.geometryInHash(m)||((y=new s.default.Geometry(c,d,function(){for(var g=0;g<=this.detailY;g++)for(var b=g/this.detailY,w=Math.PI*b-Math.PI/2,_=Math.cos(w),S=Math.sin(w),M=0;M<=this.detailX;M++){var k=M/this.detailX,A=2*Math.PI*k,T=Math.cos(A),A=Math.sin(A),A=new s.default.Vector(_*A,S,_*T);this.vertices.push(A),this.vertexNormals.push(A),this.uvs.push(k,b)}})).computeFaces(),c<=24&&d<=24?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,a),this},s.default.prototype.torus=function(n,m,a,c){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),n===void 0)n=50;else if(!n)return;if(m===void 0)m=10;else if(!m)return;a===void 0&&(a=24),c===void 0&&(c=16);var d,y=(m/n).toPrecision(4),m="torus|".concat(y,"|").concat(a,"|").concat(c);return this._renderer.geometryInHash(m)||((d=new s.default.Geometry(a,c,function(){for(var g=0;g<=this.detailY;g++)for(var b=g/this.detailY,w=2*Math.PI*b,_=Math.cos(w),S=Math.sin(w),M=1+y*_,k=0;k<=this.detailX;k++){var T=k/this.detailX,A=2*Math.PI*T,R=Math.cos(A),A=Math.sin(A),O=new s.default.Vector(M*R,M*A,y*S),R=new s.default.Vector(_*R,_*A,S);this.vertices.push(O),this.vertexNormals.push(R),this.uvs.push(T,b)}})).computeFaces(),a<=24&&c<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,d)),this._renderer.drawBuffersScaled(m,n,n,n),this},s.default.RendererGL.prototype.point=function(n,o,a){var c=[];return c.push(new s.default.Vector(n,o,a=a===void 0?0:a)),this._drawPoints(c,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(m){var o=m[0],a=m[1],c=m[2],d=m[3],y=m[4],m=m[5],g=(this.geometryInHash("tri")||((g=new s.default.Geometry(1,1,function(){var w=[];w.push(new s.default.Vector(0,0,0)),w.push(new s.default.Vector(1,0,0)),w.push(new s.default.Vector(0,1,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=w,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._makeTriangleEdges()._edgesToVertices(),g.computeNormals(),this.createBuffers("tri",g)),this.uMVMatrix.copy());try{var b=new s.default.Matrix([c-o,d-a,0,0,y-o,m-a,0,0,0,0,1,0,o,a,0,1]).mult(this.uMVMatrix);this.uMVMatrix=b,this.drawBuffers("tri")}finally{this.uMVMatrix=g}return this},s.default.RendererGL.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,i.TWO_PI,i.OPEN,n[4])},s.default.RendererGL.prototype.arc=function(n){var o,a=arguments[1],c=arguments[2],d=arguments[3],y=arguments[4],m=arguments[5],g=arguments[6],b=arguments[7]||25,w=(Math.abs(m-y)>=i.TWO_PI?"".concat(_="ellipse","|"):"".concat(_="arc","|").concat(y,"|").concat(m,"|").concat(g,"|")).concat(b,"|"),_=(this.geometryInHash(w)||((o=new s.default.Geometry(b,1,function(){if(this.strokeIndices=[],y.toFixed(10)!==m.toFixed(10)){g!==i.PIE&&g!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var S=0;S<=b;S++){var k=(m-y)*(S/b)+y,M=.5+Math.cos(k)/2,k=.5+Math.sin(k)/2;this.vertices.push(new s.default.Vector(M,k,0)),this.uvs.push([M,k]),S<b-1&&(this.faces.push([0,S+1,S+2]),this.strokeIndices.push([S+1,S+2]))}switch(g){case i.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case i.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case i.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),b<=50?o._makeTriangleEdges()._edgesToVertices(o):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(_," with more than 50 detail")),this.createBuffers(w,o)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([n,a,0]),this.uMVMatrix.scale(c,d,1),this.drawBuffers(w)}finally{this.uMVMatrix=_}return this},s.default.RendererGL.prototype.rect=function(n){var o=n[0],a=n[1],c=n[2],d=n[3];if(n[4]===void 0){var g=this._pInst._glAttributes.perPixelLighting,y=n[4]||(g?1:24),m=n[5]||(g?1:16),g="rect|".concat(y,"|").concat(m),b=(this.geometryInHash(g)||((b=new s.default.Geometry(y,m,function(){for(var N=0;N<=this.detailY;N++)for(var z=N/this.detailY,Y=0;Y<=this.detailX;Y++){var Z=Y/this.detailX,G=new s.default.Vector(Z,z,0);this.vertices.push(G),this.uvs.push(Z,z)}0<y&&0<m&&(this.strokeIndices=[[0,y],[y,(y+1)*(m+1)-1],[(y+1)*(m+1)-1,(y+1)*m],[(y+1)*m,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(g,b)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,a,0]),this.uMVMatrix.scale(c,d,1),this.drawBuffers(g)}finally{this.uMVMatrix=b}}else{var g=n[4],b=n[5]===void 0?g:n[5],w=n[6]===void 0?b:n[6],n=n[7]===void 0?w:n[7],A=c,_=d,k=((A+=o)<o&&(k=o,o=A,A=k),(_+=a)<a&&(k=a,a=_,_=k),Math.min((A-o)/2,(_-a)/2)),S=(k<g&&(g=k),k<b&&(b=k),k<w&&(w=k),k<n&&(n=k),o),M=a,k=A,o=_,T=(this.beginShape(),b!==0?(this.vertex(k-b,M),this.quadraticVertex(k,M,k,M+b)):this.vertex(k,M),w!==0?(this.vertex(k,o-w),this.quadraticVertex(k,o,k-w,o)):this.vertex(k,o),n!==0?(this.vertex(S+n,o),this.quadraticVertex(S,o,S,o-n)):this.vertex(S,o),g!==0?(this.vertex(S,M+g),this.quadraticVertex(S,M,S+g,M)):this.vertex(S,M),!(this.immediateMode.geometry.uvs.length=0)),a=!1,A=void 0;try{for(var O,R=this.immediateMode.geometry.vertices[Symbol.iterator]();!(T=(O=R.next()).done);T=!0){var U=O.value,B=(U.x-S)/c,W=(U.y-M)/d;this.immediateMode.geometry.uvs.push(B,W)}}catch(C){a=!0,A=C}finally{try{T||R.return==null||R.return()}finally{if(a)throw A}}this.endShape(i.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(n,o,a,c,d,y,m,g,b,w,_,S,M,k){M===void 0&&(M=2),k===void 0&&(k=2);var T="quad|".concat(n,"|").concat(o,"|").concat(a,"|").concat(c,"|").concat(d,"|").concat(y,"|").concat(m,"|").concat(g,"|").concat(b,"|").concat(w,"|").concat(_,"|").concat(S,"|").concat(M,"|").concat(k);if(!this.geometryInHash(T)){var A=new s.default.Geometry(M,k,function(){for(var N=1/(this.detailX-1),z=1/(this.detailY-1),Y=0;Y<this.detailY;Y++)for(var Z=0;Z<this.detailX;Z++){var G=Z*N,C=Y*z;this.vertices.push(new s.default.Vector((1-G)*((1-C)*n+C*w)+G*((1-C)*c+C*m),(1-G)*((1-C)*o+C*_)+G*((1-C)*d+C*g),(1-G)*((1-C)*a+C*S)+G*((1-C)*y+C*b))),this.uvs.push([G,C])}});A.faces=[];for(var O=0;O<k-1;O++)for(var R=0;R<M-1;R++){var U=R+O*M,B=R+1+(O+1)*M,W=R+(O+1)*M;A.faces.push([U,R+1+O*M,B]),A.faces.push([U,B,W])}A.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(T,A)}return this.drawBuffers(T),this},s.default.RendererGL.prototype.bezier=function(n,o,a,c,d,y,m,g,b,w,_,S){arguments.length===8&&(_=g,w=m,g=y,m=d,d=c,c=a,a=y=b=S=0);var M=this._pInst._bezierDetail||20;this.beginShape();for(var k=0;k<=M;k++){var T=Math.pow(1-k/M,3),A=k/M*3*Math.pow(1-k/M,2),O=3*Math.pow(k/M,2)*(1-k/M),R=Math.pow(k/M,3);this.vertex(n*T+c*A+m*O+w*R,o*T+d*A+g*O+_*R,a*T+y*A+b*O+S*R)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(n,o,a,c,d,y,m,g,b,w,_,S){arguments.length===8&&(w=m,_=g,m=d,g=c,d=c=a,a=y=b=S=0);var M=this._pInst._curveDetail;this.beginShape();for(var k=0;k<=M;k++){var T=.5*Math.pow(k/M,3),A=.5*Math.pow(k/M,2),O=k/M*.5;this.vertex(T*(3*c-n-3*m+w)+A*(2*n-5*c+4*m-w)+O*(-n+m)+2*c*.5,T*(3*d-o-3*g+_)+A*(2*o-5*d+4*g-_)+O*(-o+g)+2*d*.5,T*(3*y-a-3*b+S)+A*(2*a-5*y+4*b-S)+O*(-a+b)+2*y*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(i.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(i.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(y);break}_+=w,S-=w,++M}}for(var k=this._lookUpTableBezier.length,T=[],A=0;A<4;A++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[3]=this.curFillColor.slice();var O=[];for(A=0;A<4;A++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),b===6){this.isBezier=!0;var m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],R=Math.hypot(m[0]-m[1],g[0]-g[1]),B=Math.hypot(m[1]-m[2],g[1]-g[2]),U=Math.hypot(m[2]-m[3],g[2]-g[3]),B=R+B+U;for(R/=B,U/=B,d=0;d<4;d++)T[1].push(T[0][d]*(1-R)+T[3][d]*R),T[2].push(T[0][d]*U+T[3][d]*(1-U)),O[1].push(O[0][d]*(1-R)+O[3][d]*R),O[2].push(O[0][d]*U+O[3][d]*(1-U));for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=0;A<4;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableBezier[c][A]*O[A][d];n+=m[A]*this._lookUpTableBezier[c][A],o+=g[A]*this._lookUpTableBezier[c][A]}this.vertex(n,o)}this.curFillColor=T[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(b===9){this.isBezier=!0,m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var W=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],N=Math.hypot(m[0]-m[1],g[0]-g[1],W[0]-W[1]),B=Math.hypot(m[1]-m[2],g[1]-g[2],W[1]-W[2]),z=Math.hypot(m[2]-m[3],g[2]-g[3],W[2]-W[3]),b=N+B+z;for(N/=b,z/=b,d=0;d<4;d++)T[1].push(T[0][d]*(1-N)+T[3][d]*N),T[2].push(T[0][d]*z+T[3][d]*(1-z)),O[1].push(O[0][d]*(1-N)+O[3][d]*N),O[2].push(O[0][d]*z+O[3][d]*(1-z));for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=a=0;A<4;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableBezier[c][A]*O[A][d];n+=m[A]*this._lookUpTableBezier[c][A],o+=g[A]*this._lookUpTableBezier[c][A],a+=W[A]*this._lookUpTableBezier[c][A]}this.vertex(n,o,a)}this.curFillColor=T[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var w=1/this._lutQuadraticDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableQuadratic[M]=this._quadraticCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableQuadratic[M]=this._quadraticCoefficients(y);break}_+=w,S-=w,++M}}for(var k=this._lookUpTableQuadratic.length,T=[],A=0;A<3;A++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[2]=this.curFillColor.slice();var O=[];for(A=0;A<3;A++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),b===4){this.isQuadratic=!0;var m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],R=Math.hypot(m[0]-m[1],g[0]-g[1]);for(R/=R+Math.hypot(m[1]-m[2],g[1]-g[2]),d=0;d<4;d++)T[1].push(T[0][d]*(1-R)+T[2][d]*R),O[1].push(O[0][d]*(1-R)+O[2][d]*R);for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=0;A<3;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[c][A]*O[A][d];n+=m[A]*this._lookUpTableQuadratic[c][A],o+=g[A]*this._lookUpTableQuadratic[c][A]}this.vertex(n,o)}this.curFillColor=T[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(b===6){this.isQuadratic=!0,m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var U=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(m[0]-m[1],g[0]-g[1],U[0]-U[1]);for(B/=B+Math.hypot(m[1]-m[2],g[1]-g[2],U[1]-U[2]),d=0;d<4;d++)T[1].push(T[0][d]*(1-B)+T[2][d]*B),O[1].push(O[0][d]*(1-B)+O[2][d]*B);for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=a=0;A<3;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[c][A]*O[A][d];n+=m[A]*this._lookUpTableQuadratic[c][A],o+=g[A]*this._lookUpTableQuadratic[c][A],a+=U[A]*this._lookUpTableQuadratic[c][A]}this.vertex(n,o,a)}this.curFillColor=T[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(y);break}_+=w,S-=w,++M}}var k=this._lookUpTableBezier.length;if(b===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<k;d++)o=m[0]*this._lookUpTableBezier[d][0]+m[1]*this._lookUpTableBezier[d][1]+m[2]*this._lookUpTableBezier[d][2]+m[3]*this._lookUpTableBezier[d][3],a=g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3],this.vertex(o,a);for(d=0;d<b;d++)this.immediateMode._curveVertex.shift()}}else if(b===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),n=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<k;d++)o=m[0]*this._lookUpTableBezier[d][0]+m[1]*this._lookUpTableBezier[d][1]+m[2]*this._lookUpTableBezier[d][2]+m[3]*this._lookUpTableBezier[d][3],a=g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3],c=n[0]*this._lookUpTableBezier[d][0]+n[1]*this._lookUpTableBezier[d][1]+n[2]*this._lookUpTableBezier[d][2]+n[3]*this._lookUpTableBezier[d][3],this.vertex(o,a,c);for(d=0;d<b;d++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(n,S,a,M,d,y,m,g,b){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(n),this._pInst.textureMode(i.NORMAL);var w=0,_=(S<=n.width&&(w=S/n.width),1),S=(S+M<=n.width&&(_=(S+M)/n.width),0),M=(a<=n.height&&(S=a/n.height),1);a+d<=n.height&&(M=(a+d)/n.height),this.beginShape(),this.vertex(y,m,0,w,S),this.vertex(y+g,m,0,_,S),this.vertex(y+g,m+b,0,_,M),this.vertex(y,m+b,0,w,M),this.endShape(i.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(i.REMOVE)};var r=s.default;E.default=r},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype.orbitControl=function(r,n,o){var a,c;if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return a=this._renderer._curCamera,r===void 0&&(r=1),n===void 0&&(n=r),o===void 0&&(o=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),c=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,o*c):this._renderer._curCamera._orbit(0,0,-o*c)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(o=-r*(this.mouseX-this.pmouseX)/c,c=n*(this.mouseY-this.pmouseY)/c,this._renderer._curCamera._orbit(o,c,0)):this.mouseButton===this.RIGHT&&(o=a._getLocalAxes(),(c=Math.sqrt(o.x[0]*o.x[0]+o.x[2]*o.x[2]))!==0&&(o.x[0]/=c,o.x[2]/=c),(c=Math.sqrt(o.y[0]*o.y[0]+o.y[2]*o.y[2]))!==0&&(o.y[0]/=c,o.y[2]/=c),c=-1*r*(this.mouseX-this.pmouseX),r=-1*n*(this.mouseY-this.pmouseY),a.setPosition(a.eyeX+c*o.x[0]+r*o.z[0],a.eyeY,a.eyeZ+c*o.x[2]+r*o.z[2]))),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];s.default._validateParameters("debugMode",n);for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1);n[0]===i.GRID?this.registerMethod("post",this._grid.call(this,n[1],n[2],n[3],n[4],n[5])):n[0]===i.AXES?this.registerMethod("post",this._axesIcon.call(this,n[1],n[2],n[3],n[4])):(this.registerMethod("post",this._grid.call(this,n[0],n[1],n[2],n[3],n[4])),this.registerMethod("post",this._axesIcon.call(this,n[5],n[6],n[7],n[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},s.default.prototype._grid=function(r,n,o,a,c){r===void 0&&(r=this.width/2),n===void 0&&(n=Math.round(r/30)<4?4:Math.round(r/30)),o===void 0&&(o=0),a===void 0&&(a=0),c===void 0&&(c=0);var d=r/n,y=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var m=0;m<=n;m++)this.beginShape(this.LINES),this.vertex(-y+o,a,m*d-y+c),this.vertex(y+o,a,m*d-y+c),this.endShape();for(var g=0;g<=n;g++)this.beginShape(this.LINES),this.vertex(g*d-y+o,a,-y+c),this.vertex(g*d-y+o,a,y+c),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(r,n,o,a){return r===void 0&&(r=40<this.width/20?this.width/20:40),n===void 0&&(n=-this.width/4),o===void 0&&(o=n),a===void 0&&(a=n),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n+r,o,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n,o+r,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n,o,a+r),this.endShape(),this.pop()}};var h=s.default;E.default=h},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype.ambientLight=function(r,n,o,a){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var c=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(c._array[0],c._array[1],c._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(r,n,o){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var a=this.color.apply(this,arguments);return this._renderer.specularColors=[a._array[0],a._array[1],a._array[2]],this},s.default.prototype.directionalLight=function(r,b,g,a,c,d){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),r=r instanceof s.default.Color?r:this.color(r,b,g);var y,m,b=arguments[arguments.length-1],g=typeof b=="number"?(y=arguments[arguments.length-3],m=arguments[arguments.length-2],arguments[arguments.length-1]):(y=b.x,m=b.y,b.z),b=Math.sqrt(y*y+m*m+g*g);return this._renderer.directionalLightDirections.push(y/b,m/b,g/b),this._renderer.directionalLightDiffuseColors.push(r._array[0],r._array[1],r._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(r,g,b,a,c,d){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),r=r instanceof s.default.Color?r:this.color(r,g,b);var y,m,g=arguments[arguments.length-1],b=typeof g=="number"?(y=arguments[arguments.length-3],m=arguments[arguments.length-2],arguments[arguments.length-1]):(y=g.x,m=g.y,g.z);return this._renderer.pointLightPositions.push(y,m,b),this._renderer.pointLightDiffuseColors.push(r._array[0],r._array[1],r._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){var r;return this._assert3d("lights"),this._colorMode===i.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(r=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,r),this.directionalLight(0,0,r,0,0,-1)),this},s.default.prototype.lightFalloff=function(r,n,o){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),r<0&&(r=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),o<0&&(o=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),r===0&&n===0&&o===0&&(r=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=r,this._renderer.linearAttenuation=n,this._renderer.quadraticAttenuation=o,this},s.default.prototype.spotLight=function(r,n,o,a,c,d,y,m,g,b,w){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var _,S,M,k=arguments.length;switch(k){case 11:case 10:_=this.color(r,n,o),S=new s.default.Vector(a,c,d),M=new s.default.Vector(y,m,g);break;case 9:r instanceof s.default.Color?(_=r,S=new s.default.Vector(n,o,a),M=new s.default.Vector(c,d,y),b=m,w=g):a instanceof s.default.Vector?(_=this.color(r,n,o),S=a,M=new s.default.Vector(c,d,y),b=m,w=g):y instanceof s.default.Vector?(_=this.color(r,n,o),S=new s.default.Vector(a,c,d),M=y,b=m,w=g):(_=this.color(r,n,o),S=new s.default.Vector(a,c,d),M=new s.default.Vector(y,m,g));break;case 8:b=(M=r instanceof s.default.Color?(_=r,S=new s.default.Vector(n,o,a),new s.default.Vector(c,d,y)):a instanceof s.default.Vector?(_=this.color(r,n,o),S=a,new s.default.Vector(c,d,y)):(_=this.color(r,n,o),S=new s.default.Vector(a,c,d),y),m);break;case 7:r instanceof s.default.Color&&n instanceof s.default.Vector?(_=r,S=n,M=new s.default.Vector(o,a,c),b=d,w=y):r instanceof s.default.Color&&c instanceof s.default.Vector?(_=r,S=new s.default.Vector(n,o,a),M=c,b=d,w=y):a instanceof s.default.Vector&&c instanceof s.default.Vector?(_=this.color(r,n,o),S=a,M=c,b=d,w=y):M=r instanceof s.default.Color?(_=r,S=new s.default.Vector(n,o,a),new s.default.Vector(c,d,y)):a instanceof s.default.Vector?(_=this.color(r,n,o),S=a,new s.default.Vector(c,d,y)):(_=this.color(r,n,o),S=new s.default.Vector(a,c,d),y);break;case 6:a instanceof s.default.Vector&&c instanceof s.default.Vector?(_=this.color(r,n,o),S=a,M=c,b=d):r instanceof s.default.Color&&c instanceof s.default.Vector?(_=r,S=new s.default.Vector(n,o,a),M=c,b=d):r instanceof s.default.Color&&n instanceof s.default.Vector&&(_=r,S=n,M=new s.default.Vector(o,a,c),b=d);break;case 5:r instanceof s.default.Color&&n instanceof s.default.Vector&&o instanceof s.default.Vector?(_=r,S=n,M=o,b=a,w=c):a instanceof s.default.Vector&&c instanceof s.default.Vector?(_=this.color(r,n,o),S=a,M=c):r instanceof s.default.Color&&c instanceof s.default.Vector?(_=r,S=new s.default.Vector(n,o,a),M=c):r instanceof s.default.Color&&n instanceof s.default.Vector&&(_=r,S=n,M=new s.default.Vector(o,a,c));break;case 4:_=r,S=n,M=o,b=a;break;case 3:_=r,S=n,M=o;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(k<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(S.x,S.y,S.z),M.normalize(),this._renderer.spotLightDirections.push(M.x,M.y,M.z),b===void 0&&(b=Math.PI/3),w!==void 0&&w<1?(w=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):w===void 0&&(w=100),b=this._renderer._pInst._toRadians(b),this._renderer.spotLightAngle.push(Math.cos(b)),this._renderer.spotLightConc.push(w),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var h=s.default;E.default=h},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./p5.Geometry"),f.default.prototype.loadModel=function(s){f.default._validateParameters("loadModel",arguments);var i,p,h,r=s.slice(-4),n=(typeof arguments[1]=="boolean"?(i=arguments[1],p=arguments[2],h=arguments[3],arguments[4]!==void 0&&(r=arguments[4])):(i=!1,p=arguments[1],h=arguments[2],arguments[3]!==void 0&&(r=arguments[3])),new f.default.Geometry),o=(n.gid="".concat(s,"|").concat(i),this);return r.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(a){(function(c,d){if(function(y){for(var m=new DataView(y),g=[115,111,108,105,100],b=0;b<5;b++)if(function(w,_,S){for(var M=0,k=w.length;M<k;M++)if(w[M]!==_.getUint8(S+M,!1))return;return 1}(g,m,b))return;return 1}(d))(function(y,m){for(var g,b,w,_,S,M,k,T=new DataView(m),A=T.getUint32(80,!0),O=!1,R=0;R<70;R++)T.getUint32(R,!1)===1129270351&&T.getUint8(R+4)===82&&T.getUint8(R+5)===61&&(O=!0,_=[],S=T.getUint8(R+6)/255,M=T.getUint8(R+7)/255,k=T.getUint8(R+8)/255);for(var U=0;U<A;U++){for(var B,W=84+50*U,N=T.getFloat32(W,!0),z=T.getFloat32(4+W,!0),Y=T.getFloat32(8+W,!0),Z=(O&&(B=T.getUint16(48+W,!0),w=32768&B?(g=S,b=M,k):(g=(31&B)/31,b=(B>>5&31)/31,(B>>10&31)/31)),new f.default.Vector(N,z,Y)),G=1;G<=3;G++){var C=W+12*G,C=new f.default.Vector(T.getFloat32(C,!0),T.getFloat32(4+C,!0),T.getFloat32(8+C,!0));y.vertices.push(C),y.vertexNormals.push(Z),O&&_.push(g,b,w)}y.faces.push([3*U,3*U+1,3*U+2]),y.uvs.push([0,0],[0,0],[0,0])}})(c,d);else{if(d=new DataView(d),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");d=new TextDecoder("utf-8").decode(d).split(`
`),function(y,m){for(var g,b,w="",_=[],S=0;S<m.length;++S){for(var M=m[S].trim(),k=M.split(" "),T=0;T<k.length;++T)k[T]===""&&k.splice(T,1);if(k.length!==0)switch(w){case"":if(k[0]!=="solid")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "solid"'));w="solid";break;case"solid":if(k[0]!=="facet"||k[1]!=="normal")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "facet normal"'));g=new f.default.Vector(parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4])),y.vertexNormals.push(g,g,g),w="facet normal";break;case"facet normal":if(k[0]!=="outer"||k[1]!=="loop")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "outer loop"'));w="vertex";break;case"vertex":if(k[0]==="vertex")b=new f.default.Vector(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3])),y.vertices.push(b),y.uvs.push([0,0]),_.push(y.vertices.indexOf(b));else{if(k[0]!=="endloop")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "vertex" or "endloop"'));y.faces.push(_),_=[],w="endloop"}break;case"endloop":if(k[0]!=="endfacet")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "endfacet"'));w="endfacet";break;case"endfacet":if(k[0]!=="endsolid"){if(k[0]!=="facet"||k[1]!=="normal")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "endsolid" or "facet normal"'));g=new f.default.Vector(parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4])),y.vertexNormals.push(g,g,g),w="facet normal"}break;default:console.error('Invalid state "'.concat(w,'"'))}}}(c,d)}})(n,a),i&&n.normalize(),o._decrementPreload(),typeof p=="function"&&p(n)},h):r.match(/\.obj$/i)?this.loadStrings(s,function(a){for(var c=n,d=a,y={v:[],vt:[],vn:[]},m={},g=0;g<d.length;++g){var b=d[g].trim().split(/\b\s+/);if(0<b.length){if(b[0]==="v"||b[0]==="vn"){var w=new f.default.Vector(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]));y[b[0]].push(w)}else if(b[0]==="vt")w=[parseFloat(b[1]),1-parseFloat(b[2])],y[b[0]].push(w);else if(b[0]==="f")for(var _=3;_<b.length;++_){for(var S=[],M=[1,_-1,_],k=0;k<M.length;++k){var T=b[M[k]],A=0;if(m[T]!==void 0)A=m[T];else{for(var O=T.split("/"),R=0;R<O.length;R++)O[R]=parseInt(O[R])-1;A=m[T]=c.vertices.length,c.vertices.push(y.v[O[0]].copy()),y.vt[O[1]]?c.uvs.push(y.vt[O[1]].slice()):c.uvs.push([0,0]),y.vn[O[2]]&&c.vertexNormals.push(y.vn[O[2]].copy())}S.push(A)}S[0]!==S[1]&&S[0]!==S[2]&&S[1]!==S[2]&&c.faces.push(S)}}}c.vertexNormals.length===0&&c.computeNormals(),i&&n.normalize(),o._decrementPreload(),typeof p=="function"&&p(n)},h):(f.default._friendlyFileLoadError(3,s),h?h():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),n},f.default.prototype.model=function(s){this._assert3d("model"),f.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var u=f.default;E.default=u},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.join"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Texture"),s.default.prototype.loadShader=function(r,n,o,a){s.default._validateParameters("loadShader",arguments),a=a||console.error;function c(){y._decrementPreload(),o&&o(d)}var d=new s.default.Shader,y=this,m=!1,g=!1;return this.loadStrings(r,function(b){d._vertSrc=b.join(`
`),g=!0,m&&c()},a),this.loadStrings(n,function(b){d._fragSrc=b.join(`
`),m=!0,g&&c()},a),d},s.default.prototype.createShader=function(r,n){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,r,n)},s.default.prototype.shader=function(r){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),r._renderer===void 0&&(r._renderer=this._renderer),r.init(),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(r){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=i.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(r){r!==i.IMAGE&&r!==i.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},s.default.prototype.textureWrap=function(r){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,o=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=n,this._renderer.textures),a=0;a<o.length;a++)o[a].setWrapMode(r,n)},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s.default._validateParameters("normalMaterial",n),this._renderer.drawMode=i.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(r,n,o){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var a=s.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=a._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(r,n,o,a){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var c=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(r,n,o,a){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var c=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(r){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},s.default.RendererGL.prototype._applyColorBlend=function(r){var n=this.GL,o=this.drawMode===i.TEXTURE,o=this.userFillShader||this.userStrokeShader||this.userPointShader||o||this.curBlendMode!==i.BLEND||r[r.length-1]<1||this._isErasing;return o!==this._isBlending&&(o||this.curBlendMode!==i.BLEND&&this.curBlendMode!==i.ADD?n.enable(n.BLEND):n.disable(n.BLEND),n.depthMask(!0),this._isBlending=o),this._applyBlendMode(),r},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case i.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case i.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case i.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case i.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case i.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case i.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case i.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case i.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case i.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case i.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var h=s.default;E.default=h},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.camera=function(){var u;this._assert3d("camera");for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return f.default._validateParameters("camera",i),(u=this._renderer._curCamera).camera.apply(u,i),this},f.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return f.default._validateParameters("perspective",i),(u=this._renderer._curCamera).perspective.apply(u,i),this},f.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return f.default._validateParameters("ortho",i),(u=this._renderer._curCamera).ortho.apply(u,i),this},f.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return f.default._validateParameters("frustum",i),(u=this._renderer._curCamera).frustum.apply(u,i),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new f.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},f.default.Camera=function(u){this._renderer=u,this.cameraType="default",this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix},f.default.Camera.prototype.perspective=function(h,s,i,p){this.cameraType=0<arguments.length?"custom":"default",h===void 0?(h=this.defaultCameraFOV,this.cameraFOV=h):this.cameraFOV=this._renderer._pInst._toRadians(h),s===void 0&&(s=this.defaultAspectRatio),i===void 0&&(i=this.defaultCameraNear),p===void 0&&(p=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),p<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=i,this.cameraFar=p,this.projMatrix=f.default.Matrix.identity();var h=1/Math.tan(this.cameraFOV/2),r=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(h/s,0,0,0,0,-h,0,0,0,0,(p+i)*r,-1,0,0,2*p*i*r,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},f.default.Camera.prototype.ortho=function(m,y,i,p,h,r){m===void 0&&(m=-this._renderer.width/2),y===void 0&&(y=+this._renderer.width/2),i===void 0&&(i=-this._renderer.height/2),h===void 0&&(h=0);var g=y-m,n=(p=p===void 0?+this._renderer.height/2:p)-i,o=(r=r===void 0?Math.max(this._renderer.width,this._renderer.height):r)-h,a=2/g,c=2/n,d=-2/o,y=-(y+m)/g,m=-(p+i)/n,g=-(r+h)/o;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(a,0,0,0,0,-c,0,0,0,0,d,0,y,m,g,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},f.default.Camera.prototype.frustum=function(m,y,i,p,h,r){m===void 0&&(m=-this._renderer.width/2),y===void 0&&(y=+this._renderer.width/2),i===void 0&&(i=-this._renderer.height/2),h===void 0&&(h=0);var g=y-m,n=(p=p===void 0?+this._renderer.height/2:p)-i,o=(r=r===void 0?Math.max(this._renderer.width,this._renderer.height):r)-h,a=2*h/g,c=2*h/n,d=-2*r*h/o,y=(y+m)/g,m=(p+i)/n,g=-(r+h)/o;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(a,0,0,0,0,c,0,0,y,m,g,-1,0,0,d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},f.default.Camera.prototype._rotateView=function(a,s,i,p){var h=this.centerX,r=this.centerY,n=this.centerZ,o=(h-=this.eyeX,r-=this.eyeY,n-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst)),a=(o.rotate(this._renderer._pInst._toRadians(a),s,i,p),[h*o.mat4[0]+r*o.mat4[4]+n*o.mat4[8],h*o.mat4[1]+r*o.mat4[5]+n*o.mat4[9],h*o.mat4[2]+r*o.mat4[6]+n*o.mat4[10]]);a[0]+=this.eyeX,a[1]+=this.eyeY,a[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,a[0],a[1],a[2],this.upX,this.upY,this.upZ)},f.default.Camera.prototype.pan=function(u){var s=this._getLocalAxes();this._rotateView(u,s.y[0],s.y[1],s.y[2])},f.default.Camera.prototype.tilt=function(u){var s=this._getLocalAxes();this._rotateView(u,s.x[0],s.x[1],s.x[2])},f.default.Camera.prototype.lookAt=function(u,s,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,u,s,i,this.upX,this.upY,this.upZ)},f.default.Camera.prototype.camera=function(u,s,i,p,h,r,n,o,a){return u===void 0&&(u=this.defaultEyeX,s=this.defaultEyeY,i=this.defaultEyeZ,p=u,h=s,o=1,a=n=r=0),this.eyeX=u,this.eyeY=s,this.eyeZ=i,p!==void 0&&(this.centerX=p,this.centerY=h,this.centerZ=r),n!==void 0&&(this.upX=n,this.upY=o,this.upZ=a),p=this._getLocalAxes(),this.cameraMatrix.set(p.x[0],p.y[0],p.z[0],0,p.x[1],p.y[1],p.z[1],0,p.x[2],p.y[2],p.z[2],0,0,0,0,1),h=-u,this.cameraMatrix.translate([h,-s,-i]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},f.default.Camera.prototype.move=function(p,h,i){var r=this._getLocalAxes(),p=[r.x[0]*p,r.x[1]*p,r.x[2]*p],h=[r.y[0]*h,r.y[1]*h,r.y[2]*h],r=[r.z[0]*i,r.z[1]*i,r.z[2]*i];this.camera(this.eyeX+p[0]+h[0]+r[0],this.eyeY+p[1]+h[1]+r[1],this.eyeZ+p[2]+h[2]+r[2],this.centerX+p[0]+h[0]+r[0],this.centerY+p[1]+h[1]+r[1],this.centerZ+p[2]+h[2]+r[2],this.upX,this.upY,this.upZ)},f.default.Camera.prototype.setPosition=function(u,s,i){var p=u-this.eyeX,h=s-this.eyeY,r=i-this.eyeZ;this.camera(u,s,i,this.centerX+p,this.centerY+h,this.centerZ+r,this.upX,this.upY,this.upZ)},f.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},f.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},f.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},f.default.Camera.prototype.copy=function(){var u=new f.default.Camera(this._renderer);return u.cameraFOV=this.cameraFOV,u.aspectRatio=this.aspectRatio,u.eyeX=this.eyeX,u.eyeY=this.eyeY,u.eyeZ=this.eyeZ,u.centerX=this.centerX,u.centerY=this.centerY,u.centerZ=this.centerZ,u.cameraNear=this.cameraNear,u.cameraFar=this.cameraFar,u.cameraType=this.cameraType,u.cameraMatrix=this.cameraMatrix.copy(),u.projMatrix=this.projMatrix.copy(),u},f.default.Camera.prototype._getLocalAxes=function(){var u=this.eyeX-this.centerX,s=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ,n=Math.sqrt(u*u+s*s+i*i),n=(n!==0&&(u/=n,s/=n,i/=n),this.upX),p=(o=this.upY)*i-(a=this.upZ)*s,h=-n*i+a*u,r=n*s-o*u,n=s*r-i*h,o=-u*r+i*p,a=u*h-s*p,c=Math.sqrt(p*p+h*h+r*r),c=(c!==0&&(p/=c,h/=c,r/=c),Math.sqrt(n*n+o*o+a*a));return c!==0&&(n/=c,o/=c,a/=c),{x:[p,h,r],y:[n,o,a],z:[u,s,i]}},f.default.Camera.prototype._orbit=function(o,a,c){var h=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,p=Math.sqrt(h*h+n*n+r*r),h=Math.atan2(h,r),r=Math.acos(Math.max(-1,Math.min(1,n/p))),n=0<this.upY?1:-1,o=(h+=n*o,((r+=n*a)<=0||r>=Math.PI)&&(n*=-1),(p+=c)<0&&(p=.1),Math.sin(r)*p*Math.sin(h)),a=Math.cos(r)*p,c=Math.sin(r)*p*Math.cos(h);this.camera(o+this.centerX,a+this.centerY,c+this.centerZ,this.centerX,this.centerY,this.centerZ,0,n,0)},f.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},f.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix.mat4[0],u.projMatrix.mat4[1],u.projMatrix.mat4[2],u.projMatrix.mat4[3],u.projMatrix.mat4[4],u.projMatrix.mat4[5],u.projMatrix.mat4[6],u.projMatrix.mat4[7],u.projMatrix.mat4[8],u.projMatrix.mat4[9],u.projMatrix.mat4[10],u.projMatrix.mat4[11],u.projMatrix.mat4[12],u.projMatrix.mat4[13],u.projMatrix.mat4[14],u.projMatrix.mat4[15])},t=f.default.Camera,E.default=t},{"../core/main":267}],316:[function(t,V,E){t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.Geometry=function(u,s,i){return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=u!==void 0?u:1,this.detailY=s!==void 0?s:1,this.dirtyFlags={},i instanceof Function&&i.call(this),this},f.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},f.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var u,s,i,p=this.detailX+1,h=0;h<this.detailY;h++)for(var r=0;r<this.detailX;r++)s=(h+1)*p+r+1,this.faces.push([h*p+r,u=h*p+r+1,i=(h+1)*p+r]),this.faces.push([i,u,s]);return this},f.default.Geometry.prototype._getFaceNormal=function(s){var s=this.faces[s],i=this.vertices[s[0]],h=this.vertices[s[1]],s=this.vertices[s[2]],h=f.default.Vector.sub(h,i),s=f.default.Vector.sub(s,i),i=f.default.Vector.cross(h,s),p=f.default.Vector.mag(i),h=p/(f.default.Vector.mag(h)*f.default.Vector.mag(s));return h===0||isNaN(h)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),i):(1<h&&(h=1),i.mult(Math.asin(h)/p))},f.default.Geometry.prototype.computeNormals=function(){for(var u=this.vertexNormals,s=this.vertices,i=this.faces,p=u.length=0;p<s.length;++p)u.push(new f.default.Vector);for(var h=0;h<i.length;++h)for(var r=i[h],n=this._getFaceNormal(h),o=0;o<3;++o)u[r[o]].add(n);for(p=0;p<s.length;++p)u[p].normalize();return this},f.default.Geometry.prototype.averageNormals=function(){for(var u=0;u<=this.detailY;u++){var s=this.detailX+1,i=f.default.Vector.add(this.vertexNormals[u*s],this.vertexNormals[u*s+this.detailX]),i=f.default.Vector.div(i,2);this.vertexNormals[u*s]=i,this.vertexNormals[u*s+this.detailX]=i}return this},f.default.Geometry.prototype.averagePoleNormals=function(){for(var u=new f.default.Vector(0,0,0),s=0;s<this.detailX;s++)u.add(this.vertexNormals[s]);for(var u=f.default.Vector.div(u,this.detailX),i=0;i<this.detailX;i++)this.vertexNormals[i]=u;u=new f.default.Vector(0,0,0);for(var p=this.vertices.length-1;p>this.vertices.length-1-this.detailX;p--)u.add(this.vertexNormals[p]);u=f.default.Vector.div(u,this.detailX);for(var h=this.vertices.length-1;h>this.vertices.length-1-this.detailX;h--)this.vertexNormals[h]=u;return this},f.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var u=0,s=this.strokeIndices.length;u<s;u++)this.edges.push(this.strokeIndices[u]);else for(var i=0;i<this.faces.length;i++)this.edges.push([this.faces[i][0],this.faces[i][1]]),this.edges.push([this.faces[i][1],this.faces[i][2]]),this.edges.push([this.faces[i][2],this.faces[i][0]]);return this},f.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var u,s=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],i=!1,p=0;p<this.edges.length;p++){var h=this.edges[p-1],r=this.edges[p],n=this.vertices[r[0]],o=this.vertices[r[1]],a=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*r[0],4*(r[0]+1)):[0,0,0,0],c=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*r[1],4*(r[1]+1)):[0,0,0,0],d=o.copy().sub(n).normalize(),y=0<d.magSq();y&&this._addSegment(n,o,a,c,d),0<p&&h[1]===r[0]?(u&&y&&d.dot(u)<1-1e-8&&this._addJoin(n,u,d,a),!y||i||s||(this._addCap(n,d.copy().mult(-1),a),i=!0)):(i=!1,y&&(!s||0<p)&&(this._addCap(n,d.copy().mult(-1),a),i=!0),u&&(!s||p<this.edges.length-1)&&(this._addCap(this.vertices[h[1]],u,a),u=void 0)),p===this.edges.length-1&&(s?this._addJoin(o,d,this.vertices[this.edges[0][1]].copy().sub(o).normalize(),c):this._addCap(o,d,c)),y&&(u=d)}return this},f.default.Geometry.prototype._addSegment=function(r,n,i,p,h){var r=r.array(),n=n.array(),o=h.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var a=0,c=[this.lineTangentsIn,this.lineTangentsOut];a<c.length;a++)c[a].push(o,o,o,o,o,o);return this.lineVertices.push(r,r,n,n,r,n),this.lineVertexColors.push(i,i,p,p,i,p),this},f.default.Geometry.prototype._addCap=function(u,s,i){for(var p=u.array(),h=s.array(),r=[0,0,0],n=0;n<6;n++)this.lineVertices.push(p),this.lineTangentsIn.push(h),this.lineTangentsOut.push(r),this.lineVertexColors.push(i);return this.lineSides.push(-1,-2,2,2,1,-1),this},f.default.Geometry.prototype._addJoin=function(u,s,i,p){for(var h=u.array(),r=s.array(),n=i.array(),o=0;o<12;o++)this.lineVertices.push(h),this.lineTangentsIn.push(r),this.lineTangentsOut.push(n),this.lineVertexColors.push(p);for(var a=0,c=[-1,1];a<c.length;a++){var d=c[a];this.lineSides.push(d,2*d,3*d,d,3*d,0)}return this},f.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var u=this.vertices[0].copy(),s=this.vertices[0].copy(),i=0;i<this.vertices.length;i++)u.x=Math.max(u.x,this.vertices[i].x),s.x=Math.min(s.x,this.vertices[i].x),u.y=Math.max(u.y,this.vertices[i].y),s.y=Math.min(s.y,this.vertices[i].y),u.z=Math.max(u.z,this.vertices[i].z),s.z=Math.min(s.z,this.vertices[i].z);for(var p=f.default.Vector.lerp(u,s,.5),h=f.default.Vector.sub(u,s),r=200/Math.max(Math.max(h.x,h.y),h.z),n=0;n<this.vertices.length;n++)this.vertices[n].sub(p),this.vertices[n].mult(r)}return this},t=f.default.Geometry,E.default=t},{"../core/main":267,"core-js/modules/es.array.slice":162,"core-js/modules/es.string.sub":192}],317:[function(i,V,E){i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(i=i("../core/main"))&&i.__esModule?i:{default:i},u=Array,s=function(p){return p instanceof Array},i=(typeof Float32Array<"u"&&(u=Float32Array,s=function(p){return p instanceof Array||p instanceof Float32Array}),f.default.Matrix=function(){for(var p=new Array(arguments.length),h=0;h<p.length;++h)p[h]=arguments[h];return p.length&&p[p.length-1]instanceof f.default&&(this.p5=p[p.length-1]),p[0]==="mat3"?this.mat3=Array.isArray(p[1])?p[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(p[0])?p[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},f.default.Matrix.prototype.set=function(p){return p instanceof f.default.Matrix?this.mat4=p.mat4:s(p)?this.mat4=p:arguments.length===16&&(this.mat4[0]=p,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},f.default.Matrix.prototype.get=function(){return new f.default.Matrix(this.mat4,this.p5)},f.default.Matrix.prototype.copy=function(){var p=new f.default.Matrix(this.p5);return p.mat4[0]=this.mat4[0],p.mat4[1]=this.mat4[1],p.mat4[2]=this.mat4[2],p.mat4[3]=this.mat4[3],p.mat4[4]=this.mat4[4],p.mat4[5]=this.mat4[5],p.mat4[6]=this.mat4[6],p.mat4[7]=this.mat4[7],p.mat4[8]=this.mat4[8],p.mat4[9]=this.mat4[9],p.mat4[10]=this.mat4[10],p.mat4[11]=this.mat4[11],p.mat4[12]=this.mat4[12],p.mat4[13]=this.mat4[13],p.mat4[14]=this.mat4[14],p.mat4[15]=this.mat4[15],p},f.default.Matrix.identity=function(p){return new f.default.Matrix(p)},f.default.Matrix.prototype.transpose=function(p){var h,r,n,o,a,c;return p instanceof f.default.Matrix?(h=p.mat4[1],r=p.mat4[2],n=p.mat4[3],o=p.mat4[6],a=p.mat4[7],c=p.mat4[11],this.mat4[0]=p.mat4[0],this.mat4[1]=p.mat4[4],this.mat4[2]=p.mat4[8],this.mat4[3]=p.mat4[12],this.mat4[4]=h,this.mat4[5]=p.mat4[5],this.mat4[6]=p.mat4[9],this.mat4[7]=p.mat4[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=p.mat4[10],this.mat4[11]=p.mat4[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=c,this.mat4[15]=p.mat4[15]):s(p)&&(h=p[1],r=p[2],n=p[3],o=p[6],a=p[7],c=p[11],this.mat4[0]=p[0],this.mat4[1]=p[4],this.mat4[2]=p[8],this.mat4[3]=p[12],this.mat4[4]=h,this.mat4[5]=p[5],this.mat4[6]=p[9],this.mat4[7]=p[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=p[10],this.mat4[11]=p[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=c,this.mat4[15]=p[15]),this},f.default.Matrix.prototype.invert=function(T){T instanceof f.default.Matrix?(h=T.mat4[0],r=T.mat4[1],n=T.mat4[2],o=T.mat4[3],a=T.mat4[4],c=T.mat4[5],d=T.mat4[6],y=T.mat4[7],m=T.mat4[8],g=T.mat4[9],b=T.mat4[10],w=T.mat4[11],_=T.mat4[12],S=T.mat4[13],M=T.mat4[14],k=T.mat4[15]):s(T)&&(h=T[0],r=T[1],n=T[2],o=T[3],a=T[4],c=T[5],d=T[6],y=T[7],m=T[8],g=T[9],b=T[10],w=T[11],_=T[12],S=T[13],M=T[14],k=T[15]);var h,r,n,o,a,c,d,y,m,g,b,w,_,S,M,k,T=h*c-r*a,A=h*d-n*a,O=h*y-o*a,R=r*d-n*c,U=r*y-o*c,B=n*y-o*d,W=m*S-g*_,N=m*M-b*_,z=m*k-w*_,Y=g*M-b*S,Z=g*k-w*S,G=b*k-w*M,C=T*G-A*Z+O*Y+R*z-U*N+B*W;return C?(this.mat4[0]=(c*G-d*Z+y*Y)*(C=1/C),this.mat4[1]=(n*Z-r*G-o*Y)*C,this.mat4[2]=(S*B-M*U+k*R)*C,this.mat4[3]=(b*U-g*B-w*R)*C,this.mat4[4]=(d*z-a*G-y*N)*C,this.mat4[5]=(h*G-n*z+o*N)*C,this.mat4[6]=(M*O-_*B-k*A)*C,this.mat4[7]=(m*B-b*O+w*A)*C,this.mat4[8]=(a*Z-c*z+y*W)*C,this.mat4[9]=(r*z-h*Z-o*W)*C,this.mat4[10]=(_*U-S*O+k*T)*C,this.mat4[11]=(g*O-m*U-w*T)*C,this.mat4[12]=(c*N-a*Y-d*W)*C,this.mat4[13]=(h*Y-r*N+n*W)*C,this.mat4[14]=(S*A-_*R-M*T)*C,this.mat4[15]=(m*R-g*A+b*T)*C,this):null},f.default.Matrix.prototype.invert3x3=function(){var p=this.mat3[0],h=this.mat3[1],r=this.mat3[2],n=this.mat3[3],o=this.mat3[4],a=this.mat3[5],c=this.mat3[6],d=this.mat3[7],y=this.mat3[8],m=y*o-a*d,g=-y*n+a*c,b=d*n-o*c,w=p*m+h*g+r*b;return w?(this.mat3[0]=m*(w=1/w),this.mat3[1]=(-y*h+r*d)*w,this.mat3[2]=(a*h-r*o)*w,this.mat3[3]=g*w,this.mat3[4]=(y*p-r*c)*w,this.mat3[5]=(-a*p+r*n)*w,this.mat3[6]=b*w,this.mat3[7]=(-d*p+h*c)*w,this.mat3[8]=(o*p-h*n)*w,this):null},f.default.Matrix.prototype.transpose3x3=function(p){var h=p[1],r=p[2],n=p[5];return this.mat3[1]=p[3],this.mat3[2]=p[6],this.mat3[3]=h,this.mat3[5]=p[7],this.mat3[6]=r,this.mat3[7]=n,this},f.default.Matrix.prototype.inverseTranspose=function(p){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=p.mat4[0],this.mat3[1]=p.mat4[1],this.mat3[2]=p.mat4[2],this.mat3[3]=p.mat4[4],this.mat3[4]=p.mat4[5],this.mat3[5]=p.mat4[6],this.mat3[6]=p.mat4[8],this.mat3[7]=p.mat4[9],this.mat3[8]=p.mat4[10]),p=this.invert3x3(),p)p.transpose3x3(this.mat3);else for(var h=0;h<9;h++)this.mat3[h]=0;return this},f.default.Matrix.prototype.determinant=function(){var p=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],h=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],a=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],c=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],d=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],y=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],m=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],g=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return p*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-h*g+r*m+n*y-o*d+a*c},f.default.Matrix.prototype.mult=function(r){var h;if(r===this||r===this.mat4)h=this.copy().mat4;else if(r instanceof f.default.Matrix)h=r.mat4;else if(s(r))h=r;else{if(arguments.length!==16)return;h=arguments}var r=this.mat4[0],n=this.mat4[1],o=this.mat4[2],a=this.mat4[3];return this.mat4[0]=r*h[0]+n*h[4]+o*h[8]+a*h[12],this.mat4[1]=r*h[1]+n*h[5]+o*h[9]+a*h[13],this.mat4[2]=r*h[2]+n*h[6]+o*h[10]+a*h[14],this.mat4[3]=r*h[3]+n*h[7]+o*h[11]+a*h[15],r=this.mat4[4],n=this.mat4[5],o=this.mat4[6],a=this.mat4[7],this.mat4[4]=r*h[0]+n*h[4]+o*h[8]+a*h[12],this.mat4[5]=r*h[1]+n*h[5]+o*h[9]+a*h[13],this.mat4[6]=r*h[2]+n*h[6]+o*h[10]+a*h[14],this.mat4[7]=r*h[3]+n*h[7]+o*h[11]+a*h[15],r=this.mat4[8],n=this.mat4[9],o=this.mat4[10],a=this.mat4[11],this.mat4[8]=r*h[0]+n*h[4]+o*h[8]+a*h[12],this.mat4[9]=r*h[1]+n*h[5]+o*h[9]+a*h[13],this.mat4[10]=r*h[2]+n*h[6]+o*h[10]+a*h[14],this.mat4[11]=r*h[3]+n*h[7]+o*h[11]+a*h[15],r=this.mat4[12],n=this.mat4[13],o=this.mat4[14],a=this.mat4[15],this.mat4[12]=r*h[0]+n*h[4]+o*h[8]+a*h[12],this.mat4[13]=r*h[1]+n*h[5]+o*h[9]+a*h[13],this.mat4[14]=r*h[2]+n*h[6]+o*h[10]+a*h[14],this.mat4[15]=r*h[3]+n*h[7]+o*h[11]+a*h[15],this},f.default.Matrix.prototype.apply=function(r){var h;if(r===this||r===this.mat4)h=this.copy().mat4;else if(r instanceof f.default.Matrix)h=r.mat4;else if(s(r))h=r;else{if(arguments.length!==16)return;h=arguments}var r=this.mat4,n=r[0],o=r[4],a=r[8],c=r[12],n=(r[0]=h[0]*n+h[1]*o+h[2]*a+h[3]*c,r[4]=h[4]*n+h[5]*o+h[6]*a+h[7]*c,r[8]=h[8]*n+h[9]*o+h[10]*a+h[11]*c,r[12]=h[12]*n+h[13]*o+h[14]*a+h[15]*c,r[1]),o=r[5],a=r[9],c=r[13],n=(r[1]=h[0]*n+h[1]*o+h[2]*a+h[3]*c,r[5]=h[4]*n+h[5]*o+h[6]*a+h[7]*c,r[9]=h[8]*n+h[9]*o+h[10]*a+h[11]*c,r[13]=h[12]*n+h[13]*o+h[14]*a+h[15]*c,r[2]),o=r[6],a=r[10],c=r[14],n=(r[2]=h[0]*n+h[1]*o+h[2]*a+h[3]*c,r[6]=h[4]*n+h[5]*o+h[6]*a+h[7]*c,r[10]=h[8]*n+h[9]*o+h[10]*a+h[11]*c,r[14]=h[12]*n+h[13]*o+h[14]*a+h[15]*c,r[3]),o=r[7],a=r[11],c=r[15];return r[3]=h[0]*n+h[1]*o+h[2]*a+h[3]*c,r[7]=h[4]*n+h[5]*o+h[6]*a+h[7]*c,r[11]=h[8]*n+h[9]*o+h[10]*a+h[11]*c,r[15]=h[12]*n+h[13]*o+h[14]*a+h[15]*c,this},f.default.Matrix.prototype.scale=function(p,h,r){return p instanceof f.default.Vector?(h=p.y,r=p.z,p=p.x):p instanceof Array&&(h=p[1],r=p[2],p=p[0]),this.mat4[0]*=p,this.mat4[1]*=p,this.mat4[2]*=p,this.mat4[3]*=p,this.mat4[4]*=h,this.mat4[5]*=h,this.mat4[6]*=h,this.mat4[7]*=h,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},f.default.Matrix.prototype.rotate=function(T,Z,Y,n){Z instanceof f.default.Vector?(Y=Z.y,n=Z.z,Z=Z.x):Z instanceof Array&&(Y=Z[1],n=Z[2],Z=Z[0]);var o=Math.sqrt(Z*Z+Y*Y+n*n),o=(Z*=1/o,Y*=1/o,n*=1/o,this.mat4[0]),a=this.mat4[1],c=this.mat4[2],d=this.mat4[3],y=this.mat4[4],m=this.mat4[5],g=this.mat4[6],b=this.mat4[7],w=this.mat4[8],_=this.mat4[9],S=this.mat4[10],M=this.mat4[11],k=Math.sin(T),T=Math.cos(T),A=1-T,O=Z*Z*A+T,R=Y*Z*A+n*k,U=n*Z*A-Y*k,B=Z*Y*A-n*k,W=Y*Y*A+T,N=n*Y*A+Z*k,z=Z*n*A+Y*k,Y=Y*n*A-Z*k,Z=n*n*A+T;return this.mat4[0]=o*O+y*R+w*U,this.mat4[1]=a*O+m*R+_*U,this.mat4[2]=c*O+g*R+S*U,this.mat4[3]=d*O+b*R+M*U,this.mat4[4]=o*B+y*W+w*N,this.mat4[5]=a*B+m*W+_*N,this.mat4[6]=c*B+g*W+S*N,this.mat4[7]=d*B+b*W+M*N,this.mat4[8]=o*z+y*Y+w*Z,this.mat4[9]=a*z+m*Y+_*Z,this.mat4[10]=c*z+g*Y+S*Z,this.mat4[11]=d*z+b*Y+M*Z,this},f.default.Matrix.prototype.translate=function(n){var h=n[0],r=n[1],n=n[2]||0;this.mat4[12]+=this.mat4[0]*h+this.mat4[4]*r+this.mat4[8]*n,this.mat4[13]+=this.mat4[1]*h+this.mat4[5]*r+this.mat4[9]*n,this.mat4[14]+=this.mat4[2]*h+this.mat4[6]*r+this.mat4[10]*n,this.mat4[15]+=this.mat4[3]*h+this.mat4[7]*r+this.mat4[11]*n},f.default.Matrix.prototype.rotateX=function(p){this.rotate(p,1,0,0)},f.default.Matrix.prototype.rotateY=function(p){this.rotate(p,0,1,0)},f.default.Matrix.prototype.rotateZ=function(p){this.rotate(p,0,0,1)},f.default.Matrix.prototype.perspective=function(o,h,r,n){var o=1/Math.tan(o/2),a=1/(r-n);return this.mat4[0]=o/h,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=o,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+r)*a,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*r*a,this.mat4[15]=0,this},f.default.Matrix.prototype.ortho=function(p,h,r,n,o,a){var c=1/(p-h),d=1/(r-n),y=1/(o-a);return this.mat4[0]=-2*c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*d,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*y,this.mat4[11]=0,this.mat4[12]=(p+h)*c,this.mat4[13]=(n+r)*d,this.mat4[14]=(a+o)*y,this.mat4[15]=1,this},f.default.Matrix);E.default=i},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(t,V,E){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.RenderBuffer=function(f,u,s,i,p,h){this.size=f,this.src=u,this.dst=s,this.attr=i,this._renderer=p,this.map=h},t.default.RenderBuffer.prototype._prepareBuffer=function(f,u){var s,i,p,n=u.attributes,h=this._renderer.GL,r=f.model||f,n=n[this.attr];n&&(s=f[this.dst],0<(i=r[this.src]).length?((p=!s)&&(f[this.dst]=s=h.createBuffer()),h.bindBuffer(h.ARRAY_BUFFER,s),!p&&r.dirtyFlags[this.src]===!1||(p=(f=this.map)?f(i):i,this._renderer._bindBuffer(s,h.ARRAY_BUFFER,p),r.dirtyFlags[this.src]=!1),u.enableAttrib(n,this.size)):(f=n.location)!==-1&&this._renderer.registerEnabled[f]&&(h.disableVertexAttribArray(f),this._renderer.registerEnabled[f]=!1))},t=t.default.RenderBuffer,E.default=t},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../core/constants"));function p(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,p=function(){return o},o)}function h(o){return function(a){if(Array.isArray(a)){for(var c=0,d=new Array(a.length);c<a.length;c++)d[c]=a[c];return d}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:i.TESS,this.immediateMode.geometry.reset(),this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},n=(s.default.RendererGL.prototype.vertex=function(o,a){if(this.immediateMode.shapeMode===i.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in r){var d=r[c],c=this.immediateMode.geometry[c];c.push.apply(c,h(c.slice(c.length-3*d,c.length-2*d)).concat(h(c.slice(c.length-d,c.length))))}var y,m,g=y=m=0,b=(arguments.length===3?g=arguments[2]:arguments.length===4?(y=arguments[2],m=arguments[3]):arguments.length===5&&(g=arguments[2],y=arguments[3],m=arguments[4]),new s.default.Vector(o,a,g)),b=(this.immediateMode.geometry.vertices.push(b),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),b=(this.immediateMode.geometry.vertexColors.push(b[0],b[1],b[2],b[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(b[0],b[1],b[2],b[3]),this.textureMode===i.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(y/=this._tex.width,m/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(y,m),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=g,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=g,this},s.default.RendererGL.prototype.normal=function(o,a,c){return o instanceof s.default.Vector?this._currentNormal=o:this._currentNormal=new s.default.Vector(o,a,c),this},s.default.RendererGL.prototype.endShape=function(o,a,c,d,y,m){return this.immediateMode.shapeMode===i.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(o){var a;this.immediateMode.geometry.vertices.length!==0&&(a=this._doStroke,o=o===i.CLOSE,a&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.immediateMode.geometry._edgesToVertices()),a=this.immediateMode.shapeMode===i.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||a)&&this.immediateMode.shapeMode!==i.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(o,a,c){var d=[],y=0;switch(o){case i.TRIANGLE_STRIP:for(y=0;y<a.length-2;y++)d.push([y,y+1]),d.push([y,y+2]);d.push([y,y+1]);break;case i.TRIANGLE_FAN:for(y=1;y<a.length-1;y++)d.push([0,y]),d.push([y,y+1]);d.push([0,a.length-1]);break;case i.TRIANGLES:for(y=0;y<a.length-2;y+=3)d.push([y,y+1]),d.push([y+1,y+2]),d.push([y+2,y]);break;case i.LINES:for(y=0;y<a.length-1;y+=2)d.push([y,y+1]);break;case i.QUADS:for(y=0;y<a.length-5;y+=6)d.push([y,y+1]),d.push([y+1,y+2]),d.push([y+3,y+5]),d.push([y+4,y+5]);break;case i.QUAD_STRIP:for(y=0;y<a.length-2;y+=2)d.push([y,y+1]),d.push([y,y+2]),d.push([y+1,y+3]);d.push([y,y+1]);break;default:for(y=0;y<a.length-1;y++)d.push([y,y+1])}return c&&d.push([a.length-1,0]),d},s.default.RendererGL.prototype._tesselateShape=function(){for(var o=this,a=(this.immediateMode.shapeMode=i.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(g,b){return[g.x,g.y,g.z,o.immediateMode.geometry.uvs[2*b],o.immediateMode.geometry.uvs[2*b+1],o.immediateMode.geometry.vertexColors[4*b],o.immediateMode.geometry.vertexColors[4*b+1],o.immediateMode.geometry.vertexColors[4*b+2],o.immediateMode.geometry.vertexColors[4*b+3],o.immediateMode.geometry.vertexNormals[b].x,o.immediateMode.geometry.vertexNormals[b].y,o.immediateMode.geometry.vertexNormals[b].z]}))]),c=this._triangulate(a),d=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),y=0,m=c.length;y<m;y+=s.default.RendererGL.prototype.tessyVertexSize)d.push.apply(d,h(c.slice(y+5,y+9))),this.normal.apply(this,h(c.slice(y+9,y+12))),this.vertex.apply(this,h(c.slice(y,y+5)));this.immediateMode.geometry.vertexColors=d},s.default.RendererGL.prototype._drawImmediateFill=function(){var o=this.GL,a=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),c=(this._setFillUniforms(a),!0),d=!1,y=void 0;try{for(var m,g=this.immediateMode.buffers.fill[Symbol.iterator]();!(c=(m=g.next()).done);c=!0)m.value._prepareBuffer(this.immediateMode.geometry,a)}catch(b){d=!0,y=b}finally{try{c||g.return==null||g.return()}finally{if(d)throw y}}this.immediateMode.shapeMode!==i.LINE_STRIP&&this.immediateMode.shapeMode!==i.LINES||(this.immediateMode.shapeMode=i.TRIANGLE_FAN),this.immediateMode.shapeMode===i.QUADS?this.immediateMode.shapeMode=i.TRIANGLES:this.immediateMode.shapeMode===i.QUAD_STRIP&&(this.immediateMode.shapeMode=i.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),o.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),a.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,a=o.isEnabled(o.CULL_FACE),c=(o.disable(o.CULL_FACE),this._getImmediateStrokeShader()),d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(c),!0),y=!1,m=void 0;try{for(var g,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(d=(g=b.next()).done);d=!0)g.value._prepareBuffer(this.immediateMode.geometry,c)}catch(w){y=!0,m=w}finally{try{d||b.return==null||b.return()}finally{if(y)throw m}}this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),a&&o.enable(o.CULL_FACE),c.unbindShader()},s.default.RendererGL);E.default=n},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(s=t("../core/main"))&&s.__esModule?s:{default:s};t("./p5.RendererGL"),t("./p5.RenderBuffer");var u=0,s=(f.default.RendererGL.prototype._initBufferDefaults=function(i){var p;return this._freeBuffers(i),1e3<++u&&(p=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[p],u--),this.retainedMode.geometry[i]={}},f.default.RendererGL.prototype._freeBuffers=function(i){var p,h=this.retainedMode.geometry[i];function r(n){var o=!0,a=!1,c=void 0;try{for(var d,y=n[Symbol.iterator]();!(o=(d=y.next()).done);o=!0){var m=d.value;h[m.dst]&&(p.deleteBuffer(h[m.dst]),h[m.dst]=null)}}catch(g){a=!0,c=g}finally{try{o||y.return==null||y.return()}finally{if(a)throw c}}}h&&(delete this.retainedMode.geometry[i],u--,p=this.GL,h.indexBuffer&&p.deleteBuffer(h.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill))},f.default.RendererGL.prototype.createBuffers=function(a,p){var h,r,n,o=this.GL,a=this._initBufferDefaults(a),c=(a.model=p,a.indexBuffer);return p.faces.length?(c=c||(a.indexBuffer=o.createBuffer()),n=(r=(h=f.default.RendererGL.prototype._flatten(p.faces)).some(function(d){return 65535<d}))?Uint32Array:Uint16Array,this._bindBuffer(c,o.ELEMENT_ARRAY_BUFFER,h,n),a.indexBufferType=r?o.UNSIGNED_INT:o.UNSIGNED_SHORT,a.vertexCount=3*p.faces.length):(c&&(o.deleteBuffer(c),a.indexBuffer=null),a.vertexCount=p.vertices?p.vertices.length:0),a.lineVertexCount=p.lineVertices?p.lineVertices.length:0,a},f.default.RendererGL.prototype.drawBuffers=function(i){var p=this.GL,h=this.retainedMode.geometry[i];if(this._doStroke&&0<h.lineVertexCount){var r=p.isEnabled(p.CULL_FACE),n=(p.disable(p.CULL_FACE),this._getRetainedStrokeShader()),o=(this._useLineColor=0<h.model.vertexStrokeColors.length,this._setStrokeUniforms(n),!0),a=!1,c=void 0;try{for(var d,y=this.retainedMode.buffers.stroke[Symbol.iterator]();!(o=(d=y.next()).done);o=!0)d.value._prepareBuffer(h,n)}catch(_){a=!0,c=_}finally{try{o||y.return==null||y.return()}finally{if(a)throw c}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(p.TRIANGLES,i),r&&p.enable(p.CULL_FACE),n.unbindShader()}if(this._doFill){this._useVertexColor=0<h.model.vertexColors.length;var m=this._getRetainedFillShader(),g=(this._setFillUniforms(m),!0),a=!1,c=void 0;try{for(var b,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(g=(b=w.next()).done);g=!0)b.value._prepareBuffer(h,m)}catch(M){a=!0,c=M}finally{try{g||w.return==null||w.return()}finally{if(a)throw c}}h.indexBuffer&&this._bindBuffer(h.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(p.TRIANGLES,i),m.unbindShader()}return this},f.default.RendererGL.prototype.drawBuffersScaled=function(i,p,h,r){var n=this.uMVMatrix.copy();try{this.uMVMatrix.scale(p,h,r),this.drawBuffers(i)}finally{this.uMVMatrix=n}},f.default.RendererGL.prototype._drawArrays=function(i,p){return this.GL.drawArrays(i,0,this.retainedMode.geometry[p].lineVertexCount),this},f.default.RendererGL.prototype._drawElements=function(i,h){var h=this.retainedMode.geometry[h],r=this.GL;if(h.indexBuffer){if(h.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,h.vertexCount,h.indexBufferType,0)}else r.drawArrays(i||r.TRIANGLES,0,h.vertexCount)},f.default.RendererGL.prototype._drawPoints=function(i,p){var h=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(p,h.ARRAY_BUFFER,this._vToNArray(i),Float32Array,h.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),h.drawArrays(h.Points,0,i.length),r.unbindShader()},f.default.RendererGL);E.default=s},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(g,V,E){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function u(b){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(w){return f(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":f(w)})(b)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.filter"),g("core-js/modules/es.array.from"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.assign"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.float64-array"),g("core-js/modules/es.typed-array.int16-array"),g("core-js/modules/es.typed-array.uint8-array"),g("core-js/modules/es.typed-array.uint16-array"),g("core-js/modules/es.typed-array.uint32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.concat"),g("core-js/modules/es.array.fill"),g("core-js/modules/es.array.filter"),g("core-js/modules/es.array.from"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.assign"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.float64-array"),g("core-js/modules/es.typed-array.int16-array"),g("core-js/modules/es.typed-array.uint8-array"),g("core-js/modules/es.typed-array.uint16-array"),g("core-js/modules/es.typed-array.uint32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),g("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=r(g("../core/main")),i=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var w=h();if(w&&w.has(b))return w.get(b);var _,S={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in b){var k;Object.prototype.hasOwnProperty.call(b,_)&&((k=M?Object.getOwnPropertyDescriptor(b,_):null)&&(k.get||k.set)?Object.defineProperty(S,_,k):S[_]=b[_])}return S.default=b,w&&w.set(b,S),S}(g("../core/constants")),p=r(g("libtess"));g("./p5.Shader"),g("./p5.Camera"),g("../core/p5.Renderer"),g("./p5.Matrix"),g("path");function h(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,h=function(){return b},b)}function r(b){return b&&b.__esModule?b:{default:b}}function n(b){return function(w){if(Array.isArray(w)){for(var _=0,S=new Array(w.length);_<w.length;_++)S[_]=w[_];return S}}(b)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(b,w){y+="#define STROKE_CAP_".concat(b," ").concat(w,`
`),c[i[b]]=w}function a(b,w){y+="#define STROKE_JOIN_".concat(b," ").concat(w,`
`),d[i[b]]=w}var c={},d={},y="",g=(o("ROUND",0),o("PROJECT",1),o("SQUARE",2),a("ROUND",0),a("MITER",1),a("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),m={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:g+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
    gl_FragColor = vec4(gl_FragColor.rgb * vDiffuseColor + vSpecularColor, 1.) * baseColor.a;
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:g+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, 1.) * baseColor.a;
}
`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  gl_FragColor *= saturate(max(antialias, cover));
}
`,lineVert:y+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:y+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`},g=(s.default.RendererGL=function(b,w,_,S){return s.default.Renderer.call(this,b,w,_),this._setAttributeDefaults(w),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=i.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[1,1,1,1],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=i.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=[],this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new s.default.Matrix,this.uPMatrix=new s.default.Matrix,this.uNMatrix=new s.default.Matrix("mat3"),this._currentNormal=new s.default.Vector(0,0,1),this._curCamera=new s.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new s.default.Geometry,shapeMode:i.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.curStrokeCap=i.ROUND,this.curStrokeJoin=i.ROUND,this.textures=[],this.textureMode=i.IMAGE,this.textureWrapX=i.CLAMP,this.textureWrapY=i.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},s.default.RendererGL.prototype=Object.create(s.default.Renderer.prototype),s.default.RendererGL.prototype._setAttributeDefaults=function(b){var w={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0};b._glAttributes===null?b._glAttributes=w:b._glAttributes=Object.assign(w,b._glAttributes)},s.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var b=this.drawingContext;b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.viewport(0,0,b.drawingBufferWidth,b.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},s.default.RendererGL.prototype._resetContext=function(b,w){var _,S=this.width,M=this.height,T=this.canvas.id,k=this._pInst instanceof s.default.Graphics,T=(k?((_=this._pInst).canvas.parentNode.removeChild(_.canvas),_.canvas=document.createElement("canvas"),(_._pInst._userNode||document.body).appendChild(_.canvas),s.default.Element.call(_,_.canvas,_._pInst),_.width=S,_.height=M):((_=this.canvas)&&_.parentNode.removeChild(_),(_=document.createElement("canvas")).id=T,(this._pInst._userNode||document.body).appendChild(_),this._pInst.canvas=_,this.canvas=_),new s.default.RendererGL(this._pInst.canvas,this._pInst,!k));this._pInst._setProperty("_renderer",T),T.resize(S,M),T._applyDefaults(),k||this._pInst._elements.push(T),typeof w=="function"&&setTimeout(function(){w.apply(window._renderer,b)},0)},s.default.prototype.setAttributes=function(b,w){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var _=!0;if(w!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[b]!==w&&(this._glAttributes[b]=w,_=!1)):b instanceof Object&&this._glAttributes!==b&&(this._glAttributes=b,_=!1),this._renderer.isP3D&&!_){if(!this._setupDone){for(var S in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(S))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.background=function(){var S=(S=this._pInst).color.apply(S,arguments),b=S.levels[0]/255,w=S.levels[1]/255,_=S.levels[2]/255,S=S.levels[3]/255;this.clear(b,w,_,S)},s.default.RendererGL.prototype.fill=function(b,w,_,S){var M=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=M._array,this.drawMode=i.FILL,this._useNormalMaterial=!1,this._tex=null},s.default.RendererGL.prototype.stroke=function(b,w,_,S){var M=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=M._array},s.default.RendererGL.prototype.strokeCap=function(b){this.curStrokeCap=b},s.default.RendererGL.prototype.strokeJoin=function(b){this.curStrokeJoin=b},s.default.RendererGL.prototype.filter=function(b){console.error("filter() does not work in WEBGL mode")},s.default.RendererGL.prototype.blendMode=function(b){b===i.DARKEST||b===i.LIGHTEST||b===i.ADD||b===i.BLEND||b===i.SUBTRACT||b===i.SCREEN||b===i.EXCLUSION||b===i.REPLACE||b===i.MULTIPLY||b===i.REMOVE?this.curBlendMode=b:b!==i.BURN&&b!==i.OVERLAY&&b!==i.HARD_LIGHT&&b!==i.SOFT_LIGHT&&b!==i.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},s.default.RendererGL.prototype.erase=function(b,w){this._isErasing||(this._applyBlendMode(i.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,b/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,w/255])},s.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},s.default.RendererGL.prototype.strokeWeight=function(b){this.curStrokeWeight!==b&&(this.pointSize=b,this.curStrokeWeight=b)},s.default.RendererGL.prototype._getPixel=function(b,w){var _=new Uint8Array(4);return this.drawingContext.readPixels(b,w,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,_),[_[0],_[1],_[2],_[3]]},s.default.RendererGL.prototype.loadPixels=function(){var b,w=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(w=w.pixels,b=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,w instanceof Uint8Array&&w.length===b||(w=new Uint8Array(b),this._pixelsState._setProperty("pixels",w)),b=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*b,this.height*b,this.GL.RGBA,this.GL.UNSIGNED_BYTE,w))},s.default.RendererGL.prototype.geometryInHash=function(b){return this.retainedMode.geometry[b]!==void 0},s.default.RendererGL.prototype.resize=function(b,w){s.default.Renderer.prototype.resize.call(this,b,w),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),b=this._pixelsState,b.pixels!==void 0&&b._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},s.default.RendererGL.prototype.clear=function(){var b=(arguments.length<=0?void 0:arguments[0])||0,w=(arguments.length<=1?void 0:arguments[1])||0,_=(arguments.length<=2?void 0:arguments[2])||0,S=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(b*S,w*S,_*S,S),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.applyMatrix=function(b,w,_,S,M,k){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([b,w,0,0,_,S,0,0,0,0,1,0,M,k,0,1])},s.default.RendererGL.prototype.translate=function(b,w,_){return b instanceof s.default.Vector&&(_=b.z,w=b.y,b=b.x),this.uMVMatrix.translate([b,w,_]),this},s.default.RendererGL.prototype.scale=function(b,w,_){return this.uMVMatrix.scale(b,w,_),this},s.default.RendererGL.prototype.rotate=function(b,w){return w===void 0?this.rotateZ(b):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},s.default.RendererGL.prototype.rotateX=function(b){return this.rotate(b,1,0,0),this},s.default.RendererGL.prototype.rotateY=function(b){return this.rotate(b,0,1,0),this},s.default.RendererGL.prototype.rotateZ=function(b){return this.rotate(b,0,0,1),this},s.default.RendererGL.prototype.push=function(){var b=s.default.Renderer.prototype.push.apply(this),w=b.properties;return w.uMVMatrix=this.uMVMatrix.copy(),w.uPMatrix=this.uPMatrix.copy(),w._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),w.ambientLightColors=this.ambientLightColors.slice(),w.specularColors=this.specularColors.slice(),w.directionalLightDirections=this.directionalLightDirections.slice(),w.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),w.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),w.pointLightPositions=this.pointLightPositions.slice(),w.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),w.pointLightSpecularColors=this.pointLightSpecularColors.slice(),w.spotLightPositions=this.spotLightPositions.slice(),w.spotLightDirections=this.spotLightDirections.slice(),w.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),w.spotLightSpecularColors=this.spotLightSpecularColors.slice(),w.spotLightAngle=this.spotLightAngle.slice(),w.spotLightConc=this.spotLightConc.slice(),w.userFillShader=this.userFillShader,w.userStrokeShader=this.userStrokeShader,w.userPointShader=this.userPointShader,w.pointSize=this.pointSize,w.curStrokeWeight=this.curStrokeWeight,w.curStrokeColor=this.curStrokeColor,w.curFillColor=this.curFillColor,w.curAmbientColor=this.curAmbientColor,w.curSpecularColor=this.curSpecularColor,w.curEmissiveColor=this.curEmissiveColor,w._useSpecularMaterial=this._useSpecularMaterial,w._useEmissiveMaterial=this._useEmissiveMaterial,w._useShininess=this._useShininess,w.constantAttenuation=this.constantAttenuation,w.linearAttenuation=this.linearAttenuation,w.quadraticAttenuation=this.quadraticAttenuation,w._enableLighting=this._enableLighting,w._useNormalMaterial=this._useNormalMaterial,w._tex=this._tex,w.drawMode=this.drawMode,w._currentNormal=this._currentNormal,w.curBlendMode=this.curBlendMode,b},s.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this},s.default.RendererGL.prototype._getImmediateStrokeShader=function(){var b=this.userStrokeShader;return b&&b.isStrokeShader()?b:this._getLineShader()},s.default.RendererGL.prototype._getRetainedStrokeShader=s.default.RendererGL.prototype._getImmediateStrokeShader,s.default.RendererGL.prototype._getImmediateFillShader=function(){var b=this.userFillShader;if(this._useNormalMaterial&&(!b||!b.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!b||!b.isLightShader())return this._getLightShader()}else if(this._tex){if(!b||!b.isTextureShader())return this._getLightShader()}else if(!b)return this._getImmediateModeShader();return b},s.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var b=this.userFillShader;if(this._enableLighting){if(!b||!b.isLightShader())return this._getLightShader()}else if(this._tex){if(!b||!b.isTextureShader())return this._getLightShader()}else if(!b)return this._getColorShader();return b},s.default.RendererGL.prototype._getImmediatePointShader=function(){var b=this.userPointShader;return b&&b.isPointShader()?b:this._getPointShader()},s.default.RendererGL.prototype._getRetainedLineShader=s.default.RendererGL.prototype._getImmediateLineShader,s.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,m.phongVert,m.phongFrag):this._defaultLightShader=new s.default.Shader(this,m.lightVert,m.lightTextureFrag)),this._defaultLightShader},s.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,m.immediateVert,m.vertexColorFrag)),this._defaultImmediateModeShader},s.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,m.normalVert,m.normalFrag)),this._defaultNormalShader},s.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,m.normalVert,m.basicFrag)),this._defaultColorShader},s.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,m.pointVert,m.pointFrag)),this._defaultPointShader},s.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,m.lineVert,m.lineFrag)),this._defaultLineShader},s.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,m.fontVert,m.fontFrag)),this._defaultFontShader},s.default.RendererGL.prototype._getEmptyTexture=function(){var b;return this._emptyTexture||((b=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,b)),this._emptyTexture},s.default.RendererGL.prototype.getTexture=function(b){var w=this.textures,_=!0,S=!1,M=void 0;try{for(var k,T=w[Symbol.iterator]();!(_=(k=T.next()).done);_=!0){var A=k.value;if(A.src===b)return A}}catch(O){S=!0,M=O}finally{try{_||T.return==null||T.return()}finally{if(S)throw M}}return S=new s.default.Texture(this,b),w.push(S),S},s.default.RendererGL.prototype._setStrokeUniforms=function(b){b.bindShader(),b.setUniform("uUseLineColor",this._useLineColor),b.setUniform("uMaterialColor",this.curStrokeColor),b.setUniform("uStrokeWeight",this.curStrokeWeight),b.setUniform("uStrokeCap",c[this.curStrokeCap]),b.setUniform("uStrokeJoin",d[this.curStrokeJoin])},s.default.RendererGL.prototype._setFillUniforms=function(b){b.bindShader(),b.setUniform("uUseVertexColor",this._useVertexColor),b.setUniform("uMaterialColor",this.curFillColor),b.setUniform("isTexture",!!this._tex),this._tex&&b.setUniform("uSampler",this._tex),b.setUniform("uTint",this._tint),b.setUniform("uAmbientMatColor",this.curAmbientColor),b.setUniform("uSpecularMatColor",this.curSpecularColor),b.setUniform("uEmissiveMatColor",this.curEmissiveColor),b.setUniform("uSpecular",this._useSpecularMaterial),b.setUniform("uEmissive",this._useEmissiveMaterial),b.setUniform("uShininess",this._useShininess),b.setUniform("uUseLighting",this._enableLighting);var w=this.pointLightDiffuseColors.length/3,w=(b.setUniform("uPointLightCount",w),b.setUniform("uPointLightLocation",this.pointLightPositions),b.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),b.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),w=(b.setUniform("uDirectionalLightCount",w),b.setUniform("uLightingDirection",this.directionalLightDirections),b.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),b.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),w=(b.setUniform("uAmbientLightCount",w),b.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);b.setUniform("uSpotLightCount",w),b.setUniform("uSpotLightAngle",this.spotLightAngle),b.setUniform("uSpotLightConc",this.spotLightConc),b.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),b.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),b.setUniform("uSpotLightLocation",this.spotLightPositions),b.setUniform("uSpotLightDirection",this.spotLightDirections),b.setUniform("uConstantAttenuation",this.constantAttenuation),b.setUniform("uLinearAttenuation",this.linearAttenuation),b.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),b.bindTextures()},s.default.RendererGL.prototype._setPointUniforms=function(b){b.bindShader(),b.setUniform("uMaterialColor",this.curStrokeColor),b.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},s.default.RendererGL.prototype._bindBuffer=function(b,w,_,S,M){w=w||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(w,b),_!==void 0&&(b=new(S||Float32Array)(_),this.GL.bufferData(w,b,M||this.GL.STATIC_DRAW))},s.default.RendererGL.prototype._arraysEqual=function(b,w){var _=b.length;if(_!==w.length)return!1;for(var S=0;S<_;S++)if(b[S]!==w[S])return!1;return!0},s.default.RendererGL.prototype._isTypedArray=function(b){return b instanceof Uint32Array},s.default.RendererGL.prototype._flatten=function(b){if(b.length===0)return[];var w;if(2e4<b.length){for(var _=Object.prototype.toString,S=[],M=b.slice(),k=M.pop();_.call(k)==="[object Array]"?M.push.apply(M,n(k)):S.push(k),M.length&&(k=M.pop())!==void 0;);return S.reverse(),S}return(w=[]).concat.apply(w,n(b))},s.default.RendererGL.prototype._vToNArray=function(b){var w=[],_=!0,S=!1,M=void 0;try{for(var k,T=b[Symbol.iterator]();!(_=(k=T.next()).done);_=!0){var A=k.value;w.push(A.x,A.y,A.z)}}catch(O){S=!0,M=O}finally{try{_||T.return==null||T.return()}finally{if(S)throw M}}return w},s.default.prototype._assert3d=function(b){if(!this._renderer.isP3D)throw new Error("".concat(b,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,s.default.RendererGL.prototype._initTessy=function(){var b=new p.default.GluTesselator;return b.gluTessCallback(p.default.gluEnum.GLU_TESS_VERTEX_DATA,function(w,_){for(var S=0;S<w.length;S++)_[_.length]=w[S]}),b.gluTessCallback(p.default.gluEnum.GLU_TESS_BEGIN,function(w){w!==p.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(w))}),b.gluTessCallback(p.default.gluEnum.GLU_TESS_ERROR,function(w){console.log("error callback"),console.log("error number: ".concat(w))}),b.gluTessCallback(p.default.gluEnum.GLU_TESS_COMBINE,function(w,_,S){for(var M=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),k=0;k<S.length;k++)for(var T=0;T<M.length;T++)S[k]!==0&&_[k]&&(M[T]+=_[k][T]*S[k]);return M}),b.gluTessCallback(p.default.gluEnum.GLU_TESS_EDGE_FLAG,function(w){}),b},s.default.RendererGL.prototype._triangulate=function(b){var w=b[0]?b[0][2]:void 0,_=!0,S=!0,M=!1,k=void 0;try{for(var T,A=b[Symbol.iterator]();!(S=(T=A.next()).done);S=!0)for(var O=T.value,R=0;R<O.length;R+=s.default.RendererGL.prototype.tessyVertexSize)if(O[R+2]!==w){_=!1;break}}catch(z){M=!0,k=z}finally{try{S||A.return==null||A.return()}finally{if(M)throw k}}_?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),M=[],this._tessy.gluTessBeginPolygon(M);for(var U=0;U<b.length;U++){this._tessy.gluTessBeginContour();for(var B=b[U],W=0;W<B.length;W+=s.default.RendererGL.prototype.tessyVertexSize){var N=B.slice(W,W+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(N,N)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),M},s.default.RendererGL.prototype._bezierCoefficients=function(b){var w=b*b,_=1-b,S=_*_;return[S*_,3*S*b,3*_*w,w*b]},s.default.RendererGL.prototype._quadraticCoefficients=function(b){var w=1-b;return[w*w,2*w*b,b*b]},s.default.RendererGL.prototype._bezierToCatmull=function(b){return[b[1],b[1]+(b[2]-b[0])/this._curveTightness,b[2]-(b[3]-b[1])/this._curveTightness,b[2]]},s.default.RendererGL);E.default=g},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.Shader=function(u,s,i){this._renderer=u,this._vertSrc=s,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},f.default.Shader.prototype.init=function(){if(this._glProgram===0){var u=this._renderer.GL;if(this._vertShader=u.createShader(u.VERTEX_SHADER),u.shaderSource(this._vertShader,this._vertSrc),u.compileShader(this._vertShader),!u.getShaderParameter(this._vertShader,u.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(u.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(this._fragShader,this._fragSrc),u.compileShader(this._fragShader),!u.getShaderParameter(this._fragShader,u.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(u.getShaderInfoLog(this._fragShader))),null;this._glProgram=u.createProgram(),u.attachShader(this._glProgram,this._vertShader),u.attachShader(this._glProgram,this._fragShader),u.linkProgram(this._glProgram),u.getProgramParameter(this._glProgram,u.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(u.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},f.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var u=this._renderer.GL,s=u.getProgramParameter(this._glProgram,u.ACTIVE_ATTRIBUTES),i=0;i<s;++i){var p=u.getActiveAttrib(this._glProgram,i),h=p.name,r=u.getAttribLocation(this._glProgram,h),n={};n.name=h,n.location=r,n.index=i,n.type=p.type,n.size=p.size,this.attributes[h]=n}this._loadedAttributes=!0}},f.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var u=this._renderer.GL,s=u.getProgramParameter(this._glProgram,u.ACTIVE_UNIFORMS),i=0,p=0;p<s;++p){var h=u.getActiveUniform(this._glProgram,p),r={},n=(r.location=u.getUniformLocation(this._glProgram,h.name),r.size=h.size,h.name);1<h.size&&(n=n.substring(0,n.indexOf("[0]"))),r.name=n,r.type=h.type,r._cachedData=void 0,r.type===u.SAMPLER_2D&&(r.samplerIndex=i,i++,this.samplers.push(r)),r.isArray=1<h.size||r.type===u.FLOAT_MAT3||r.type===u.FLOAT_MAT4||r.type===u.FLOAT_VEC2||r.type===u.FLOAT_VEC3||r.type===u.FLOAT_VEC4||r.type===u.INT_VEC2||r.type===u.INT_VEC4||r.type===u.INT_VEC3,this.uniforms[n]=r}this._loadedUniforms=!0}},f.default.Shader.prototype.compile=function(){},f.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},f.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},f.default.Shader.prototype.bindTextures=function(){var u=this._renderer.GL,s=!0,i=!1,p=void 0;try{for(var h,r=this.samplers[Symbol.iterator]();!(s=(h=r.next()).done);s=!0){var n=h.value,o=n.texture;o===void 0&&(o=this._renderer._getEmptyTexture()),u.activeTexture(u.TEXTURE0+n.samplerIndex),o.bindTexture(),o.update(),u.uniform1i(n.location,n.samplerIndex)}}catch(a){i=!0,p=a}finally{try{s||r.return==null||r.return()}finally{if(i)throw p}}},f.default.Shader.prototype.updateTextures=function(){var u=!0,s=!1,i=void 0;try{for(var p,h=this.samplers[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var r=p.value.texture;r&&r.update()}}catch(n){s=!0,i=n}finally{try{u||h.return==null||h.return()}finally{if(s)throw i}}},f.default.Shader.prototype.unbindTextures=function(){var u=!0,s=!1,i=void 0;try{for(var p,h=this.samplers[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var r=p.value;this.setUniform(r.name,this._renderer._getEmptyTexture())}}catch(n){s=!0,i=n}finally{try{u||h.return==null||h.return()}finally{if(s)throw i}}},f.default.Shader.prototype._setMatrixUniforms=function(){var u=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,i=this._renderer.uMVMatrix,p=i.copy();p.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",u.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",i.mat4),this.setUniform("uModelViewProjectionMatrix",p.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},f.default.Shader.prototype.useProgram=function(){var u=this._renderer.GL;return this._renderer._curShader!==this&&(u.useProgram(this._glProgram),this._renderer._curShader=this),this},f.default.Shader.prototype.setUniform=function(u,s){var i=this.uniforms[u];if(i){var p=this._renderer.GL;if(i.isArray){if(i._cachedData&&this._renderer._arraysEqual(i._cachedData,s))return;i._cachedData=s.slice(0)}else{if(i._cachedData&&i._cachedData===s)return;Array.isArray(s)?i._cachedData=s.slice(0):i._cachedData=s}var h=i.location;switch(this.useProgram(),i.type){case p.BOOL:s===!0?p.uniform1i(h,1):p.uniform1i(h,0);break;case p.INT:1<i.size?s.length&&p.uniform1iv(h,s):p.uniform1i(h,s);break;case p.FLOAT:1<i.size?s.length&&p.uniform1fv(h,s):p.uniform1f(h,s);break;case p.FLOAT_MAT3:p.uniformMatrix3fv(h,!1,s);break;case p.FLOAT_MAT4:p.uniformMatrix4fv(h,!1,s);break;case p.FLOAT_VEC2:1<i.size?s.length&&p.uniform2fv(h,s):p.uniform2f(h,s[0],s[1]);break;case p.FLOAT_VEC3:1<i.size?s.length&&p.uniform3fv(h,s):p.uniform3f(h,s[0],s[1],s[2]);break;case p.FLOAT_VEC4:1<i.size?s.length&&p.uniform4fv(h,s):p.uniform4f(h,s[0],s[1],s[2],s[3]);break;case p.INT_VEC2:1<i.size?s.length&&p.uniform2iv(h,s):p.uniform2i(h,s[0],s[1]);break;case p.INT_VEC3:1<i.size?s.length&&p.uniform3iv(h,s):p.uniform3i(h,s[0],s[1],s[2]);break;case p.INT_VEC4:1<i.size?s.length&&p.uniform4iv(h,s):p.uniform4i(h,s[0],s[1],s[2],s[3]);break;case p.SAMPLER_2D:p.activeTexture(p.TEXTURE0+i.samplerIndex),i.texture=s instanceof f.default.Texture?s:this._renderer.getTexture(s),p.uniform1i(h,i.samplerIndex),i.texture.src.gifProperties&&i.texture.src._animateGif(this._renderer._pInst)}return this}},f.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},f.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},f.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},f.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},f.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},f.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},f.default.Shader.prototype.enableAttrib=function(u,s,i,p,h,r){var n;return u&&(u=u.location)!==-1&&(n=this._renderer.GL,this._renderer.registerEnabled[u]||(n.enableVertexAttribArray(u),this._renderer.registerEnabled[u]=!0),this._renderer.GL.vertexAttribPointer(u,s,i||n.FLOAT,p||!1,h||0,r||0)),this},t=f.default.Shader,E.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.Texture=function(r,n,o){return this._renderer=r,r=this._renderer.GL,(o=o||{}).dataType===r.FLOAT&&(r.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),r.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=n,this.glTex=void 0,this.glTarget=r.TEXTURE_2D,this.glFormat=o.format||r.RGBA,this.mipmaps=!1,this.glMinFilter=o.minFilter||r.LINEAR,this.glMagFilter=o.magFilter||r.LINEAR,this.glWrapS=o.wrapS||r.CLAMP_TO_EDGE,this.glWrapT=o.wrapT||r.CLAMP_TO_EDGE,this.glDataType=o.dataType||r.UNSIGNED_BYTE,this.isSrcMediaElement=s.default.MediaElement!==void 0&&n instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&n instanceof s.default.Element&&!(n instanceof s.default.Graphics)&&!(n instanceof s.default.Renderer),this.isSrcP5Image=n instanceof s.default.Image,this.isSrcP5Graphics=n instanceof s.default.Graphics,this.isSrcP5Renderer=n instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&n instanceof ImageData,o=this._getTextureDataFromSource(),this.width=o.width,this.height=o.height,this.init(o),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var r;return this.isSrcP5Image?r=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?r=this.src.elt:this.isImageData&&(r=this.src),r},s.default.Texture.prototype.init=function(r){var n,o=this._renderer.GL;this.glTex=o.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.glMagFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(n=new Uint8Array([1,1,1,1]),o.texImage2D(this.glTarget,0,o.RGBA,1,1,0,this.glFormat,this.glDataType,n)):o.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)},s.default.Texture.prototype.update=function(){var r,n,o,a=this.src;return a.width!==0&&a.height!==0&&(r=this._getTextureDataFromSource(),n=!1,o=this._renderer.GL,r.width!==this.width||r.height!==this.height?(n=!0,this.width=r.width,this.height=r.height,this.isSrcP5Image?a.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&a.setModified(!0)):this.isSrcP5Image?a.isModified()&&a.setModified(!(n=!0)):this.isSrcMediaElement?a.isModified()?a.setModified(!(n=!0)):a.loadedmetadata&&this._videoPrevUpdateTime!==a.time()&&(this._videoPrevUpdateTime=a.time(),n=!0):this.isImageData?a._dirty&&(n=!(a._dirty=!1)):n=!0,n&&(this.bindTexture(),o.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),n)},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(r,n){var o=this._renderer.GL;r===i.NEAREST?this.glMinFilter=o.NEAREST:this.glMinFilter=o.LINEAR,n===i.NEAREST?this.glMagFilter=o.NEAREST:this.glMagFilter=o.LINEAR,this.bindTexture(),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.glMinFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(r,n){function o(y){return(y&y-1)==0}var a=this._renderer.GL,d=this._getTextureDataFromSource(),d=d.naturalWidth&&d.naturalHeight?(c=d.naturalWidth,d.naturalHeight):(c=this.width,this.height),c=o(c),d=o(d);r===i.REPEAT?c&&d?this.glWrapS=a.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=a.CLAMP_TO_EDGE):r===i.MIRROR?c&&d?this.glWrapS=a.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=a.CLAMP_TO_EDGE):this.glWrapS=a.CLAMP_TO_EDGE,n===i.REPEAT?c&&d?this.glWrapT=a.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=a.CLAMP_TO_EDGE):n===i.MIRROR?c&&d?this.glWrapT=a.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=a.CLAMP_TO_EDGE):this.glWrapT=a.CLAMP_TO_EDGE,this.bindTexture(),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,this.glWrapS),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var h=s.default.Texture;E.default=h},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(t,V,E){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(d){return f(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":f(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,i=(s=t("../core/main"))&&s.__esModule?s:{default:s},p=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=h();if(d&&d.has(c))return d.get(c);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in c){var b;Object.prototype.hasOwnProperty.call(c,y)&&((b=g?Object.getOwnPropertyDescriptor(c,y):null)&&(b.get||b.set)?Object.defineProperty(m,y,b):m[y]=c[y])}return m.default=c,d&&d.set(c,m),m}(t("../core/constants"));function h(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,h=function(){return c},c)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),i.default.RendererGL.prototype._applyTextProperties=function(){},i.default.RendererGL.prototype.textWidth=function(c){return this._isOpenType()?this._textFont._textWidth(c,this._textSize):0};function r(c,d){this.width=c,this.height=d,this.infos=[],this.findImage=function(y){var m,g,b=this.width*this.height;if(b<y)throw new Error("font is too complex to render in 3D");for(var w=this.infos.length-1;0<=w;--w){var _=this.infos[w];if(_.index+y<b){g=(m=_).imageData;break}}if(!m){try{g=new ImageData(this.width,this.height)}catch{var S=document.getElementsByTagName("canvas")[0],M=!S,k=(S||((S=document.createElement("canvas")).style.display="none",document.body.appendChild(S)),S.getContext("2d"));k&&(g=k.createImageData(this.width,this.height)),M&&document.body.removeChild(S)}this.infos.push(m={index:0,imageData:g})}return k=m.index,m.index+=y,g._dirty=!0,{imageData:g,index:k}}}function n(w,d,y,m,g){var b=w.imageData.data,w=4*w.index++;b[w++]=d,b[w++]=y,b[w++]=m,b[+w]=g}function o(c){this.font=c,this.strokeImageInfos=new r(64,64),this.colDimImageInfos=new r(64,64),this.rowDimImageInfos=new r(64,64),this.colCellImageInfos=new r(64,64),this.rowCellImageInfos=new r(64,64),this.glyphInfos={},this.getGlyphInfo=function(d){var y=this.glyphInfos[d.index];if(!y){var m=d.getBoundingBox(),g=m.x1,b=m.y1,w=m.x2-g,_=m.y2-b,S=d.path.commands;if(w==0||_==0||!S.length)return this.glyphInfos[d.index]={};for(var M,k,T,A,O=[],R=[],U=[],B=8;0<=B;--B)U.push([]);for(B=8;0<=B;--B)R.push([]);var W=!0,N=!1,z=void 0;try{for(var Y,Z=S[Symbol.iterator]();!(W=(Y=Z.next()).done);W=!0){var G=Y.value,C=(G.x-g)/w,L=(G.y-b)/_;if(!xe(M,k,C,L)){switch(G.type){case"M":T=C,A=L;break;case"L":he(M,k,C,L);break;case"Q":var D=(G.x1-g)/w,q=(G.y1-b)/_;ie([M,C,D],[k,L,q],{x:M,y:k,cx:D,cy:q});break;case"Z":xe(M,k,T,A)?O.push({x:M,y:k}):(he(M,k,T,A),O.push({x:T,y:A}));break;case"C":for(var J=function(Oe,H,ee,Be,Ne,Xe,Ve,ye){var Oe=new ve(new i.default.Vector(Oe,H),new i.default.Vector(ee,Be),new i.default.Vector(Ne,Xe),new i.default.Vector(Ve,ye)).splitInflections(),je=[],X=30/a,$=!0,H=!1,ee=void 0;try{for(var fe,be=Oe[Symbol.iterator]();!($=(fe=be.next()).done);$=!0){for(var Ce=fe.value,Ie=[],Ue=void 0;!(.125<=(Ue=X/Ce.quadError()));){var Fe=Math.pow(Ue,.3333333333333333),We=Ce.split(Fe),rt=Ce.split(1-Fe/(1-Fe));je.push(We),Ie.push(Ce),Ce=rt}Ue<1&&je.push(Ce.split(.5)),je.push(Ce),Array.prototype.push.apply(je,Ie.reverse())}}catch(et){H=!0,ee=et}finally{try{$||be.return==null||be.return()}finally{if(H)throw ee}}return je}(M,k,(G.x1-g)/w,(G.y1-b)/_,(G.x2-g)/w,(G.y2-b)/_,C,L),te=0;te<J.length;te++){var se=J[te].toQuadratic();ie([se.x,se.x1,se.cx],[se.y,se.y1,se.cy],se)}break;default:throw new Error("unknown command type: ".concat(G.type))}M=C,k=L}}}catch(Ae){N=!0,z=Ae}finally{try{W||Z.return==null||Z.return()}finally{if(N)throw z}}for(var ce=O.length,ne=this.strokeImageInfos.findImage(ce),ae=ne.index,de=0;de<ce;++de){var Q=O[de];n(ne,me(Q.x),me(Q.y),me(Q.cx),me(Q.cy))}(y=this.glyphInfos[d.index]={glyph:d,uGlyphRect:[m.x1,-m.y1,m.x2,-m.y2],strokeImageInfo:ne,strokes:O,colInfo:Te(U,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Te(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[y.colInfo.dimOffset,y.rowInfo.dimOffset]}return y;function ie(Ae,Ee,ze){var Be=O.length;function Ne(je,X,$){for(var H=je.length;0<H--;){var ee=je[H];ee<X&&(X=ee),$<ee&&($=ee)}return{min:X,max:$}}O.push(ze);for(var ze=Ne(Ae,1,0),Ae=Math.max(Math.floor(9*ze.min-.5),0),Xe=Math.min(Math.ceil(9*ze.max+.5),9),Ve=Ae;Ve<Xe;++Ve)U[Ve].push(Be);for(var ze=Ne(Ee,1,0),Ae=Math.max(Math.floor(9*ze.min-.5),0),ye=Math.min(Math.ceil(9*ze.max+.5),9),Oe=Ae;Oe<ye;++Oe)R[Oe].push(Be)}function me(Ae){return(Ae=(ze=255)*Ae)<(Ee=0)?Ee:ze<Ae?ze:Ae;var Ee,ze}function ve(Ae,Ee,ze,Be){this.p0=Ae,this.c0=Ee,this.c1=ze,this.p1=Be,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return i.default.Vector.sub(i.default.Vector.sub(this.p1,this.p0),i.default.Vector.mult(i.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Oe){var Xe=i.default.Vector.lerp(this.p0,this.c0,Oe),ye=i.default.Vector.lerp(this.c0,this.c1,Oe),Ve=i.default.Vector.lerp(Xe,ye,Oe),ye=(this.c1=i.default.Vector.lerp(this.c1,this.p1,Oe),this.c0=i.default.Vector.lerp(ye,this.c1,Oe),i.default.Vector.lerp(Ve,this.c0,Oe)),Oe=new ve(this.p0,Xe,Ve,ye);return this.p0=ye,Oe},this.splitInflections=function(){var Ne=i.default.Vector.sub(this.c0,this.p0),Xe=i.default.Vector.sub(i.default.Vector.sub(this.c1,this.c0),Ne),Ve=i.default.Vector.sub(i.default.Vector.sub(i.default.Vector.sub(this.p1,this.c1),Ne),i.default.Vector.mult(Xe,2)),ye=[],Oe=Xe.x*Ve.y-Xe.y*Ve.x;return Oe!==0&&0<=(Ne=(Ve=Ne.x*Ve.y-Ne.y*Ve.x)*Ve-4*Oe*(Ne.x*Xe.y-Ne.y*Xe.x))&&(Oe<0&&(Oe=-Oe,Ve=-Ve),Ne=(-Ve+(Xe=Math.sqrt(Ne)))/(2*Oe),0<(Ve=(-Ve-Xe)/(2*Oe))&&Ve<1&&(ye.push(this.split(Ve)),Ne=1-(1-Ne)/(1-Ve)),0<Ne&&Ne<1&&ye.push(this.split(Ne))),ye.push(this),ye}}function he(Ae,Ee,ze,Be){ie([Ae,ze],[Ee,Be],{x:Ae,y:Ee,cx:(Ae+ze)/2,cy:(Ee+Be)/2})}function xe(Ae,Ee,ze,Be){return Math.abs(ze-Ae)<1e-5&&Math.abs(Be-Ee)<1e-5}function Te(Ae,Ee,ze){for(var Be=Ae.length,Ne=Ee.findImage(Be),Ee=Ne.index,Xe=0,Ve=0;Ve<Be;++Ve)Xe+=Ae[Ve].length;for(var ye=ze.findImage(Xe),Oe=0;Oe<Be;++Oe){var je=Ae[Oe],X=je.length,$=ye.index;n(Ne,$>>7,127&$,X>>7,127&X);for(var H=0;H<X;++H){var ee=je[H]+ae;n(ye,ee>>7,127&ee,0,0)}}return{cellImageInfo:ye,dimOffset:Ee,dimImageInfo:Ne}}}}var a=Math.sqrt(3);i.default.RendererGL.prototype._renderText=function(c,d,y,m,g){if(this._textFont&&typeof this._textFont!="string"){if(!(g<=m)&&this._doFill){if(this._isOpenType()){c.push();var g=this._doStroke,b=this.drawMode,w=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),_=(_=this._textFont._fontInfo)||(this._textFont._fontInfo=new o(w)),y=this._textFont._handleAlignment(this,d,y,m),m=this._textSize/w.unitsPerEm,S=(this.translate(y.x,y.y,0),this.scale(m,m,1),this.GL),y=!this._defaultFontShader,M=this._getFontShader(),k=(M.init(),M.bindShader(),y&&(M.setUniform("uGridImageSize",[64,64]),M.setUniform("uCellsImageSize",[64,64]),M.setUniform("uStrokeImageSize",[64,64]),M.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),T=(k||((m=this._textGeom=new i.default.Geometry(1,1,function(){for(var se=0;se<=1;se++)for(var ce=0;ce<=1;ce++)this.vertices.push(new i.default.Vector(ce,se,0)),this.uvs.push(ce,se)})).computeFaces().computeNormals(),k=this.createBuffers("glyph",m)),!0),y=!1,m=void 0;try{for(var A,O=this.retainedMode.buffers.text[Symbol.iterator]();!(T=(A=O.next()).done);T=!0)A.value._prepareBuffer(k,M)}catch(se){y=!0,m=se}finally{try{T||O.return==null||O.return()}finally{if(y)throw m}}this._bindBuffer(k.indexBuffer,S.ELEMENT_ARRAY_BUFFER),M.setUniform("uMaterialColor",this.curFillColor);try{var R=0,U=null,B=w.stringToGlyphs(d),W=!0,N=!1,z=void 0;try{for(var Y,Z=B[Symbol.iterator]();!(W=(Y=Z.next()).done);W=!0){var G,C,L=Y.value,D=(U&&(R+=w.getKerningValue(U,L)),_.getGlyphInfo(L));D.uGlyphRect&&(G=D.rowInfo,C=D.colInfo,M.setUniform("uSamplerStrokes",D.strokeImageInfo.imageData),M.setUniform("uSamplerRowStrokes",G.cellImageInfo.imageData),M.setUniform("uSamplerRows",G.dimImageInfo.imageData),M.setUniform("uSamplerColStrokes",C.cellImageInfo.imageData),M.setUniform("uSamplerCols",C.dimImageInfo.imageData),M.setUniform("uGridOffset",D.uGridOffset),M.setUniform("uGlyphRect",D.uGlyphRect),M.setUniform("uGlyphOffset",R),M.bindTextures(),S.drawElements(S.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),R+=L.advanceWidth,U=L}}catch(se){N=!0,z=se}finally{try{W||Z.return==null||Z.return()}finally{if(N)throw z}}}finally{M.unbindShader(),this._doStroke=g,this.drawMode=b,c.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return c}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(en);const tn=Ko(Fo);function rn(it,Lt){return new tn(it,Lt)}function Bo(it){var Lt;(Lt=it.current)==null||Lt.remove(),it.current=null}function on(it){const{sketch:Lt,children:Dt,...t}=it,V=Cr.createRef(),E=Cr.useRef(null);return Cr.useEffect(()=>{V.current!==null&&(Bo(E),E.current=rn(Lt,V.current))},[Lt]),Cr.useEffect(()=>{var f,u;(u=(f=E.current)==null?void 0:f.updateWithProps)==null||u.call(f,t)},[t,V]),Cr.useEffect(()=>()=>Bo(E),[]),zo("div",{ref:V,className:Qo,children:Dt})}function nn(it){return it.sketch===void 0?(console.error("[ReactP5Wrapper] The `sketch` prop is required."),null):zo(on,{...it})}const dn=Cr.memo(nn,Zo);function go(it){throw new Error('Could not dynamically require "'+it+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ho={exports:{}};/*! p5.js v1.9.0 November 28, 2023 */(function(it,Lt){(function(Dt){it.exports=Dt()})(function(){var Dt;return function t(V,E,f){function u(p,h){if(!E[p]){if(!V[p]){var r=typeof go=="function"&&go;if(!h&&r)return r(p,!0);if(s)return s(p,!0);throw(h=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",h}r=E[p]={exports:{}},V[p][0].call(r.exports,function(n){return u(V[p][1][n]||n)},r,r.exports,t,V,E,f)}return E[p].exports}for(var s=typeof go=="function"&&go,i=0;i<f.length;i++)u(f[i]);return u}({1:[function(t,V,E){E.byteLength=function(a){var a=r(a),o=a[0],a=a[1];return 3*(o+a)/4-a},E.toByteArray=function(n){var o,a,d=r(n),c=d[0],d=d[1],y=new s(function(b,w){return 3*(b+w)/4-w}(c,d)),m=0,g=0<d?c-4:c;for(a=0;a<g;a+=4)o=u[n.charCodeAt(a)]<<18|u[n.charCodeAt(a+1)]<<12|u[n.charCodeAt(a+2)]<<6|u[n.charCodeAt(a+3)],y[m++]=o>>16&255,y[m++]=o>>8&255,y[m++]=255&o;return d===2&&(o=u[n.charCodeAt(a)]<<2|u[n.charCodeAt(a+1)]>>4,y[m++]=255&o),d===1&&(o=u[n.charCodeAt(a)]<<10|u[n.charCodeAt(a+1)]<<4|u[n.charCodeAt(a+2)]>>2,y[m++]=o>>8&255,y[m++]=255&o),y},E.fromByteArray=function(n){for(var o,a=n.length,c=a%3,d=[],y=0,m=a-c;y<m;y+=16383)d.push(function(g,b,w){for(var _,S=[],M=b;M<w;M+=3)_=(g[M]<<16&16711680)+(g[M+1]<<8&65280)+(255&g[M+2]),S.push(function(k){return f[k>>18&63]+f[k>>12&63]+f[k>>6&63]+f[63&k]}(_));return S.join("")}(n,y,m<y+16383?m:y+16383));return c==1?(o=n[a-1],d.push(f[o>>2]+f[o<<4&63]+"==")):c==2&&(o=(n[a-2]<<8)+n[a-1],d.push(f[o>>10]+f[o>>4&63]+f[o<<2&63]+"=")),d.join("")};for(var f=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=i.length;p<h;++p)f[p]=i[p],u[i.charCodeAt(p)]=p;function r(n){var o=n.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");return n=n.indexOf("="),o=(n=n===-1?o:n)===o?0:4-n%4,[n,o]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],2:[function(t,V,E){},{}],3:[function(t,V,E){},{}],4:[function(t,V,E){(function(r){var u=t("base64-js"),s=t("ieee754"),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(E.Buffer=r,E.SlowBuffer=function(C){return+C!=C&&(C=0),r.alloc(+C)},E.INSPECT_MAX_BYTES=50,2147483647);function h(C){if(p<C)throw new RangeError('The value "'+C+'" is invalid for option "size"');return C=new Uint8Array(C),Object.setPrototypeOf(C,r.prototype),C}function r(C,L,D){if(typeof C!="number")return n(C,L,D);if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(C)}function n(C,L,D){if(typeof C=="string"){var q=C,J=L;if(r.isEncoding(J=typeof J=="string"&&J!==""?J:"utf8"))return te=0|y(q,J),se=h(te),se=(q=se.write(q,J))!==te?se.slice(0,q):se;throw new TypeError("Unknown encoding: "+J)}if(ArrayBuffer.isView(C))return c(C);if(C!=null){if(Y(C,ArrayBuffer)||C&&Y(C.buffer,ArrayBuffer)){var te=C,q=L,se=D;if(q<0||te.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<q+(se||0))throw new RangeError('"length" is outside of buffer bounds');return te=q===void 0&&se===void 0?new Uint8Array(te):se===void 0?new Uint8Array(te,q):new Uint8Array(te,q,se),Object.setPrototypeOf(te,r.prototype),te}if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(J=C.valueOf&&C.valueOf(),J!=null&&J!==C)return r.from(J,L,D);var ce=function(ne){{var ae,de;if(r.isBuffer(ne))return ae=0|d(ne.length),(de=h(ae)).length!==0&&ne.copy(de,0,0,ae),de}if(ne.length!==void 0)return typeof ne.length!="number"||Z(ne.length)?h(0):c(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return c(ne.data)}(C);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return r.from(C[Symbol.toPrimitive]("string"),L,D)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function o(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function a(C){return o(C),h(C<0?0:0|d(C))}function c(C){for(var L=C.length<0?0:0|d(C.length),D=h(L),q=0;q<L;q+=1)D[q]=255&C[q];return D}function d(C){if(p<=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|C}function y(C,L){if(r.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Y(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var D=C.length,q=2<arguments.length&&arguments[2]===!0;if(!q&&D===0)return 0;for(var J=!1;;)switch(L){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return W(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return N(C).length;default:if(J)return q?-1:W(C).length;L=(""+L).toLowerCase(),J=!0}}function m(C,L,D){var q,J=!1;if((L=L===void 0||L<0?0:L)>this.length||(D=D===void 0||D>this.length?this.length:D)<=0||(D>>>=0)<=(L>>>=0))return"";for(C=C||"utf8";;)switch(C){case"hex":var te=this,he=L,se=D,de=te.length;(!se||se<0||de<se)&&(se=de);for(var ce="",ne=he=!he||he<0?0:he;ne<se;++ne)ce+=G[te[ne]];return ce;case"utf8":case"utf-8":return M(this,L,D);case"ascii":var ae=this,de=L,Q=D,ie="";Q=Math.min(ae.length,Q);for(var me=de;me<Q;++me)ie+=String.fromCharCode(127&ae[me]);return ie;case"latin1":case"binary":var ve=this,he=L,xe=D,Te="";xe=Math.min(ve.length,xe);for(var Ae=he;Ae<xe;++Ae)Te+=String.fromCharCode(ve[Ae]);return Te;case"base64":return Ee=this,q=D,(ze=L)===0&&q===Ee.length?u.fromByteArray(Ee):u.fromByteArray(Ee.slice(ze,q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Ee=L,ze=D,Be=this.slice(Ee,ze),Ne="",Xe=0;Xe<Be.length;Xe+=2)Ne+=String.fromCharCode(Be[Xe]+256*Be[Xe+1]);return Ne;default:if(J)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),J=!0}}function g(C,L,D){var q=C[L];C[L]=C[D],C[D]=q}function b(C,L,D,q,J){if(C.length===0)return-1;if(typeof D=="string"?(q=D,D=0):2147483647<D?D=2147483647:D<-2147483648&&(D=-2147483648),(D=(D=Z(D=+D)?J?0:C.length-1:D)<0?C.length+D:D)>=C.length){if(J)return-1;D=C.length-1}else if(D<0){if(!J)return-1;D=0}if(typeof L=="string"&&(L=r.from(L,q)),r.isBuffer(L))return L.length===0?-1:w(C,L,D,q,J);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?(J?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(C,L,D):w(C,[L],D,q,J);throw new TypeError("val must be string, number or Buffer")}function w(C,L,D,q,J){var te=1,se=C.length,ce=L.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(C.length<2||L.length<2)return-1;se/=te=2,ce/=2,D/=2}function ne(me,ve){return te===1?me[ve]:me.readUInt16BE(ve*te)}if(J)for(var ae=-1,de=D;de<se;de++)if(ne(C,de)===ne(L,ae===-1?0:de-ae)){if(de-(ae=ae===-1?de:ae)+1===ce)return ae*te}else ae!==-1&&(de-=de-ae),ae=-1;else for(de=D=se<D+ce?se-ce:D;0<=de;de--){for(var Q=!0,ie=0;ie<ce;ie++)if(ne(C,de+ie)!==ne(L,ie)){Q=!1;break}if(Q)return de}return-1}function _(C,L,D,q){return z(function(J){for(var te=[],se=0;se<J.length;++se)te.push(255&J.charCodeAt(se));return te}(L),C,D,q)}function S(C,L,D,q){return z(function(J,te){for(var se,ce,ne=[],ae=0;ae<J.length&&!((te-=2)<0);++ae)ce=J.charCodeAt(ae),se=ce>>8,ce=ce%256,ne.push(ce),ne.push(se);return ne}(L,C.length-D),C,D,q)}function M(C,L,D){D=Math.min(C.length,D);for(var q=[],J=L;J<D;){var te,se,ce,ne,ae=C[J],de=null,Q=239<ae?4:223<ae?3:191<ae?2:1;if(J+Q<=D)switch(Q){case 1:ae<128&&(de=ae);break;case 2:(192&(te=C[J+1]))==128&&127<(ne=(31&ae)<<6|63&te)&&(de=ne);break;case 3:te=C[J+1],se=C[J+2],(192&te)==128&&(192&se)==128&&2047<(ne=(15&ae)<<12|(63&te)<<6|63&se)&&(ne<55296||57343<ne)&&(de=ne);break;case 4:te=C[J+1],se=C[J+2],ce=C[J+3],(192&te)==128&&(192&se)==128&&(192&ce)==128&&65535<(ne=(15&ae)<<18|(63&te)<<12|(63&se)<<6|63&ce)&&ne<1114112&&(de=ne)}de===null?(de=65533,Q=1):65535<de&&(de-=65536,q.push(de>>>10&1023|55296),de=56320|1023&de),q.push(de),J+=Q}var ie=q,me=ie.length;if(me<=k)return String.fromCharCode.apply(String,ie);for(var ve="",he=0;he<me;)ve+=String.fromCharCode.apply(String,ie.slice(he,he+=k));return ve}E.kMaxLength=p,(r.TYPED_ARRAY_SUPPORT=function(){try{var C=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(C,L),C.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=n,Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(C,L,D){return L=L,D=D,o(C=C),!(C<=0)&&L!==void 0?typeof D=="string"?h(C).fill(L,D):h(C).fill(L):h(C)},r.allocUnsafe=a,r.allocUnsafeSlow=a,r.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==r.prototype},r.compare=function(C,L){if(Y(C,Uint8Array)&&(C=r.from(C,C.offset,C.byteLength)),Y(L,Uint8Array)&&(L=r.from(L,L.offset,L.byteLength)),!r.isBuffer(C)||!r.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;for(var D=C.length,q=L.length,J=0,te=Math.min(D,q);J<te;++J)if(C[J]!==L[J]){D=C[J],q=L[J];break}return D<q?-1:q<D?1:0},r.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return r.alloc(0);if(L===void 0)for(J=L=0;J<C.length;++J)L+=C[J].length;for(var D=r.allocUnsafe(L),q=0,J=0;J<C.length;++J){var te=C[J];if(Y(te,Uint8Array)&&(te=r.from(te)),!r.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(D,q),q+=te.length}return D},r.byteLength=y,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<C;L+=2)g(this,L,L+1);return this},r.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<C;L+=4)g(this,L,L+3),g(this,L+1,L+2);return this},r.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<C;L+=8)g(this,L,L+7),g(this,L+1,L+6),g(this,L+2,L+5),g(this,L+3,L+4);return this},r.prototype.toLocaleString=r.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?M(this,0,C):m.apply(this,arguments)},r.prototype.equals=function(C){if(r.isBuffer(C))return this===C||r.compare(this,C)===0;throw new TypeError("Argument must be a Buffer")},r.prototype.inspect=function(){var L="",C=E.INSPECT_MAX_BYTES,L=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim();return this.length>C&&(L+=" ... "),"<Buffer "+L+">"},i&&(r.prototype[i]=r.prototype.inspect),r.prototype.compare=function(C,L,D,q,J){if(Y(C,Uint8Array)&&(C=r.from(C,C.offset,C.byteLength)),!r.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(D===void 0&&(D=C?C.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),(L=L===void 0?0:L)<0||D>C.length||q<0||J>this.length)throw new RangeError("out of range index");if(J<=q&&D<=L)return 0;if(J<=q)return-1;if(D<=L)return 1;if(this===C)return 0;for(var te=(J>>>=0)-(q>>>=0),se=(D>>>=0)-(L>>>=0),ce=Math.min(te,se),ne=this.slice(q,J),ae=C.slice(L,D),de=0;de<ce;++de)if(ne[de]!==ae[de]){te=ne[de],se=ae[de];break}return te<se?-1:se<te?1:0},r.prototype.includes=function(C,L,D){return this.indexOf(C,L,D)!==-1},r.prototype.indexOf=function(C,L,D){return b(this,C,L,D,!0)},r.prototype.lastIndexOf=function(C,L,D){return b(this,C,L,D,!1)},r.prototype.write=function(C,L,D,q){if(L===void 0)q="utf8",D=this.length,L=0;else if(D===void 0&&typeof L=="string")q=L,D=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(D)?(D>>>=0,q===void 0&&(q="utf8")):(q=D,D=void 0)}var J=this.length-L;if((D===void 0||J<D)&&(D=J),0<C.length&&(D<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");q=q||"utf8";for(var te,se,ce,ne=!1;;)switch(q){case"hex":var ae=this,de=C,Q=L,ie=D,me=(Q=Number(Q)||0,ae.length-Q);(!ie||me<(ie=Number(ie)))&&(ie=me),(me=de.length)/2<ie&&(ie=me/2);for(var ve=0;ve<ie;++ve){var he=parseInt(de.substr(2*ve,2),16);if(Z(he))return ve;ae[Q+ve]=he}return ve;case"utf8":case"utf-8":return me=L,ce=D,z(W(C,(se=this).length-me),se,me,ce);case"ascii":return _(this,C,L,D);case"latin1":case"binary":return _(this,C,L,D);case"base64":return se=this,ce=L,te=D,z(N(C),se,ce,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,C,L,D);default:if(ne)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ne=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(C,L,D){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(D<C+L)throw new RangeError("Trying to access beyond buffer length")}function A(C,L,D,q,J,te){if(!r.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(J<L||L<te)throw new RangeError('"value" argument is out of bounds');if(D+q>C.length)throw new RangeError("Index out of range")}function O(C,L,D,q){if(D+q>C.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function R(C,L,D,q,J){return L=+L,D>>>=0,J||O(C,0,D,4),s.write(C,L,D,q,23,4),D+4}function U(C,L,D,q,J){return L=+L,D>>>=0,J||O(C,0,D,8),s.write(C,L,D,q,52,8),D+8}r.prototype.slice=function(C,L){var D=this.length,D=((C=~~C)<0?(C+=D)<0&&(C=0):D<C&&(C=D),(L=L===void 0?D:~~L)<0?(L+=D)<0&&(L=0):D<L&&(L=D),L<C&&(L=C),this.subarray(C,L));return Object.setPrototypeOf(D,r.prototype),D},r.prototype.readUIntLE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C],J=1,te=0;++te<L&&(J*=256);)q+=this[C+te]*J;return q},r.prototype.readUIntBE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C+--L],J=1;0<L&&(J*=256);)q+=this[C+--L]*J;return q},r.prototype.readUInt8=function(C,L){return C>>>=0,L||T(C,1,this.length),this[C]},r.prototype.readUInt16LE=function(C,L){return C>>>=0,L||T(C,2,this.length),this[C]|this[C+1]<<8},r.prototype.readUInt16BE=function(C,L){return C>>>=0,L||T(C,2,this.length),this[C]<<8|this[C+1]},r.prototype.readUInt32LE=function(C,L){return C>>>=0,L||T(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},r.prototype.readUInt32BE=function(C,L){return C>>>=0,L||T(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},r.prototype.readIntLE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=this[C],J=1,te=0;++te<L&&(J*=256);)q+=this[C+te]*J;return(J*=128)<=q&&(q-=Math.pow(2,8*L)),q},r.prototype.readIntBE=function(C,L,D){C>>>=0,L>>>=0,D||T(C,L,this.length);for(var q=L,J=1,te=this[C+--q];0<q&&(J*=256);)te+=this[C+--q]*J;return(J*=128)<=te&&(te-=Math.pow(2,8*L)),te},r.prototype.readInt8=function(C,L){return C>>>=0,L||T(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},r.prototype.readInt16LE=function(C,L){return C>>>=0,L||T(C,2,this.length),L=this[C]|this[C+1]<<8,32768&L?4294901760|L:L},r.prototype.readInt16BE=function(C,L){return C>>>=0,L||T(C,2,this.length),L=this[C+1]|this[C]<<8,32768&L?4294901760|L:L},r.prototype.readInt32LE=function(C,L){return C>>>=0,L||T(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},r.prototype.readInt32BE=function(C,L){return C>>>=0,L||T(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},r.prototype.readFloatLE=function(C,L){return C>>>=0,L||T(C,4,this.length),s.read(this,C,!0,23,4)},r.prototype.readFloatBE=function(C,L){return C>>>=0,L||T(C,4,this.length),s.read(this,C,!1,23,4)},r.prototype.readDoubleLE=function(C,L){return C>>>=0,L||T(C,8,this.length),s.read(this,C,!0,52,8)},r.prototype.readDoubleBE=function(C,L){return C>>>=0,L||T(C,8,this.length),s.read(this,C,!1,52,8)},r.prototype.writeUIntLE=function(C,L,D,q){C=+C,L>>>=0,D>>>=0,q||A(this,C,L,D,Math.pow(2,8*D)-1,0);var J=1,te=0;for(this[L]=255&C;++te<D&&(J*=256);)this[L+te]=C/J&255;return L+D},r.prototype.writeUIntBE=function(C,L,D,q){C=+C,L>>>=0,D>>>=0,q||A(this,C,L,D,Math.pow(2,8*D)-1,0);var J=D-1,te=1;for(this[L+J]=255&C;0<=--J&&(te*=256);)this[L+J]=C/te&255;return L+D},r.prototype.writeUInt8=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,1,255,0),this[L]=255&C,L+1},r.prototype.writeUInt16LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,65535,0),this[L]=255&C,this[L+1]=C>>>8,L+2},r.prototype.writeUInt16BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=255&C,L+2},r.prototype.writeUInt32LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=255&C,L+4},r.prototype.writeUInt32BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C,L+4},r.prototype.writeIntLE=function(C,L,D,q){C=+C,L>>>=0,q||A(this,C,L,D,(q=Math.pow(2,8*D-1))-1,-q);var J=0,te=1,se=0;for(this[L]=255&C;++J<D&&(te*=256);)C<0&&se===0&&this[L+J-1]!==0&&(se=1),this[L+J]=(C/te>>0)-se&255;return L+D},r.prototype.writeIntBE=function(C,L,D,q){C=+C,L>>>=0,q||A(this,C,L,D,(q=Math.pow(2,8*D-1))-1,-q);var J=D-1,te=1,se=0;for(this[L+J]=255&C;0<=--J&&(te*=256);)C<0&&se===0&&this[L+J+1]!==0&&(se=1),this[L+J]=(C/te>>0)-se&255;return L+D},r.prototype.writeInt8=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,1,127,-128),this[L]=255&(C=C<0?255+C+1:C),L+1},r.prototype.writeInt16LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,32767,-32768),this[L]=255&C,this[L+1]=C>>>8,L+2},r.prototype.writeInt16BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=255&C,L+2},r.prototype.writeInt32LE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,2147483647,-2147483648),this[L]=255&C,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},r.prototype.writeInt32BE=function(C,L,D){return C=+C,L>>>=0,D||A(this,C,L,4,2147483647,-2147483648),this[L]=(C=C<0?4294967295+C+1:C)>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=255&C,L+4},r.prototype.writeFloatLE=function(C,L,D){return R(this,C,L,!0,D)},r.prototype.writeFloatBE=function(C,L,D){return R(this,C,L,!1,D)},r.prototype.writeDoubleLE=function(C,L,D){return U(this,C,L,!0,D)},r.prototype.writeDoubleBE=function(C,L,D){return U(this,C,L,!1,D)},r.prototype.copy=function(C,L,D,q){if(!r.isBuffer(C))throw new TypeError("argument should be a Buffer");if(D=D||0,q||q===0||(q=this.length),L>=C.length&&(L=C.length),(q=0<q&&q<D?D:q)===D||C.length===0||this.length===0)return 0;if((L=L||0)<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length);var J=(q=C.length-L<q-D?C.length-L+D:q)-D;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,D,q);else if(this===C&&D<L&&L<q)for(var te=J-1;0<=te;--te)C[te+L]=this[te+D];else Uint8Array.prototype.set.call(C,this.subarray(D,q),L);return J},r.prototype.fill=function(C,L,D,q){if(typeof C=="string"){if(typeof L=="string"?(q=L,L=0,D=this.length):typeof D=="string"&&(q=D,D=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!r.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var J;C.length===1&&(J=C.charCodeAt(0),(q==="utf8"&&J<128||q==="latin1")&&(C=J))}else typeof C=="number"?C&=255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<D)throw new RangeError("Out of range index");var te;if(!(D<=L))if(L>>>=0,D=D===void 0?this.length:D>>>0,typeof(C=C||0)=="number")for(te=L;te<D;++te)this[te]=C;else{var se=r.isBuffer(C)?C:r.from(C,q),ce=se.length;if(ce===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(te=0;te<D-L;++te)this[te+L]=se[te%ce]}return this};var B=/[^+/0-9A-Za-z-_]/g;function W(C,L){L=L||1/0;for(var D,q=C.length,J=null,te=[],se=0;se<q;++se){if(55295<(D=C.charCodeAt(se))&&D<57344){if(!J){if(56319<D){-1<(L-=3)&&te.push(239,191,189);continue}if(se+1===q){-1<(L-=3)&&te.push(239,191,189);continue}J=D;continue}if(D<56320){-1<(L-=3)&&te.push(239,191,189),J=D;continue}D=65536+(J-55296<<10|D-56320)}else J&&-1<(L-=3)&&te.push(239,191,189);if(J=null,D<128){if(--L<0)break;te.push(D)}else if(D<2048){if((L-=2)<0)break;te.push(D>>6|192,63&D|128)}else if(D<65536){if((L-=3)<0)break;te.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;te.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return te}function N(C){return u.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(C))}function z(C,L,D,q){for(var J=0;J<q&&!(J+D>=L.length||J>=C.length);++J)L[J+D]=C[J];return J}function Y(C,L){return C instanceof L||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===L.name}function Z(C){return C!=C}var G=function(){for(var C="0123456789abcdef",L=new Array(256),D=0;D<16;++D)for(var q=16*D,J=0;J<16;++J)L[q+J]=C[D]+C[J];return L}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(t,V,E){V.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u){if(f(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,V,E){var f=s("../internals/well-known-symbol"),u=s("../internals/object-create"),s=s("../internals/object-define-property"),i=f("unscopables"),p=Array.prototype;p[i]==null&&s.f(p,i,{configurable:!0,value:u(null)}),V.exports=function(h){p[i][h]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,V,E){var f=t("../internals/string-multibyte").charAt;V.exports=function(u,s,i){return s+(i?f(u,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,V,E){V.exports=function(f,u,s){if(f instanceof u)return f;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u){if(f(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,V,E){V.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(O,V,E){function f(U){return h(U)&&r(R,n(U))}var u,s=O("../internals/array-buffer-native"),i=O("../internals/descriptors"),p=O("../internals/global"),h=O("../internals/is-object"),r=O("../internals/has"),n=O("../internals/classof"),o=O("../internals/create-non-enumerable-property"),a=O("../internals/redefine"),c=O("../internals/object-define-property").f,d=O("../internals/object-get-prototype-of"),y=O("../internals/object-set-prototype-of"),k=O("../internals/well-known-symbol"),O=O("../internals/uid"),m=p.Int8Array,g=m&&m.prototype,b=p.Uint8ClampedArray,b=b&&b.prototype,w=m&&d(m),_=g&&d(g),S=Object.prototype,M=S.isPrototypeOf,k=k("toStringTag"),T=O("TYPED_ARRAY_TAG"),A=s&&!!y&&n(p.opera)!=="Opera",O=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in R)p[u]||(A=!1);if((!A||typeof w!="function"||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},A))for(u in R)p[u]&&y(p[u],w);if((!A||!_||_===S)&&(_=w.prototype,A))for(u in R)p[u]&&y(p[u].prototype,_);if(A&&d(b)!==_&&y(b,_),i&&!r(_,k))for(u in O=!0,c(_,k,{get:function(){return h(this)?this[T]:void 0}}),R)p[u]&&o(p[u],T,u);V.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:O&&T,aTypedArray:function(U){if(f(U))return U;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(U){if(y){if(M.call(w,U))return U}else for(var B in R)if(r(R,u)&&(B=p[B],B&&(U===B||M.call(B,U))))return U;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(U,B,W){if(i){if(W)for(var N in R)N=p[N],N&&r(N.prototype,U)&&delete N.prototype[U];_[U]&&!W||a(_,U,!W&&A&&g[U]||B)}},exportTypedArrayStaticMethod:function(U,B,W){var N,z;if(i){if(y){if(W)for(N in R)(z=p[N])&&r(z,U)&&delete z[U];if(w[U]&&!W)return;try{return a(w,U,!W&&A&&m[U]||B)}catch{}}for(N in R)!(z=p[N])||z[U]&&!W||a(z,U,B)}},isView:function(U){return U=n(U),U==="DataView"||r(R,U)},isTypedArray:f,TypedArray:w,TypedArrayPrototype:_}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(D,V,E){function f(Q){return[255&Q]}function u(Q){return[255&Q,Q>>8&255]}function s(Q){return[255&Q,Q>>8&255,Q>>16&255,Q>>24&255]}function i(Q){return Q[3]<<24|Q[2]<<16|Q[1]<<8|Q[0]}function p(Q){return te(Q,23,4)}function h(Q){return te(Q,52,8)}function r(Q,ie){O(Q[Y],ie,{get:function(){return B(this)[ie]}})}function n(Te,ie,xe,ve){if(xe=S(xe),Te=B(Te),xe+ie>Te.byteLength)throw J(Z);var he=B(Te.buffer).bytes,xe=xe+Te.byteOffset,Te=he.slice(xe,xe+ie);return ve?Te:Te.reverse()}function o(Q,ie,me,ve,he,xe){if(me=S(me),Q=B(Q),me+ie>Q.byteLength)throw J(Z);for(var Te=B(Q.buffer).bytes,Ae=me+Q.byteOffset,Ee=ve(+he),ze=0;ze<ie;ze++)Te[Ae+ze]=Ee[xe?ze:ie-ze-1]}var a=D("../internals/global"),c=D("../internals/descriptors"),d=D("../internals/array-buffer-native"),y=D("../internals/create-non-enumerable-property"),m=D("../internals/redefine-all"),g=D("../internals/fails"),b=D("../internals/an-instance"),w=D("../internals/to-integer"),_=D("../internals/to-length"),S=D("../internals/to-index"),M=D("../internals/ieee754"),k=D("../internals/object-get-prototype-of"),T=D("../internals/object-set-prototype-of"),A=D("../internals/object-get-own-property-names").f,O=D("../internals/object-define-property").f,R=D("../internals/array-fill"),U=D("../internals/set-to-string-tag"),D=D("../internals/internal-state"),B=D.get,W=D.set,N="ArrayBuffer",z="DataView",Y="prototype",Z="Wrong index",G=a[N],C=G,L=a[z],D=L&&L[Y],q=Object.prototype,J=a.RangeError,te=M.pack,se=M.unpack;if(d){if(!g(function(){G(1)})||!g(function(){new G(-1)})||g(function(){return new G,new G(1.5),new G(NaN),G.name!=N})){for(var ce,a=(C=function(me){return b(this,C),new G(S(me))})[Y]=G[Y],ne=A(G),ae=0;ne.length>ae;)(ce=ne[ae++])in C||y(C,ce,G[ce]);a.constructor=C}T&&k(D)!==q&&T(D,q);var M=new L(new C(2)),de=D.setInt8;M.setInt8(0,2147483648),M.setInt8(1,2147483649),!M.getInt8(0)&&M.getInt8(1)||m(D,{setInt8:function(ie,me){de.call(this,ie,me<<24>>24)},setUint8:function(ie,me){de.call(this,ie,me<<24>>24)}},{unsafe:!0})}else C=function(Q){b(this,C,N),Q=S(Q),W(this,{bytes:R.call(new Array(Q),0),byteLength:Q}),c||(this.byteLength=Q)},L=function(Q,he,me){b(this,L,z),b(Q,C,z);var ve=B(Q).byteLength,he=w(he);if(he<0||ve<he)throw J("Wrong offset");if(ve<he+(me=me===void 0?ve-he:_(me)))throw J("Wrong length");W(this,{buffer:Q,byteLength:me,byteOffset:he}),c||(this.buffer=Q,this.byteLength=me,this.byteOffset=he)},c&&(r(C,"byteLength"),r(L,"buffer"),r(L,"byteLength"),r(L,"byteOffset")),m(L[Y],{getInt8:function(Q){return n(this,1,Q)[0]<<24>>24},getUint8:function(Q){return n(this,1,Q)[0]},getInt16:function(Q){return Q=n(this,2,Q,1<arguments.length?arguments[1]:void 0),(Q[1]<<8|Q[0])<<16>>16},getUint16:function(Q){return Q=n(this,2,Q,1<arguments.length?arguments[1]:void 0),Q[1]<<8|Q[0]},getInt32:function(Q){return i(n(this,4,Q,1<arguments.length?arguments[1]:void 0))},getUint32:function(Q){return i(n(this,4,Q,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Q){return se(n(this,4,Q,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Q){return se(n(this,8,Q,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Q,ie){o(this,1,Q,f,ie)},setUint8:function(Q,ie){o(this,1,Q,f,ie)},setInt16:function(Q,ie){o(this,2,Q,u,ie,2<arguments.length?arguments[2]:void 0)},setUint16:function(Q,ie){o(this,2,Q,u,ie,2<arguments.length?arguments[2]:void 0)},setInt32:function(Q,ie){o(this,4,Q,s,ie,2<arguments.length?arguments[2]:void 0)},setUint32:function(Q,ie){o(this,4,Q,s,ie,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Q,ie){o(this,4,Q,p,ie,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Q,ie){o(this,8,Q,h,ie,2<arguments.length?arguments[2]:void 0)}});U(C,N),U(L,z),V.exports={ArrayBuffer:C,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length"),i=Math.min;V.exports=[].copyWithin||function(c,h){var r=f(this),n=s(r.length),o=u(c,n),a=u(h,n),c=2<arguments.length?arguments[2]:void 0,d=i((c===void 0?n:u(c,n))-a,n-o),y=1;for(a<o&&o<a+d&&(y=-1,a+=d-1,o+=d-1);0<d--;)a in r?r[o]=r[a]:delete r[o],o+=y,a+=y;return r}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-absolute-index"),s=t("../internals/to-length");V.exports=function(i){for(var p=f(this),h=s(p.length),n=arguments.length,r=u(1<n?arguments[1]:void 0,h),n=2<n?arguments[2]:void 0,o=n===void 0?h:u(n,h);r<o;)p[r++]=i;return p}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(s,V,E){var f=s("../internals/array-iteration").forEach,u=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),u=u("forEach"),s=s("forEach");V.exports=u&&s?[].forEach:function(i){return f(this,i,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,V,E){var f=t("../internals/function-bind-context"),u=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),i=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),h=t("../internals/create-property"),r=t("../internals/get-iterator-method");V.exports=function(b){var o,a,c,d,y,m,g=u(b),b=typeof this=="function"?this:Array,w=arguments.length,_=1<w?arguments[1]:void 0,S=_!==void 0,M=r(g),k=0;if(S&&(_=f(_,2<w?arguments[2]:void 0,2)),M==null||b==Array&&i(M))for(a=new b(o=p(g.length));k<o;k++)m=S?_(g[k],k):g[k],h(a,k,m);else for(y=(d=M.call(g)).next,a=new b;!(c=y.call(d)).done;k++)m=S?s(d,_,[c.value,k],!0):c.value,h(a,k,m);return a.length=k,a}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,V,E){function f(p){return function(h,r,n){var o,a=u(h),c=s(a.length),d=i(n,c);if(p&&r!=r){for(;d<c;)if((o=a[d++])!=o)return!0}else for(;d<c;d++)if((p||d in a)&&a[d]===r)return p||d||0;return!p&&-1}}var u=t("../internals/to-indexed-object"),s=t("../internals/to-length"),i=t("../internals/to-absolute-index");V.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,V,E){function f(n){var o=n==1,a=n==2,c=n==3,d=n==4,y=n==6,m=n==5||y;return function(g,b,w,_){for(var S,M,k=i(g),T=s(k),A=u(b,w,3),O=p(T.length),R=0,b=_||h,U=o?b(g,O):a?b(g,0):void 0;R<O;R++)if((m||R in T)&&(M=A(S=T[R],R,k),n)){if(o)U[R]=M;else if(M)switch(n){case 3:return!0;case 5:return S;case 6:return R;case 2:r.call(U,S)}else if(d)return!1}return y?-1:c||d?d:U}}var u=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),i=t("../internals/to-object"),p=t("../internals/to-length"),h=t("../internals/array-species-create"),r=[].push;V.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(n,V,E){var f=n("../internals/to-indexed-object"),u=n("../internals/to-integer"),s=n("../internals/to-length"),r=n("../internals/array-method-is-strict"),n=n("../internals/array-method-uses-to-length"),i=Math.min,p=[].lastIndexOf,h=!!p&&1/[1].lastIndexOf(1,-0)<0,r=r("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});V.exports=h||!r||!n?function(o){if(h)return p.apply(this,arguments)||0;var a=f(this),c=s(a.length),d=c-1;for((d=1<arguments.length?i(d,u(arguments[1])):d)<0&&(d=c+d);0<=d;d--)if(d in a&&a[d]===o)return d||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),i=u("species");V.exports=function(p){return 51<=s||!f(function(){var h=[];return(h.constructor={})[i]=function(){return{foo:1}},h[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,V,E){var f=t("../internals/fails");V.exports=function(u,s){var i=[][u];return!!i&&f(function(){i.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,V,E){function f(r){throw r}var u=t("../internals/descriptors"),s=t("../internals/fails"),i=t("../internals/has"),p=Object.defineProperty,h={};V.exports=function(r,n){var o,a,c,d;return i(h,r)?h[r]:(o=[][r],a=!!i(n=n||{},"ACCESSORS")&&n.ACCESSORS,c=i(n,0)?n[0]:f,d=i(n,1)?n[1]:void 0,h[r]=!!o&&!s(function(){if(a&&!u)return!0;var y={length:-1};a?p(y,1,{enumerable:!0,get:f}):y[1]=1,o.call(y,c,d)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,V,E){function f(h){return function(r,n,o,a){u(n);var c=s(r),d=i(c),y=p(c.length),m=h?y-1:0,g=h?-1:1;if(o<2)for(;;){if(m in d){a=d[m],m+=g;break}if(m+=g,h?m<0:y<=m)throw TypeError("Reduce of empty array with no initial value")}for(;h?0<=m:m<y;m+=g)m in d&&(a=n(a,d[m],m,c));return a}}var u=t("../internals/a-function"),s=t("../internals/to-object"),i=t("../internals/indexed-object"),p=t("../internals/to-length");V.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");V.exports=function(i,p){var h;return new((h=u(i)&&(typeof(h=i.constructor)=="function"&&(h===Array||u(h.prototype))||f(h)&&(h=h[s])===null)?void 0:h)===void 0?Array:h)(p===0?0:p)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,V,E){var f=t("../internals/an-object");V.exports=function(u,s,i,p){try{return p?s(f(i)[0],i[1]):s(i)}catch(h){throw p=u.return,p!==void 0&&f(p.call(u)),h}}},{"../internals/an-object":10}],27:[function(t,V,E){var f=t("../internals/well-known-symbol")("iterator"),u=!1;try{var s=0,i={next:function(){return{done:!!s++}},return:function(){u=!0}};i[f]=function(){return this},Array.from(i,function(){throw 2})}catch{}V.exports=function(p,h){if(!h&&!u)return!1;var r=!1;try{var n={};n[f]=function(){return{next:function(){return{done:r=!0}}}},p(n)}catch{}return r}},{"../internals/well-known-symbol":148}],28:[function(t,V,E){var f={}.toString;V.exports=function(u){return f.call(u).slice(8,-1)}},{}],29:[function(t,V,E){var f=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),i=u(function(){return arguments}())=="Arguments";V.exports=f?u:function(p){var h;return p===void 0?"Undefined":p===null?"Null":typeof(h=function(r,n){try{return r[n]}catch{}}(p=Object(p),s))=="string"?h:i?u(p):(h=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":h}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(c,V,E){var f=c("../internals/object-define-property").f,u=c("../internals/object-create"),s=c("../internals/redefine-all"),i=c("../internals/function-bind-context"),p=c("../internals/an-instance"),h=c("../internals/iterate"),r=c("../internals/define-iterator"),n=c("../internals/set-species"),o=c("../internals/descriptors"),a=c("../internals/internal-metadata").fastKey,c=c("../internals/internal-state"),d=c.set,y=c.getterFor;V.exports={getConstructor:function(m,g,b,w){function _(T,A,O){var R,U=k(T),B=S(T,A);return B?B.value=O:(U.last=B={index:R=a(A,!0),key:A,value:O,previous:A=U.last,next:void 0,removed:!1},U.first||(U.first=B),A&&(A.next=B),o?U.size++:T.size++,R!=="F"&&(U.index[R]=B)),T}function S(R,A){var O,R=k(R),U=a(A);if(U!=="F")return R.index[U];for(O=R.first;O;O=O.next)if(O.key==A)return O}var M=m(function(T,A){p(T,M,g),d(T,{type:g,index:u(null),first:void 0,last:void 0,size:0}),o||(T.size=0),A!=null&&h(A,T[w],T,b)}),k=y(g);return s(M.prototype,{clear:function(){for(var T=k(this),A=T.index,O=T.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=void 0),delete A[O.index],O=O.next;T.first=T.last=void 0,o?T.size=0:this.size=0},delete:function(U){var A,O,R=k(this),U=S(this,U);return U&&(A=U.next,O=U.previous,delete R.index[U.index],U.removed=!0,O&&(O.next=A),A&&(A.previous=O),R.first==U&&(R.first=A),R.last==U&&(R.last=O),o?R.size--:this.size--),!!U},forEach:function(T){for(var A,O=k(this),R=i(T,1<arguments.length?arguments[1]:void 0,3);A=A?A.next:O.first;)for(R(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(T){return!!S(this,T)}}),s(M.prototype,b?{get:function(T){return T=S(this,T),T&&T.value},set:function(T,A){return _(this,T===0?0:T,A)}}:{add:function(T){return _(this,T=T===0?0:T,T)}}),o&&f(M.prototype,"size",{get:function(){return k(this).size}}),M},setStrong:function(m,g,b){var w=g+" Iterator",_=y(g),S=y(w);r(m,g,function(M,k){d(this,{type:w,target:M,state:_(M),kind:k,last:void 0})},function(){for(var M=S(this),k=M.kind,T=M.last;T&&T.removed;)T=T.previous;return M.target&&(M.last=T=T?T.next:M.state.first)?k=="keys"?{value:T.key,done:!1}:k=="values"?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}:{value:M.target=void 0,done:!0}},b?"entries":"values",!b,!0),n(g)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(d,V,E){function f(_){return _.frozen||(_.frozen=new u)}function u(){this.entries=[]}function s(_,S){return g(_.entries,function(M){return M[0]===S})}var i=d("../internals/redefine-all"),p=d("../internals/internal-metadata").getWeakData,h=d("../internals/an-object"),r=d("../internals/is-object"),n=d("../internals/an-instance"),o=d("../internals/iterate"),a=d("../internals/array-iteration"),c=d("../internals/has"),d=d("../internals/internal-state"),y=d.set,m=d.getterFor,g=a.find,b=a.findIndex,w=0;u.prototype={get:function(_){if(_=s(this,_),_)return _[1]},has:function(_){return!!s(this,_)},set:function(_,S){var M=s(this,_);M?M[1]=S:this.entries.push([_,S])},delete:function(_){var S=b(this.entries,function(M){return M[0]===_});return~S&&this.entries.splice(S,1),!!~S}},V.exports={getConstructor:function(_,S,M,k){function T(R,U,B){var W=O(R),N=p(h(U),!0);return N===!0?f(W).set(U,B):N[W.id]=B,R}var A=_(function(R,U){n(R,A,S),y(R,{type:S,id:w++,frozen:void 0}),U!=null&&o(U,R[k],R,M)}),O=m(S);return i(A.prototype,{delete:function(R){var U,B=O(this);return!!r(R)&&((U=p(R))===!0?f(B).delete(R):U&&c(U,B.id)&&delete U[B.id])},has:function(R){var U,B=O(this);return!!r(R)&&((U=p(R))===!0?f(B).has(R):U&&c(U,B.id))}}),i(A.prototype,M?{get:function(R){var U,B=O(this);if(r(R))return(U=p(R))===!0?f(B).get(R):U?U[B.id]:void 0},set:function(R,U){return T(this,R,U)}}:{add:function(R){return T(this,R,!0)}}),A}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/global"),s=t("../internals/is-forced"),i=t("../internals/redefine"),p=t("../internals/internal-metadata"),h=t("../internals/iterate"),r=t("../internals/an-instance"),n=t("../internals/is-object"),o=t("../internals/fails"),a=t("../internals/check-correctness-of-iteration"),c=t("../internals/set-to-string-tag"),d=t("../internals/inherit-if-required");V.exports=function(y,m,g){function b(N){var z=U[N];i(U,N,N=="add"?function(Y){return z.call(this,Y===0?0:Y),this}:N=="delete"?function(Y){return!(A&&!n(Y))&&z.call(this,Y===0?0:Y)}:N=="get"?function(Y){return A&&!n(Y)?void 0:z.call(this,Y===0?0:Y)}:N=="has"?function(Y){return!(A&&!n(Y))&&z.call(this,Y===0?0:Y)}:function(Y,Z){return z.call(this,Y===0?0:Y,Z),this})}var w,_,S,M,k,T=y.indexOf("Map")!==-1,A=y.indexOf("Weak")!==-1,O=T?"set":"add",R=u[y],U=R&&R.prototype,B=R,W={};return s(y,typeof R!="function"||!(A||U.forEach&&!o(function(){new R().entries().next()})))?(B=g.getConstructor(m,y,T,O),p.REQUIRED=!0):s(y,!0)&&(_=(w=new B)[O](A?{}:-0,1)!=w,S=o(function(){w.has(1)}),M=a(function(N){new R(N)}),k=!A&&o(function(){for(var N=new R,z=5;z--;)N[O](z,z);return!N.has(-0)}),M||(((B=m(function(N,z){return r(N,B,y),N=d(new R,N,B),z!=null&&h(z,N[O],N,T),N})).prototype=U).constructor=B),(S||k)&&(b("delete"),b("has"),T&&b("get")),(k||_)&&b(O),A&&U.clear&&delete U.clear),W[y]=B,f({global:!0,forced:B!=R},W),c(B,y),A||g.setStrong(B,y,T),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,V,E){var f=t("../internals/has"),u=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),i=t("../internals/object-define-property");V.exports=function(p,h){for(var r=u(h),n=i.f,o=s.f,a=0;a<r.length;a++){var c=r[a];f(p,c)||n(p,c,o(h,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,V,E){var f=t("../internals/well-known-symbol")("match");V.exports=function(u){var s=/./;try{"/./"[u](s)}catch{try{return s[f]=!1,"/./"[u](s)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(t,V,E){var f=t("../internals/require-object-coercible"),u=/"/g;V.exports=function(r,i,p,h){var r=String(f(r)),n="<"+i;return p!==""&&(n+=" "+p+'="'+String(h).replace(u,"&quot;")+'"'),n+">"+r+"</"+i+">"}},{"../internals/require-object-coercible":113}],37:[function(t,V,E){function f(){return this}var u=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),i=t("../internals/create-property-descriptor"),p=t("../internals/set-to-string-tag"),h=t("../internals/iterators");V.exports=function(r,n,o){return n+=" Iterator",r.prototype=s(u,{next:i(1,o)}),p(r,n,!1,!0),h[n]=f,r}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");V.exports=f?function(i,p,h){return u.f(i,p,s(1,h))}:function(i,p,h){return i[p]=h,i}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,V,E){V.exports=function(f,u){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:u}}},{}],40:[function(t,V,E){var f=t("../internals/to-primitive"),u=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");V.exports=function(i,p,h){p=f(p),p in i?u.f(i,p,s(0,h)):i[p]=h}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(d,V,E){function f(){return this}var u=d("../internals/export"),s=d("../internals/create-iterator-constructor"),i=d("../internals/object-get-prototype-of"),p=d("../internals/object-set-prototype-of"),h=d("../internals/set-to-string-tag"),r=d("../internals/create-non-enumerable-property"),n=d("../internals/redefine"),o=d("../internals/well-known-symbol"),a=d("../internals/is-pure"),c=d("../internals/iterators"),d=d("../internals/iterators-core"),y=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=o("iterator"),b="values",w="entries";V.exports=function(_,S,M,W,T,A,O){s(M,S,W);function R(C){if(C===T&&Z)return Z;if(!m&&C in z)return z[C];switch(C){case"keys":case b:case w:return function(){return new M(this,C)}}return function(){return new M(this)}}var U,B,W=S+" Iterator",N=!1,z=_.prototype,Y=z[g]||z["@@iterator"]||T&&z[T],Z=!m&&Y||R(T),G=S=="Array"&&z.entries||Y;if(G&&(G=i(G.call(new _)),y!==Object.prototype&&G.next&&(a||i(G)===y||(p?p(G,y):typeof G[g]!="function"&&r(G,g,f)),h(G,W,!0,!0),a&&(c[W]=f))),T==b&&Y&&Y.name!==b&&(N=!0,Z=function(){return Y.call(this)}),a&&!O||z[g]===Z||r(z,g,Z),c[S]=Z,T)if(U={values:R(b),keys:A?Z:R("keys"),entries:R(w)},O)for(B in U)!m&&!N&&B in z||n(z,B,U[B]);else u({target:S,proto:!0,forced:m||N},U);return U}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,V,E){var f=t("../internals/path"),u=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),i=t("../internals/object-define-property").f;V.exports=function(p){var h=f.Symbol||(f.Symbol={});u(h,p)||i(h,p,{value:s.f(p)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,V,E){var f=u("../internals/global"),u=u("../internals/is-object"),s=f.document,i=u(s)&&u(s.createElement);V.exports=function(p){return i?s.createElement(p):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,V,E){V.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,V,E){t=t("../internals/engine-user-agent"),V.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,V,E){t=t("../internals/get-built-in"),V.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,V,E){var f,u,i=s("../internals/global"),s=s("../internals/engine-user-agent"),i=i.process,i=i&&i.versions,i=i&&i.v8;i?u=(f=i.split("."))[0]+f[1]:s&&(!(f=s.match(/Edge\/(\d+)/))||74<=f[1])&&(f=s.match(/Chrome\/(\d+)/))&&(u=f[1]),V.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,V,E){V.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,V,E){var f=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),i=t("../internals/redefine"),p=t("../internals/set-global"),h=t("../internals/copy-constructor-properties"),r=t("../internals/is-forced");V.exports=function(n,o){var a,c,d,y=n.target,m=n.global,g=n.stat,b=m?f:g?f[y]||p(y,{}):(f[y]||{}).prototype;if(b)for(a in o){if(c=o[a],d=n.noTargetGet?(d=u(b,a))&&d.value:b[a],!r(m?a:y+(g?".":"#")+a,n.forced)&&d!==void 0){if(typeof c==typeof d)continue;h(c,d)}(n.sham||d&&d.sham)&&s(c,"sham",!0),i(b,a,c,n)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,V,E){V.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(o,V,E){o("../modules/es.regexp.exec");var f=o("../internals/redefine"),u=o("../internals/fails"),s=o("../internals/well-known-symbol"),i=o("../internals/regexp-exec"),p=o("../internals/create-non-enumerable-property"),h=s("species"),r=!u(function(){var d=/./;return d.exec=function(){var y=[];return y.groups={a:"7"},y},"".replace(d,"$<a>")!=="7"}),n="a".replace(/./,"$0")==="$0",o=s("replace"),a=!!/./[o]&&/./[o]("a","$0")==="",c=!u(function(){var y=/(?:)/,d=y.exec,y=(y.exec=function(){return d.apply(this,arguments)},"ab".split(y));return y.length!==2||y[0]!=="a"||y[1]!=="b"});V.exports=function(d,y,m,g){var b,w,_=s(d),S=!u(function(){var k={};return k[_]=function(){return 7},""[d](k)!=7}),M=S&&!u(function(){var k=!1,T=/a/;return d==="split"&&((T={constructor:{}}).constructor[h]=function(){return T},T.flags="",T[_]=/./[_]),T.exec=function(){return k=!0,null},T[_](""),!k});S&&M&&(d!=="replace"||r&&n&&!a)&&(d!=="split"||c)||(b=/./[_],m=(M=m(_,""[d],function(k,T,A,O,R){return T.exec===i?S&&!R?{done:!0,value:b.call(T,A,O)}:{done:!0,value:k.call(A,T,O)}:{done:!1}},{REPLACE_KEEPS_$0:n,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}))[0],w=M[1],f(String.prototype,d,m),f(RegExp.prototype,_,y==2?function(k,T){return w.call(k,this,T)}:function(k){return w.call(k,this)})),g&&p(RegExp.prototype[_],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(t,V,E){t=t("../internals/fails"),V.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,V,E){var f=t("../internals/a-function");V.exports=function(u,s,i){if(f(u),s===void 0)return u;switch(i){case 0:return function(){return u.call(s)};case 1:return function(p){return u.call(s,p)};case 2:return function(p,h){return u.call(s,p,h)};case 3:return function(p,h,r){return u.call(s,p,h,r)}}return function(){return u.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(t,V,E){var f=t("../internals/a-function"),u=t("../internals/is-object"),s=[].slice,i={};V.exports=Function.bind||function(p){var h=f(this),r=s.call(arguments,1),n=function(){var o=r.concat(s.call(arguments));if(this instanceof n){var a=h,c=o.length,d=o;if(!(c in i)){for(var y=[],m=0;m<c;m++)y[m]="a["+m+"]";i[c]=Function("C,a","return new C("+y.join(",")+")")}return i[c](a,d)}return h.apply(p,o)};return u(h.prototype)&&(n.prototype=h.prototype),n}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,V,E){function f(i){return typeof i=="function"?i:void 0}var u=t("../internals/path"),s=t("../internals/global");V.exports=function(i,p){return arguments.length<2?f(u[i])||f(s[i]):u[i]&&u[i][p]||s[i]&&s[i][p]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,V,E){var f=t("../internals/classof"),u=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");V.exports=function(i){if(i!=null)return i[s]||i["@@iterator"]||u[f(i)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/get-iterator-method");V.exports=function(s){var i=u(s);if(typeof i!="function")throw TypeError(String(s)+" is not iterable");return f(i.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,V,E){(function(f){function u(s){return s&&s.Math==Math&&s}V.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof po<"u"?po:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,V,E){var f={}.hasOwnProperty;V.exports=function(u,s){return f.call(u,s)}},{}],61:[function(t,V,E){V.exports={}},{}],62:[function(t,V,E){var f=t("../internals/global");V.exports=function(u,s){var i=f.console;i&&i.error&&(arguments.length===1?i.error(u):i.error(u,s))}},{"../internals/global":59}],63:[function(t,V,E){t=t("../internals/get-built-in"),V.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/document-create-element");V.exports=!f&&!u(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,V,E){var f=Math.abs,u=Math.pow,s=Math.floor,i=Math.log,p=Math.LN2;V.exports={pack:function(h,r,m){var o,a,c,d=new Array(m),y=8*m-r-1,m=(1<<y)-1,g=m>>1,b=r===23?u(2,-24)-u(2,-77):0,w=h<0||h===0&&1/h<0?1:0,_=0;for((h=f(h))!=h||h===1/0?(a=h!=h?1:0,o=m):(o=s(i(h)/p),h*(c=u(2,-o))<1&&(o--,c*=2),2<=(h+=1<=o+g?b/c:b*u(2,1-g))*c&&(o++,c/=2),m<=o+g?(a=0,o=m):1<=o+g?(a=(h*c-1)*u(2,r),o+=g):(a=h*u(2,g-1)*u(2,r),o=0));8<=r;d[_++]=255&a,a/=256,r-=8);for(o=o<<r|a,y+=r;0<y;d[_++]=255&o,o/=256,y-=8);return d[--_]|=128*w,d},unpack:function(h,r){var n,o=h.length,m=8*o-r-1,a=(1<<m)-1,c=a>>1,d=m-7,y=o-1,m=h[y--],g=127&m;for(m>>=7;0<d;g=256*g+h[y],y--,d-=8);for(n=g&(1<<-d)-1,g>>=-d,d+=r;0<d;n=256*n+h[y],y--,d-=8);if(g===0)g=1-c;else{if(g===a)return n?NaN:m?-1/0:1/0;n+=u(2,r),g-=c}return(m?-1:1)*n*u(2,g-r)}}},{}],66:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/classof-raw"),s="".split;V.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(i){return u(i)=="String"?s.call(i,""):Object(i)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");V.exports=function(s,i,p){return u&&typeof(i=i.constructor)=="function"&&i!==p&&f(i=i.prototype)&&i!==p.prototype&&u(s,i),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(f,V,E){var f=f("../internals/shared-store"),u=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(s){return u.call(s)}),V.exports=f.inspectSource},{"../internals/shared-store":119}],69:[function(t,V,E){function f(d){p(d,n,{value:{objectID:"O"+ ++o,weakData:{}}})}var u=t("../internals/hidden-keys"),s=t("../internals/is-object"),i=t("../internals/has"),p=t("../internals/object-define-property").f,h=t("../internals/uid"),r=t("../internals/freezing"),n=h("meta"),o=0,a=Object.isExtensible||function(){return!0},c=V.exports={REQUIRED:!1,fastKey:function(d,y){if(!s(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!i(d,n)){if(!a(d))return"F";if(!y)return"E";f(d)}return d[n].objectID},getWeakData:function(d,y){if(!i(d,n)){if(!a(d))return!0;if(!y)return!1;f(d)}return d[n].weakData},onFreeze:function(d){return r&&c.REQUIRED&&a(d)&&!i(d,n)&&f(d),d}};u[n]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(m,V,E){var f,u,s,i,p,h,r,n,o=m("../internals/native-weak-map"),g=m("../internals/global"),a=m("../internals/is-object"),c=m("../internals/create-non-enumerable-property"),d=m("../internals/has"),y=m("../internals/shared-key"),m=m("../internals/hidden-keys"),g=g.WeakMap;r=o?(f=new g,u=f.get,s=f.has,i=f.set,p=function(b,w){return i.call(f,b,w),w},h=function(b){return u.call(f,b)||{}},function(b){return s.call(f,b)}):(m[n=y("state")]=!0,p=function(b,w){return c(b,n,w),w},h=function(b){return d(b,n)?b[n]:{}},function(b){return d(b,n)}),V.exports={set:p,get:h,has:r,enforce:function(b){return r(b)?h(b):p(b,{})},getterFor:function(b){return function(w){if(a(w)&&(w=h(w)).type===b)return w;throw TypeError("Incompatible receiver, "+b+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,V,E){var f=t("../internals/well-known-symbol"),u=t("../internals/iterators"),s=f("iterator"),i=Array.prototype;V.exports=function(p){return p!==void 0&&(u.Array===p||i[s]===p)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,V,E){var f=t("../internals/classof-raw");V.exports=Array.isArray||function(u){return f(u)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,V,E){function f(n,o){return(n=p[i(n)])==r||n!=h&&(typeof o=="function"?u(o):!!o)}var u=t("../internals/fails"),s=/#|\.prototype\./,i=f.normalize=function(n){return String(n).replace(s,".").toLowerCase()},p=f.data={},h=f.NATIVE="N",r=f.POLYFILL="P";V.exports=f},{"../internals/fails":51}],74:[function(t,V,E){V.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],75:[function(t,V,E){V.exports=!1},{}],76:[function(t,V,E){var f=t("../internals/is-object"),u=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");V.exports=function(i){var p;return f(i)&&((p=i[s])!==void 0?!!p:u(i)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,V,E){function f(n,o){this.stopped=n,this.result=o}var u=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),i=t("../internals/to-length"),p=t("../internals/function-bind-context"),h=t("../internals/get-iterator-method"),r=t("../internals/call-with-safe-iteration-closing");(V.exports=function(n,o,a,c,d){var y,m,g,b,w,_,S=p(o,a,c?2:1);if(d)y=n;else{if(typeof(o=h(n))!="function")throw TypeError("Target is not iterable");if(s(o)){for(m=0,g=i(n.length);m<g;m++)if((b=c?S(u(_=n[m])[0],_[1]):S(n[m]))&&b instanceof f)return b;return new f(!1)}y=o.call(n)}for(w=y.next;!(_=w.call(y)).done;)if(typeof(b=r(y,S,_.value,c))=="object"&&b&&b instanceof f)return b;return new f(!1)}).stop=function(n){return new f(!0,n)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(h,V,E){var f,u,s=h("../internals/object-get-prototype-of"),i=h("../internals/create-non-enumerable-property"),p=h("../internals/has"),r=h("../internals/well-known-symbol"),h=h("../internals/is-pure"),r=r("iterator"),n=!1;[].keys&&("next"in(u=[].keys())?(s=s(s(u)))!==Object.prototype&&(f=s):n=!0),f==null&&(f={}),h||p(f,r)||i(f,r,function(){return this}),V.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:n}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,V,E){V.exports={}},{}],80:[function(t,V,E){V.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],81:[function(c,V,E){var f,u,s,i,p,h,r,n,o=c("../internals/global"),w=c("../internals/object-get-own-property-descriptor").f,b=c("../internals/classof-raw"),a=c("../internals/task").set,c=c("../internals/engine-is-ios"),d=o.MutationObserver||o.WebKitMutationObserver,y=o.process,m=o.Promise,g=b(y)=="process",b=w(o,"queueMicrotask"),w=b&&b.value;w||(f=function(){var _,S;for(g&&(_=y.domain)&&_.exit();u;){S=u.fn,u=u.next;try{S()}catch(M){throw u?i():s=void 0,M}}s=void 0,_&&_.enter()},i=g?function(){y.nextTick(f)}:d&&!c?(p=!0,h=document.createTextNode(""),new d(f).observe(h,{characterData:!0}),function(){h.data=p=!p}):m&&m.resolve?(r=m.resolve(void 0),n=r.then,function(){n.call(r,f)}):function(){a.call(o,f)}),V.exports=w||function(_){_={fn:_,next:void 0},s&&(s.next=_),u||(u=_,i()),s=_}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,V,E){t=t("../internals/global"),V.exports=t.Promise},{"../internals/global":59}],83:[function(t,V,E){t=t("../internals/fails"),V.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),i=u("iterator");V.exports=!f(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),h=p.searchParams,r="";return p.pathname="c%20d",h.forEach(function(n,o){h.delete("b"),r+=o+n}),s&&!p.toJSON||!h.sort||p.href!=="http://a/c%20d?a=1&c=3"||h.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!h[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(f,V,E){var u=f("../internals/global"),f=f("../internals/inspect-source"),u=u.WeakMap;V.exports=typeof u=="function"&&/native code/.test(f(u))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,V,E){function f(s){var i,p;this.promise=new s(function(h,r){if(i!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");i=h,p=r}),this.resolve=u(i),this.reject=u(p)}var u=t("../internals/a-function");V.exports.f=function(s){return new f(s)}},{"../internals/a-function":5}],87:[function(t,V,E){var f=t("../internals/is-regexp");V.exports=function(u){if(f(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":76}],88:[function(t,V,E){var f=t("../internals/global").isFinite;V.exports=Number.isFinite||function(u){return typeof u=="number"&&f(u)}},{"../internals/global":59}],89:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/fails"),s=t("../internals/object-keys"),i=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),r=t("../internals/indexed-object"),n=Object.assign,o=Object.defineProperty;V.exports=!n||u(function(){var a,c,d,y;return!(!f||n({b:1},n(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(c={},y="abcdefghijklmnopqrst",(a={})[d=Symbol()]=7,y.split("").forEach(function(m){c[m]=m}),n({},a)[d]!=7||s(n({},c)).join("")!=y)})?function(a,c){for(var d=h(a),y=arguments.length,m=1,g=i.f,b=p.f;m<y;)for(var w,_=r(arguments[m++]),S=g?s(_).concat(g(_)):s(_),M=S.length,k=0;k<M;)w=S[k++],f&&!b.call(_,w)||(d[w]=_[w]);return d}:n},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(o,V,E){function f(){}var u,s=o("../internals/an-object"),i=o("../internals/object-define-properties"),p=o("../internals/enum-bug-keys"),h=o("../internals/hidden-keys"),r=o("../internals/html"),n=o("../internals/document-create-element"),o=o("../internals/shared-key"),a="prototype",c="script",d=o("IE_PROTO"),y=function(g){return"<"+c+">"+g+"</"+c+">"},m=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}m=u?((g=u).write(y("")),g.close(),b=g.parentWindow.Object,g=null,b):(g=n("iframe"),b="java"+c+":",g.style.display="none",r.appendChild(g),g.src=String(b),(b=g.contentWindow.document).open(),b.write(y("document.F=Object")),b.close(),b.F);for(var g,b,w=p.length;w--;)delete m[a][p[w]];return m()};h[d]=!0,V.exports=Object.create||function(g,b){var w;return g!==null?(f[a]=s(g),w=new f,f[a]=null,w[d]=g):w=m(),b===void 0?w:i(w,b)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-define-property"),s=t("../internals/an-object"),i=t("../internals/object-keys");V.exports=f?Object.defineProperties:function(p,h){s(p);for(var r,n=i(h),o=n.length,a=0;a<o;)u.f(p,r=n[a++],h[r]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),i=t("../internals/to-primitive"),p=Object.defineProperty;E.f=f?p:function(h,r,n){if(s(h),r=i(r,!0),s(n),u)try{return p(h,r,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(h[r]=n.value),h}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),i=t("../internals/to-indexed-object"),p=t("../internals/to-primitive"),h=t("../internals/has"),r=t("../internals/ie8-dom-define"),n=Object.getOwnPropertyDescriptor;E.f=f?n:function(o,a){if(o=i(o),a=p(a,!0),r)try{return n(o,a)}catch{}if(h(o,a))return s(!u.f.call(o,a),o[a])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,V,E){var f=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,s={}.toString,i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];V.exports.f=function(p){if(!i||s.call(p)!="[object Window]")return u(f(p));try{return u(p)}catch{return i.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,V,E){var f=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");E.f=Object.getOwnPropertyNames||function(s){return f(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,V,E){E.f=Object.getOwnPropertySymbols},{}],97:[function(i,V,E){var f=i("../internals/has"),u=i("../internals/to-object"),s=i("../internals/shared-key"),i=i("../internals/correct-prototype-getter"),p=s("IE_PROTO"),h=Object.prototype;V.exports=i?Object.getPrototypeOf:function(r){return r=u(r),f(r,p)?r[p]:typeof r.constructor=="function"&&r instanceof r.constructor?r.constructor.prototype:r instanceof Object?h:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,V,E){var f=t("../internals/has"),u=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,i=t("../internals/hidden-keys");V.exports=function(p,h){var r,n=u(p),o=0,a=[];for(r in n)!f(i,r)&&f(n,r)&&a.push(r);for(;h.length>o;)!f(n,r=h[o++])||~s(a,r)||a.push(r);return a}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,V,E){var f=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");V.exports=Object.keys||function(s){return f(s,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,V,E){var f={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,s=u&&!f.call({1:2},1);E.f=s?function(i){return i=u(this,i),!!i&&i.enumerable}:f},{}],101:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/a-possible-prototype");V.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,i=!1,p={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),i=p instanceof Array}catch{}return function(h,r){return f(h),u(r),i?s.call(h,r):h.__proto__=r,h}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,V,E){var f=t("../internals/to-string-tag-support"),u=t("../internals/classof");V.exports=f?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,V,E){var f=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),i=t("../internals/an-object");V.exports=f("Reflect","ownKeys")||function(p){var h=u.f(i(p)),r=s.f;return r?h.concat(r(p)):h}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,V,E){t=t("../internals/global"),V.exports=t},{"../internals/global":59}],105:[function(t,V,E){V.exports=function(f){try{return{error:!1,value:f()}}catch(u){return{error:!0,value:u}}}},{}],106:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/is-object"),s=t("../internals/new-promise-capability");V.exports=function(i,p){return f(i),u(p)&&p.constructor===i?p:((0,(i=s.f(i)).resolve)(p),i.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,V,E){var f=t("../internals/redefine");V.exports=function(u,s,i){for(var p in s)f(u,p,s[p],i);return u}},{"../internals/redefine":108}],108:[function(h,V,E){var f=h("../internals/global"),u=h("../internals/create-non-enumerable-property"),s=h("../internals/has"),i=h("../internals/set-global"),p=h("../internals/inspect-source"),h=h("../internals/internal-state"),r=h.get,n=h.enforce,o=String(String).split("String");(V.exports=function(a,c,d,b){var m=!!b&&!!b.unsafe,g=!!b&&!!b.enumerable,b=!!b&&!!b.noTargetGet;typeof d=="function"&&(typeof c!="string"||s(d,"name")||u(d,"name",c),n(d).source=o.join(typeof c=="string"?c:"")),a===f?g?a[c]=d:i(c,d):(m?!b&&a[c]&&(g=!0):delete a[c],g?a[c]=d:u(a,c,d))})(Function.prototype,"toString",function(){return typeof this=="function"&&r(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,V,E){var f=t("./classof-raw"),u=t("./regexp-exec");V.exports=function(s,i){var p=s.exec;if(typeof p=="function"){if(p=p.call(s,i),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(f(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(s,i)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(i,V,E){var f,u,s=i("./regexp-flags"),i=i("./regexp-sticky-helpers"),p=RegExp.prototype.exec,h=String.prototype.replace,r=p,n=(f=/a/,u=/b*/g,p.call(f,"a"),p.call(u,"a"),f.lastIndex!==0||u.lastIndex!==0),o=i.UNSUPPORTED_Y||i.BROKEN_CARET,a=/()??/.exec("")[1]!==void 0;V.exports=r=n||a||o?function(c){var d,y,m,g,b=this,w=o&&b.sticky,_=s.call(b),S=b.source,M=0,k=c;return w&&((_=_.replace("y","")).indexOf("g")===-1&&(_+="g"),k=String(c).slice(b.lastIndex),0<b.lastIndex&&(!b.multiline||b.multiline&&c[b.lastIndex-1]!==`
`)&&(S="(?: "+S+")",k=" "+k,M++),y=new RegExp("^(?:"+S+")",_)),a&&(y=new RegExp("^"+S+"$(?!\\s)",_)),n&&(d=b.lastIndex),m=p.call(w?y:b,k),w?m?(m.input=m.input.slice(M),m[0]=m[0].slice(M),m.index=b.lastIndex,b.lastIndex+=m[0].length):b.lastIndex=0:n&&m&&(b.lastIndex=b.global?m.index+m[0].length:d),a&&m&&1<m.length&&h.call(m[0],y,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(m[g]=void 0)}),m}:r},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,V,E){var f=t("../internals/an-object");V.exports=function(){var u=f(this),s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),u.dotAll&&(s+="s"),u.unicode&&(s+="u"),u.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(t,V,E){t=t("./fails");function f(u,s){return RegExp(u,s)}E.UNSUPPORTED_Y=t(function(){var u=f("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),E.BROKEN_CARET=t(function(){var u=f("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],113:[function(t,V,E){V.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],114:[function(t,V,E){V.exports=Object.is||function(f,u){return f===u?f!==0||1/f==1/u:f!=f&&u!=u}},{}],115:[function(t,V,E){var f=t("../internals/global"),u=t("../internals/create-non-enumerable-property");V.exports=function(s,i){try{u(f,s,i)}catch{f[s]=i}return i}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,V,E){var f=t("../internals/get-built-in"),u=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),i=t("../internals/descriptors"),p=s("species");V.exports=function(r){var r=f(r),n=u.f;i&&r&&!r[p]&&n(r,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,V,E){var f=t("../internals/object-define-property").f,u=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");V.exports=function(i,p,h){i&&!u(i=h?i:i.prototype,s)&&f(i,s,{configurable:!0,value:p})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,V,E){var f=t("../internals/shared"),u=t("../internals/uid"),s=f("keys");V.exports=function(i){return s[i]||(s[i]=u(i))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(f,V,E){var s=f("../internals/global"),f=f("../internals/set-global"),u="__core-js_shared__",s=s[u]||f(u,{});V.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,V,E){var f=t("../internals/is-pure"),u=t("../internals/shared-store");(V.exports=function(s,i){return u[s]||(u[s]=i!==void 0?i:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,V,E){var f=t("../internals/an-object"),u=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");V.exports=function(h,p){var h=f(h).constructor;return h===void 0||(h=f(h)[s])==null?p:u(h)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,V,E){var f=t("../internals/fails");V.exports=function(u){return f(function(){var s=""[u]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(t,V,E){function f(i){return function(n,o){var r,n=String(s(n)),o=u(o),a=n.length;return o<0||a<=o?i?"":void 0:(r=n.charCodeAt(o))<55296||56319<r||o+1===a||(a=n.charCodeAt(o+1))<56320||57343<a?i?n.charAt(o):r:i?n.slice(o,o+2):a-56320+(r-55296<<10)+65536}}var u=t("../internals/to-integer"),s=t("../internals/require-object-coercible");V.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,V,E){t=t("../internals/engine-user-agent"),V.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,V,E){function f(h){return function(a,y,d){var a=String(i(a)),c=a.length,d=d===void 0?" ":String(d),y=u(y);return y<=c||d==""?a:((c=s.call(d,p((y=y-c)/d.length))).length>y&&(c=c.slice(0,y)),h?a+c:c+a)}}var u=t("../internals/to-length"),s=t("../internals/string-repeat"),i=t("../internals/require-object-coercible"),p=Math.ceil;V.exports={start:f(!1),end:f(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,V,E){function f(m){return m+22+75*(m<26)}function u(m){var g,b=[],w=(m=function(Y){for(var Z=[],G=0,C=Y.length;G<C;){var L,D=Y.charCodeAt(G++);55296<=D&&D<=56319&&G<C?(64512&(L=Y.charCodeAt(G++)))==56320?Z.push(((1023&D)<<10)+(1023&L)+65536):(Z.push(D),G--):Z.push(D)}return Z}(m)).length,_=128,S=0,M=72;for(O=0;O<m.length;O++)(g=m[O])<128&&b.push(y(g));var k=b.length,T=k;for(k&&b.push("-");T<w;){for(var A=s,O=0;O<m.length;O++)_<=(g=m[O])&&g<A&&(A=g);var R=T+1;if(A-_>d((s-S)/R))throw RangeError(a);for(S+=(A-_)*R,_=A,O=0;O<m.length;O++){if((g=m[O])<_&&++S>s)throw RangeError(a);if(g==_){for(var U=S,B=i;;B+=i){var W=B<=M?1:M+p<=B?p:B-M;if(U<W)break;var N=U-W,z=i-W;b.push(y(f(W+N%z))),U=d(N/z)}b.push(y(f(U))),M=function(Y,Z,G){var C=0;for(Y=G?d(Y/r):Y>>1,Y+=d(Y/Z);c*p>>1<Y;C+=i)Y=d(Y/c);return d(C+(c+1)*Y/(Y+h))}(S,R,T==k),S=0,++T}}++S,++_}return b.join("")}var s=2147483647,i=36,p=26,h=38,r=700,n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=i-1,d=Math.floor,y=String.fromCharCode;V.exports=function(m){for(var g,b=[],w=m.toLowerCase().replace(o,".").split("."),_=0;_<w.length;_++)g=w[_],b.push(n.test(g)?"xn--"+u(g):g);return b.join(".")}},{}],127:[function(t,V,E){var f=t("../internals/to-integer"),u=t("../internals/require-object-coercible");V.exports="".repeat||function(s){var i=String(u(this)),p="",h=f(s);if(h<0||h==1/0)throw RangeError("Wrong number of repetitions");for(;0<h;(h>>>=1)&&(i+=i))1&h&&(p+=i);return p}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,V,E){var f=t("../internals/fails"),u=t("../internals/whitespaces");V.exports=function(s){return f(function(){return!!u[s]()||""[s]()!=""||u[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(s,V,E){function f(h){return function(r){return r=String(u(r)),1&h&&(r=r.replace(i,"")),r=2&h?r.replace(p,""):r}}var u=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",i=RegExp("^"+s+s+"*"),p=RegExp(s+s+"*$");V.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(c,V,E){function f(T){return function(){k(T)}}function u(T){k(T.data)}function s(T){p.postMessage(T+"",d.protocol+"//"+d.host)}var i,p=c("../internals/global"),h=c("../internals/fails"),r=c("../internals/classof-raw"),n=c("../internals/function-bind-context"),o=c("../internals/html"),a=c("../internals/document-create-element"),c=c("../internals/engine-is-ios"),d=p.location,y=p.setImmediate,m=p.clearImmediate,g=p.process,b=p.MessageChannel,w=p.Dispatch,_=0,S={},M="onreadystatechange",k=function(T){var A;S.hasOwnProperty(T)&&(A=S[T],delete S[T],A())};y&&m||(y=function(T){for(var A=[],O=1;O<arguments.length;)A.push(arguments[O++]);return S[++_]=function(){(typeof T=="function"?T:Function(T)).apply(void 0,A)},i(_),_},m=function(T){delete S[T]},r(g)=="process"?i=function(T){g.nextTick(f(T))}:w&&w.now?i=function(T){w.now(f(T))}:b&&!c?(c=(r=new b).port2,r.port1.onmessage=u,i=n(c.postMessage,c,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||h(s)||d.protocol==="file:"?i=M in a("script")?function(T){o.appendChild(a("script"))[M]=function(){o.removeChild(this),k(T)}}:function(T){setTimeout(f(T),0)}:(i=s,p.addEventListener("message",u,!1))),V.exports={set:y,clear:m}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,V,E){var f=t("../internals/classof-raw");V.exports=function(u){if(typeof u!="number"&&f(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],132:[function(t,V,E){var f=t("../internals/to-integer"),u=Math.max,s=Math.min;V.exports=function(i,p){return i=f(i),i<0?u(i+p,0):s(i,p)}},{"../internals/to-integer":135}],133:[function(t,V,E){var f=t("../internals/to-integer"),u=t("../internals/to-length");V.exports=function(i){if(i===void 0)return 0;var i=f(i),p=u(i);if(i!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,V,E){var f=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");V.exports=function(s){return f(u(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,V,E){var f=Math.ceil,u=Math.floor;V.exports=function(s){return isNaN(s=+s)?0:(0<s?u:f)(s)}},{}],136:[function(t,V,E){var f=t("../internals/to-integer"),u=Math.min;V.exports=function(s){return 0<s?u(f(s),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,V,E){var f=t("../internals/require-object-coercible");V.exports=function(u){return Object(f(u))}},{"../internals/require-object-coercible":113}],138:[function(t,V,E){var f=t("../internals/to-positive-integer");V.exports=function(u,s){if(u=f(u),u%s)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":139}],139:[function(t,V,E){var f=t("../internals/to-integer");V.exports=function(u){if(u=f(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":135}],140:[function(t,V,E){var f=t("../internals/is-object");V.exports=function(u,s){if(!f(u))return u;var i,p;if(s&&typeof(i=u.toString)=="function"&&!f(p=i.call(u))||typeof(i=u.valueOf)=="function"&&!f(p=i.call(u))||!s&&typeof(i=u.toString)=="function"&&!f(p=i.call(u)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,V,E){var f={};f[t("../internals/well-known-symbol")("toStringTag")]="z",V.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,V,E){function f(he,xe){for(var Te=0,Ae=xe.length,Ee=new(Q(he))(Ae);Te<Ae;)Ee[Te]=xe[Te++];return Ee}function u(he,xe){L(he,xe,{get:function(){return G(this)[xe]}})}function s(he){return he instanceof te||(he=k(he))=="ArrayBuffer"||he=="SharedArrayBuffer"}function i(he,xe){return ie(he)&&typeof xe!="symbol"&&xe in he&&String(+xe)==String(xe)}function p(he,xe){return i(he,xe=S(xe,!0))?m(2,he[xe]):D(he,xe)}function h(he,xe,Te){return!(i(he,xe=S(xe,!0))&&T(Te)&&M(Te,"value"))||M(Te,"get")||M(Te,"set")||Te.configurable||M(Te,"writable")&&!Te.writable||M(Te,"enumerable")&&!Te.enumerable?L(he,xe,Te):(he[xe]=Te.value,he)}var r=t("../internals/export"),n=t("../internals/global"),o=t("../internals/descriptors"),a=t("../internals/typed-array-constructors-require-wrappers"),c=t("../internals/array-buffer-view-core"),d=t("../internals/array-buffer"),y=t("../internals/an-instance"),m=t("../internals/create-property-descriptor"),g=t("../internals/create-non-enumerable-property"),b=t("../internals/to-length"),w=t("../internals/to-index"),_=t("../internals/to-offset"),S=t("../internals/to-primitive"),M=t("../internals/has"),k=t("../internals/classof"),T=t("../internals/is-object"),A=t("../internals/object-create"),O=t("../internals/object-set-prototype-of"),R=t("../internals/object-get-own-property-names").f,U=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,W=t("../internals/set-species"),N=t("../internals/object-define-property"),z=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),Z=t("../internals/inherit-if-required"),G=Y.get,C=Y.set,L=N.f,D=z.f,q=Math.round,J=n.RangeError,te=d.ArrayBuffer,se=d.DataView,ce=c.NATIVE_ARRAY_BUFFER_VIEWS,ne=c.TYPED_ARRAY_TAG,ae=c.TypedArray,de=c.TypedArrayPrototype,Q=c.aTypedArrayConstructor,ie=c.isTypedArray,me="BYTES_PER_ELEMENT",ve="Wrong length";o?(ce||(z.f=p,N.f=h,u(de,"buffer"),u(de,"byteOffset"),u(de,"byteLength"),u(de,"length")),r({target:"Object",stat:!0,forced:!ce},{getOwnPropertyDescriptor:p,defineProperty:h}),V.exports=function(ye,xe,Te){function Ae(je,X){L(je,X,{get:function(){var $=this,H=X;return($=G($)).view[Be](H*Ee+$.byteOffset,!0)},set:function($){var H=this,ee=X;H=G(H),Te&&($=($=q($))<0?0:255<$?255:255&$),H.view[Ne](ee*Ee+H.byteOffset,$,!0)},enumerable:!0})}var Ee=ye.match(/\d+$/)[0]/8,ze=ye+(Te?"Clamped":"")+"Array",Be="get"+ye,Ne="set"+ye,Xe=n[ze],Ve=Xe,ye=Ve&&Ve.prototype,Oe={};ce?a&&(Ve=xe(function(je,X,$,H){return y(je,Ve,ze),Z(T(X)?s(X)?H!==void 0?new Xe(X,_($,Ee),H):$!==void 0?new Xe(X,_($,Ee)):new Xe(X):ie(X)?f(Ve,X):U.call(Ve,X):new Xe(w(X)),je,Ve)}),O&&O(Ve,ae),B(R(Xe),function(je){je in Ve||g(Ve,je,Xe[je])}),Ve.prototype=ye):(Ve=xe(function(je,X,$,H){y(je,Ve,ze);var ee,fe,be=0,Ce=0;if(T(X)){if(!s(X))return ie(X)?f(Ve,X):U.call(Ve,X);var Ie=X,Ce=_($,Ee),$=X.byteLength;if(H===void 0){if($%Ee||(ee=$-Ce)<0)throw J(ve)}else if($<(ee=b(H)*Ee)+Ce)throw J(ve);fe=ee/Ee}else fe=w(X),Ie=new te(ee=fe*Ee);for(C(je,{buffer:Ie,byteOffset:Ce,byteLength:ee,length:fe,view:new se(Ie)});be<fe;)Ae(je,be++)}),O&&O(Ve,ae),ye=Ve.prototype=A(de)),ye.constructor!==Ve&&g(ye,"constructor",Ve),ne&&g(ye,ne,ze),Oe[ze]=Ve,r({global:!0,forced:Ve!=Xe,sham:!ce},Oe),me in Ve||g(Ve,me,Ee),me in ye||g(ye,me,Ee),W(ze)}):V.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(i,V,E){var f=i("../internals/global"),u=i("../internals/fails"),s=i("../internals/check-correctness-of-iteration"),i=i("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=f.ArrayBuffer,h=f.Int8Array;V.exports=!i||!u(function(){h(1)})||!u(function(){new h(-1)})||!s(function(r){new h,new h(null),new h(1.5),new h(r)},!0)||u(function(){return new h(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,V,E){var f=t("../internals/to-object"),u=t("../internals/to-length"),s=t("../internals/get-iterator-method"),i=t("../internals/is-array-iterator-method"),p=t("../internals/function-bind-context"),h=t("../internals/array-buffer-view-core").aTypedArrayConstructor;V.exports=function(r){var n,o,a,c,d,y,m=f(r),g=arguments.length,b=1<g?arguments[1]:void 0,w=b!==void 0,_=s(m);if(_!=null&&!i(_))for(y=(d=_.call(m)).next,m=[];!(c=y.call(d)).done;)m.push(c.value);for(w&&2<g&&(b=p(b,arguments[2],2)),o=u(m.length),a=new(h(this))(o),n=0;n<o;n++)a[n]=w?b(m[n],n):m[n];return a}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,V,E){var f=0,u=Math.random();V.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++f+u).toString(36)}},{}],146:[function(t,V,E){t=t("../internals/native-symbol"),V.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,V,E){t=t("../internals/well-known-symbol"),E.f=t},{"../internals/well-known-symbol":148}],148:[function(h,V,E){var f=h("../internals/global"),u=h("../internals/shared"),s=h("../internals/has"),i=h("../internals/uid"),p=h("../internals/native-symbol"),h=h("../internals/use-symbol-as-uid"),r=u("wks"),n=f.Symbol,o=h?n:n&&n.withoutSetter||i;V.exports=function(a){return s(r,a)||(p&&s(n,a)?r[a]=n[a]:r[a]=o("Symbol."+a)),r[a]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,V,E){V.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/global"),p=s("../internals/array-buffer"),s=s("../internals/set-species"),i="ArrayBuffer",p=p[i];f({global:!0,forced:u[i]!==p},{ArrayBuffer:p}),s(i)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(m,V,E){var f=m("../internals/export"),u=m("../internals/fails"),s=m("../internals/is-array"),i=m("../internals/is-object"),p=m("../internals/to-object"),h=m("../internals/to-length"),r=m("../internals/create-property"),n=m("../internals/array-species-create"),o=m("../internals/array-method-has-species-support"),y=m("../internals/well-known-symbol"),m=m("../internals/engine-v8-version"),a=y("isConcatSpreadable"),c=9007199254740991,d="Maximum allowed index exceeded",y=51<=m||!u(function(){var g=[];return g[a]=!1,g.concat()[0]!==g}),m=o("concat");f({target:"Array",proto:!0,forced:!y||!m},{concat:function(g){for(var b,w,_,S,M,k=p(this),T=n(k,0),A=0,O=-1,R=arguments.length;O<R;O++)if(M=void 0,!i(S=_=O===-1?k:arguments[O])||((M=S[a])!==void 0?!M:!s(S))){if(c<=A)throw TypeError(d);r(T,A++,_)}else{if(w=h(_.length),c<A+w)throw TypeError(d);for(b=0;b<w;b++,A++)b in _&&r(T,A,_[b])}return T.length=A,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");f({target:"Array",proto:!0},{copyWithin:u}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").every,s=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),s=s("every"),i=i("every");f({target:"Array",proto:!0,forced:!s||!i},{every:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:u}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").filter,s=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),s=s("filter"),i=i("filter");f({target:"Array",proto:!0,forced:!s||!i},{filter:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/array-iteration").findIndex,s=h("../internals/add-to-unscopables"),h=h("../internals/array-method-uses-to-length"),i="findIndex",p=!0,h=h(i);i in[]&&Array(1)[i](function(){p=!1}),f({target:"Array",proto:!0,forced:p||!h},{findIndex:function(r){return u(this,r,1<arguments.length?arguments[1]:void 0)}}),s(i)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/array-from");f({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(i){return u(this,i,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/array-includes").indexOf,p=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),s=[].indexOf,i=!!s&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:i||!p||!h},{indexOf:function(r){return i?s.apply(this,arguments)||0:u(this,r,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(p,V,E){var f=p("../internals/to-indexed-object"),u=p("../internals/add-to-unscopables"),s=p("../internals/iterators"),i=p("../internals/internal-state"),p=p("../internals/define-iterator"),h="Array Iterator",r=i.set,n=i.getterFor(h);V.exports=p(Array,"Array",function(o,a){r(this,{type:h,target:f(o),index:0,kind:a})},function(){var o=n(this),a=o.target,c=o.kind,d=o.index++;return!a||d>=a.length?{value:o.target=void 0,done:!0}:c=="keys"?{value:d,done:!1}:c=="values"?{value:a[d],done:!1}:{value:[d,a[d]],done:!1}},"values"),s.Arguments=s.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(p,V,E){var f=p("../internals/export"),i=p("../internals/indexed-object"),u=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),s=[].join,i=i!=Object,p=p("join",",");f({target:"Array",proto:!0,forced:i||!p},{join:function(h){return s.call(u(this),h===void 0?",":h)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").map,s=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),s=s("map"),i=i("map");f({target:"Array",proto:!0,forced:!s||!i},{map:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(a,V,E){var f=a("../internals/export"),u=a("../internals/is-object"),s=a("../internals/is-array"),i=a("../internals/to-absolute-index"),p=a("../internals/to-length"),h=a("../internals/to-indexed-object"),r=a("../internals/create-property"),n=a("../internals/well-known-symbol"),o=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),o=o("slice"),a=a("slice",{ACCESSORS:!0,0:0,1:2}),c=n("species"),d=[].slice,y=Math.max;f({target:"Array",proto:!0,forced:!o||!a},{slice:function(m,g){var b,w,_,S=h(this),M=p(S.length),k=i(m,M),T=i(g===void 0?M:g,M);if(s(S)&&((b=typeof(b=S.constructor)=="function"&&(b===Array||s(b.prototype))||u(b)&&(b=b[c])===null?void 0:b)===Array||b===void 0))return d.call(S,k,T);for(w=new(b===void 0?Array:b)(y(T-k,0)),_=0;k<T;k++,_++)k in S&&r(w,_,S[k]);return w.length=_,w}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(i,V,E){var f=i("../internals/export"),u=i("../internals/array-iteration").some,s=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),s=s("some"),i=i("some");f({target:"Array",proto:!0,forced:!s||!i},{some:function(p){return u(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(o,V,E){var f=o("../internals/export"),u=o("../internals/to-absolute-index"),s=o("../internals/to-integer"),i=o("../internals/to-length"),p=o("../internals/to-object"),h=o("../internals/array-species-create"),r=o("../internals/create-property"),n=o("../internals/array-method-has-species-support"),o=o("../internals/array-method-uses-to-length"),n=n("splice"),o=o("splice",{ACCESSORS:!0,0:0,1:2}),a=Math.max,c=Math.min;f({target:"Array",proto:!0,forced:!n||!o},{splice:function(A,y){var m,g,b,w,_,S,M=p(this),k=i(M.length),T=u(A,k),A=arguments.length;if(A===0?m=g=0:g=A===1?(m=0,k-T):(m=A-2,c(a(s(y),0),k-T)),9007199254740991<k+m-g)throw TypeError("Maximum allowed length exceeded");for(b=h(M,g),w=0;w<g;w++)(_=T+w)in M&&r(b,w,M[_]);if(m<(b.length=g)){for(w=T;w<k-g;w++)S=w+m,(_=w+g)in M?M[S]=M[_]:delete M[S];for(w=k;k-g+m<w;w--)delete M[w-1]}else if(g<m)for(w=k-g;T<w;w--)S=w+m-1,(_=w+g-1)in M?M[S]=M[_]:delete M[S];for(w=0;w<m;w++)M[w+T]=arguments[w+2];return M.length=k-g+m,b}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(u,V,E){var f=u("../internals/descriptors"),u=u("../internals/object-define-property").f,s=Function.prototype,i=s.toString,p=/^\s*function ([^ (]*)/;!f||"name"in s||u(s,"name",{configurable:!0,get:function(){try{return i.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(u,V,E){var f=u("../internals/collection"),u=u("../internals/collection-strong");V.exports=f("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(f,V,E){var f=f("../internals/export"),u=Math.hypot,s=Math.abs,i=Math.sqrt;f({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(p,h){for(var r,n,o=0,a=0,c=arguments.length,d=0;a<c;)d<(r=s(arguments[a++]))?(o=o*(n=d/r)*n+1,d=r):o+=0<r?(n=r/d)*n:r;return d===1/0?1/0:d*i(o)}})},{"../internals/export":50}],171:[function(f,V,E){var f=f("../internals/export"),u=Math.log,s=Math.LN2;f({target:"Math",stat:!0},{log2:function(i){return u(i)/s}})},{"../internals/export":50}],172:[function(t,V,E){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(t,V,E){function f(O){var R,U,B,W,N,z,Y,Z=o(O,!1);if(typeof Z=="string"&&2<Z.length){if((O=(Z=g(Z)).charCodeAt(0))===43||O===45){if((R=Z.charCodeAt(2))===88||R===120)return NaN}else if(O===48){switch(Z.charCodeAt(1)){case 66:case 98:U=2,B=49;break;case 79:case 111:U=8,B=55;break;default:return+Z}for(N=(W=Z.slice(2)).length,z=0;z<N;z++)if((Y=W.charCodeAt(z))<48||B<Y)return NaN;return parseInt(W,U)}}return+Z}var u=t("../internals/descriptors"),s=t("../internals/global"),i=t("../internals/is-forced"),p=t("../internals/redefine"),h=t("../internals/has"),r=t("../internals/classof-raw"),n=t("../internals/inherit-if-required"),o=t("../internals/to-primitive"),a=t("../internals/fails"),c=t("../internals/object-create"),d=t("../internals/object-get-own-property-names").f,y=t("../internals/object-get-own-property-descriptor").f,m=t("../internals/object-define-property").f,g=t("../internals/string-trim").trim,b="Number",w=s[b],_=w.prototype,S=r(c(_))==b;if(i(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var M,k=function(R){var R=arguments.length<1?0:R,U=this;return U instanceof k&&(S?a(function(){_.valueOf.call(U)}):r(U)!=b)?n(new w(f(R)),U,k):f(R)},T=u?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;T.length>A;A++)h(w,M=T[A])&&!h(k,M)&&m(k,M,y(w,M));(k.prototype=_).constructor=k,p(s,b,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(t,V,E){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(h,V,E){function f(o,a,c){return a===0?c:a%2==1?f(o,a-1,c*o):f(o*o,a/2,c)}var u=h("../internals/export"),s=h("../internals/to-integer"),i=h("../internals/this-number-value"),p=h("../internals/string-repeat"),h=h("../internals/fails"),r=1 .toFixed,n=Math.floor;u({target:"Number",proto:!0,forced:r&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!h(function(){r.call({})})},{toFixed:function(b){function a(M,k){for(var T=-1,A=k;++T<6;)A+=M*w[T],w[T]=A%1e7,A=n(A/1e7)}function c(M){for(var k=6,T=0;0<=--k;)T+=w[k],w[k]=n(T/M),T=T%M*1e7}function d(){for(var M,k=6,T="";0<=--k;)T===""&&k!==0&&w[k]===0||(M=String(w[k]),T=T===""?M:T+p.call("0",7-M.length)+M);return T}var y,m,g=i(this),b=s(b),w=[0,0,0,0,0,0],_="",S="0";if(b<0||20<b)throw RangeError("Incorrect fraction digits");if(g!=g)return"NaN";if(g<=-1e21||1e21<=g)return String(g);if(g<0&&(_="-",g=-g),1e-21<g)if(g=(y=function(M){for(var k=0,T=M;4096<=T;)k+=12,T/=4096;for(;2<=T;)k+=1,T/=2;return k}(g*f(2,69,1))-69)<0?g*f(2,-y,1):g/f(2,y,1),g*=4503599627370496,0<(y=52-y)){for(a(0,g),m=b;7<=m;)a(1e7,0),m-=7;for(a(f(10,m,1),0),m=y-1;23<=m;)c(1<<23),m-=23;c(1<<m),a(1,1),c(2),S=d()}else a(0,g),a(1<<-y,0),S=d()+p.call("0",b);return S=0<b?_+((g=S.length)<=b?"0."+p.call("0",b-g)+S:S.slice(0,g-b)+"."+S.slice(g-b)):_+S}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/iterate"),s=t("../internals/create-property");f({target:"Object",stat:!0},{fromEntries:function(i){var p={};return u(i,function(h,r){s(p,h,r)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(i,V,E){var f=i("../internals/export"),p=i("../internals/fails"),u=i("../internals/to-indexed-object"),s=i("../internals/object-get-own-property-descriptor").f,i=i("../internals/descriptors"),p=p(function(){s(1)});f({target:"Object",stat:!0,forced:!i||p,sham:!i},{getOwnPropertyDescriptor:function(h,r){return s(u(h),r)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(s,V,E){var f=s("../internals/export"),u=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(p,V,E){var f=p("../internals/export"),u=p("../internals/fails"),s=p("../internals/to-object"),i=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:u(function(){i(1)}),sham:!p},{getPrototypeOf:function(h){return i(s(h))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/to-object"),s=t("../internals/object-keys");f({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(i){return s(u(i))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(s,V,E){var f=s("../internals/to-string-tag-support"),u=s("../internals/redefine"),s=s("../internals/object-to-string");f||u(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(Te,V,E){var f,u,s,i,p=Te("../internals/export"),h=Te("../internals/is-pure"),r=Te("../internals/global"),n=Te("../internals/get-built-in"),o=Te("../internals/native-promise-constructor"),a=Te("../internals/redefine"),c=Te("../internals/redefine-all"),d=Te("../internals/set-to-string-tag"),y=Te("../internals/set-species"),m=Te("../internals/is-object"),g=Te("../internals/a-function"),b=Te("../internals/an-instance"),w=Te("../internals/classof-raw"),_=Te("../internals/inspect-source"),S=Te("../internals/iterate"),M=Te("../internals/check-correctness-of-iteration"),k=Te("../internals/species-constructor"),T=Te("../internals/task").set,A=Te("../internals/microtask"),O=Te("../internals/promise-resolve"),R=Te("../internals/host-report-errors"),U=Te("../internals/new-promise-capability"),B=Te("../internals/perform"),W=Te("../internals/internal-state"),N=Te("../internals/is-forced"),Ae=Te("../internals/well-known-symbol"),z=Te("../internals/engine-v8-version"),Y=Ae("species"),Z="Promise",G=W.get,C=W.set,L=W.getterFor(Z),D=o,q=r.TypeError,J=r.document,te=r.process,se=n("fetch"),ce=U.f,ne=ce,ae=w(te)=="process",de=!!(J&&J.createEvent&&r.dispatchEvent),Q="unhandledrejection",ie="rejectionhandled",me=1,ve=2,he=1,xe=2,Te=N(Z,function(){var Oe,je;return _(D)===String(D)&&(z===66||!ae&&typeof PromiseRejectionEvent!="function")?!0:!(!h||D.prototype.finally)||!(51<=z&&/native code/.test(D))&&(je=function(X){X(function(){},function(){})},((Oe=D.resolve(1)).constructor={})[Y]=je,!(Oe.then(function(){})instanceof je))}),Ae=Te||!M(function(Oe){D.all(Oe).catch(function(){})}),Ee=function(Oe){var je;return!(!m(Oe)||typeof(je=Oe.then)!="function")&&je},ze=function(Oe,je,X){var $;je.notified||(je.notified=!0,$=je.reactions,A(function(){for(var H,ee,fe=je.value,be=je.state==me,Ce=0;$.length>Ce;){var Ie,Ue,Fe,We=$[Ce++],rt=be?We.ok:We.fail,et=We.resolve,Ze=We.reject,tt=We.domain;try{rt?(be||(je.rejection===xe&&function(Qe,mt){T.call(r,function(){ae?te.emit("rejectionHandled",Qe):Be(ie,Qe,mt.value)})}(Oe,je),je.rejection=he),rt===!0?Ie=fe:(tt&&tt.enter(),Ie=rt(fe),tt&&(tt.exit(),Fe=!0)),Ie===We.promise?Ze(q("Promise-chain cycle")):(Ue=Ee(Ie))?Ue.call(Ie,et,Ze):et(Ie)):Ze(fe)}catch(Qe){tt&&!Fe&&tt.exit(),Ze(Qe)}}je.reactions=[],je.notified=!1,X&&!je.rejection&&(H=Oe,ee=je,T.call(r,function(){var Qe=ee.value,mt=Ne(ee);if(mt&&(mt=B(function(){ae?te.emit("unhandledRejection",Qe,H):Be(Q,H,Qe)}),ee.rejection=ae||Ne(ee)?xe:he,mt.error))throw mt.value}))}))},Be=function(Oe,je,X){var $;de?(($=J.createEvent("Event")).promise=je,$.reason=X,$.initEvent(Oe,!1,!0),r.dispatchEvent($)):$={promise:je,reason:X},(je=r["on"+Oe])?je($):Oe===Q&&R("Unhandled promise rejection",X)},Ne=function(Oe){return Oe.rejection!==he&&!Oe.parent},Xe=function(Oe,je,X,$){return function(H){Oe(je,X,H,$)}},Ve=function(Oe,je,X,$){je.done||(je.done=!0,(je=$||je).value=X,je.state=ve,ze(Oe,je,!0))},ye=function(Oe,je,X,$){if(!je.done){je.done=!0,$&&(je=$);try{if(Oe===X)throw q("Promise can't be resolved itself");var H=Ee(X);H?A(function(){var ee={done:!1};try{H.call(X,Xe(ye,Oe,ee,je),Xe(Ve,Oe,ee,je))}catch(fe){Ve(Oe,ee,fe,je)}}):(je.value=X,je.state=me,ze(Oe,je,!1))}catch(ee){Ve(Oe,{done:!1},ee,je)}}};Te&&(D=function(Oe){b(this,D,Z),g(Oe),f.call(this);var je=G(this);try{Oe(Xe(ye,this,je),Xe(Ve,this,je))}catch(X){Ve(this,je,X)}},(f=function(Oe){C(this,{type:Z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(D.prototype,{then:function(Oe,je){var X=L(this),$=ce(k(this,D));return $.ok=typeof Oe!="function"||Oe,$.fail=typeof je=="function"&&je,$.domain=ae?te.domain:void 0,X.parent=!0,X.reactions.push($),X.state!=0&&ze(this,X,!1),$.promise},catch:function(Oe){return this.then(void 0,Oe)}}),u=function(){var Oe=new f,je=G(Oe);this.promise=Oe,this.resolve=Xe(ye,Oe,je),this.reject=Xe(Ve,Oe,je)},U.f=ce=function(Oe){return Oe===D||Oe===s?new u:ne(Oe)},h||typeof o!="function"||(i=o.prototype.then,a(o.prototype,"then",function(Oe,je){var X=this;return new D(function($,H){i.call(X,$,H)}).then(Oe,je)},{unsafe:!0}),typeof se=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Oe){return O(D,se.apply(r,arguments))}}))),p({global:!0,wrap:!0,forced:Te},{Promise:D}),d(D,Z,!1,!0),y(Z),s=n(Z),p({target:Z,stat:!0,forced:Te},{reject:function(Oe){var je=ce(this);return je.reject.call(void 0,Oe),je.promise}}),p({target:Z,stat:!0,forced:h||Te},{resolve:function(Oe){return O(h&&this===s?D:this,Oe)}}),p({target:Z,stat:!0,forced:Ae},{all:function(Oe){var je=this,X=ce(je),$=X.resolve,H=X.reject,ee=B(function(){var fe=g(je.resolve),be=[],Ce=0,Ie=1;S(Oe,function(Ue){var Fe=Ce++,We=!1;be.push(void 0),Ie++,fe.call(je,Ue).then(function(rt){We||(We=!0,be[Fe]=rt,--Ie||$(be))},H)}),--Ie||$(be)});return ee.error&&H(ee.value),X.promise},race:function(Oe){var je=this,X=ce(je),$=X.reject,H=B(function(){var ee=g(je.resolve);S(Oe,function(fe){ee.call(je,fe).then(X.resolve,$)})});return H.error&&$(H.value),X.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(r,V,E){var f=r("../internals/export"),c=r("../internals/get-built-in"),u=r("../internals/a-function"),s=r("../internals/an-object"),i=r("../internals/is-object"),p=r("../internals/object-create"),h=r("../internals/function-bind"),r=r("../internals/fails"),n=c("Reflect","construct"),o=r(function(){function d(){}return!(n(function(){},[],d)instanceof d)}),a=!r(function(){n(function(){})}),c=o||a;f({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(d,y){u(d),s(y);var m=arguments.length<3?d:u(arguments[2]);if(a&&!o)return n(d,y,m);if(d==m){switch(y.length){case 0:return new d;case 1:return new d(y[0]);case 2:return new d(y[0],y[1]);case 3:return new d(y[0],y[1],y[2]);case 4:return new d(y[0],y[1],y[2],y[3])}var g=[null];return g.push.apply(g,y),new(h.apply(d,g))}return g=m.prototype,m=p(i(g)?g:Object.prototype),g=Function.apply.call(d,m,y),i(g)?g:m}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/is-object"),s=t("../internals/an-object"),i=t("../internals/has"),p=t("../internals/object-get-own-property-descriptor"),h=t("../internals/object-get-prototype-of");f({target:"Reflect",stat:!0},{get:function r(n,o){var a,c=arguments.length<3?n:arguments[2];return s(n)===c?n[o]:(a=p.f(n,o))?i(a,"value")?a.value:a.get===void 0?void 0:a.get.call(c):u(a=h(n))?r(a,o,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(t,V,E){var f=t("../internals/descriptors"),u=t("../internals/global"),s=t("../internals/is-forced"),i=t("../internals/inherit-if-required"),p=t("../internals/object-define-property").f,h=t("../internals/object-get-own-property-names").f,r=t("../internals/is-regexp"),n=t("../internals/regexp-flags"),o=t("../internals/regexp-sticky-helpers"),a=t("../internals/redefine"),c=t("../internals/fails"),d=t("../internals/internal-state").set,y=t("../internals/set-species"),m=t("../internals/well-known-symbol")("match"),g=u.RegExp,b=g.prototype,w=/a/g,_=/a/g,S=new g(w)!==w,M=o.UNSUPPORTED_Y;if(f&&s("RegExp",!S||M||c(function(){return _[m]=!1,g(w)!=w||g(_)==_||g(w,"i")!="/a/i"}))){for(var k=function(O,R){var U,B=this instanceof k,W=r(O),N=R===void 0;return!B&&W&&O.constructor===k&&N?O:(S?W&&!N&&(O=O.source):O instanceof k&&(N&&(R=n.call(O)),O=O.source),M&&(U=!!R&&-1<R.indexOf("y"))&&(R=R.replace(/y/g,"")),W=i(S?new g(O,R):g(O,R),B?this:b,k),M&&U&&d(W,{sticky:U}),W)},T=h(g),A=0;T.length>A;)(function(O){O in k||p(k,O,{configurable:!0,get:function(){return g[O]},set:function(R){g[O]=R}})})(T[A++]);(b.constructor=k).prototype=b,a(u,"RegExp",k)}y("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(u,V,E){var f=u("../internals/export"),u=u("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(i,V,E){var f=i("../internals/redefine"),u=i("../internals/an-object"),r=i("../internals/fails"),s=i("../internals/regexp-flags"),i="toString",p=RegExp.prototype,h=p[i],r=r(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),n=h.name!=i;(r||n)&&f(RegExp.prototype,i,function(){var o=u(this),a=String(o.source),c=o.flags;return"/"+a+"/"+String(c===void 0&&o instanceof RegExp&&!("flags"in p)?s.call(o):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(u,V,E){var f=u("../internals/collection"),u=u("../internals/collection-strong");V.exports=f("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/object-get-own-property-descriptor").f,s=h("../internals/to-length"),i=h("../internals/not-a-regexp"),p=h("../internals/require-object-coercible"),o=h("../internals/correct-is-regexp-logic"),h=h("../internals/is-pure"),r="".endsWith,n=Math.min,o=o("endsWith");f({target:"String",proto:!0,forced:!!(h||o||!(f=u(String.prototype,"endsWith"))||f.writable)&&!o},{endsWith:function(a){var c=String(p(this)),d=(i(a),1<arguments.length?arguments[1]:void 0),y=s(c.length),d=d===void 0?y:n(s(d),y),y=String(a);return r?r.call(c,y,d):c.slice(d-y.length,d)===y}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(i){return!!~String(s(this)).indexOf(u(i),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(s,V,E){var f=s("../internals/string-multibyte").charAt,u=s("../internals/internal-state"),s=s("../internals/define-iterator"),i="String Iterator",p=u.set,h=u.getterFor(i);s(String,"String",function(r){p(this,{type:i,string:String(r),index:0})},function(){var r=h(this),n=r.string,o=r.index;return o>=n.length?{value:void 0,done:!0}:(n=f(n,o),r.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-length"),i=t("../internals/require-object-coercible"),p=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract");f("match",1,function(r,n,o){return[function(a){var c=i(this),d=a==null?void 0:a[r];return d!==void 0?d.call(a,c):new RegExp(a)[r](String(c))},function(a){var c=o(n,a,this);if(c.done)return c.value;var d=u(a),y=String(this);if(!d.global)return h(d,y);for(var m=d.unicode,g=[],b=d.lastIndex=0;(w=h(d,y))!==null;){var w=String(w[0]);(g[b]=w)===""&&(d.lastIndex=p(y,s(d.lastIndex),m)),b++}return b===0?null:g}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/string-pad").start;f({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return u(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(t,V,E){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/to-object"),i=t("../internals/to-length"),p=t("../internals/to-integer"),h=t("../internals/require-object-coercible"),r=t("../internals/advance-string-index"),n=t("../internals/regexp-exec-abstract"),o=Math.max,a=Math.min,c=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;f("replace",2,function(m,g,b,w){var _=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=w.REPLACE_KEEPS_$0,M=_?"$":"$0";return[function(k,T){var A=h(this),O=k==null?void 0:k[m];return O!==void 0?O.call(k,A,T):g.call(String(A),k,T)},function(k,T){if(!_&&S||typeof T=="string"&&T.indexOf(M)===-1){var A=b(g,k,this,T);if(A.done)return A.value}for(var O,R=u(k),U=String(this),B=typeof T=="function",W=(B||(T=String(T)),R.global),N=(W&&(O=R.unicode,R.lastIndex=0),[]);(C=n(R,U))!==null&&(N.push(C),W);)String(C[0])===""&&(R.lastIndex=r(U,i(R.lastIndex),O));for(var z,Y="",Z=0,G=0;G<N.length;G++){for(var C=N[G],L=String(C[0]),D=o(a(p(C.index),U.length),0),q=[],J=1;J<C.length;J++)q.push((z=C[J])===void 0?z:String(z));var te=C.groups,se=B?(se=[L].concat(q,D,U),te!==void 0&&se.push(te),String(T.apply(void 0,se))):function(ce,ne,ae,de,Q,ie){var me=ae+ce.length,ve=de.length,he=y;return Q!==void 0&&(Q=s(Q),he=d),g.call(ie,he,function(xe,Te){var Ae;switch(Te.charAt(0)){case"$":return"$";case"&":return ce;case"`":return ne.slice(0,ae);case"'":return ne.slice(me);case"<":Ae=Q[Te.slice(1,-1)];break;default:var Ee,ze=+Te;if(ze==0)return xe;if(ve<ze)return(Ee=c(ze/10))!==0&&Ee<=ve?de[Ee-1]===void 0?Te.charAt(1):de[Ee-1]+Te.charAt(1):xe;Ae=de[ze-1]}return Ae===void 0?"":Ae})}(L,U,D,q,te,T);Z<=D&&(Y+=U.slice(Z,D)+se,Z=D+L.length)}return Y+U.slice(Z)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(t,V,E){var f=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),s=t("../internals/require-object-coercible"),i=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");f("search",1,function(h,r,n){return[function(o){var a=s(this),c=o==null?void 0:o[h];return c!==void 0?c.call(o,a):new RegExp(o)[h](String(a))},function(o){var a,c=n(r,o,this);return c.done?c.value:(c=u(o),o=String(this),a=c.lastIndex,i(a,0)||(c.lastIndex=0),o=p(c,o),i(c.lastIndex,a)||(c.lastIndex=a),o===null?-1:o.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(a,V,E){var f=a("../internals/fix-regexp-well-known-symbol-logic"),u=a("../internals/is-regexp"),s=a("../internals/an-object"),i=a("../internals/require-object-coercible"),p=a("../internals/species-constructor"),h=a("../internals/advance-string-index"),r=a("../internals/to-length"),n=a("../internals/regexp-exec-abstract"),o=a("../internals/regexp-exec"),a=a("../internals/fails"),c=[].push,d=Math.min,y=4294967295,m=!a(function(){return!RegExp(y,"y")});f("split",2,function(g,b,w){var _="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(S,M){var k=String(i(this)),T=M===void 0?y:M>>>0;if(T==0)return[];if(S===void 0)return[k];if(!u(S))return b.call(k,S,T);for(var A,O,R,U=[],M=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(S.sticky?"y":""),B=0,W=new RegExp(S.source,M+"g");(A=o.call(W,k))&&!(B<(O=W.lastIndex)&&(U.push(k.slice(B,A.index)),1<A.length&&A.index<k.length&&c.apply(U,A.slice(1)),R=A[0].length,B=O,U.length>=T));)W.lastIndex===A.index&&W.lastIndex++;return B===k.length?!R&&W.test("")||U.push(""):U.push(k.slice(B)),U.length>T?U.slice(0,T):U}:"0".split(void 0,0).length?function(S,M){return S===void 0&&M===0?[]:b.call(this,S,M)}:b;return[function(S,M){var k=i(this),T=S==null?void 0:S[g];return T!==void 0?T.call(S,k,M):_.call(String(k),S,M)},function(A,M){var k=w(_,A,this,M,_!==b);if(k.done)return k.value;var k=s(A),T=String(this),A=p(k,RegExp),O=k.unicode,R=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(m?"y":"g"),U=new A(m?k:"^(?:"+k.source+")",R),B=M===void 0?y:M>>>0;if(B==0)return[];if(T.length===0)return n(U,T)===null?[T]:[];for(var W=0,N=0,z=[];N<T.length;){U.lastIndex=m?N:0;var Y,Z=n(U,m?T:T.slice(N));if(Z===null||(Y=d(r(U.lastIndex+(m?0:N)),T.length))===W)N=h(T,N,O);else{if(z.push(T.slice(W,N)),z.length===B)return z;for(var G=1;G<=Z.length-1;G++)if(z.push(Z[G]),z.length===B)return z;N=W=Y}}return z.push(T.slice(W)),z}]},!m)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(h,V,E){var f=h("../internals/export"),u=h("../internals/object-get-own-property-descriptor").f,s=h("../internals/to-length"),i=h("../internals/not-a-regexp"),p=h("../internals/require-object-coercible"),o=h("../internals/correct-is-regexp-logic"),h=h("../internals/is-pure"),r="".startsWith,n=Math.min,o=o("startsWith");f({target:"String",proto:!0,forced:!!(h||o||!(f=u(String.prototype,"startsWith"))||f.writable)&&!o},{startsWith:function(y){var c=String(p(this)),d=(i(y),s(n(1<arguments.length?arguments[1]:void 0,c.length))),y=String(y);return r?r.call(c,y,d):c.slice(d,d+y.length)===y}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/create-html");f({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(t,V,E){var f=t("../internals/export"),u=t("../internals/string-trim").trim;f({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(d,V,E){var f,u,s,i,p,h=d("../internals/export"),r=d("../internals/descriptors"),n=d("../internals/global"),o=d("../internals/has"),a=d("../internals/is-object"),c=d("../internals/object-define-property").f,d=d("../internals/copy-constructor-properties"),y=n.Symbol;!r||typeof y!="function"||"description"in y.prototype&&y().description===void 0||(f={},d(u=function(){var m=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),g=this instanceof u?new y(m):m===void 0?y():y(m);return m===""&&(f[g]=!0),g},y),(n=u.prototype=y.prototype).constructor=u,s=n.toString,i=String(y("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,c(n,"description",{configurable:!0,get:function(){var m=a(this)?this.valueOf():this,g=s.call(m);return o(f,m)?"":(m=i?g.slice(7,-1):g.replace(p,"$1"))===""?void 0:m}}),h({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(t,V,E){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(ne,V,E){function f(H,ee){var fe=Ae[H]=k(ie[ce]);return ae(fe,{type:se,tag:H,description:ee}),o||(fe.description=ee),fe}function u(H,be){b(H);var fe=_(be),be=T(fe).concat($(fe));return J(be,function(Ce){o&&!X.call(fe,Ce)||je(H,Ce,fe[Ce])}),H}function s(be,Ce){var fe,be=_(be),Ce=S(Ce,!0);if(be!==Q||!y(Ae,Ce)||y(Ee,Ce))return!(fe=ve(be,Ce))||!y(Ae,Ce)||y(be,te)&&be[te][Ce]||(fe.enumerable=!0),fe}function i(ee){var ee=xe(_(ee)),fe=[];return J(ee,function(be){y(Ae,be)||y(Z,be)||fe.push(be)}),fe}var p=ne("../internals/export"),h=ne("../internals/global"),r=ne("../internals/get-built-in"),n=ne("../internals/is-pure"),o=ne("../internals/descriptors"),a=ne("../internals/native-symbol"),c=ne("../internals/use-symbol-as-uid"),d=ne("../internals/fails"),y=ne("../internals/has"),m=ne("../internals/is-array"),g=ne("../internals/is-object"),b=ne("../internals/an-object"),w=ne("../internals/to-object"),_=ne("../internals/to-indexed-object"),S=ne("../internals/to-primitive"),M=ne("../internals/create-property-descriptor"),k=ne("../internals/object-create"),T=ne("../internals/object-keys"),A=ne("../internals/object-get-own-property-names"),O=ne("../internals/object-get-own-property-names-external"),R=ne("../internals/object-get-own-property-symbols"),U=ne("../internals/object-get-own-property-descriptor"),B=ne("../internals/object-define-property"),W=ne("../internals/object-property-is-enumerable"),N=ne("../internals/create-non-enumerable-property"),z=ne("../internals/redefine"),Y=ne("../internals/shared"),Ne=ne("../internals/shared-key"),Z=ne("../internals/hidden-keys"),G=ne("../internals/uid"),C=ne("../internals/well-known-symbol"),L=ne("../internals/well-known-symbol-wrapped"),D=ne("../internals/define-well-known-symbol"),q=ne("../internals/set-to-string-tag"),Xe=ne("../internals/internal-state"),J=ne("../internals/array-iteration").forEach,te=Ne("hidden"),se="Symbol",ce="prototype",ne=C("toPrimitive"),ae=Xe.set,de=Xe.getterFor(se),Q=Object[ce],ie=h.Symbol,me=r("JSON","stringify"),ve=U.f,he=B.f,xe=O.f,Te=W.f,Ae=Y("symbols"),Ee=Y("op-symbols"),ze=Y("string-to-symbol-registry"),Be=Y("symbol-to-string-registry"),Ne=Y("wks"),Xe=h.QObject,Ve=!Xe||!Xe[ce]||!Xe[ce].findChild,ye=o&&d(function(){return k(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!=7})?function(H,ee,fe){var be=ve(Q,ee);be&&delete Q[ee],he(H,ee,fe),be&&H!==Q&&he(Q,ee,be)}:he,Oe=c?function(H){return typeof H=="symbol"}:function(H){return Object(H)instanceof ie},je=function(H,ee,fe){return H===Q&&je(Ee,ee,fe),b(H),ee=S(ee,!0),b(fe),(y(Ae,ee)?(fe.enumerable?(y(H,te)&&H[te][ee]&&(H[te][ee]=!1),fe=k(fe,{enumerable:M(0,!1)})):(y(H,te)||he(H,te,M(1,{})),H[te][ee]=!0),ye):he)(H,ee,fe)},X=function(ee){var ee=S(ee,!0),fe=Te.call(this,ee);return!(this===Q&&y(Ae,ee)&&!y(Ee,ee))&&(!(fe||!y(this,ee)||!y(Ae,ee)||y(this,te)&&this[te][ee])||fe)},$=function(fe){var ee=fe===Q,fe=xe(ee?Ee:_(fe)),be=[];return J(fe,function(Ce){!y(Ae,Ce)||ee&&!y(Q,Ce)||be.push(Ae[Ce])}),be};a||(z((ie=function(){if(this instanceof ie)throw TypeError("Symbol is not a constructor");var H=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ee=G(H),fe=function(be){this===Q&&fe.call(Ee,be),y(this,te)&&y(this[te],ee)&&(this[te][ee]=!1),ye(this,ee,M(1,be))};return o&&Ve&&ye(Q,ee,{configurable:!0,set:fe}),f(ee,H)})[ce],"toString",function(){return de(this).tag}),z(ie,"withoutSetter",function(H){return f(G(H),H)}),W.f=X,B.f=je,U.f=s,A.f=O.f=i,R.f=$,L.f=function(H){return f(C(H),H)},o&&(he(ie[ce],"description",{configurable:!0,get:function(){return de(this).description}}),n||z(Q,"propertyIsEnumerable",X,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:ie}),J(T(Ne),function(H){D(H)}),p({target:se,stat:!0,forced:!a},{for:function(fe){var ee,fe=String(fe);return y(ze,fe)?ze[fe]:(ee=ie(fe),ze[fe]=ee,Be[ee]=fe,ee)},keyFor:function(H){if(!Oe(H))throw TypeError(H+" is not a symbol");if(y(Be,H))return Be[H]},useSetter:function(){Ve=!0},useSimple:function(){Ve=!1}}),p({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(H,ee){return ee===void 0?k(H):u(k(H),ee)},defineProperty:je,defineProperties:u,getOwnPropertyDescriptor:s}),p({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:i,getOwnPropertySymbols:$}),p({target:"Object",stat:!0,forced:d(function(){R.f(1)})},{getOwnPropertySymbols:function(H){return R.f(w(H))}}),me&&p({target:"JSON",stat:!0,forced:!a||d(function(){var H=ie();return me([H])!="[null]"||me({a:H})!="{}"||me(Object(H))!="{}"})},{stringify:function(H,ee,fe){for(var be,Ce=[H],Ie=1;Ie<arguments.length;)Ce.push(arguments[Ie++]);if((g(be=ee)||H!==void 0)&&!Oe(H))return m(ee)||(ee=function(Ue,Fe){if(typeof be=="function"&&(Fe=be.call(this,Ue,Fe)),!Oe(Fe))return Fe}),Ce[1]=ee,me.apply(null,Ce)}}),ie[ce][ne]||N(ie[ce],ne,ie[ce].valueOf),q(ie,se),Z[te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(i,p){return u.call(s(this),i,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(i){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),i=f.aTypedArray,p=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(h){for(var r=u(i(this),h,1<arguments.length?arguments[1]:void 0),h=s(this,this.constructor),n=0,o=r.length,a=new(p(h))(o);n<o;)a[n]=r[n++];return a})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(t,V,E){t("../internals/typed-array-constructor")("Float32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],212:[function(t,V,E){t("../internals/typed-array-constructor")("Float64",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],213:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(i){u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(t,V,E){t("../internals/typed-array-constructor")("Int16",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],217:[function(t,V,E){t("../internals/typed-array-constructor")("Int32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],218:[function(u,V,E){function f(){return s.call(h(this))}var o=u("../internals/global"),n=u("../internals/array-buffer-view-core"),r=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,s=r.values,i=r.keys,p=r.entries,h=n.aTypedArray,r=n.exportTypedArrayMethod,n=o&&o.prototype[u],o=!!n&&(n.name=="values"||n.name==null);r("entries",function(){return p.call(h(this))}),r("keys",function(){return i.call(h(this))}),r("values",f,!o),r(u,f,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].join;u("join",function(i){return s.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),s=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(i){return u.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),i=f.aTypedArray,p=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(h){return u(i(this),h,1<arguments.length?arguments[1]:void 0,function(r,n){return new(p(s(r,r.constructor)))(n)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(i){return u(s(this),i,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(i){return u(s(this),i,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=Math.floor;u("reverse",function(){for(var i,p=f(this).length,h=s(p/2),r=0;r<h;)i=this[r],this[r++]=this[--p],this[p]=i;return this})},{"../internals/array-buffer-view-core":12}],225:[function(p,V,E){var f=p("../internals/array-buffer-view-core"),u=p("../internals/to-length"),s=p("../internals/to-offset"),i=p("../internals/to-object"),p=p("../internals/fails"),h=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(r){h(this);var n=s(1<arguments.length?arguments[1]:void 0,1),o=this.length,a=i(r),c=u(a.length),d=0;if(o<c+n)throw RangeError("Wrong length");for(;d<c;)this[n+d]=a[d++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(u,V,E){var p=u("../internals/array-buffer-view-core"),f=u("../internals/species-constructor"),u=u("../internals/fails"),s=p.aTypedArray,i=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,h=[].slice;p("slice",function(r,n){for(var o=h.call(s(this),r,n),r=f(this,this.constructor),a=0,c=o.length,d=new(i(r))(c);a<c;)d[a]=o[a++];return d},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,s=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(i){return u(s(this),i,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(u,V,E){var u=u("../internals/array-buffer-view-core"),f=u.aTypedArray,u=u.exportTypedArrayMethod,s=[].sort;u("sort",function(i){return s.call(f(this),i)})},{"../internals/array-buffer-view-core":12}],229:[function(t,V,E){var f=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),s=t("../internals/to-absolute-index"),i=t("../internals/species-constructor"),p=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(a,r){var n=p(this),o=n.length,a=s(a,o);return new(i(n,n.constructor))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,u((r===void 0?o:s(r,o))-a))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(u,V,E){var p=u("../internals/global"),f=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),s=p.Int8Array,i=f.aTypedArray,p=f.exportTypedArrayMethod,h=[].toLocaleString,r=[].slice,n=!!s&&u(function(){h.call(new s(1))});p("toLocaleString",function(){return h.apply(n?r.call(i(this)):i(this),arguments)},u(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!u(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(u,V,E){var f=u("../internals/array-buffer-view-core").exportTypedArrayMethod,p=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},s=[].toString,i=[].join,p=(p(function(){s.call({})})&&(s=function(){return i.call(this)}),u.toString!=s);f("toString",s,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(t,V,E){t("../internals/typed-array-constructor")("Uint16",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],233:[function(t,V,E){t("../internals/typed-array-constructor")("Uint32",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],234:[function(t,V,E){t("../internals/typed-array-constructor")("Uint8",function(f){return function(u,s,i){return f(this,u,s,i)}})},{"../internals/typed-array-constructor":142}],235:[function(t,V,E){t("../internals/typed-array-constructor")("Uint8",function(f){return function(u,s,i){return f(this,u,s,i)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(y,b,E){function f(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}}var u,s,i,p,h,m=y("../internals/global"),r=y("../internals/redefine-all"),n=y("../internals/internal-metadata"),o=y("../internals/collection"),a=y("../internals/collection-weak"),c=y("../internals/is-object"),d=y("../internals/internal-state").enforce,y=y("../internals/native-weak-map"),m=!m.ActiveXObject&&"ActiveXObject"in m,g=Object.isExtensible,b=b.exports=o("WeakMap",f,a);y&&m&&(u=a.getConstructor(f,"WeakMap",!0),n.REQUIRED=!0,o=b.prototype,s=o.delete,i=o.has,p=o.get,h=o.set,r(o,{delete:function(w){var _;return c(w)&&!g(w)?((_=d(this)).frozen||(_.frozen=new u),s.call(this,w)||_.frozen.delete(w)):s.call(this,w)},has:function(w){var _;return c(w)&&!g(w)?((_=d(this)).frozen||(_.frozen=new u),i.call(this,w)||_.frozen.has(w)):i.call(this,w)},get:function(w){var _;return!c(w)||g(w)||((_=d(this)).frozen||(_.frozen=new u),i.call(this,w))?p.call(this,w):_.frozen.get(w)},set:function(w,_){var S;return!c(w)||g(w)||((S=d(this)).frozen||(S.frozen=new u),i.call(this,w))?h.call(this,w,_):S.frozen.set(w,_),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(t,V,E){var f,u=t("../internals/global"),s=t("../internals/dom-iterables"),i=t("../internals/array-for-each"),p=t("../internals/create-non-enumerable-property");for(f in s){var h=u[f],h=h&&h.prototype;if(h&&h.forEach!==i)try{p(h,"forEach",i)}catch{h.forEach=i}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(h,V,E){var f,u=h("../internals/global"),s=h("../internals/dom-iterables"),i=h("../modules/es.array.iterator"),p=h("../internals/create-non-enumerable-property"),h=h("../internals/well-known-symbol"),r=h("iterator"),n=h("toStringTag"),o=i.values;for(f in s){var a=u[f],c=a&&a.prototype;if(c){if(c[r]!==o)try{p(c,r,o)}catch{c[r]=o}if(c[n]||p(c,n,f),s[f]){for(var d in i)if(c[d]!==i[d])try{p(c,d,i[d])}catch{c[d]=i[d]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(te,V,E){te("../modules/es.array.iterator");function f(se){try{return decodeURIComponent(se)}catch{return se}}function u(se){return D[se]}function s(se){return encodeURIComponent(se).replace(L,u)}function i(se){this.entries.length=0,q(this.entries,se)}function p(se,ce){if(se<ce)throw TypeError("Not enough arguments")}function h(){m(this,h,B);var se,ce,ne,ae,de,Q,ie,me,ve=0<arguments.length?arguments[0]:void 0,he=[];if(N(this,{type:B,entries:he,updateURL:function(){},updateSearchParams:i}),ve!==void 0)if(S(ve))if(typeof(se=A(ve))=="function")for(ne=(ce=se.call(ve)).next;!(ae=ne.call(ce)).done;){if((Q=(de=(ae=T(_(ae.value))).next).call(ae)).done||(ie=de.call(ae)).done||!de.call(ae).done)throw TypeError("Expected sequence with length 2");he.push({key:Q.value+"",value:ie.value+""})}else for(me in ve)g(ve,me)&&he.push({key:me,value:ve[me]+""});else q(he,typeof ve=="string"?ve.charAt(0)==="?"?ve.slice(1):ve:ve+"")}var r=te("../internals/export"),U=te("../internals/get-built-in"),n=te("../internals/native-url"),o=te("../internals/redefine"),a=te("../internals/redefine-all"),c=te("../internals/set-to-string-tag"),d=te("../internals/create-iterator-constructor"),y=te("../internals/internal-state"),m=te("../internals/an-instance"),g=te("../internals/has"),b=te("../internals/function-bind-context"),w=te("../internals/classof"),_=te("../internals/an-object"),S=te("../internals/is-object"),M=te("../internals/object-create"),k=te("../internals/create-property-descriptor"),T=te("../internals/get-iterator"),A=te("../internals/get-iterator-method"),te=te("../internals/well-known-symbol"),O=U("fetch"),R=U("Headers"),U=te("iterator"),B="URLSearchParams",W=B+"Iterator",N=y.set,z=y.getterFor(B),Y=y.getterFor(W),Z=/\+/g,G=Array(4),C=function(se){var ce,ne=se.replace(Z," "),ae=4;try{return decodeURIComponent(ne)}catch{for(;ae;)ne=ne.replace((ce=ae--,G[ce-1]||(G[ce-1]=RegExp("((?:%[\\da-f]{2}){"+ce+"})","gi"))),f);return ne}},L=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},q=function(se,ce){if(ce)for(var ne,ae=ce.split("&"),de=0;de<ae.length;)(ne=ae[de++]).length&&(ne=ne.split("="),se.push({key:C(ne.shift()),value:C(ne.join("="))}))},J=d(function(se,ce){N(this,{type:W,iterator:T(z(se).entries),kind:ce})},"Iterator",function(){var ce=Y(this),se=ce.kind,ce=ce.iterator.next(),ne=ce.value;return ce.done||(ce.value=se==="keys"?ne.key:se==="values"?ne.value:[ne.key,ne.value]),ce}),te=h.prototype;a(te,{append:function(se,ce){p(arguments.length,2);var ne=z(this);ne.entries.push({key:se+"",value:ce+""}),ne.updateURL()},delete:function(se){p(arguments.length,1);for(var ce=z(this),ne=ce.entries,ae=se+"",de=0;de<ne.length;)ne[de].key===ae?ne.splice(de,1):de++;ce.updateURL()},get:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=0;ae<ce.length;ae++)if(ce[ae].key===ne)return ce[ae].value;return null},getAll:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=[],de=0;de<ce.length;de++)ce[de].key===ne&&ae.push(ce[de].value);return ae},has:function(se){p(arguments.length,1);for(var ce=z(this).entries,ne=se+"",ae=0;ae<ce.length;)if(ce[ae++].key===ne)return!0;return!1},set:function(se,ce){p(arguments.length,1);for(var ne,ae=z(this),de=ae.entries,Q=!1,ie=se+"",me=ce+"",ve=0;ve<de.length;ve++)(ne=de[ve]).key===ie&&(Q?de.splice(ve--,1):(Q=!0,ne.value=me));Q||de.push({key:ie,value:me}),ae.updateURL()},sort:function(){for(var se,ce,ne=z(this),ae=ne.entries,de=ae.slice(),Q=ae.length=0;Q<de.length;Q++){for(se=de[Q],ce=0;ce<Q;ce++)if(ae[ce].key>se.key){ae.splice(ce,0,se);break}ce===Q&&ae.push(se)}ne.updateURL()},forEach:function(se){for(var ce,ne=z(this).entries,ae=b(se,1<arguments.length?arguments[1]:void 0,3),de=0;de<ne.length;)ae((ce=ne[de++]).value,ce.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),o(te,U,te.entries),o(te,"toString",function(){for(var se,ce=z(this).entries,ne=[],ae=0;ae<ce.length;)se=ce[ae++],ne.push(s(se.key)+"="+s(se.value));return ne.join("&")},{enumerable:!0}),c(h,B),r({global:!0,forced:!n},{URLSearchParams:h}),n||typeof O!="function"||typeof R!="function"||r({global:!0,enumerable:!0,forced:!0},{fetch:function(de){var ce,ne,ae,de=[de];return 1<arguments.length&&(S(ce=arguments[1])&&(ne=ce.body,w(ne)===B&&((ae=ce.headers?new R(ce.headers):new R).has("content-type")||ae.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ce=M(ce,{body:k(0,String(ne)),headers:k(0,ae)}))),de.push(ce)),O.apply(this,de)}}),V.exports={URLSearchParams:h,getState:z}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(T,V,E){T("../modules/es.string.iterator");function f(ue){var De,qe,Re,st;if(typeof ue=="number"){for(De=[],qe=0;qe<4;qe++)De.unshift(ue%256),ue=W(ue/256);return De.join(".")}if(typeof ue!="object")return ue;for(De="",Re=ie(ue),qe=0;qe<8;qe++)st&&ue[qe]===0||(st=st&&!1,Re===qe?(De+=qe?":":"::",st=!0):(De+=ue[qe].toString(16),qe<7&&(De+=":")));return"["+De+"]"}function u(ue){return!ue.host||ue.cannotBeABaseURL||ue.scheme=="file"}function s(ue,De,qe,Re){var st,Le,ut,Ge=qe||Oe,at=0,He="",wt=!1,Mt=!1,_t=!1;for(qe||(ue.scheme="",ue.username="",ue.password="",ue.host=null,ue.port=null,ue.path=[],ue.query=null,ue.fragment=null,ue.cannotBeABaseURL=!1,De=De.replace(ae,"")),De=De.replace(de,""),st=w(De);at<=st.length;){switch(Le=st[at],Ge){case Oe:if(!Le||!C.test(Le)){if(qe)return Y;Ge=X;continue}He+=Le.toLowerCase(),Ge=je;break;case je:if(Le&&(L.test(Le)||Le=="+"||Le=="-"||Le=="."))He+=Le.toLowerCase();else{if(Le!=":"){if(qe)return Y;He="",Ge=X,at=0;continue}if(qe&&(Ee(ue)!=g(Ae,He)||He=="file"&&(ze(ue)||ue.port!==null)||ue.scheme=="file"&&!ue.host))return;if(ue.scheme=He,qe)return void(Ee(ue)&&Ae[ue.scheme]==ue.port&&(ue.port=null));He="",ue.scheme=="file"?Ge=rt:Ee(ue)&&Re&&Re.scheme==ue.scheme?Ge=$:Ee(ue)?Ge=be:st[at+1]=="/"?(Ge=H,at++):(ue.cannotBeABaseURL=!0,ue.path.push(""),Ge=mt)}break;case X:if(!Re||Re.cannotBeABaseURL&&Le!="#")return Y;if(Re.cannotBeABaseURL&&Le=="#"){ue.scheme=Re.scheme,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",ue.cannotBeABaseURL=!0,Ge=St;break}Ge=Re.scheme=="file"?rt:ee;continue;case $:if(Le!="/"||st[at+1]!="/"){Ge=ee;continue}Ge=Ce,at++;break;case H:if(Le=="/"){Ge=Ie;break}Ge=Qe;continue;case ee:if(ue.scheme=Re.scheme,Le==h)ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query=Re.query;else if(Le=="/"||Le=="\\"&&Ee(ue))Ge=fe;else if(Le=="?")ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query="",Ge=Ut;else{if(Le!="#"){ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.path.pop(),Ge=Qe;continue}ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",Ge=St}break;case fe:if(!Ee(ue)||Le!="/"&&Le!="\\"){if(Le!="/"){ue.username=Re.username,ue.password=Re.password,ue.host=Re.host,ue.port=Re.port,Ge=Qe;continue}Ge=Ie}else Ge=Ce;break;case be:if(Ge=Ce,Le!="/"||He.charAt(at+1)!="/")continue;at++;break;case Ce:if(Le=="/"||Le=="\\")break;Ge=Ie;continue;case Ie:if(Le=="@"){wt&&(He="%40"+He);for(var wt=!0,kt=w(He),Wt=0;Wt<kt.length;Wt++){var Gt=kt[Wt];Gt!=":"||_t?(Gt=Te(Gt,xe),_t?ue.password+=Gt:ue.username+=Gt):_t=!0}He=""}else if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)){if(wt&&He=="")return z;at-=w(He).length+1,He="",Ge=Ue}else He+=Le;break;case Ue:case Fe:if(qe&&ue.scheme=="file"){Ge=Ze;continue}if(Le!=":"||Mt){if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)){if(Ee(ue)&&He=="")return Z;if(qe&&He==""&&(ze(ue)||ue.port!==null))return;if(ut=Q(ue,He))return ut;if(He="",Ge=tt,qe)return;continue}Le=="["?Mt=!0:Le=="]"&&(Mt=!1),He+=Le}else{if(He=="")return Z;if(ut=Q(ue,He))return ut;if(He="",Ge=We,qe==Fe)return}break;case We:if(!D.test(Le)){if(Le==h||Le=="/"||Le=="?"||Le=="#"||Le=="\\"&&Ee(ue)||qe){if(He!=""){var qt=parseInt(He,10);if(65535<qt)return G;ue.port=Ee(ue)&&qt===Ae[ue.scheme]?null:qt,He=""}if(qe)return;Ge=tt;continue}return G}He+=Le;break;case rt:if(ue.scheme="file",Le=="/"||Le=="\\")Ge=et;else{if(!Re||Re.scheme!="file"){Ge=Qe;continue}if(Le==h)ue.host=Re.host,ue.path=Re.path.slice(),ue.query=Re.query;else if(Le=="?")ue.host=Re.host,ue.path=Re.path.slice(),ue.query="",Ge=Ut;else{if(Le!="#"){Ne(st.slice(at).join(""))||(ue.host=Re.host,ue.path=Re.path.slice(),Xe(ue)),Ge=Qe;continue}ue.host=Re.host,ue.path=Re.path.slice(),ue.query=Re.query,ue.fragment="",Ge=St}}break;case et:if(Le=="/"||Le=="\\"){Ge=Ze;break}Re&&Re.scheme=="file"&&!Ne(st.slice(at).join(""))&&(Be(Re.path[0],!0)?ue.path.push(Re.path[0]):ue.host=Re.host),Ge=Qe;continue;case Ze:if(Le==h||Le=="/"||Le=="\\"||Le=="?"||Le=="#"){if(!qe&&Be(He))Ge=Qe;else{if(He==""){if(ue.host="",qe)return}else{if(ut=Q(ue,He))return ut;if(ue.host=="localhost"&&(ue.host=""),qe)return;He=""}Ge=tt}continue}He+=Le;break;case tt:if(Ee(ue)){if(Ge=Qe,Le!="/"&&Le!="\\")continue}else if(qe||Le!="?")if(qe||Le!="#"){if(Le!=h&&(Ge=Qe,Le!="/"))continue}else ue.fragment="",Ge=St;else ue.query="",Ge=Ut;break;case Qe:if(Le==h||Le=="/"||Le=="\\"&&Ee(ue)||!qe&&(Le=="?"||Le=="#")){if(ye(He)?(Xe(ue),Le=="/"||Le=="\\"&&Ee(ue)||ue.path.push("")):Ve(He)?Le=="/"||Le=="\\"&&Ee(ue)||ue.path.push(""):(ue.scheme=="file"&&!ue.path.length&&Be(He)&&(ue.host&&(ue.host=""),He=He.charAt(0)+":"),ue.path.push(He)),He="",ue.scheme=="file"&&(Le==h||Le=="?"||Le=="#"))for(;1<ue.path.length&&ue.path[0]==="";)ue.path.shift();Le=="?"?(ue.query="",Ge=Ut):Le=="#"&&(ue.fragment="",Ge=St)}else He+=Te(Le,he);break;case mt:Le=="?"?(ue.query="",Ge=Ut):Le=="#"?(ue.fragment="",Ge=St):Le!=h&&(ue.path[0]+=Te(Le,me));break;case Ut:qe||Le!="#"?Le!=h&&(Le=="'"&&Ee(ue)?ue.query+="%27":ue.query+=Le=="#"?"%23":Te(Le,me)):(ue.fragment="",Ge=St);break;case St:Le!=h&&(ue.fragment+=Te(Le,ve))}at++}}function i(Le){var De,qe,Re=m(this,i,"URL"),st=1<arguments.length?arguments[1]:void 0,Le=String(Le),ut=U(Re,{type:"URL"});if(st!==void 0){if(st instanceof i)De=B(st);else if(qe=s(De={},String(st)))throw TypeError(qe)}if(qe=s(ut,Le,null,De))throw TypeError(qe);var Ge=ut.searchParams=new O;(st=R(Ge)).updateSearchParams(ut.query),st.updateURL=function(){ut.query=String(Ge)||null},a||(Re.href=gt.call(Re),Re.origin=lt.call(Re),Re.protocol=At.call(Re),Re.username=Ct.call(Re),Re.password=ht.call(Re),Re.host=Rt.call(Re),Re.hostname=nr.call(Re),Re.port=sr.call(Re),Re.pathname=ar.call(Re),Re.search=fr.call(Re),Re.searchParams=ir.call(Re),Re.hash=lr.call(Re))}function p(ue,De){return{get:ue,set:De,configurable:!0,enumerable:!0}}var h,r,n,o=T("../internals/export"),a=T("../internals/descriptors"),c=T("../internals/native-url"),ct=T("../internals/global"),d=T("../internals/object-define-properties"),y=T("../internals/redefine"),m=T("../internals/an-instance"),g=T("../internals/has"),b=T("../internals/object-assign"),w=T("../internals/array-from"),_=T("../internals/string-multibyte").codeAt,S=T("../internals/string-punycode-to-ascii"),M=T("../internals/set-to-string-tag"),k=T("../modules/web.url-search-params"),T=T("../internals/internal-state"),A=ct.URL,O=k.URLSearchParams,R=k.getState,U=T.set,B=T.getterFor("URL"),W=Math.floor,N=Math.pow,z="Invalid authority",Y="Invalid scheme",Z="Invalid host",G="Invalid port",C=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,D=/\d/,q=/^(0x|0X)/,J=/^[0-7]+$/,te=/^\d+$/,se=/^[\dA-Fa-f]+$/,ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ne=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ae=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,de=/[\u0009\u000A\u000D]/g,Q=function(ue,De){var qe,Re,st;if(De.charAt(0)=="[")return De.charAt(De.length-1)=="]"&&(qe=function(Le){var ut=[0,0,0,0,0,0,0,0],Ge=0,at=null,He=0,wt,Mt,_t,kt,Wt,Gt,qt,Ot=function(){return Le.charAt(He)};if(Ot()==":"){if(Le.charAt(1)!=":")return;He+=2,Ge++,at=Ge}for(;Ot();){if(Ge==8)return;if(Ot()==":"){if(at!==null)return;He++,Ge++,at=Ge;continue}for(wt=Mt=0;Mt<4&&se.test(Ot());)wt=wt*16+parseInt(Ot(),16),He++,Mt++;if(Ot()=="."){if(Mt==0||(He-=Mt,Ge>6))return;for(_t=0;Ot();){if(kt=null,_t>0)if(Ot()=="."&&_t<4)He++;else return;if(!D.test(Ot()))return;for(;D.test(Ot());){if(Wt=parseInt(Ot(),10),kt===null)kt=Wt;else{if(kt==0)return;kt=kt*10+Wt}if(kt>255)return;He++}ut[Ge]=ut[Ge]*256+kt,_t++,(_t==2||_t==4)&&Ge++}if(_t!=4)return;break}else if(Ot()==":"){if(He++,!Ot())return}else if(Ot())return;ut[Ge++]=wt}if(at!==null)for(Gt=Ge-at,Ge=7;Ge!=0&&Gt>0;)qt=ut[Ge],ut[Ge--]=ut[at+Gt-1],ut[at+--Gt]=qt;else if(Ge!=8)return;return ut}(De.slice(1,-1)))?void(ue.host=qe):Z;if(Ee(ue))return De=S(De),ce.test(De)||(qe=function(Le){var ut=Le.split("."),Ge,at,He,wt,Mt,_t,kt;if(ut.length&&ut[ut.length-1]==""&&ut.pop(),(Ge=ut.length)>4)return Le;for(at=[],He=0;He<Ge;He++){if(wt=ut[He],wt=="")return Le;if(Mt=10,wt.length>1&&wt.charAt(0)=="0"&&(Mt=q.test(wt)?16:8,wt=wt.slice(Mt==8?1:2)),wt==="")_t=0;else{if(!(Mt==10?te:Mt==8?J:se).test(wt))return Le;_t=parseInt(wt,Mt)}at.push(_t)}for(He=0;He<Ge;He++)if(_t=at[He],He==Ge-1){if(_t>=N(256,5-Ge))return null}else if(_t>255)return null;for(kt=at.pop(),He=0;He<at.length;He++)kt+=at[He]*N(256,3-He);return kt}(De))===null?Z:void(ue.host=qe);if(ne.test(De))return Z;for(qe="",Re=w(De),st=0;st<Re.length;st++)qe+=Te(Re[st],me);ue.host=qe},ie=function(ue){for(var De=null,qe=1,Re=null,st=0,Le=0;Le<8;Le++)ue[Le]!==0?(qe<st&&(De=Re,qe=st),Re=null,st=0):(Re===null&&(Re=Le),++st);return qe<st&&(De=Re,qe=st),De},me={},ve=b({},me,{" ":1,'"':1,"<":1,">":1,"`":1}),he=b({},ve,{"#":1,"?":1,"{":1,"}":1}),xe=b({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Te=function(ue,De){var qe=_(ue,0);return 32<qe&&qe<127&&!g(De,ue)?ue:encodeURIComponent(ue)},Ae={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ee=function(ue){return g(Ae,ue.scheme)},ze=function(ue){return ue.username!=""||ue.password!=""},Be=function(ue,De){return ue.length==2&&C.test(ue.charAt(0))&&((ue=ue.charAt(1))==":"||!De&&ue=="|")},Ne=function(ue){return 1<ue.length&&Be(ue.slice(0,2))&&(ue.length==2||(ue=ue.charAt(2))==="/"||ue==="\\"||ue==="?"||ue==="#")},Xe=function(ue){var De=ue.path,qe=De.length;!qe||ue.scheme=="file"&&qe==1&&Be(De[0],!0)||De.pop()},Ve=function(ue){return ue==="."||ue.toLowerCase()==="%2e"},ye=function(ue){return(ue=ue.toLowerCase())===".."||ue==="%2e."||ue===".%2e"||ue==="%2e%2e"},Oe={},je={},X={},$={},H={},ee={},fe={},be={},Ce={},Ie={},Ue={},Fe={},We={},rt={},et={},Ze={},tt={},Qe={},mt={},Ut={},St={},ct=i.prototype,gt=function(){var ue=B(this),De=ue.scheme,qe=ue.username,Re=ue.password,st=ue.host,Le=ue.port,ut=ue.path,Ge=ue.query,at=ue.fragment,He=De+":";return st!==null?(He+="//",ze(ue)&&(He+=qe+(Re?":"+Re:"")+"@"),He+=f(st),Le!==null&&(He+=":"+Le)):De=="file"&&(He+="//"),He+=ue.cannotBeABaseURL?ut[0]:ut.length?"/"+ut.join("/"):"",Ge!==null&&(He+="?"+Ge),at!==null&&(He+="#"+at),He},lt=function(){var ue=B(this),De=ue.scheme,qe=ue.port;if(De=="blob")try{return new URL(De.path[0]).origin}catch{return"null"}return De!="file"&&Ee(ue)?De+"://"+f(ue.host)+(qe!==null?":"+qe:""):"null"},At=function(){return B(this).scheme+":"},Ct=function(){return B(this).username},ht=function(){return B(this).password},Rt=function(){var De=B(this),ue=De.host,De=De.port;return ue===null?"":De===null?f(ue):f(ue)+":"+De},nr=function(){var ue=B(this).host;return ue===null?"":f(ue)},sr=function(){var ue=B(this).port;return ue===null?"":String(ue)},ar=function(){var ue=B(this),De=ue.path;return ue.cannotBeABaseURL?De[0]:De.length?"/"+De.join("/"):""},fr=function(){var ue=B(this).query;return ue?"?"+ue:""},ir=function(){return B(this).searchParams},lr=function(){var ue=B(this).fragment;return ue?"#"+ue:""};a&&d(ct,{href:p(gt,function(qe){var De=B(this),qe=String(qe),qe=s(De,qe);if(qe)throw TypeError(qe);R(De.searchParams).updateSearchParams(De.query)}),origin:p(lt),protocol:p(At,function(ue){var De=B(this);s(De,String(ue)+":",Oe)}),username:p(Ct,function(ue){var De=B(this),qe=w(String(ue));if(!u(De)){De.username="";for(var Re=0;Re<qe.length;Re++)De.username+=Te(qe[Re],xe)}}),password:p(ht,function(ue){var De=B(this),qe=w(String(ue));if(!u(De)){De.password="";for(var Re=0;Re<qe.length;Re++)De.password+=Te(qe[Re],xe)}}),host:p(Rt,function(ue){var De=B(this);De.cannotBeABaseURL||s(De,String(ue),Ue)}),hostname:p(nr,function(ue){var De=B(this);De.cannotBeABaseURL||s(De,String(ue),Fe)}),port:p(sr,function(ue){var De=B(this);u(De)||((ue=String(ue))==""?De.port=null:s(De,ue,We))}),pathname:p(ar,function(ue){var De=B(this);De.cannotBeABaseURL||(De.path=[],s(De,ue+"",tt))}),search:p(fr,function(ue){var De=B(this);(ue=String(ue))==""?De.query=null:(ue.charAt(0)=="?"&&(ue=ue.slice(1)),De.query="",s(De,ue,Ut)),R(De.searchParams).updateSearchParams(De.query)}),searchParams:p(ir),hash:p(lr,function(ue){var De=B(this);(ue=String(ue))==""?De.fragment=null:(ue.charAt(0)=="#"&&(ue=ue.slice(1)),De.fragment="",s(De,ue,St))})}),y(ct,"toJSON",function(){return gt.call(this)},{enumerable:!0}),y(ct,"toString",function(){return gt.call(this)},{enumerable:!0}),A&&(r=A.createObjectURL,n=A.revokeObjectURL,r&&y(i,"createObjectURL",function(ue){return r.apply(A,arguments)}),n&&y(i,"revokeObjectURL",function(ue){return n.apply(A,arguments)})),M(i,"URL"),o({global:!0,forced:!c,sham:!a},{URL:i})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(t,V,E){V.exports=t("./").polyfill()},{"./":242}],242:[function(t,V,E){(function(f,u){var s,i;s=this,i=function(){function p(Q){return typeof Q=="function"}var h=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},r=0,n=void 0,o=void 0,a=function(Q,ie){b[r]=Q,b[r+1]=ie,(r+=2)===2&&(o?o(w):O())},c=typeof window<"u"?window:void 0,d=c||{},d=d.MutationObserver||d.WebKitMutationObserver,y=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",m=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var Q=setTimeout;return function(){return Q(w,1)}}var b=new Array(1e3);function w(){for(var Q=0;Q<r;Q+=2)(0,b[Q])(b[Q+1]),b[Q]=void 0,b[Q+1]=void 0;r=0}function _(){try{var Q=Function("return this")().require("vertx");return(n=Q.runOnLoop||Q.runOnContext)!==void 0?function(){n(w)}:g()}catch{return g()}}var S,M,k,O=void 0;function T(Q,ie){var me,ve=this,he=new this.constructor(U),xe=(he[R]===void 0&&se(he),ve._state);return xe?(me=arguments[xe-1],a(function(){return J(xe,he,me,ve._result)})):D(ve,he,Q,ie),he}function A(Q){var ie;return Q&&typeof Q=="object"&&Q.constructor===this?Q:(Z(ie=new this(U),Q),ie)}var O=y?function(){return f.nextTick(w)}:d?(M=0,y=new d(w),k=document.createTextNode(""),y.observe(k,{characterData:!0}),function(){k.data=M=++M%2}):m?((S=new MessageChannel).port1.onmessage=w,function(){return S.port2.postMessage(0)}):(c===void 0&&typeof t=="function"?_:g)(),R=Math.random().toString(36).substring(2);function U(){}var B=void 0,W=1,N=2;function z(Q,ie,me){a(function(ve){var he=!1,xe=function(Te,Ae,Ee,ze){try{Te.call(Ae,Ee,ze)}catch(Be){return Be}}(me,ie,function(Te){he||(he=!0,(ie!==Te?Z:C)(ve,Te))},function(Te){he||(he=!0,L(ve,Te))},ve._label);!he&&xe&&(he=!0,L(ve,xe))},Q)}function Y(Q,ie,me){var ve,he;ie.constructor===Q.constructor&&me===T&&ie.constructor.resolve===A?(ve=Q,(he=ie)._state===W?C(ve,he._result):he._state===N?L(ve,he._result):D(he,void 0,function(xe){return Z(ve,xe)},function(xe){return L(ve,xe)})):me!==void 0&&p(me)?z(Q,ie,me):C(Q,ie)}function Z(Q,ie){if(Q===ie)L(Q,new TypeError("You cannot resolve a promise with itself"));else if(me=typeof ie,ie===null||me!="object"&&me!="function")C(Q,ie);else{me=void 0;try{me=ie.then}catch(ve){return void L(Q,ve)}Y(Q,ie,me)}var me}function G(Q){Q._onerror&&Q._onerror(Q._result),q(Q)}function C(Q,ie){Q._state===B&&(Q._result=ie,Q._state=W,Q._subscribers.length!==0&&a(q,Q))}function L(Q,ie){Q._state===B&&(Q._state=N,Q._result=ie,a(G,Q))}function D(Q,ie,me,ve){var he=Q._subscribers,xe=he.length;Q._onerror=null,he[xe]=ie,he[xe+W]=me,he[xe+N]=ve,xe===0&&Q._state&&a(q,Q)}function q(Q){var ie=Q._subscribers,me=Q._state;if(ie.length!==0){for(var ve,he=void 0,xe=Q._result,Te=0;Te<ie.length;Te+=3)ve=ie[Te],he=ie[Te+me],ve?J(me,ve,he,xe):he(xe);Q._subscribers.length=0}}function J(Q,ie,me,ve){var he=p(me),xe=void 0,Te=void 0,Ae=!0;if(he){try{xe=me(ve)}catch(Ee){Ae=!1,Te=Ee}if(ie===xe)return void L(ie,new TypeError("A promises callback cannot return that same promise."))}else xe=ve;ie._state===B&&(he&&Ae?Z(ie,xe):Ae===!1?L(ie,Te):Q===W?C(ie,xe):Q===N&&L(ie,xe))}var te=0;function se(Q){Q[R]=te++,Q._state=void 0,Q._result=void 0,Q._subscribers=[]}ne.prototype._enumerate=function(Q){for(var ie=0;this._state===B&&ie<Q.length;ie++)this._eachEntry(Q[ie],ie)},ne.prototype._eachEntry=function(Q,ie){var me=this._instanceConstructor,ve=me.resolve;if(ve===A){var he,xe=void 0,Te=void 0,Ae=!1;try{xe=Q.then}catch(Ee){Ae=!0,Te=Ee}xe===T&&Q._state!==B?this._settledAt(Q._state,ie,Q._result):typeof xe!="function"?(this._remaining--,this._result[ie]=Q):me===ae?(he=new me(U),Ae?L(he,Te):Y(he,Q,xe),this._willSettleAt(he,ie)):this._willSettleAt(new me(function(Ee){return Ee(Q)}),ie)}else this._willSettleAt(ve(Q),ie)},ne.prototype._settledAt=function(Q,ie,me){var ve=this.promise;ve._state===B&&(this._remaining--,Q===N?L(ve,me):this._result[ie]=me),this._remaining===0&&C(ve,this._result)},ne.prototype._willSettleAt=function(Q,ie){var me=this;D(Q,void 0,function(ve){return me._settledAt(W,ie,ve)},function(ve){return me._settledAt(N,ie,ve)})};var ce=ne;function ne(Q,ie){this._instanceConstructor=Q,this.promise=new Q(U),this.promise[R]||se(this.promise),h(ie)?(this.length=ie.length,this._remaining=ie.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ie),this._remaining!==0)||C(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}de.prototype.catch=function(Q){return this.then(null,Q)},de.prototype.finally=function(Q){var ie=this.constructor;return p(Q)?this.then(function(me){return ie.resolve(Q()).then(function(){return me})},function(me){return ie.resolve(Q()).then(function(){throw me})}):this.then(Q,Q)};var ae=de;function de(Q){if(this[R]=te++,this._result=this._state=void 0,this._subscribers=[],U!==Q){if(typeof Q!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof de))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ie=this;try{Q(function(me){Z(ie,me)},function(me){L(ie,me)})}catch(me){L(ie,me)}}}return ae.prototype.then=T,ae.all=function(Q){return new ce(this,Q).promise},ae.race=function(Q){var ie=this;return h(Q)?new ie(function(me,ve){for(var he=Q.length,xe=0;xe<he;xe++)ie.resolve(Q[xe]).then(me,ve)}):new ie(function(me,ve){return ve(new TypeError("You must pass an array to race."))})},ae.resolve=A,ae.reject=function(Q){var ie=new this(U);return L(ie,Q),ie},ae._setScheduler=function(Q){o=Q},ae._setAsap=function(Q){a=Q},ae._asap=a,ae.polyfill=function(){var Q=void 0;if(u!==void 0)Q=u;else if(typeof self<"u")Q=self;else try{Q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=Q.Promise;if(ie){var me=null;try{me=Object.prototype.toString.call(ie.resolve())}catch{}if(me==="[object Promise]"&&!ie.cast)return}Q.Promise=ae},ae.Promise=ae},typeof E=="object"&&V!==void 0?V.exports=i():s.ES6Promise=i()}).call(this,t("_process"),typeof po<"u"?po:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(t,V,E){var f,u;f=this,u=function(s,i){var p=5e3,h="callback";function r(o){try{delete window[o]}catch{window[o]=void 0}}function n(o){o=document.getElementById(o),o&&document.getElementsByTagName("head")[0].removeChild(o)}i.exports=function(o){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],c=o,d=a.timeout||p,y=a.jsonpCallback||h,m=void 0;return new Promise(function(g,b){var w=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),_=y+"_"+w,S=(window[w]=function(M){g({ok:!0,json:function(){return Promise.resolve(M)}}),m&&clearTimeout(m),n(_),r(w)},c+=c.indexOf("?")===-1?"?":"&",document.createElement("script"));S.setAttribute("src",""+c+y+"="+w),a.charset&&S.setAttribute("charset",a.charset),S.id=_,document.getElementsByTagName("head")[0].appendChild(S),m=setTimeout(function(){b(new Error("JSONP request to "+o+" timed out")),r(w),n(_),window[w]=function(){r(w)}},d),S.onerror=function(){b(new Error("JSONP request to "+o+" failed")),r(w),n(_),m&&clearTimeout(m)}})}},E!==void 0&&V!==void 0?u(0,V):(u(u={exports:{}},u),f.fetchJsonp=u.exports)},{}],244:[function(t,V,E){var f=function(u){var s,i,p,h,r,n,o,a,c,d,y;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return y=u.document,s=function(){return u.URL||u.webkitURL||u},i=y.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in i,h=/constructor/i.test(u.HTMLElement)||u.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),n=function(m){(u.setImmediate||u.setTimeout)(function(){throw m},0)},o=4e4,a=function(m){setTimeout(function(){typeof m=="string"?s().revokeObjectURL(m):m.remove()},o)},c=function(m){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob([String.fromCharCode(65279),m],{type:m.type}):m},y=(d=function(m,g,M){M||(m=c(m));var w,_,S=this,M=m.type==="application/octet-stream",k=function(){for(var T=S,A="writestart progress write writeend".split(" "),O=void 0,R=(A=[].concat(A)).length;R--;){var U=T["on"+A[R]];if(typeof U=="function")try{U.call(T,O||T)}catch(B){n(B)}}};S.readyState=S.INIT,p?(w=s().createObjectURL(m),setTimeout(function(){var T,A;i.href=w,i.download=g,T=i,A=new MouseEvent("click"),T.dispatchEvent(A),k(),a(w),S.readyState=S.DONE})):(r||M&&h)&&u.FileReader?((_=new FileReader).onloadend=function(){var T=r?_.result:_.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(T,"_blank")||(u.location.href=T),T=void 0,S.readyState=S.DONE,k()},_.readAsDataURL(m),S.readyState=S.INIT):(w=w||s().createObjectURL(m),!M&&u.open(w,"_blank")||(u.location.href=w),S.readyState=S.DONE,k(),a(w))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(m,g,b){return g=g||m.name||"download",b||(m=c(m)),navigator.msSaveOrOpenBlob(m,g)}:(y.abort=function(){},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,function(m,g,b){return new d(m,g||m.name||"download",b)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);V!==void 0&&V.exports?V.exports.saveAs=f:Dt!=null},{}],245:[function(t,V,E){var f,u=Object.defineProperty,s=(u(E,"__esModule",{value:!0}),E),i={GIFEncoder:()=>k,applyPalette:()=>function(B,W,N="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<W.length)throw new Error("applyPalette() only works with 256 colors or less");const z=new Uint32Array(B.buffer),Y=z.length,Z=N==="rgb444"?4096:65536,G=new Uint8Array(Y),C=new Array(Z);if(N==="rgba4444")for(let de=0;de<Y;de++){var J=z[de],L=J>>24&255,D=J>>16&255,q=J>>8&255,J=255&J,te=a(J,q,D,L),te=te in C?C[te]:C[te]=function(Q,ie,me,ve,he){let xe=0,Te=1e100;for(let Be=0;Be<he.length;Be++){var Ae,Ee=he[Be],ze=_(Ee[3]-ve);ze>Te||(Ae=Ee[0],(ze+=_(Ae-Q))>Te||(Ae=Ee[1],(ze+=_(Ae-ie))>Te||(Ae=Ee[2],(ze+=_(Ae-me))>Te||(Te=ze,xe=Be))))}return xe}(J,q,D,L,W);G[de]=te}else{const de=N==="rgb444"?c:o;for(let Q=0;Q<Y;Q++){var ne=z[Q],se=ne>>16&255,ce=ne>>8&255,ne=255&ne,ae=de(ne,ce,se),ae=ae in C?C[ae]:C[ae]=function(ie,me,ve,he){let xe=0,Te=1e100;for(let Be=0;Be<he.length;Be++){var Ae,Ee=he[Be],ze=_(Ee[0]-ie);ze>Te||(Ae=Ee[1],(ze+=_(Ae-me))>Te||(Ae=Ee[2],(ze+=_(Ae-ve))>Te||(Te=ze,xe=Be)))}return xe}(ne,ce,se,W);G[Q]=ae}}return G},default:()=>U,nearestColor:()=>function(B,W,N=b){return B[S(B,W,N)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>M,prequantize:()=>function(B,{roundRGB:W=5,roundAlpha:N=10,oneBitAlpha:z=null}={}){const Y=new Uint32Array(B.buffer);for(let D=0;D<Y.length;D++){var L=Y[D];let q=L>>24&255;var Z,G=L>>16&255,C=L>>8&255,L=255&L;q=w(q,N),z&&(Z=typeof z=="number"?z:127,q=q<=Z?0:255),L=w(L,W),C=w(C,W),G=w(G,W),Y[D]=q<<24|G<<16|C<<8|L<<0}},quantize:()=>function(B,W,N={}){var{format:z="rgb565",clearAlpha:Y=!0,clearAlphaColor:Z=0,clearAlphaThreshold:G=0,oneBitAlpha:C=!1}=N;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let L=N.useSqrt!==!1;const D=z==="rgba4444",q=function(Ne,Xe){const Ve=Xe==="rgb444"?4096:65536,ye=new Array(Ve),Oe=Ne.length;if(Xe==="rgba4444")for(let et=0;et<Oe;++et){var H=Ne[et],je=H>>24&255,X=H>>16&255,$=H>>8&255,H=255&H,ee=a(H,$,X,je);let Ze=ee in ye?ye[ee]:ye[ee]=g();Ze.rc+=H,Ze.gc+=$,Ze.bc+=X,Ze.ac+=je,Ze.cnt++}else if(Xe==="rgb444")for(let et=0;et<Oe;++et){var Ce=Ne[et],fe=Ce>>16&255,be=Ce>>8&255,Ce=255&Ce,Ie=c(Ce,be,fe);let Ze=Ie in ye?ye[Ie]:ye[Ie]=g();Ze.rc+=Ce,Ze.gc+=be,Ze.bc+=fe,Ze.cnt++}else for(let et=0;et<Oe;++et){var We=Ne[et],Ue=We>>16&255,Fe=We>>8&255,We=255&We,rt=o(We,Fe,Ue);let Ze=rt in ye?ye[rt]:ye[rt]=g();Ze.rc+=We,Ze.gc+=Fe,Ze.bc+=Ue,Ze.cnt++}return ye}(B,z),J=q.length,te=J-1,se=new Uint32Array(J+1);for(var ce=0,ne=0;ne<J;++ne){const Ne=q[ne];Ne!=null&&(Ee=1/Ne.cnt,D&&(Ne.ac*=Ee),Ne.rc*=Ee,Ne.gc*=Ee,Ne.bc*=Ee,q[ce++]=Ne)}y(W)/ce<.022&&(L=!1);for(var ae,de,Q,ne=0;ne<ce-1;++ne)q[ne].fw=ne+1,q[ne+1].bk=ne,L&&(q[ne].cnt=Math.sqrt(q[ne].cnt));for(L&&(q[ne].cnt=Math.sqrt(q[ne].cnt)),ne=0;ne<ce;++ne){m(q,ne,!1);var ie=q[ne].err;for(de=++se[0];1<de&&(Q=de>>1,!(q[ae=se[Q]].err<=ie));de=Q)se[de]=ae;se[de]=ne}var me,ve=ce-W;for(ne=0;ne<ve;){for(;;){var he=se[1];if((me=q[he]).tm>=me.mtm&&q[me.nn].mtm<=me.tm)break;for(me.mtm==te?he=se[1]=se[se[0]--]:(m(q,he,!1),me.tm=ne),ie=q[he].err,de=1;(Q=de+de)<=se[0]&&(Q<se[0]&&q[se[Q]].err>q[se[Q+1]].err&&Q++,!(ie<=q[ae=se[Q]].err));de=Q)se[de]=ae;se[de]=he}var xe=q[me.nn],Te=me.cnt,Ae=xe.cnt,Ee=1/(Te+Ae);D&&(me.ac=Ee*(Te*me.ac+Ae*xe.ac)),me.rc=Ee*(Te*me.rc+Ae*xe.rc),me.gc=Ee*(Te*me.gc+Ae*xe.gc),me.bc=Ee*(Te*me.bc+Ae*xe.bc),me.cnt+=xe.cnt,me.mtm=++ne,q[xe.bk].fw=xe.fw,q[xe.fw].bk=xe.bk,xe.mtm=te}let ze=[];for(ne=0;;0){let Ne=d(Math.round(q[ne].rc),0,255),Xe=d(Math.round(q[ne].gc),0,255),Ve=d(Math.round(q[ne].bc),0,255),ye=255;D&&(ye=d(Math.round(q[ne].ac),0,255),C&&(Be=typeof C=="number"?C:127,ye=ye<=Be?0:255),Y&&ye<=G&&(Ne=Xe=Ve=Z,ye=0));var Be=D?[Ne,Xe,Ve,ye]:[Ne,Xe,Ve];if(function(Oe,je){for(let H=0;H<Oe.length;H++){var $=Oe[H],X=$[0]===je[0]&&$[1]===je[1]&&$[2]===je[2],$=!(4<=$.length&&4<=je.length)||$[3]===je[3];if(X&&$)return!0}return!1}(ze,Be)||ze.push(Be),(ne=q[ne].fw)==0)break}return ze},snapColorsToPalette:()=>function(B,W,N=5){if(B.length&&W.length){var z=B.map(L=>L.slice(0,3)),Y=N*N,Z=B[0].length;for(let L=0;L<W.length;L++){let D=W[L];D=D.length<Z?[D[0],D[1],D[2],255]:D.length>Z?D.slice(0,3):D.slice();var C=M(z,D.slice(0,3),b),G=C[0],C=C[1];0<C&&C<=Y&&(B[G]=D)}}}};for(f in i)u(s,f,{get:i[f],enumerable:!0});var p={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function h(B=256){let W=0,N=new Uint8Array(B);return{get buffer(){return N.buffer},reset(){W=0},bytesView(){return N.subarray(0,W)},bytes(){return N.slice(0,W)},writeByte(Y){z(W+1),N[W]=Y,W++},writeBytes(Y,Z=0,G=Y.length){z(W+G);for(let C=0;C<G;C++)N[W++]=Y[C+Z]},writeBytesView(Y,Z=0,G=Y.byteLength){z(W+G),N.set(Y.subarray(Z,Z+G),W),W+=G}};function z(Y){var Z=N.length;if(!(Y<=Z)){Y=Math.max(Y,Z*(Z<1048576?2:1.125)>>>0),Z!=0&&(Y=Math.max(Y,256));const G=N;N=new Uint8Array(Y),0<W&&N.set(G.subarray(0,W),0)}}}var r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],n=function(B,W,N,D,Y=h(512),Z=new Uint8Array(256),G=new Int32Array(5003),C=new Int32Array(5003)){var L=G.length,D=Math.max(2,D);Z.fill(0),C.fill(0),G.fill(-1);let q=0,J=0;var te=D+1;const se=te;let ce=!1,ne=se,ae=(1<<ne)-1;var de=1<<te-1;const Q=1+de;let ie=2+de,me=0,ve=N[0],he=0;for(let Be=L;Be<65536;Be*=2)++he;he=8-he,Y.writeByte(D),ze(de);var xe=N.length;for(let Be=1;Be<xe;Be++)e:{var Te=N[Be],Ae=(Te<<12)+ve;let Ne=Te<<he^ve;if(G[Ne]===Ae)ve=C[Ne];else{for(var Ee=Ne===0?1:L-Ne;0<=G[Ne];)if((Ne-=Ee)<0&&(Ne+=L),G[Ne]===Ae){ve=C[Ne];break e}ze(ve),ve=Te,ie<4096?(C[Ne]=ie++,G[Ne]=Ae):(G.fill(-1),ie=2+de,ce=!0,ze(de))}}return ze(ve),ze(Q),Y.writeByte(0),Y.bytesView();function ze(Be){for(q&=r[J],0<J?q|=Be<<J:q=Be,J+=ne;8<=J;)Z[me++]=255&q,254<=me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0),q>>=8,J-=8;if((ie>ae||ce)&&(ce?(ne=se,ae=(1<<ne)-1,ce=!1):(++ne,ae=ne===12?1<<ne:(1<<ne)-1)),Be==Q){for(;0<J;)Z[me++]=255&q,254<=me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0),q>>=8,J-=8;0<me&&(Y.writeByte(me),Y.writeBytesView(Z,0,me),me=0)}}};function o(B,W,N){return B<<8&63488|W<<2&992|N>>3}function a(B,W,N,z){return B>>4|240&W|(240&N)<<4|(240&z)<<8}function c(B,W,N){return B>>4<<8|240&W|N>>4}function d(B,W,N){return B<W?W:N<B?N:B}function y(B){return B*B}function m(B,W,N){var z=0,Y=1e100;const Z=B[W];for(var G=Z.cnt,C=Z.ac,L=Z.rc,D=Z.gc,q=Z.bc,J=Z.fw;J!=0;J=B[J].fw){var te,se=B[J],ce=se.cnt,ce=G*ce/(G+ce);Y<=ce||(te=0,N&&Y<=(te+=ce*y(se.ac-C))||Y<=(te+=ce*y(se.rc-L))||Y<=(te+=ce*y(se.gc-D))||Y<=(te+=ce*y(se.bc-q))||(Y=te,z=J))}Z.err=Y,Z.nn=z}function g(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function b(B,W){for(var N=0,z=0;z<B.length;z++){var Y=B[z]-W[z];N+=Y*Y}return N}function w(B,W){return 1<W?Math.round(B/W)*W:B}function _(B){return B*B}function S(B,W,N=b){let z=1/0,Y=-1;for(let G=0;G<B.length;G++){var Z=N(W,B[G]);Z<z&&(z=Z,Y=G)}return Y}function M(B,W,N=b){let z=1/0,Y=-1;for(let G=0;G<B.length;G++){var Z=N(W,B[G]);Z<z&&(z=Z,Y=G)}return[Y,z]}function k(B={}){const{initialCapacity:W=4096,auto:N=!0}=B,z=h(W),Y=new Uint8Array(256),Z=new Int32Array(5003),G=new Int32Array(5003);let C=!1;return{reset(){z.reset(),C=!1},finish(){z.writeByte(p.trailer)},bytes(){return z.bytes()},bytesView(){return z.bytesView()},get buffer(){return z.buffer},get stream(){return z},writeHeader:L,writeFrame(D,q,J,ve={}){var{transparent:se=!1,transparentIndex:ce=0,delay:Ee=0,palette:ne=null,repeat:xe=0,colorDepth:ae=8,dispose:de=-1}=ve;let Q=!1;if(N?C||(Q=!0,L(),C=!0):Q=!!ve.first,q=Math.max(0,Math.floor(q)),J=Math.max(0,Math.floor(J)),Q){if(!ne)throw new Error("First frame must include a { palette } option");var[ve,Te,me,Ae,he=8]=[z,q,J,ne,ae];Ae=R(Ae.length)-1,he=128|he-1<<4|Ae,A(ve,Te),A(ve,me),ve.writeBytes([he,0,0]),T(z,ne),0<=xe&&(Ae=z,Te=xe,Ae.writeByte(33),Ae.writeByte(255),Ae.writeByte(11),O(Ae,"NETSCAPE2.0"),Ae.writeByte(3),Ae.writeByte(1),A(Ae,Te),Ae.writeByte(0))}var ie,me=Math.round(Ee/10),ve=z,he=de,xe=me,Te=se,Ae=ce,Ee=(ve.writeByte(33),ve.writeByte(249),ve.writeByte(4),Ae<0&&(Ae=0,Te=!1),Te=Te?(ie=1,2):ie=0,0<=he&&(Te=7&he),Te<<=2,ve.writeByte(0|Te|ie),A(ve,xe),ve.writeByte(Ae||0),ve.writeByte(0),!!ne&&!Q);de=z,se=q,ce=J,ie=Ee?ne:null,de.writeByte(44),A(de,0),A(de,0),A(de,se),A(de,ce),ie?(se=R(ie.length)-1,de.writeByte(128|se)):de.writeByte(0),Ee&&T(z,ne),[xe,ve,ce,se,de=8,Ee,ne,D]=[z,D,q,J,ae,Y,Z,G],n(ce,se,ve,de,xe,Ee,ne,D)}};function L(){O(z,"GIF89a")}}function T(B,W){var N=1<<R(W.length);for(let z=0;z<N;z++){let Y=[0,0,0];z<W.length&&(Y=W[z]),B.writeByte(Y[0]),B.writeByte(Y[1]),B.writeByte(Y[2])}}function A(B,W){B.writeByte(255&W),B.writeByte(W>>8&255)}function O(B,W){for(var N=0;N<W.length;N++)B.writeByte(W.charCodeAt(N))}function R(B){return Math.max(Math.ceil(Math.log2(B)),1)}var U=k},{}],246:[function(t,V,E){E.read=function(f,u,s,i,m){var h,r,n=8*m-i-1,o=(1<<n)-1,a=o>>1,c=-7,d=s?m-1:0,y=s?-1:1,m=f[u+d];for(d+=y,h=m&(1<<-c)-1,m>>=-c,c+=n;0<c;h=256*h+f[u+d],d+=y,c-=8);for(r=h&(1<<-c)-1,h>>=-c,c+=i;0<c;r=256*r+f[u+d],d+=y,c-=8);if(h===0)h=1-a;else{if(h===o)return r?NaN:1/0*(m?-1:1);r+=Math.pow(2,i),h-=a}return(m?-1:1)*r*Math.pow(2,h-i)},E.write=function(f,u,s,i,p,g){var r,n,o=8*g-p-1,a=(1<<o)-1,c=a>>1,d=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:g-1,m=i?1:-1,g=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(n=isNaN(u)?1:0,r=a):(r=Math.floor(Math.log(u)/Math.LN2),u*(i=Math.pow(2,-r))<1&&(r--,i*=2),2<=(u+=1<=r+c?d/i:d*Math.pow(2,1-c))*i&&(r++,i/=2),a<=r+c?(n=0,r=a):1<=r+c?(n=(u*i-1)*Math.pow(2,p),r+=c):(n=u*Math.pow(2,c-1)*Math.pow(2,p),r=0));8<=p;f[s+y]=255&n,y+=m,n/=256,p-=8);for(r=r<<p|n,o+=p;0<o;f[s+y]=255&r,y+=m,r/=256,o-=8);f[s+y-m]|=128*g}},{}],247:[function(t,V,E){var f;function u(X,$){return X.b===$.b&&X.a===$.a}function s(X,$){return X.b<$.b||X.b===$.b&&X.a<=$.a}function i(X,$,H){var ee=$.b-X.b,fe=H.b-$.b;return 0<ee+fe?ee<fe?$.a-X.a+ee/(ee+fe)*(X.a-H.a):$.a-H.a+fe/(ee+fe)*(H.a-X.a):0}function p(X,$,H){var ee=$.b-X.b,fe=H.b-$.b;return 0<ee+fe?($.a-H.a)*ee+($.a-X.a)*fe:0}function h(X,$){return X.a<$.a||X.a===$.a&&X.b<=$.b}function r(X,$,H){var ee=$.a-X.a,fe=H.a-$.a;return 0<ee+fe?ee<fe?$.b-X.b+ee/(ee+fe)*(X.b-H.b):$.b-H.b+fe/(ee+fe)*(H.b-X.b):0}function n(X,$,H){var ee=$.a-X.a,fe=H.a-$.a;return 0<ee+fe?($.b-H.b)*ee+($.b-X.b)*fe:0}function o(X,$,H,ee){return(X=X<0?0:X)<=(H=H<0?0:H)?H===0?($+ee)/2:$+X/(X+H)*(ee-$):ee+H/(X+H)*($-ee)}function a(X){var $=g(X.b);return w($,X.c),w($.b,X.c),_($,X.a),$}function c(X,$){var H=!1,ee=!1;X!==$&&($.a!==X.a&&(ee=!0,M($.a,X.a)),$.d!==X.d&&(H=!0,k($.d,X.d)),b($,X),ee||(w($,X.a),X.a.c=X),H||(_($,X.d),X.d.a=X))}function d(X){var $=X.b,H=!1;X.d!==X.b.d&&(H=!0,k(X.d,X.b.d)),X.c===X?M(X.a,null):(X.b.d.a=X.b.e,X.a.c=X.c,b(X,X.b.e),H||_(X,X.d)),$.c===$?(M($.a,null),k($.d,null)):(X.d.a=$.b.e,$.a.c=$.c,b($,$.b.e)),S(X)}function y(X){var $=g(X),H=$.b;return b($,X.e),$.a=X.b.a,w(H,$.a),$.d=H.d=X.d,$=$.b,b(X.b,X.b.b.e),b(X.b,$),X.b.a=$.a,$.b.a.c=$.b,$.b.d=X.b.d,$.f=X.f,$.b.f=X.b.f,$}function m(X,$){var H=!1,ee=g(X),fe=ee.b;return $.d!==X.d&&(H=!0,k($.d,X.d)),b(ee,X.e),b(fe,$),ee.a=X.b.a,fe.a=$.a,ee.d=fe.d=X.d,X.d.a=fe,H||_(ee,X.d),ee}function g(X){var $=new me,H=new me,ee=X.b.h;return(((H.h=ee).b.h=$).h=X).b.h=H,$.b=H,(($.c=$).e=H).b=$,(H.c=H).e=$}function b(X,$){var H=X.c,ee=$.c;H.b.e=$,(ee.b.e=X).c=ee,$.c=H}function w(X,$){var H=$.f,ee=new he($,H);for(H.e=ee,H=($.f=ee).c=X;H.a=ee,(H=H.c)!==X;);}function _(X,$){var H=$.d,ee=new ie($,H);for(H.b=ee,($.d=ee).a=X,ee.c=$.c,H=X;H.d=ee,(H=H.e)!==X;);}function S(X){var $=X.h;X=X.b.h,($.b.h=X).b.h=$}function M(X,$){for(var H=X.c,ee=H;ee.a=$,(ee=ee.c)!==H;);H=X.f,((ee=X.e).f=H).e=ee}function k(X,$){for(var H=X.a,ee=H;ee.d=$,(ee=ee.e)!==H;);H=X.d,((ee=X.b).d=H).b=ee}function T(X){var $=0;return Math.abs(X[1])>Math.abs(X[0])&&($=1),$=Math.abs(X[2])>Math.abs(X[$])?2:$}function A(X,$){X.f+=$.f,X.b.f+=$.b.f}function O(X,$,H){return X=X.a,$=$.a,H=H.a,$.b.a===X?H.b.a===X?s($.a,H.a)?p(H.b.a,$.a,H.a)<=0:0<=p($.b.a,H.a,$.a):p(H.b.a,X,H.a)<=0:H.b.a===X?0<=p($.b.a,X,$.a):($=i($.b.a,X,$.a),(X=i(H.b.a,X,H.a))<=$)}function R(X){X.a.i=null;var $=X.e;$.a.c=$.c,$.c.a=$.a,X.e=null}function U(X,$){d(X.a),X.c=!1,(X.a=$).i=X}function B(X){for(var $=X.a.a;(X=je(X)).a.a===$;);return X.c&&(U(X,$=m(Oe(X).a.b,X.a.e)),X=je(X)),X}function W(X,$,H){var ee=new ye;return ee.a=H,ee.e=ce(X.f,$.e,ee),H.i=ee}function N(X,$){switch(X.s){case 100130:return(1&$)!=0;case 100131:return $!==0;case 100132:return 0<$;case 100133:return $<0;case 100134:return 2<=$||$<=-2}return!1}function z(X){var $=X.a,H=$.d;H.c=X.d,H.a=$,R(X)}function Y(X,$,H){for($=(X=$).a;X!==H;){X.c=!1;var ee=Oe(X),fe=ee.a;if(fe.a!==$.a){if(!ee.c){z(X);break}U(ee,fe=m($.c.b,fe.b))}$.c!==fe&&(c(fe.b.e,fe),c($,fe)),z(X),$=ee.a,X=ee}return $}function Z(X,$,H,ee,fe,be){for(var Ce=!0;W(X,$,H.b),(H=H.c)!==ee;);for(fe===null&&(fe=Oe($).a.b.c);(H=(ee=Oe($)).a.b).a===fe.a;)H.c!==fe&&(c(H.b.e,H),c(fe.b.e,H)),ee.f=$.f-H.f,ee.d=N(X,ee.f),$.b=!0,!Ce&&D(X,$)&&(A(H,fe),R($),d(fe)),Ce=!1,$=ee,fe=H;$.b=!0,be&&J(X,$)}function G(X,$,H,ee,fe){var be=[$.g[0],$.g[1],$.g[2]];$.d=null,$.d=X.o&&X.o(be,H,ee,X.c)||null,$.d===null&&(fe?X.n||(Q(X,100156),X.n=!0):$.d=H[0])}function C(X,$,H){var ee=[null,null,null,null];ee[0]=$.a.d,ee[1]=H.a.d,G(X,$.a,ee,[.5,.5,0,0],!1),c($,H)}function L(X,$,H,ee,fe){var be=Math.abs($.b-X.b)+Math.abs($.a-X.a),Ce=Math.abs(H.b-X.b)+Math.abs(H.a-X.a),Ie=fe+1;ee[fe]=.5*Ce/(be+Ce),ee[Ie]=.5*be/(be+Ce),X.g[0]+=ee[fe]*$.g[0]+ee[Ie]*H.g[0],X.g[1]+=ee[fe]*$.g[1]+ee[Ie]*H.g[1],X.g[2]+=ee[fe]*$.g[2]+ee[Ie]*H.g[2]}function D(X,$){var H=Oe($),ee=$.a,fe=H.a;if(s(ee.a,fe.a)){if(0<p(fe.b.a,ee.a,fe.a))return;if(u(ee.a,fe.a)){if(ee.a!==fe.a){var H=X.e,be=ee.a.h;if(0<=be){var Ce=(H=H.b).d,Ie=H.e,Ue=H.c,Fe=Ue[be];Ce[Fe]=Ce[H.a],(Ue[Ce[Fe]]=Fe)<=--H.a&&(Fe<=1||s(Ie[Ce[Fe>>1]],Ie[Ce[Fe]])?Xe:Ve)(H,Fe),Ie[be]=null,Ue[be]=H.b,H.b=be}else for(H.c[-(be+1)]=null;0<H.a&&H.c[H.d[H.a-1]]===null;)--H.a;C(X,fe.b.e,ee)}}else y(fe.b),c(ee,fe.b.e),$.b=H.b=!0}else{if(p(ee.b.a,fe.a,ee.a)<0)return;je($).b=$.b=!0,y(ee.b),c(fe.b.e,ee)}return 1}function q(X,$){var H=Oe($),ee=$.a,fe=H.a,be=ee.a,Ce=fe.a,Ie=ee.b.a,Ue=fe.b.a,Fe=new he;if(p(Ie,X.a,be),p(Ue,X.a,Ce),!(be===Ce||Math.min(be.a,Ie.a)>Math.max(Ce.a,Ue.a))){if(s(be,Ce)){if(0<p(Ue,be,Ce))return}else if(p(Ie,Ce,be)<0)return;var We,rt,et=Ie,Ze=be,tt=Ue,Qe=Ce;if(s(et,Ze)||(We=et,et=Ze,Ze=We),s(tt,Qe)||(We=tt,tt=Qe,Qe=We),s(et,tt)||(We=et,et=tt,tt=We,We=Ze,Ze=Qe,Qe=We),s(tt,Ze)?s(Ze,Qe)?((We=i(et,tt,Ze))+(rt=i(tt,Ze,Qe))<0&&(We=-We,rt=-rt),Fe.b=o(We,tt.b,rt,Ze.b)):((We=p(et,tt,Ze))+(rt=-p(et,Qe,Ze))<0&&(We=-We,rt=-rt),Fe.b=o(We,tt.b,rt,Qe.b)):Fe.b=(tt.b+Ze.b)/2,h(et,Ze)||(We=et,et=Ze,Ze=We),h(tt,Qe)||(We=tt,tt=Qe,Qe=We),h(et,tt)||(We=et,et=tt,tt=We,We=Ze,Ze=Qe,Qe=We),h(tt,Ze)?h(Ze,Qe)?((We=r(et,tt,Ze))+(rt=r(tt,Ze,Qe))<0&&(We=-We,rt=-rt),Fe.a=o(We,tt.a,rt,Ze.a)):((We=n(et,tt,Ze))+(rt=-n(et,Qe,Ze))<0&&(We=-We,rt=-rt),Fe.a=o(We,tt.a,rt,Qe.a)):Fe.a=(tt.a+Ze.a)/2,s(Fe,X.a)&&(Fe.b=X.a.b,Fe.a=X.a.a),et=s(be,Ce)?be:Ce,s(et,Fe)&&(Fe.b=et.b,Fe.a=et.a),u(Fe,be)||u(Fe,Ce))return D(X,$),0;if(!u(Ie,X.a)&&0<=p(Ie,X.a,Fe)||!u(Ue,X.a)&&p(Ue,X.a,Fe)<=0){if(Ue===X.a)y(ee.b),c(fe.b,ee),ee=Oe($=B($)).a,Y(X,Oe($),H),Z(X,$,ee.b.e,ee,ee,!0);else{if(Ie!==X.a)return 0<=p(Ie,X.a,Fe)&&(je($).b=$.b=!0,y(ee.b),ee.a.b=X.a.b,ee.a.a=X.a.a),void(p(Ue,X.a,Fe)<=0&&($.b=H.b=!0,y(fe.b),fe.a.b=X.a.b,fe.a.a=X.a.a));for(y(fe.b),c(ee.e,fe.b.e),Ce=(be=H=$).a.b.a;(be=je(be)).a.b.a===Ce;);be=Oe($=be).a.b.c,H.a=fe.b.e,Z(X,$,(fe=Y(X,H,null)).c,ee.b.c,be,!0)}return 1}y(ee.b),y(fe.b),c(fe.b.e,ee),ee.a.b=Fe.b,ee.a.a=Fe.a,ee.a.h=Te(X.e,ee.a),ee=ee.a,fe=[0,0,0,0],Fe=[be.d,Ie.d,Ce.d,Ue.d],ee.g[0]=ee.g[1]=ee.g[2]=0,L(ee,be,Ie,fe,0),L(ee,Ce,Ue,fe,2),G(X,ee,Fe,fe,!0),je($).b=$.b=H.b=!0}}function J(X,$){for(var H=Oe($);;){for(;H.b;)H=Oe($=H);if(!$.b&&(($=je(H=$))===null||!$.b))break;$.b=!1;var ee=$.a,fe=H.a;if(be=ee.b.a!==fe.b.a)e:{var be,Ce=Oe(be=$),Ie=be.a,Ue=Ce.a,Fe=void 0;if(s(Ie.b.a,Ue.b.a)){if(p(Ie.b.a,Ue.b.a,Ie.a)<0){be=!1;break e}je(be).b=be.b=!0,Fe=y(Ie),c(Ue.b,Fe),Fe.d.c=be.d}else{if(0<p(Ue.b.a,Ie.b.a,Ue.a)){be=!1;break e}be.b=Ce.b=!0,Fe=y(Ue),c(Ie.e,Ue.b),Fe.b.d.c=be.d}be=!0}if(be&&(H.c?(R(H),d(fe),fe=(H=Oe($)).a):$.c&&(R($),d(ee),ee=($=je(H)).a)),ee.a!==fe.a){if(ee.b.a===fe.b.a||$.c||H.c||ee.b.a!==X.a&&fe.b.a!==X.a)D(X,$);else if(q(X,$))break}ee.a===fe.a&&ee.b.a===fe.b.a&&(A(fe,ee),R($),d(ee),$=je(H))}}function te(X,$){var H=new ye,ee=a(X.b);ee.a.b=4e150,ee.a.a=$,ee.b.a.b=-4e150,ee.b.a.a=$,X.a=ee.b.a,H.a=ee,H.f=0,H.d=!1,H.c=!1,H.h=!0,H.b=!1,ee=ce(ee=X.f,ee.a,H),H.e=ee}function se(X){this.a=new ne,this.b=X,this.c=O}function ce(X,$,H){for(;($=$.c).b!==null&&!X.c(X.b,$.b,H););return X=new ne(H,$.a,$),$.a.c=X,$.a=X}function ne(X,$,H){this.b=X||null,this.a=$||this,this.c=H||this}function ae(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function de(X,$){if(X.d!==$)for(;X.d!==$;)if(X.d<$)switch(X.d){case 0:Q(X,100151),X.u(null);break;case 1:Q(X,100152),X.t()}else switch(X.d){case 2:Q(X,100154),X.v();break;case 1:Q(X,100153),X.w()}}function Q(X,$){X.p&&X.p($,X.c)}function ie(X,$){this.b=X||this,this.d=$||this,this.a=null,this.c=!1}function me(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ve(){this.c=new he,this.a=new ie,this.b=new me,this.d=new me,this.b.b=this.d,this.d.b=this.b}function he(X,$){this.e=X||this,this.f=$||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function xe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Ee}function Te(X,$){var H,ee,fe;return X.e?(2*(ee=++(H=X.b).a)>H.f&&(H.f*=2,H.c=ze(H.c,H.f+1)),H.b===0?fe=ee:(fe=H.b,H.b=H.c[H.b]),H.e[fe]=$,H.c[fe]=ee,H.d[ee]=fe,H.h&&Ve(H,ee),fe):(H=X.a++,X.c[H]=$,-(H+1))}function Ae(X){if(X.a===0)return Ne(X.b);var $=X.c[X.d[X.a-1]];if(X.b.a!==0&&s(Be(X.b),$))return Ne(X.b);for(;--X.a,0<X.a&&X.c[X.d[X.a-1]]===null;);return $}function Ee(){this.d=ze([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ze(X,$){for(var H=Array($),ee=0;ee<X.length;ee++)H[ee]=X[ee];for(;ee<$;ee++)H[ee]=0;return H}function Be(X){return X.e[X.d[1]]}function Ne(X){var $=X.d,H=X.e,ee=X.c,fe=$[1],be=H[fe];return 0<X.a&&($[1]=$[X.a],ee[$[1]]=1,H[fe]=null,ee[fe]=X.b,X.b=fe,0<--X.a&&Xe(X,1)),be}function Xe(X,$){for(var H=X.d,ee=X.e,fe=X.c,be=$,Ce=H[be];;){var Ie=be<<1,Ue=(Ie<X.a&&s(ee[H[Ie+1]],ee[H[Ie]])&&(Ie+=1),H[Ie]);if(Ie>X.a||s(ee[Ce],ee[Ue])){fe[H[be]=Ce]=be;break}fe[H[be]=Ue]=be,be=Ie}}function Ve(X,$){for(var H=X.d,ee=X.e,fe=X.c,be=$,Ce=H[be];;){var Ie=be>>1,Ue=H[Ie];if(Ie==0||s(ee[Ue],ee[Ce])){fe[H[be]=Ce]=be;break}fe[H[be]=Ue]=be,be=Ie}}function ye(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Oe(X){return X.e.c.b}function je(X){return X.e.a.b}(f=ae.prototype).x=function(){de(this,0)},f.B=function(X,$){switch(X){case 100142:return;case 100140:switch($){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=$)}break;case 100141:return void(this.m=!!$);default:return void Q(this,100900)}Q(this,100901)},f.y=function(X){switch(X){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Q(this,100900)}return!1},f.A=function(X,$,H){this.j[0]=X,this.j[1]=$,this.j[2]=H},f.z=function(X,$){var H=$||null;switch(X){case 100100:case 100106:this.h=H;break;case 100104:case 100110:this.l=H;break;case 100101:case 100107:this.k=H;break;case 100102:case 100108:this.i=H;break;case 100103:case 100109:this.p=H;break;case 100105:case 100111:this.o=H;break;case 100112:this.r=H;break;default:Q(this,100900)}},f.C=function(X,$){var H=!1,ee=[0,0,0];de(this,2);for(var fe=0;fe<3;++fe){var be=X[fe];be<-1e150&&(be=-1e150,H=!0),1e150<be&&(be=1e150,H=!0),ee[fe]=be}H&&Q(this,100155),(H=this.q)===null?c(H=a(this.b),H.b):(y(H),H=H.e),H.a.d=$,H.a.g[0]=ee[0],H.a.g[1]=ee[1],H.a.g[2]=ee[2],H.f=1,H.b.f=-1,this.q=H},f.u=function(X){de(this,0),this.d=1,this.b=new ve,this.c=X},f.t=function(){de(this,1),this.d=2,this.q=null},f.v=function(){de(this,2),this.d=1},f.w=function(){de(this,1),this.d=0;var X,$,H=this.j[0],ee=this.j[1],fe=this.j[2],be=!1,Ce=[H,ee,fe];if(H===0&&ee===0&&fe===0){for(var ee=[-2e150,-2e150,-2e150],Ie=[2e150,2e150,2e150],fe=[],Ue=[],H=(be=this.b.c).e;H!==be;H=H.e)for(var Fe=0;Fe<3;++Fe){var We=H.g[Fe];We<Ie[Fe]&&(Ie[Fe]=We,Ue[Fe]=H),We>ee[Fe]&&(ee[Fe]=We,fe[Fe]=H)}if(ee[1]-Ie[1]>ee[H=0]-Ie[0]&&(H=1),Ie[H=ee[2]-Ie[2]>ee[H]-Ie[H]?2:H]>=ee[H])Ce[0]=0,Ce[1]=0,Ce[2]=1;else{for(Ie=Ue[H],fe=fe[H],Ue=[ee=0,0,0],Ie=[Ie.g[0]-fe.g[0],Ie.g[1]-fe.g[1],Ie.g[2]-fe.g[2]],Fe=[0,0,0],H=be.e;H!==be;H=H.e)Fe[0]=H.g[0]-fe.g[0],Fe[1]=H.g[1]-fe.g[1],Fe[2]=H.g[2]-fe.g[2],Ue[0]=Ie[1]*Fe[2]-Ie[2]*Fe[1],Ue[1]=Ie[2]*Fe[0]-Ie[0]*Fe[2],Ue[2]=Ie[0]*Fe[1]-Ie[1]*Fe[0],ee<(We=Ue[0]*Ue[0]+Ue[1]*Ue[1]+Ue[2]*Ue[2])&&(ee=We,Ce[0]=Ue[0],Ce[1]=Ue[1],Ce[2]=Ue[2]);ee<=0&&(Ce[0]=Ce[1]=Ce[2]=0,Ce[T(Ie)]=1)}be=!0}for(Ue=T(Ce),H=this.b.c,ee=(Ue+1)%3,fe=(Ue+2)%3,Ue=0<Ce[Ue]?1:-1,Ce=H.e;Ce!==H;Ce=Ce.e)Ce.b=Ce.g[ee],Ce.a=Ue*Ce.g[fe];if(be){for(Ce=0,H=(be=this.b.a).b;H!==be;H=H.b)if(!((ee=H.a).f<=0))for(;Ce+=(ee.a.b-ee.b.a.b)*(ee.a.a+ee.b.a.a),(ee=ee.e)!==H.a;);if(Ce<0)for(be=(Ce=this.b.c).e;be!==Ce;be=be.e)be.a=-be.a}for(this.n=!1,Ce=this.b.b,H=Ce.h;H!==Ce;H=be)be=H.h,ee=H.e,u(H.a,H.b.a)&&H.e.e!==H&&(C(this,ee,H),d(H),ee=(H=ee).e),ee.e===H&&(ee!==H&&(ee!==be&&ee!==be.b||(be=be.h),d(ee)),H!==be&&H!==be.b||(be=be.h),d(H));for(this.e=Ce=new xe,be=this.b.c,H=be.e;H!==be;H=H.e)H.h=Te(Ce,H);var rt=Ce;rt.d=[];for(var et=0;et<rt.a;et++)rt.d[et]=et;rt.d.sort(function(Qe){return function(mt,Ut){return s(Qe[mt],Qe[Ut])?1:-1}}(rt.c)),rt.e=!0;for(var Ze=rt.b,tt=Ze.a;1<=tt;--tt)Xe(Ze,tt);for(Ze.h=!0,this.f=new se(this),te(this,-4e150),te(this,4e150);(Ce=Ae(this.e))!==null;){for(;;){e:if((H=this.e).a===0)be=Be(H.b);else if(be=H.c[H.d[H.a-1]],H.b.a!==0&&s(H=Be(H.b),be)){be=H;break e}if(be===null||!u(be,Ce))break;be=Ae(this.e),C(this,Ce.c,be.c)}(function Qe(mt,Ut){for(var St,ct=(mt.a=Ut).c;ct.i===null;)if((ct=ct.c)===Ut.c){var ct=mt,gt=Ut;(ht=new ye).a=gt.c.b;for(var Rt=(lt=ct.f).a;(Rt=Rt.a).b!==null&&!lt.c(lt.b,ht,Rt.b););var lt,At,Ct=Oe(lt=Rt.b),ht=lt.a,Rt=Ct.a;return void(p(ht.b.a,gt,ht.a)===0?u((ht=lt.a).a,gt)||u(ht.b.a,gt)||(y(ht.b),lt.c&&(d(ht.c),lt.c=!1),c(gt.c,ht),Qe(ct,gt)):(At=s(Rt.b.a,ht.b.a)?lt:Ct,Ct=void 0,lt.d||At.c?(Ct=At===lt?m(gt.c.b,ht.e):m(Rt.b.c.b,gt.c).b,At.c?U(At,Ct):((lt=W(ht=ct,lt,Ct)).f=je(lt).f+lt.a.f,lt.d=N(ht,lt.f)),Qe(ct,gt)):Z(ct,lt,gt.c,gt.c,null,!0)))}lt=(ht=Oe(ct=B(ct.i))).a,(ht=Y(mt,ht,null)).c===lt?(ht=(lt=ht).c,Rt=Oe(ct),Ct=ct.a,At=Rt.a,St=!1,Ct.b.a!==At.b.a&&q(mt,ct),u(Ct.a,mt.a)&&(c(ht.b.e,Ct),ht=Oe(ct=B(ct)).a,Y(mt,Oe(ct),Rt),St=!0),u(At.a,mt.a)&&(c(lt,At.b.e),lt=Y(mt,Rt,null),St=!0),St?Z(mt,ct,lt.c,ht,ht,!0):(gt=s(At.a,Ct.a)?At.b.e:Ct,Z(mt,ct,gt=m(lt.c.b,gt),gt.c,gt.c,!1),gt.b.i.c=!0,J(mt,ct))):Z(mt,ct,ht.c,lt,lt,!0)})(this,Ce)}for(this.a=this.f.a.a.b.a.a,Ce=0;(be=this.f.a.a.b)!==null;)be.h||++Ce,R(be);for(this.f=null,(Ce=this.e).b=null,Ce.d=null,this.e=Ce.c=null,Ce=this.b,H=Ce.a.b;H!==Ce.a;H=be)be=H.b,(H=H.a).e.e===H&&(A(H.c,H),d(H));if(!this.n){if(Ce=this.b,this.m)for(H=Ce.b.h;H!==Ce.b;H=be)be=H.h,H.b.d.c!==H.d.c?H.f=H.d.c?1:-1:d(H);else for(H=Ce.a.b;H!==Ce.a;H=be)if(be=H.b,H.c){for(H=H.a;s(H.b.a,H.a);H=H.c.b);for(;s(H.a,H.b.a);H=H.e);for(ee=H.c.b,fe=void 0;H.e!==ee;)if(s(H.b.a,ee.a)){for(;ee.e!==H&&(s(($=ee.e).b.a,$.a)||p(ee.a,ee.b.a,ee.e.b.a)<=0);)ee=(fe=m(ee.e,ee)).b;ee=ee.c.b}else{for(;ee.e!==H&&(s((X=H.c.b).a,X.b.a)||0<=p(H.b.a,H.a,H.c.b.a));)H=(fe=m(H,H.c.b)).b;H=H.e}for(;ee.e.e!==H;)fe=m(ee.e,ee),ee=fe.b}if(this.h||this.i||this.k||this.l)if(this.m){for(be=(Ce=this.b).a.b;be!==Ce.a;be=be.b)if(be.c){for(this.h&&this.h(2,this.c),H=be.a;this.k&&this.k(H.a.d,this.c),(H=H.e)!==be.a;);this.i&&this.i(this.c)}}else{for(Ce=this.b,be=!!this.l,H=!1,ee=-1,fe=Ce.a.d;fe!==Ce.a;fe=fe.d)if(fe.c)for(H||(this.h&&this.h(4,this.c),H=!0),Ue=fe.a;be&&(Ie=Ue.b.d.c?0:1,ee!==Ie&&(ee=Ie,this.l&&this.l(!!ee,this.c))),this.k&&this.k(Ue.a.d,this.c),(Ue=Ue.e)!==fe.a;);H&&this.i&&this.i(this.c)}if(this.r){for(Ce=this.b,H=Ce.a.b;H!==Ce.a;H=be)if(be=H.b,!H.c){for(fe=(ee=H.a).e,Ue=void 0;fe=(Ue=fe).e,(Ue.d=null)===Ue.b.d&&(Ue.c===Ue?M(Ue.a,null):(Ue.a.c=Ue.c,b(Ue,Ue.b.e)),(Ie=Ue.b).c===Ie?M(Ie.a,null):(Ie.a.c=Ie.c,b(Ie,Ie.b.e)),S(Ue)),Ue!==ee;);ee=H.d,((H=H.b).d=ee).b=H}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ae,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ae.prototype.gluDeleteTess=ae.prototype.x,ae.prototype.gluTessProperty=ae.prototype.B,ae.prototype.gluGetTessProperty=ae.prototype.y,ae.prototype.gluTessNormal=ae.prototype.A,ae.prototype.gluTessCallback=ae.prototype.z,ae.prototype.gluTessVertex=ae.prototype.C,ae.prototype.gluTessBeginPolygon=ae.prototype.u,ae.prototype.gluTessBeginContour=ae.prototype.t,ae.prototype.gluTessEndContour=ae.prototype.v,ae.prototype.gluTessEndPolygon=ae.prototype.w,V!==void 0&&(V.exports=this.libtess)},{}],248:[function(t,V,E){function f(s,i,p,h){var r=0,n=(h=h===void 0?{}:h).loop===void 0?null:h.loop,o=h.palette===void 0?null:h.palette;if(i<=0||p<=0||65535<i||65535<p)throw new Error("Width/Height invalid.");function a(_){if(_=_.length,_<2||256<_||_&_-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return _}s[r++]=71,s[r++]=73,s[r++]=70,s[r++]=56,s[r++]=57,s[r++]=97;var c=0,d=0;if(o!==null){for(var y=a(o);y>>=1;)++c;if(y=1<<c,--c,h.background!==void 0){if(y<=(d=h.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(s[r++]=255&i,s[r++]=i>>8&255,s[r++]=255&p,s[r++]=p>>8&255,s[r++]=(o!==null?128:0)|c,s[r++]=d,s[r++]=0,o!==null)for(var m=0,g=o.length;m<g;++m){var b=o[m];s[r++]=b>>16&255,s[r++]=b>>8&255,s[r++]=255&b}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");s[r++]=33,s[r++]=255,s[r++]=11,s[r++]=78,s[r++]=69,s[r++]=84,s[r++]=83,s[r++]=67,s[r++]=65,s[r++]=80,s[r++]=69,s[r++]=50,s[r++]=46,s[r++]=48,s[r++]=3,s[r++]=1,s[r++]=255&n,s[r++]=n>>8&255,s[r++]=0}var w=!1;this.addFrame=function(_,S,M,k,T,A){if(w===!0&&(--r,w=!1),A=A===void 0?{}:A,_<0||S<0||65535<_||65535<S)throw new Error("x/y invalid.");if(M<=0||k<=0||65535<M||65535<k)throw new Error("Width/Height invalid.");if(T.length<M*k)throw new Error("Not enough pixels for the frame size.");var O=!0,R=A.palette;if(R==null&&(O=!1,R=o),R==null)throw new Error("Must supply either a local or global palette.");for(var B=a(R),U=0;B>>=1;)++U;var B=1<<U,W=A.delay===void 0?0:A.delay,N=A.disposal===void 0?0:A.disposal;if(N<0||3<N)throw new Error("Disposal out of range.");var z=!1,Y=0;if(A.transparent!==void 0&&A.transparent!==null&&(z=!0,(Y=A.transparent)<0||B<=Y))throw new Error("Transparent color index.");if(N===0&&!z&&W===0||(s[r++]=33,s[r++]=249,s[r++]=4,s[r++]=N<<2|(z===!0?1:0),s[r++]=255&W,s[r++]=W>>8&255,s[r++]=Y,s[r++]=0),s[r++]=44,s[r++]=255&_,s[r++]=_>>8&255,s[r++]=255&S,s[r++]=S>>8&255,s[r++]=255&M,s[r++]=M>>8&255,s[r++]=255&k,s[r++]=k>>8&255,s[r++]=O===!0?128|U-1:0,O===!0)for(var Z=0,G=R.length;Z<G;++Z){var C=R[Z];s[r++]=C>>16&255,s[r++]=C>>8&255,s[r++]=255&C}return r=function(L,D,q,J){L[D++]=q;var te=D++,se=1<<q,ce=se-1,ne=1+se,ae=1+ne,de=q+1,Q=0,ie=0;function me(Ne){for(;Ne<=Q;)L[D++]=255&ie,ie>>=8,Q-=8,D===te+256&&(L[te]=255,te=D++)}function ve(Ne){ie|=Ne<<Q,Q+=de,me(8)}var he=J[0]&ce,xe={};ve(se);for(var Te=1,Ae=J.length;Te<Ae;++Te){var Ee=J[Te]&ce,ze=he<<8|Ee,Be=xe[ze];if(Be===void 0){for(ie|=he<<Q,Q+=de;8<=Q;)L[D++]=255&ie,ie>>=8,Q-=8,D===te+256&&(L[te]=255,te=D++);ae===4096?(ve(se),ae=1+ne,de=q+1,xe={}):(1<<de<=ae&&++de,xe[ze]=ae++),he=Ee}else he=Be}return ve(he),ve(ne),me(1),te+1===D?L[te]=0:(L[te]=D-te-1,L[D++]=0),D}(s,r,U<2?2:U,T)},this.end=function(){return w===!1&&(s[r++]=59,w=!0),r},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(_){s=_},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(_){r=_}}function u(s,i,p,h){for(var r=s[i++],n=1<<r,o=1+n,a=1+o,c=r+1,d=(1<<c)-1,y=0,m=0,g=0,b=s[i++],w=new Int32Array(4096),_=null;;){for(;y<16&&b!==0;)m|=s[i++]<<y,y+=8,b===1?b=s[i++]:--b;if(y<c)break;var S=m&d;if(m>>=c,y-=c,S==n)a=1+o,d=(1<<(c=r+1))-1,_=null;else{if(S==o)break;for(var M=S<a?S:_,k=0,T=M;n<T;)T=w[T]>>8,++k;var A=T;if(h<g+k+(M!==S?1:0))return void console.log("Warning, gif stream longer than expected.");p[g++]=A;var O=g+=k;for(M!==S&&(p[g++]=A),T=M;k--;)T=w[T],p[--O]=255&T,T>>=8;_!==null&&a<4096&&(w[a++]=_<<8|A,d+1<=a&&c<12&&(++c,d=d<<1|1)),_=S}}g!==h&&console.log("Warning, gif stream shorter than expected.")}try{E.GifWriter=f,E.GifReader=function(s){var i=0;if(s[i++]!==71||s[i++]!==73||s[i++]!==70||s[i++]!==56||(s[i++]+1&253)!=56||s[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=s[i++]|s[i++]<<8,h=s[i++]|s[i++]<<8,r=s[i++],n=1<<1+(7&r),o=(s[i++],s[i++],null),a=null,c=(r>>7&&(o=i,i+=3*(a=n)),!0),d=[],y=0,m=null,g=0,b=null;for(this.width=p,this.height=h;c&&i<s.length;)switch(s[i++]){case 33:switch(s[i++]){case 255:if(s[i]!==11||s[i+1]==78&&s[i+2]==69&&s[i+3]==84&&s[i+4]==83&&s[i+5]==67&&s[i+6]==65&&s[i+7]==80&&s[i+8]==69&&s[i+9]==50&&s[i+10]==46&&s[i+11]==48&&s[i+12]==3&&s[i+13]==1&&s[i+16]==0)i+=14,b=s[i++]|s[i++]<<8,i++;else for(i+=12;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}break;case 249:if(s[i++]!==4||s[i+4]!==0)throw new Error("Invalid graphics extension block.");var w=s[i++],y=s[i++]|s[i++]<<8,m=s[i++];!(1&w)&&(m=null),g=w>>2&7,i++;break;case 254:for(;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}break;default:throw new Error("Unknown graphic control label: 0x"+s[i-1].toString(16))}break;case 44:var _,S=s[i++]|s[i++]<<8,M=s[i++]|s[i++]<<8,k=s[i++]|s[i++]<<8,T=s[i++]|s[i++]<<8,W=s[i++],A=W>>6&1,O=1<<1+(7&W),R=o,U=a,B=!1,W=(W>>7&&(B=!0,R=i,i+=3*(U=O)),i);for(i++;;){if(!(0<=(_=s[i++])))throw Error("Invalid block size");if(_===0)break;i+=_}d.push({x:S,y:M,width:k,height:T,has_local_palette:B,palette_offset:R,palette_size:U,data_offset:W,data_length:i-W,transparent_index:m,interlaced:!!A,delay:y,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+s[i-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(N){if(N<0||N>=d.length)throw new Error("Frame index out of range.");return d[N]},this.decodeAndBlitFrameBGRA=function(N,z){for(var N=this.frameInfo(N),Y=N.width*N.height,Z=new Uint8Array(Y),G=(u(s,N.data_offset,Z,Y),N.palette_offset),C=N.transparent_index,L=(C===null&&(C=256),N.width),D=p-L,q=L,J=4*(N.y*p+N.x),te=4*((N.y+N.height)*p+N.x),se=J,ce=4*D,ne=(N.interlaced===!0&&(ce+=4*p*7),8),ae=0,de=Z.length;ae<de;++ae){var Q,ie,me=Z[ae];q===0&&(q=L,te<=(se+=ce)&&(ce=4*D+4*p*(ne-1),se=J+(L+D)*(ne<<1),ne>>=1)),me===C?se+=4:(Q=s[G+3*me],ie=s[G+3*me+1],me=s[G+3*me+2],z[se++]=me,z[se++]=ie,z[se++]=Q,z[se++]=255),--q}},this.decodeAndBlitFrameRGBA=function(N,z){for(var N=this.frameInfo(N),Y=N.width*N.height,Z=new Uint8Array(Y),G=(u(s,N.data_offset,Z,Y),N.palette_offset),C=N.transparent_index,L=(C===null&&(C=256),N.width),D=p-L,q=L,J=4*(N.y*p+N.x),te=4*((N.y+N.height)*p+N.x),se=J,ce=4*D,ne=(N.interlaced===!0&&(ce+=4*p*7),8),ae=0,de=Z.length;ae<de;++ae){var Q,ie,me=Z[ae];q===0&&(q=L,te<=(se+=ce)&&(ce=4*D+4*p*(ne-1),se=J+(L+D)*(ne<<1),ne>>=1)),me===C?se+=4:(Q=s[G+3*me],ie=s[G+3*me+1],me=s[G+3*me+2],z[se++]=Q,z[se++]=ie,z[se++]=me,z[se++]=255),--q}}}}catch{}},{}],249:[function(t,V,E){(function(f){var u,s;u=this,s=function(i){function p(P){if(this==null)throw TypeError();var v,j=String(this),x=j.length,P=P?Number(P):0;if(!((P=P!=P?0:P)<0||x<=P))return 55296<=(v=j.charCodeAt(P))&&v<=56319&&P+1<x&&56320<=(x=j.charCodeAt(P+1))&&x<=57343?1024*(v-55296)+x-56320+65536:v}String.prototype.codePointAt||((h=function(){try{var l={},v=Object.defineProperty,j=v(l,l,l)&&v}catch{}return j}())?h(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var h,r=0,n=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(l,v){this.source=l,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=v,this.destLen=0,this.ltree=new o,this.dtree=new o}var c=new o,d=new o,y=new Uint8Array(30),m=new Uint16Array(30),g=new Uint8Array(30),b=new Uint16Array(30),w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new o,S=new Uint8Array(320);function M(l,v,j,x){for(var P,I=0;I<j;++I)l[I]=0;for(I=0;I<30-j;++I)l[I+j]=I/j|0;for(P=x,I=0;I<30;++I)v[I]=P,P+=1<<l[I]}var k=new Uint16Array(16);function T(l,v,j,x){for(var P,I=0;I<16;++I)l.table[I]=0;for(I=0;I<x;++I)l.table[v[j+I]]++;for(I=P=l.table[0]=0;I<16;++I)k[I]=P,P+=l.table[I];for(I=0;I<x;++I)v[j+I]&&(l.trans[k[v[j+I]]++]=I)}function A(l,v,j){if(!v)return j;for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var x=l.tag&65535>>>16-v;return l.tag>>>=v,l.bitcount-=v,x+j}function O(l,v){for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;for(var j=0,x=0,P=0,I=l.tag;x=2*x+(1&I),I>>>=1,j+=v.table[++P],0<=(x-=v.table[P]););return l.tag=I,l.bitcount-=P,v.trans[j+x]}function R(l,v,j){for(;;){var x=O(l,v);if(x===256)return r;if(x<256)l.dest[l.destLen++]=x;else for(var P,I=A(l,y[x-=257],m[x]),x=O(l,j),F=P=l.destLen-A(l,g[x],b[x]);F<P+I;++F)l.dest[l.destLen++]=l.dest[F]}}for(var U=c,B=d,W=0;W<7;++W)U.table[W]=0;for(U.table[7]=24,U.table[8]=152,U.table[9]=112,W=0;W<24;++W)U.trans[W]=256+W;for(W=0;W<144;++W)U.trans[24+W]=W;for(W=0;W<8;++W)U.trans[168+W]=280+W;for(W=0;W<112;++W)U.trans[176+W]=144+W;for(W=0;W<5;++W)B.table[W]=0;for(B.table[5]=32,W=0;W<32;++W)B.trans[W]=W;M(y,m,4,3),M(g,b,2,1),y[28]=0,m[28]=258;var N=function(l,v){var j,x,P,I=new a(l,v);do{switch(P=void 0,(x=I).bitcount--||(x.tag=x.source[x.sourceIndex++],x.bitcount=7),P=1&x.tag,x.tag>>>=1,x=P,A(I,2,0)){case 0:j=function(Se){for(var Ke,ot;8<Se.bitcount;)Se.sourceIndex--,Se.bitcount-=8;if((Ke=256*Se.source[Se.sourceIndex+1]+Se.source[Se.sourceIndex])!==(65535&~(256*Se.source[Se.sourceIndex+3]+Se.source[Se.sourceIndex+2])))return n;for(Se.sourceIndex+=4,ot=Ke;ot;--ot)Se.dest[Se.destLen++]=Se.source[Se.sourceIndex++];return Se.bitcount=0,r}(I);break;case 1:j=R(I,c,d);break;case 2:ke=Me=Pe=we=F=le=ge=_e=pe=re=oe=K=void 0;for(var F,K=I,oe=I.ltree,re=I.dtree,pe=A(K,5,257),_e=A(K,5,1),ge=A(K,4,4),le=0;le<19;++le)S[le]=0;for(le=0;le<ge;++le){var Pe=A(K,3,0);S[w[le]]=Pe}for(T(_,S,0,19),F=0;F<pe+_e;){var Me=O(K,_);switch(Me){case 16:for(var ke=S[F-1],we=A(K,2,3);we;--we)S[F++]=ke;break;case 17:for(we=A(K,3,3);we;--we)S[F++]=0;break;case 18:for(we=A(K,7,11);we;--we)S[F++]=0;break;default:S[F++]=Me}}T(oe,S,0,pe),T(re,S,pe,_e),j=R(I,I.ltree,I.dtree);break;default:j=n}if(j!==r)throw new Error("Data error")}while(!x);return I.destLen<I.dest.length?typeof I.dest.slice=="function"?I.dest.slice(0,I.destLen):I.dest.subarray(0,I.destLen):I.dest};function z(l,v,j,x,P){return Math.pow(1-P,3)*l+3*Math.pow(1-P,2)*P*v+3*(1-P)*Math.pow(P,2)*j+Math.pow(P,3)*x}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Z(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function G(l){throw new Error(l)}function C(l,v){l||G(v)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(l,v){typeof l=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=l,this.x2=l),l<this.x1&&(this.x1=l),l>this.x2&&(this.x2=l)),typeof v=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=v,this.y2=v),v<this.y1&&(this.y1=v),v>this.y2&&(this.y2=v))},Y.prototype.addX=function(l){this.addPoint(l,null)},Y.prototype.addY=function(l){this.addPoint(null,l)},Y.prototype.addBezier=function(l,v,j,x,P,I,F,K){var oe=[l,v],re=[j,x],pe=[P,I],_e=[F,K];this.addPoint(l,v),this.addPoint(F,K);for(var ge=0;ge<=1;ge++){var le,Pe=6*oe[ge]-12*re[ge]+6*pe[ge],Me=-3*oe[ge]+9*re[ge]-9*pe[ge]+3*_e[ge],ke=3*re[ge]-3*oe[ge];Me==0?Pe==0||0<(le=-ke/Pe)&&le<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],le)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],le))):(le=Math.pow(Pe,2)-4*ke*Me)<0||(0<(ke=(-Pe+Math.sqrt(le))/(2*Me))&&ke<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],ke)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],ke))),0<(ke=(-Pe-Math.sqrt(le))/(2*Me))&&ke<1&&(ge===0&&this.addX(z(oe[ge],re[ge],pe[ge],_e[ge],ke)),ge===1&&this.addY(z(oe[ge],re[ge],pe[ge],_e[ge],ke))))}},Y.prototype.addQuad=function(l,v,j,x,P,I){j=l+2/3*(j-l),x=v+2/3*(x-v),this.addBezier(l,v,j,x,j+1/3*(P-l),x+1/3*(I-v),P,I)},Z.prototype.moveTo=function(l,v){this.commands.push({type:"M",x:l,y:v})},Z.prototype.lineTo=function(l,v){this.commands.push({type:"L",x:l,y:v})},Z.prototype.curveTo=Z.prototype.bezierCurveTo=function(l,v,j,x,P,I){this.commands.push({type:"C",x1:l,y1:v,x2:j,y2:x,x:P,y:I})},Z.prototype.quadTo=Z.prototype.quadraticCurveTo=function(l,v,j,x){this.commands.push({type:"Q",x1:l,y1:v,x:j,y:x})},Z.prototype.close=Z.prototype.closePath=function(){this.commands.push({type:"Z"})},Z.prototype.extend=function(l){var v;if(l.commands)l=l.commands;else if(l instanceof Y)return v=l,this.moveTo(v.x1,v.y1),this.lineTo(v.x2,v.y1),this.lineTo(v.x2,v.y2),this.lineTo(v.x1,v.y2),void this.close();Array.prototype.push.apply(this.commands,l)},Z.prototype.getBoundingBox=function(){for(var l=new Y,v=0,j=0,x=0,P=0,I=0;I<this.commands.length;I++){var F=this.commands[I];switch(F.type){case"M":l.addPoint(F.x,F.y),v=x=F.x,j=P=F.y;break;case"L":l.addPoint(F.x,F.y),x=F.x,P=F.y;break;case"Q":l.addQuad(x,P,F.x1,F.y1,F.x,F.y),x=F.x,P=F.y;break;case"C":l.addBezier(x,P,F.x1,F.y1,F.x2,F.y2,F.x,F.y),x=F.x,P=F.y;break;case"Z":x=v,P=j;break;default:throw new Error("Unexpected path command "+F.type)}}return l.isEmpty()&&l.addPoint(0,0),l},Z.prototype.draw=function(l){l.beginPath();for(var v=0;v<this.commands.length;v+=1){var j=this.commands[v];j.type==="M"?l.moveTo(j.x,j.y):j.type==="L"?l.lineTo(j.x,j.y):j.type==="C"?l.bezierCurveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):j.type==="Q"?l.quadraticCurveTo(j.x1,j.y1,j.x,j.y):j.type==="Z"&&l.closePath()}this.fill&&(l.fillStyle=this.fill,l.fill()),this.stroke&&(l.strokeStyle=this.stroke,l.lineWidth=this.strokeWidth,l.stroke())},Z.prototype.toPathData=function(l){function v(){for(var I=arguments,F="",K=0;K<arguments.length;K+=1){var oe=I[K];0<=oe&&0<K&&(F+=" "),F+=(oe=oe,Math.round(oe)===oe?""+Math.round(oe):oe.toFixed(l))}return F}l=l!==void 0?l:2;for(var j="",x=0;x<this.commands.length;x+=1){var P=this.commands[x];P.type==="M"?j+="M"+v(P.x,P.y):P.type==="L"?j+="L"+v(P.x,P.y):P.type==="C"?j+="C"+v(P.x1,P.y1,P.x2,P.y2,P.x,P.y):P.type==="Q"?j+="Q"+v(P.x1,P.y1,P.x,P.y):P.type==="Z"&&(j+="Z")}return j},Z.prototype.toSVG=function(l){var v=(v='<path d="')+this.toPathData(l)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?v+=' fill="none"':v+=' fill="'+this.fill+'"'),this.stroke&&(v+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),v+="/>"},Z.prototype.toDOMElement=function(v){var v=this.toPathData(v),j=document.createElementNS("http://www.w3.org/2000/svg","path");return j.setAttribute("d",v),j};var L={fail:G,argument:C,assert:C},D={},q={},J={};function te(l){return function(){return l}}q.BYTE=function(l){return L.argument(0<=l&&l<=255,"Byte value should be between 0 and 255."),[l]},J.BYTE=te(1),q.CHAR=function(l){return[l.charCodeAt(0)]},J.CHAR=te(1),q.CHARARRAY=function(l){for(var v=[],j=0;j<l.length;j+=1)v[j]=l.charCodeAt(j);return v},J.CHARARRAY=function(l){return l.length},q.USHORT=function(l){return[l>>8&255,255&l]},J.USHORT=te(2),q.SHORT=function(l){return[(l=32768<=l?-(65536-l):l)>>8&255,255&l]},J.SHORT=te(2),q.UINT24=function(l){return[l>>16&255,l>>8&255,255&l]},J.UINT24=te(3),q.ULONG=function(l){return[l>>24&255,l>>16&255,l>>8&255,255&l]},J.ULONG=te(4),q.LONG=function(l){return[(l=2147483648<=l?-(4294967296-l):l)>>24&255,l>>16&255,l>>8&255,255&l]},J.LONG=te(4),q.FIXED=q.ULONG,J.FIXED=J.ULONG,q.FWORD=q.SHORT,J.FWORD=J.SHORT,q.UFWORD=q.USHORT,J.UFWORD=J.USHORT,q.LONGDATETIME=function(l){return[0,0,0,0,l>>24&255,l>>16&255,l>>8&255,255&l]},J.LONGDATETIME=te(8),q.TAG=function(l){return L.argument(l.length===4,"Tag should be exactly 4 ASCII characters."),[l.charCodeAt(0),l.charCodeAt(1),l.charCodeAt(2),l.charCodeAt(3)]},J.TAG=te(4),q.Card8=q.BYTE,J.Card8=J.BYTE,q.Card16=q.USHORT,J.Card16=J.USHORT,q.OffSize=q.BYTE,J.OffSize=J.BYTE,q.SID=q.USHORT,J.SID=J.USHORT,q.NUMBER=function(l){return-107<=l&&l<=107?[l+139]:108<=l&&l<=1131?[247+((l-=108)>>8),255&l]:-1131<=l&&l<=-108?[251+((l=-l-108)>>8),255&l]:-32768<=l&&l<=32767?q.NUMBER16(l):q.NUMBER32(l)},J.NUMBER=function(l){return q.NUMBER(l).length},q.NUMBER16=function(l){return[28,l>>8&255,255&l]},J.NUMBER16=te(3),q.NUMBER32=function(l){return[29,l>>24&255,l>>16&255,l>>8&255,255&l]},J.NUMBER32=te(5),q.REAL=function(l){for(var v=l.toString(),j=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(v),x=(j&&(j=parseFloat("1e"+((j[2]?+j[2]:0)+j[1].length)),v=(Math.round(l*j)/j).toString()),""),P=0,I=v.length;P<I;P+=1){var F=v[P];x+=F==="e"?v[++P]==="-"?"c":"b":F==="."?"a":F==="-"?"e":F}for(var K=[30],oe=0,re=(x+=1&x.length?"f":"ff").length;oe<re;oe+=2)K.push(parseInt(x.substr(oe,2),16));return K},J.REAL=function(l){return q.REAL(l).length},q.NAME=q.CHARARRAY,J.NAME=J.CHARARRAY,q.STRING=q.CHARARRAY,J.STRING=J.CHARARRAY,D.UTF8=function(l,v,j){for(var x=[],P=j,I=0;I<P;I++,v+=1)x[I]=l.getUint8(v);return String.fromCharCode.apply(null,x)},D.UTF16=function(l,v,j){for(var x=[],P=j/2,I=0;I<P;I++,v+=2)x[I]=l.getUint16(v);return String.fromCharCode.apply(null,x)},q.UTF16=function(l){for(var v=[],j=0;j<l.length;j+=1){var x=l.charCodeAt(j);v[v.length]=x>>8&255,v[v.length]=255&x}return v},J.UTF16=function(l){return 2*l.length};var se,ce={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ne=(D.MACSTRING=function(l,v,j,x){var P=ce[x];if(P!==void 0){for(var I="",F=0;F<j;F++){var K=l.getUint8(v+F);I+=K<=127?String.fromCharCode(K):P[127&K]}return I}},typeof WeakMap=="function"&&new WeakMap);function ae(l){return-128<=l&&l<=127}q.MACSTRING=function(l,v){var j=function(F){if(!se)for(var K in se={},ce)se[K]=new String(K);var oe=se[F];if(oe!==void 0){if(ne){var re=ne.get(oe);if(re!==void 0)return re}var pe=ce[F];if(pe!==void 0){for(var _e={},ge=0;ge<pe.length;ge++)_e[pe.charCodeAt(ge)]=ge+128;return ne&&ne.set(oe,_e),_e}}}(v);if(j!==void 0){for(var x=[],P=0;P<l.length;P++){var I=l.charCodeAt(P);if(128<=I&&(I=j[I])===void 0)return;x[P]=I}return x}},J.MACSTRING=function(l,v){return l=q.MACSTRING(l,v),l!==void 0?l.length:0},q.VARDELTAS=function(l){for(var x=0,v=[];x<l.length;)var j=l[x],x=(j===0?function(P,I,F){for(var K=0,oe=P.length;I<oe&&K<64&&P[I]===0;)++I,++K;return F.push(128|K-1),I}:-128<=j&&j<=127?function(P,I,F){for(var K=0,oe=P.length,re=I;re<oe&&K<64;){var pe=P[re];if(!ae(pe)||pe===0&&re+1<oe&&P[re+1]===0)break;++re,++K}F.push(K-1);for(var _e=I;_e<re;++_e)F.push(P[_e]+256&255);return re}:function(P,I,F){for(var K=0,oe=P.length,re=I;re<oe&&K<64;){var pe=P[re];if(pe===0||ae(pe)&&re+1<oe&&ae(P[re+1]))break;++re,++K}F.push(64|K-1);for(var _e=I;_e<re;++_e){var ge=P[_e];F.push(ge+65536>>8&255,ge+256&255)}return re})(l,x,v);return v},q.INDEX=function(l){for(var v=1,j=[v],x=[],P=0;P<l.length;P+=1){var I=q.OBJECT(l[P]);Array.prototype.push.apply(x,I),v+=I.length,j.push(v)}if(x.length===0)return[0,0];for(var F=[],K=1+Math.floor(Math.log(v)/Math.log(2))/8|0,oe=[void 0,q.BYTE,q.USHORT,q.UINT24,q.ULONG][K],re=0;re<j.length;re+=1){var pe=oe(j[re]);Array.prototype.push.apply(F,pe)}return Array.prototype.concat(q.Card16(l.length),q.OffSize(K),F,x)},J.INDEX=function(l){return q.INDEX(l).length},q.DICT=function(l){for(var v=[],j=Object.keys(l),x=j.length,P=0;P<x;P+=1){var I=parseInt(j[P],0),F=l[I];v=(v=v.concat(q.OPERAND(F.value,F.type))).concat(q.OPERATOR(I))}return v},J.DICT=function(l){return q.DICT(l).length},q.OPERATOR=function(l){return l<1200?[l]:[12,l-1200]},q.OPERAND=function(l,v){var j=[];if(Array.isArray(v))for(var x=0;x<v.length;x+=1)L.argument(l.length===v.length,"Not enough arguments given for type"+v),j=j.concat(q.OPERAND(l[x],v[x]));else if(v==="SID")j=j.concat(q.NUMBER(l));else if(v==="offset")j=j.concat(q.NUMBER32(l));else if(v==="number")j=j.concat(q.NUMBER(l));else{if(v!=="real")throw new Error("Unknown operand type "+v);j=j.concat(q.REAL(l))}return j},q.OP=q.BYTE,J.OP=J.BYTE;var de=typeof WeakMap=="function"&&new WeakMap;function Q(l,v,j){for(var x=0;x<v.length;x+=1){var P=v[x];this[P.name]=P.value}if(this.tableName=l,this.fields=v,j)for(var I=Object.keys(j),F=0;F<I.length;F+=1){var K=I[F],oe=j[K];this[K]!==void 0&&(this[K]=oe)}}function ie(l,v,j){j===void 0&&(j=v.length);var x=new Array(v.length+1);x[0]={name:l+"Count",type:"USHORT",value:j};for(var P=0;P<v.length;P++)x[P+1]={name:l+P,type:"USHORT",value:v[P]};return x}function me(l,v,j){var x=v.length,P=new Array(x+1);P[0]={name:l+"Count",type:"USHORT",value:x};for(var I=0;I<x;I++)P[I+1]={name:l+I,type:"TABLE",value:j(v[I],I)};return P}function ve(l,v,j){var x=v.length,P=[];P[0]={name:l+"Count",type:"USHORT",value:x};for(var I=0;I<x;I++)P=P.concat(j(v[I],I));return P}function he(l){l.format===1?Q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ie("glyph",l.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function xe(l){Q.call(this,"scriptListTable",ve("scriptRecord",l,function(v,j){var x=v.script,P=x.defaultLangSys;return L.assert(!!P,"Unable to write GSUB: script "+v.tag+" has no default language system."),[{name:"scriptTag"+j,type:"TAG",value:v.tag},{name:"script"+j,type:"TABLE",value:new Q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:P.reqFeatureIndex}].concat(ie("featureIndex",P.featureIndexes)))}].concat(ve("langSys",x.langSysRecords,function(I,F){var K=I.langSys;return[{name:"langSysTag"+F,type:"TAG",value:I.tag},{name:"langSys"+F,type:"TABLE",value:new Q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:K.reqFeatureIndex}].concat(ie("featureIndex",K.featureIndexes)))}]})))}]}))}function Te(l){Q.call(this,"featureListTable",ve("featureRecord",l,function(v,j){var x=v.feature;return[{name:"featureTag"+j,type:"TAG",value:v.tag},{name:"feature"+j,type:"TABLE",value:new Q("featureTable",[{name:"featureParams",type:"USHORT",value:x.featureParams}].concat(ie("lookupListIndex",x.lookupListIndexes)))}]}))}function Ae(l,v){Q.call(this,"lookupListTable",me("lookup",l,function(j){var x=v[j.lookupType];return L.assert(!!x,"Unable to write GSUB lookup type "+j.lookupType+" tables."),new Q("lookupTable",[{name:"lookupType",type:"USHORT",value:j.lookupType},{name:"lookupFlag",type:"USHORT",value:j.lookupFlag}].concat(me("subtable",j.subtables,x)))}))}q.CHARSTRING=function(l){if(de){var v=de.get(l);if(v!==void 0)return v}for(var I=[],j=l.length,x=0;x<j;x+=1)var P=l[x],I=I.concat(q[P.type](P.value));return de&&de.set(l,I),I},J.CHARSTRING=function(l){return q.CHARSTRING(l).length},q.OBJECT=function(l){var v=q[l.type];return L.argument(v!==void 0,"No encoding function for type "+l.type),v(l.value)},J.OBJECT=function(l){var v=J[l.type];return L.argument(v!==void 0,"No sizeOf function for type "+l.type),v(l.value)},q.TABLE=function(l){for(var v=[],j=l.fields.length,x=[],P=[],I=0;I<j;I+=1){var F=l.fields[I],oe=q[F.type],K=(L.argument(oe!==void 0,"No encoding function for field type "+F.type+" ("+F.name+")"),l[F.name]),oe=oe(K=K===void 0?F.value:K);F.type==="TABLE"?(P.push(v.length),v=v.concat([0,0]),x.push(oe)):v=v.concat(oe)}for(var re=0;re<x.length;re+=1){var pe=P[re],_e=v.length;L.argument(_e<65536,"Table "+l.tableName+" too big."),v[pe]=_e>>8,v[pe+1]=255&_e,v=v.concat(x[re])}return v},J.TABLE=function(l){for(var v=0,j=l.fields.length,x=0;x<j;x+=1){var P=l.fields[x],I=J[P.type],F=(L.argument(I!==void 0,"No sizeOf function for field type "+P.type+" ("+P.name+")"),l[P.name]);v+=I(F=F===void 0?P.value:F),P.type==="TABLE"&&(v+=2)}return v},q.RECORD=q.TABLE,J.RECORD=J.TABLE,q.LITERAL=function(l){return l},J.LITERAL=function(l){return l.length},Q.prototype.encode=function(){return q.TABLE(this)},Q.prototype.sizeOf=function(){return J.TABLE(this)};var Ee={Table:Q,Record:Q,Coverage:(he.prototype=Object.create(Q.prototype)).constructor=he,ScriptList:(xe.prototype=Object.create(Q.prototype)).constructor=xe,FeatureList:(Te.prototype=Object.create(Q.prototype)).constructor=Te,LookupList:(Ae.prototype=Object.create(Q.prototype)).constructor=Ae,ushortList:ie,tableList:me,recordList:ve};function ze(l,v){return l.getUint8(v)}function Be(l,v){return l.getUint16(v,!1)}function Ne(l,v){return l.getUint32(v,!1)}function Xe(l,v){return l.getInt16(v,!1)+l.getUint16(v+2,!1)/65535}var Ve={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ye(l,v){this.data=l,this.offset=v,this.relativeOffset=0}ye.prototype.parseByte=function(){var l=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},ye.prototype.parseChar=function(){var l=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,l},ye.prototype.parseCard8=ye.prototype.parseByte,ye.prototype.parseCard16=ye.prototype.parseUShort=function(){var l=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},ye.prototype.parseSID=ye.prototype.parseUShort,ye.prototype.parseOffset16=ye.prototype.parseUShort,ye.prototype.parseShort=function(){var l=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,l},ye.prototype.parseF2Dot14=function(){var l=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,l},ye.prototype.parseOffset32=ye.prototype.parseULong=function(){var l=Ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},ye.prototype.parseFixed=function(){var l=Xe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,l},ye.prototype.parseString=function(l){var v=this.data,j=this.offset+this.relativeOffset,x="";this.relativeOffset+=l;for(var P=0;P<l;P++)x+=String.fromCharCode(v.getUint8(j+P));return x},ye.prototype.parseTag=function(){return this.parseString(4)},ye.prototype.parseLongDateTime=function(){var l=Ne(this.data,this.offset+this.relativeOffset+4);return l-=2082844800,this.relativeOffset+=8,l},ye.prototype.parseVersion=function(l){var v=Be(this.data,this.offset+this.relativeOffset),j=Be(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,v+j/(l=l===void 0?4096:l)/10},ye.prototype.skip=function(l,v){this.relativeOffset+=Ve[l]*(v=v===void 0?1:v)},ye.prototype.parseULongList=function(l){l===void 0&&(l=this.parseULong());for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint32(x),x+=4;return this.relativeOffset+=4*l,v},ye.prototype.parseOffset16List=ye.prototype.parseUShortList=function(l){l===void 0&&(l=this.parseUShort());for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint16(x),x+=2;return this.relativeOffset+=2*l,v},ye.prototype.parseShortList=function(l){for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getInt16(x),x+=2;return this.relativeOffset+=2*l,v},ye.prototype.parseByteList=function(l){for(var v=new Array(l),j=this.data,x=this.offset+this.relativeOffset,P=0;P<l;P++)v[P]=j.getUint8(x++);return this.relativeOffset+=l,v},ye.prototype.parseList=function(l,v){v||(v=l,l=this.parseUShort());for(var j=new Array(l),x=0;x<l;x++)j[x]=v.call(this);return j},ye.prototype.parseList32=function(l,v){v||(v=l,l=this.parseULong());for(var j=new Array(l),x=0;x<l;x++)j[x]=v.call(this);return j},ye.prototype.parseRecordList=function(l,v){v||(v=l,l=this.parseUShort());for(var j=new Array(l),x=Object.keys(v),P=0;P<l;P++){for(var I={},F=0;F<x.length;F++){var K=x[F],oe=v[K];I[K]=oe.call(this)}j[P]=I}return j},ye.prototype.parseRecordList32=function(l,v){v||(v=l,l=this.parseULong());for(var j=new Array(l),x=Object.keys(v),P=0;P<l;P++){for(var I={},F=0;F<x.length;F++){var K=x[F],oe=v[K];I[K]=oe.call(this)}j[P]=I}return j},ye.prototype.parseStruct=function(l){if(typeof l=="function")return l.call(this);for(var v=Object.keys(l),j={},x=0;x<v.length;x++){var P=v[x],I=l[P];j[P]=I.call(this)}return j},ye.prototype.parseValueRecord=function(l){var v;if((l=l===void 0?this.parseUShort():l)!==0)return v={},1&l&&(v.xPlacement=this.parseShort()),2&l&&(v.yPlacement=this.parseShort()),4&l&&(v.xAdvance=this.parseShort()),8&l&&(v.yAdvance=this.parseShort()),16&l&&(v.xPlaDevice=void 0,this.parseShort()),32&l&&(v.yPlaDevice=void 0,this.parseShort()),64&l&&(v.xAdvDevice=void 0,this.parseShort()),128&l&&(v.yAdvDevice=void 0,this.parseShort()),v},ye.prototype.parseValueRecordList=function(){for(var l=this.parseUShort(),v=this.parseUShort(),j=new Array(v),x=0;x<v;x++)j[x]=this.parseValueRecord(l);return j},ye.prototype.parsePointer=function(l){var v=this.parseOffset16();if(0<v)return new ye(this.data,this.offset+v).parseStruct(l)},ye.prototype.parsePointer32=function(l){var v=this.parseOffset32();if(0<v)return new ye(this.data,this.offset+v).parseStruct(l)},ye.prototype.parseListOfLists=function(l){for(var v=this.parseOffset16List(),j=v.length,x=this.relativeOffset,P=new Array(j),I=0;I<j;I++){var F=v[I];if(F===0)P[I]=void 0;else if(this.relativeOffset=F,l){for(var K=this.parseOffset16List(),oe=new Array(K.length),re=0;re<K.length;re++)this.relativeOffset=F+K[re],oe[re]=l.call(this);P[I]=oe}else P[I]=this.parseUShortList()}return this.relativeOffset=x,P},ye.prototype.parseCoverage=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort(),j=this.parseUShort();if(v===1)return{format:1,glyphs:this.parseUShortList(j)};if(v!==2)throw new Error("0x"+l.toString(16)+": Coverage format must be 1 or 2.");for(var x=new Array(j),P=0;P<j;P++)x[P]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:x}},ye.prototype.parseClassDef=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();if(v===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(v===2)return{format:2,ranges:this.parseRecordList({start:ye.uShort,end:ye.uShort,classId:ye.uShort})};throw new Error("0x"+l.toString(16)+": ClassDef format must be 1 or 2.")},ye.list=function(l,v){return function(){return this.parseList(l,v)}},ye.list32=function(l,v){return function(){return this.parseList32(l,v)}},ye.recordList=function(l,v){return function(){return this.parseRecordList(l,v)}},ye.recordList32=function(l,v){return function(){return this.parseRecordList32(l,v)}},ye.pointer=function(l){return function(){return this.parsePointer(l)}},ye.pointer32=function(l){return function(){return this.parsePointer32(l)}},ye.tag=ye.prototype.parseTag,ye.byte=ye.prototype.parseByte,ye.uShort=ye.offset16=ye.prototype.parseUShort,ye.uShortList=ye.prototype.parseUShortList,ye.uLong=ye.offset32=ye.prototype.parseULong,ye.uLongList=ye.prototype.parseULongList,ye.struct=ye.prototype.parseStruct,ye.coverage=ye.prototype.parseCoverage,ye.classDef=ye.prototype.parseClassDef;var Oe={reserved:ye.uShort,reqFeatureIndex:ye.uShort,featureIndexes:ye.uShortList},je=(ye.prototype.parseScriptList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,script:ye.pointer({defaultLangSys:ye.pointer(Oe),langSysRecords:ye.recordList({tag:ye.tag,langSys:ye.pointer(Oe)})})}))||[]},ye.prototype.parseFeatureList=function(){return this.parsePointer(ye.recordList({tag:ye.tag,feature:ye.pointer({featureParams:ye.offset16,lookupListIndexes:ye.uShortList})}))||[]},ye.prototype.parseLookupList=function(l){return this.parsePointer(ye.list(ye.pointer(function(){var v=this.parseUShort(),j=(L.argument(1<=v&&v<=9,"GPOS/GSUB lookup type "+v+" unknown."),this.parseUShort()),x=16&j;return{lookupType:v,lookupFlag:j,subtables:this.parseList(ye.pointer(l[v])),markFilteringSet:x?this.parseUShort():void 0}})))||[]},ye.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var l=this.parseUShort(),v=this.parseUShort();return L.argument(l===1&&v<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ye.offset32,featureTableSubstitutionOffset:ye.offset32})})||[]},{getByte:ze,getCard8:ze,getUShort:Be,getCard16:Be,getShort:function(l,v){return l.getInt16(v,!1)},getULong:Ne,getFixed:Xe,getTag:function(l,v){for(var j="",x=v;x<v+4;x+=1)j+=String.fromCharCode(l.getInt8(x));return j},getOffset:function(l,v,j){for(var x=0,P=0;P<j;P+=1)x=(x<<=8)+l.getUint8(v+P);return x},getBytes:function(l,v,j){for(var x=[],P=v;P<j;P+=1)x.push(l.getUint8(P));return x},bytesToString:function(l){for(var v="",j=0;j<l.length;j+=1)v+=String.fromCharCode(l[j]);return v},Parser:ye}),X={parse:function(l,v){for(var j={},x=(j.version=je.getUShort(l,v),L.argument(j.version===0,"cmap table version should be 0."),j.numTables=je.getUShort(l,v+2),-1),P=j.numTables-1;0<=P;--P){var I=je.getUShort(l,v+4+8*P),F=je.getUShort(l,v+4+8*P+2);if(I===3&&(F===0||F===1||F===10)||I===0&&(F===0||F===1||F===2||F===3||F===4)){x=je.getULong(l,v+4+8*P+4);break}}if(x===-1)throw new Error("No valid cmap sub-tables found.");var K=new je.Parser(l,v+x);if(j.format=K.parseUShort(),j.format===12){var oe,re=j,pe=K;pe.parseUShort(),re.length=pe.parseULong(),re.language=pe.parseULong(),re.groupCount=oe=pe.parseULong(),re.glyphIndexMap={};for(var _e=0;_e<oe;_e+=1)for(var ge=pe.parseULong(),le=pe.parseULong(),Pe=pe.parseULong(),Me=ge;Me<=le;Me+=1)re.glyphIndexMap[Me]=Pe,Pe++}else{if(j.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+j.format+").");var ke=j,we=l,Se=v,Ke=x;ke.length=K.parseUShort(),ke.language=K.parseUShort(),ke.segCount=ot=K.parseUShort()>>1,K.skip("uShort",3),ke.glyphIndexMap={};for(var ot,$e=new je.Parser(we,Se+Ke+14),Je=new je.Parser(we,Se+Ke+16+2*ot),nt=new je.Parser(we,Se+Ke+16+4*ot),yt=new je.Parser(we,Se+Ke+16+6*ot),xt=Se+Ke+16+8*ot,Et=0;Et<ot-1;Et+=1)for(var Ft=void 0,Nt=$e.parseUShort(),Ht=Je.parseUShort(),pt=nt.parseShort(),vt=yt.parseUShort(),dt=Ht;dt<=Nt;dt+=1)vt!==0?(xt=(xt=yt.offset+yt.relativeOffset-2)+vt+2*(dt-Ht),(Ft=je.getUShort(we,xt))!==0&&(Ft=Ft+pt&65535)):Ft=dt+pt&65535,ke.glyphIndexMap[dt]=Ft}return j},make:function(l){for(var v=!0,j=l.length-1;0<j;--j)if(65535<l.get(j).unicode){console.log("Adding CMAP format 12 (needed!)"),v=!1;break}var x,P,I=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:v?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:v?12:20}],F=(I=(I=v?I:I.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Ee.Table("cmap",I));for(F.segments=[],j=0;j<l.length;j+=1){for(var K=l.get(j),oe=0;oe<K.unicodes.length;oe+=1)x=K.unicodes[oe],P=j,F.segments.push({end:x,start:x,delta:-(x-P),offset:0,glyphIndex:P});F.segments=F.segments.sort(function(Se,Ke){return Se.start-Ke.start})}F.segments.push({end:65535,start:65535,delta:1,offset:0});var re=F.segments.length,pe=0,_e=[],ge=[],le=[],Pe=[],Me=[],ke=[];for(j=0;j<re;j+=1){var we=F.segments[j];we.end<=65535&&we.start<=65535?(_e=_e.concat({name:"end_"+j,type:"USHORT",value:we.end}),ge=ge.concat({name:"start_"+j,type:"USHORT",value:we.start}),le=le.concat({name:"idDelta_"+j,type:"SHORT",value:we.delta}),Pe=Pe.concat({name:"idRangeOffset_"+j,type:"USHORT",value:we.offset}),we.glyphId!==void 0&&(Me=Me.concat({name:"glyph_"+j,type:"USHORT",value:we.glyphId}))):pe+=1,v||we.glyphIndex===void 0||(ke=(ke=(ke=ke.concat({name:"cmap12Start_"+j,type:"ULONG",value:we.start})).concat({name:"cmap12End_"+j,type:"ULONG",value:we.end})).concat({name:"cmap12Glyph_"+j,type:"ULONG",value:we.glyphIndex}))}return F.segCountX2=2*(re-pe),F.searchRange=2*Math.pow(2,Math.floor(Math.log(re-pe)/Math.log(2))),F.entrySelector=Math.log(F.searchRange/2)/Math.log(2),F.rangeShift=F.segCountX2-F.searchRange,F.fields=F.fields.concat(_e),F.fields.push({name:"reservedPad",type:"USHORT",value:0}),F.fields=F.fields.concat(ge),F.fields=F.fields.concat(le),F.fields=F.fields.concat(Pe),F.fields=F.fields.concat(Me),F.cmap4Length=14+2*_e.length+2+2*ge.length+2*le.length+2*Pe.length+2*Me.length,v||(I=16+4*ke.length,F.cmap12Offset=20+F.cmap4Length,F.fields=F.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:I},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:ke.length/3}]),F.fields=F.fields.concat(ke)),F}},$=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],H=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],fe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function be(l){this.font=l}function Ce(l){this.cmap=l}function Ie(l,v){this.encoding=l,this.charset=v}function Ue(l){switch(l.version){case 1:this.names=fe.slice();break;case 2:this.names=new Array(l.numberOfGlyphs);for(var v=0;v<l.numberOfGlyphs;v++)l.glyphNameIndex[v]<fe.length?this.names[v]=fe[l.glyphNameIndex[v]]:this.names[v]=l.names[l.glyphNameIndex[v]-fe.length];break;case 2.5:this.names=new Array(l.numberOfGlyphs);for(var j=0;j<l.numberOfGlyphs;j++)this.names[j]=fe[j+l.glyphNameIndex[j]];break;default:this.names=[]}}be.prototype.charToGlyphIndex=function(l){var v=l.codePointAt(0),j=this.font.glyphs;if(j){for(var x=0;x<j.length;x+=1)for(var P=j.get(x),I=0;I<P.unicodes.length;I+=1)if(P.unicodes[I]===v)return x}return null},Ce.prototype.charToGlyphIndex=function(l){return this.cmap.glyphIndexMap[l.codePointAt(0)]||0},Ie.prototype.charToGlyphIndex=function(l){return l=l.codePointAt(0),l=this.encoding[l],this.charset.indexOf(l)},Ue.prototype.nameToGlyphIndex=function(l){return this.names.indexOf(l)},Ue.prototype.glyphIndexToName=function(l){return this.names[l]};var Fe={line:function(l,v,j,x,P){l.beginPath(),l.moveTo(v,j),l.lineTo(x,P),l.stroke()}};function We(l){this.bindConstructorValues(l)}function rt(l,v,j){Object.defineProperty(l,v,{get:function(){return l.path,l[j]},set:function(x){l[j]=x},enumerable:!0,configurable:!0})}function et(l,v){if(this.font=l,this.glyphs={},Array.isArray(v))for(var j=0;j<v.length;j++)this.glyphs[j]=v[j];this.length=v&&v.length||0}We.prototype.bindConstructorValues=function(l){var v;this.index=l.index||0,this.name=l.name||null,this.unicode=l.unicode||void 0,this.unicodes=l.unicodes||l.unicode!==void 0?[l.unicode]:[],l.xMin&&(this.xMin=l.xMin),l.yMin&&(this.yMin=l.yMin),l.xMax&&(this.xMax=l.xMax),l.yMax&&(this.yMax=l.yMax),l.advanceWidth&&(this.advanceWidth=l.advanceWidth),Object.defineProperty(this,"path",(l=l.path,v=l||new Z,{configurable:!0,get:function(){return v=typeof v=="function"?v():v},set:function(j){v=j}}))},We.prototype.addUnicode=function(l){this.unicodes.length===0&&(this.unicode=l),this.unicodes.push(l)},We.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},We.prototype.getPath=function(l,v,j,x,P){l=l!==void 0?l:0,v=v!==void 0?v:0,j=j!==void 0?j:72;for(var I,F,K=(x=x||{}).xScale,oe=x.yScale,re=((I=x.hinting&&P&&P.hinting?this.path&&P.hinting.exec(this,j):I)?(F=P.hinting.getCommands(I),l=Math.round(l),v=Math.round(v),K=oe=1):(F=this.path.commands,x=1/this.path.unitsPerEm*j,K===void 0&&(K=x),oe===void 0&&(oe=x)),new Z),pe=0;pe<F.length;pe+=1){var _e=F[pe];_e.type==="M"?re.moveTo(l+_e.x*K,v+-_e.y*oe):_e.type==="L"?re.lineTo(l+_e.x*K,v+-_e.y*oe):_e.type==="Q"?re.quadraticCurveTo(l+_e.x1*K,v+-_e.y1*oe,l+_e.x*K,v+-_e.y*oe):_e.type==="C"?re.curveTo(l+_e.x1*K,v+-_e.y1*oe,l+_e.x2*K,v+-_e.y2*oe,l+_e.x*K,v+-_e.y*oe):_e.type==="Z"&&re.closePath()}return re},We.prototype.getContours=function(){if(this.points===void 0)return[];for(var l=[],v=[],j=0;j<this.points.length;j+=1){var x=this.points[j];v.push(x),x.lastPointOfContour&&(l.push(v),v=[])}return L.argument(v.length===0,"There are still points left in the current contour."),l},We.prototype.getMetrics=function(){for(var l=this.path.commands,v=[],j=[],x=0;x<l.length;x+=1){var P=l[x];P.type!=="Z"&&(v.push(P.x),j.push(P.y)),P.type!=="Q"&&P.type!=="C"||(v.push(P.x1),j.push(P.y1)),P.type==="C"&&(v.push(P.x2),j.push(P.y2))}var I={xMin:Math.min.apply(null,v),yMin:Math.min.apply(null,j),xMax:Math.max.apply(null,v),yMax:Math.max.apply(null,j),leftSideBearing:this.leftSideBearing};return isFinite(I.xMin)||(I.xMin=0),isFinite(I.xMax)||(I.xMax=this.advanceWidth),isFinite(I.yMin)||(I.yMin=0),isFinite(I.yMax)||(I.yMax=0),I.rightSideBearing=this.advanceWidth-I.leftSideBearing-(I.xMax-I.xMin),I},We.prototype.draw=function(l,v,j,x,P){this.getPath(v,j,x,P).draw(l)},We.prototype.drawPoints=function(l,v,j,x){function P(pe,_e,ge,le){var Pe=2*Math.PI;l.beginPath();for(var Me=0;Me<pe.length;Me+=1)l.moveTo(_e+pe[Me].x*le,ge+pe[Me].y*le),l.arc(_e+pe[Me].x*le,ge+pe[Me].y*le,2,0,Pe,!1);l.closePath(),l.fill()}v=v!==void 0?v:0,j=j!==void 0?j:0;for(var x=1/this.path.unitsPerEm*(x=x!==void 0?x:24),I=[],F=[],K=this.path,oe=0;oe<K.commands.length;oe+=1){var re=K.commands[oe];re.x!==void 0&&I.push({x:re.x,y:-re.y}),re.x1!==void 0&&F.push({x:re.x1,y:-re.y1}),re.x2!==void 0&&F.push({x:re.x2,y:-re.y2})}l.fillStyle="blue",P(I,v,j,x),l.fillStyle="red",P(F,v,j,x)},We.prototype.drawMetrics=function(l,v,j,x){v=v!==void 0?v:0,j=j!==void 0?j:0,x=1/this.path.unitsPerEm*(x=x!==void 0?x:24),l.lineWidth=1,l.strokeStyle="black",Fe.line(l,v,-1e4,v,1e4),Fe.line(l,-1e4,j,1e4,j);var P=this.xMin||0,I=this.yMin||0,F=this.xMax||0,K=this.yMax||0,oe=this.advanceWidth||0;l.strokeStyle="blue",Fe.line(l,v+P*x,-1e4,v+P*x,1e4),Fe.line(l,v+F*x,-1e4,v+F*x,1e4),Fe.line(l,-1e4,j+-I*x,1e4,j+-I*x),Fe.line(l,-1e4,j+-K*x,1e4,j+-K*x),l.strokeStyle="green",Fe.line(l,v+oe*x,-1e4,v+oe*x,1e4)},et.prototype.get=function(l){return typeof this.glyphs[l]=="function"&&(this.glyphs[l]=this.glyphs[l]()),this.glyphs[l]},et.prototype.push=function(l,v){this.glyphs[l]=v,this.length++};var Ze={GlyphSet:et,glyphLoader:function(l,v){return new We({index:v,font:l})},ttfGlyphLoader:function(l,v,j,x,P,I){return function(){var F=new We({index:v,font:l});return F.path=function(){j(F,x,P);var K=I(l.glyphs,F);return K.unitsPerEm=l.unitsPerEm,K},rt(F,"xMin","_xMin"),rt(F,"xMax","_xMax"),rt(F,"yMin","_yMin"),rt(F,"yMax","_yMax"),F}},cffGlyphLoader:function(l,v,j,x){return function(){var P=new We({index:v,font:l});return P.path=function(){var I=j(l,P,x);return I.unitsPerEm=l.unitsPerEm,I},P}}};function tt(l){return l=l.length<1240?107:l.length<33900?1131:32768,l}function Qe(l,v,j){var x,P=[],I=[],F=je.getCard16(l,v);if(F!==0){for(var K=je.getByte(l,v+2),oe=v+(F+1)*K+2,re=v+3,pe=0;pe<F+1;pe+=1)P.push(je.getOffset(l,re,K)),re+=K;x=oe+P[F]}else x=v+2;for(var _e=0;_e<P.length-1;_e+=1){var ge=je.getBytes(l,oe+P[_e],oe+P[_e+1]);j&&(ge=j(ge)),I.push(ge)}return{objects:I,startOffset:v,endOffset:x}}function mt(l,v){if(v===28)return l.parseByte()<<8|l.parseByte();if(v===29)return l.parseByte()<<24|l.parseByte()<<16|l.parseByte()<<8|l.parseByte();if(v===30){for(var j=l,x="",P=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var F=j.parseByte(),I=F>>4,F=15&F;if(I==15||(x+=P[I],F==15))break;x+=P[F]}return parseFloat(x)}if(32<=v&&v<=246)return v-139;if(247<=v&&v<=250)return 256*(v-247)+l.parseByte()+108;if(251<=v&&v<=254)return 256*-(v-251)-l.parseByte()-108;throw new Error("Invalid b0 "+v)}function Ut(l,v,j){var x=new je.Parser(l,v=v!==void 0?v:0),P=[],I=[];for(j=j!==void 0?j:l.length;x.relativeOffset<j;){var F=x.parseByte();F<=21?(F===12&&(F=1200+x.parseByte()),P.push([F,I]),I=[]):I.push(mt(x,F))}for(var K=P,oe={},re=0;re<K.length;re+=1){var pe=K[re][0],_e=K[re][1],ge=void 0,ge=_e.length===1?_e[0]:_e;if(oe.hasOwnProperty(pe)&&!isNaN(oe[pe]))throw new Error("Object "+oe+" already has key "+pe);oe[pe]=ge}return oe}function St(l,v){return v=v<=390?$[v]:l[v-391]}function ct(l,v,j){for(var x,P={},I=0;I<v.length;I+=1){var F=v[I];if(Array.isArray(F.type)){var K=[];K.length=F.type.length;for(var oe=0;oe<F.type.length;oe++)(x=l[F.op]!==void 0?l[F.op][oe]:void 0)===void 0&&(x=F.value!==void 0&&F.value[oe]!==void 0?F.value[oe]:null),F.type[oe]==="SID"&&(x=St(j,x)),K[oe]=x;P[F.name]=K}else(x=l[F.op])===void 0&&(x=F.value!==void 0?F.value:null),F.type==="SID"&&(x=St(j,x)),P[F.name]=x}return P}var gt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],lt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function At(l,v,j,x){return ct(Ut(l,v,j),lt,x)}function Ct(l,v,j,x){for(var P=[],I=0;I<j.length;I+=1){var F=new DataView(new Uint8Array(j[I]).buffer),F=(K=x,ct(Ut(F,0,F.byteLength),gt,K)),K=(F._subrs=[],F._subrsBias=0,F.private[0]),oe=F.private[1];K!==0&&oe!==0&&(K=At(l,oe+v,K,x),F._defaultWidthX=K.defaultWidthX,F._nominalWidthX=K.nominalWidthX,K.subrs!==0&&(oe=Qe(l,oe+K.subrs+v),F._subrs=oe.objects,F._subrsBias=tt(F._subrs)),F._privateDict=K),P.push(F)}return P}function ht(l,v,j){var x,P,I,F,K,oe,re,pe,_e,ge=new Z,le=[],Pe=0,Me=!1,ke=!1,we=0,Se=0,Ke=(_e=(l.isCIDFont?(K=l.tables.cff.topDict._fdSelect[v.index],K=l.tables.cff.topDict._fdArray[K],oe=K._subrs,re=K._subrsBias,pe=K._defaultWidthX,K):(oe=l.tables.cff.topDict._subrs,re=l.tables.cff.topDict._subrsBias,pe=l.tables.cff.topDict._defaultWidthX,l.tables.cff.topDict))._nominalWidthX,pe);function ot(Je,nt){ke&&ge.closePath(),ge.moveTo(Je,nt),ke=!0}function $e(){le.length%2==0||Me||(Ke=le.shift()+_e),Pe+=le.length>>1,le.length=0,Me=!0}return function Je(nt){for(var yt,xt,Et,Ft,Nt,Ht,pt,vt,dt,Bt,jt,It,bt=0;bt<nt.length;){var Pt=nt[bt];switch(bt+=1,Pt){case 1:case 3:$e();break;case 4:1<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),Se+=le.pop(),ot(we,Se);break;case 5:for(;0<le.length;)we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);break;case 6:for(;0<le.length&&(we+=le.shift(),ge.lineTo(we,Se),le.length!==0);)Se+=le.shift(),ge.lineTo(we,Se);break;case 7:for(;0<le.length&&(Se+=le.shift(),ge.lineTo(we,Se),le.length!==0);)we+=le.shift(),ge.lineTo(we,Se);break;case 8:for(;0<le.length;)x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 10:Nt=le.pop()+re,(Ht=oe[Nt])&&Je(Ht);break;case 11:return;case 12:switch(Pt=nt[bt],bt+=1,Pt){case 35:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F+le.shift(),dt=pt+le.shift(),Bt=vt+le.shift(),jt=dt+le.shift(),It=Bt+le.shift(),we=jt+le.shift(),Se=It+le.shift(),le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 34:x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F,dt=pt+le.shift(),Bt=F,jt=dt+le.shift(),It=Se,we=jt+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 36:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F,dt=pt+le.shift(),Bt=F,jt=dt+le.shift(),It=Bt+le.shift(),we=jt+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;case 37:x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),pt=I+le.shift(),vt=F+le.shift(),dt=pt+le.shift(),Bt=vt+le.shift(),jt=dt+le.shift(),It=Bt+le.shift(),Math.abs(jt-we)>Math.abs(It-Se)?we=jt+le.shift():Se=It+le.shift(),ge.curveTo(x,P,I,F,pt,vt),ge.curveTo(dt,Bt,jt,It,we,Se);break;default:console.log("Glyph "+v.index+": unknown operator 1200"+Pt),le.length=0}break;case 14:0<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),ke&&(ge.closePath(),ke=!1);break;case 18:$e();break;case 19:case 20:$e(),bt+=Pe+7>>3;break;case 21:2<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),Se+=le.pop(),ot(we+=le.pop(),Se);break;case 22:1<le.length&&!Me&&(Ke=le.shift()+_e,Me=!0),ot(we+=le.pop(),Se);break;case 23:$e();break;case 24:for(;2<le.length;)x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);break;case 25:for(;6<le.length;)we+=le.shift(),Se+=le.shift(),ge.lineTo(we,Se);x=we+le.shift(),P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 26:for(le.length%2&&(we+=le.shift());0<le.length;)x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I,Se=F+le.shift(),ge.curveTo(x,P,I,F,we,Se);break;case 27:for(le.length%2&&(Se+=le.shift());0<le.length;)x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F,ge.curveTo(x,P,I,F,we,Se);break;case 28:yt=nt[bt],xt=nt[bt+1],le.push((yt<<24|xt<<16)>>16),bt+=2;break;case 29:Nt=le.pop()+l.gsubrsBias,(Ht=l.gsubrs[Nt])&&Je(Ht);break;case 30:for(;0<le.length&&(x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se),le.length!==0);)x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),Se=F+le.shift(),we=I+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se);break;case 31:for(;0<le.length&&(x=we+le.shift(),P=Se,I=x+le.shift(),F=P+le.shift(),Se=F+le.shift(),we=I+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se),le.length!==0);)x=we,P=Se+le.shift(),I=x+le.shift(),F=P+le.shift(),we=I+le.shift(),Se=F+(le.length===1?le.shift():0),ge.curveTo(x,P,I,F,we,Se);break;default:Pt<32?console.log("Glyph "+v.index+": unknown operator "+Pt):Pt<247?le.push(Pt-139):Pt<251?(yt=nt[bt],bt+=1,le.push(256*(Pt-247)+yt+108)):Pt<255?(yt=nt[bt],bt+=1,le.push(256*-(Pt-251)-yt-108)):(yt=nt[bt],xt=nt[bt+1],Et=nt[bt+2],Ft=nt[bt+3],bt+=4,le.push((yt<<24|xt<<16|Et<<8|Ft)/65536))}}}(j),v.advanceWidth=Ke,ge}function Rt(l,v){var j,x=$.indexOf(l);return 0<=x&&(j=x),0<=(x=v.indexOf(l))?j=x+$.length:(j=$.length+v.length,v.push(l)),j}function nr(l,v,j){for(var x={},P=0;P<l.length;P+=1){var I=l[P],F=v[I.name];F===void 0||function K(oe,re){if(oe===re)return 1;if(Array.isArray(oe)&&Array.isArray(re)&&oe.length===re.length){for(var pe=0;pe<oe.length;pe+=1)if(!K(oe[pe],re[pe]))return;return 1}}(F,I.value)||(I.type==="SID"&&(F=Rt(F,j)),x[I.op]={name:I.name,type:I.type,value:F})}return x}function sr(l,v){var j=new Ee.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return j.dict=nr(gt,l,v),j}function ar(l){var v=new Ee.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return v.topDicts=[{name:"topDict_0",type:"TABLE",value:l}],v}function fr(l){for(var v=new Ee.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),j=0;j<l.length;j+=1){var x=l.get(j),P=function(I){for(var F=[],K=I.path,oe=(F.push({name:"width",type:"NUMBER",value:I.advanceWidth}),0),re=0,pe=0;pe<K.commands.length;pe+=1){var _e,ge,le,Pe,Me=void 0,ke=void 0,we=K.commands[pe];(we=we.type==="Q"?{type:"C",x:we.x,y:we.y,x1:1/3*oe+2/3*we.x1,y1:1/3*re+2/3*we.y1,x2:1/3*we.x+2/3*we.x1,y2:1/3*we.y+2/3*we.y1}:we).type==="M"?(Me=Math.round(we.x-oe),ke=Math.round(we.y-re),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rmoveto",type:"OP",value:21}),oe=Math.round(we.x),re=Math.round(we.y)):we.type==="L"?(Me=Math.round(we.x-oe),ke=Math.round(we.y-re),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rlineto",type:"OP",value:5}),oe=Math.round(we.x),re=Math.round(we.y)):we.type==="C"&&(_e=Math.round(we.x1-oe),ge=Math.round(we.y1-re),le=Math.round(we.x2-we.x1),Pe=Math.round(we.y2-we.y1),Me=Math.round(we.x-we.x2),ke=Math.round(we.y-we.y2),F.push({name:"dx1",type:"NUMBER",value:_e}),F.push({name:"dy1",type:"NUMBER",value:ge}),F.push({name:"dx2",type:"NUMBER",value:le}),F.push({name:"dy2",type:"NUMBER",value:Pe}),F.push({name:"dx",type:"NUMBER",value:Me}),F.push({name:"dy",type:"NUMBER",value:ke}),F.push({name:"rrcurveto",type:"OP",value:8}),oe=Math.round(we.x),re=Math.round(we.y))}return F.push({name:"endchar",type:"OP",value:14}),F}(x);v.charStrings.push({name:x.name,type:"CHARSTRING",value:P})}return v}var ir={parse:function(l,v,j){j.tables.cff={},K=l,x=v,(P={}).formatMajor=je.getCard8(K,x),P.formatMinor=je.getCard8(K,x+1),P.size=je.getCard8(K,x+2),P.offsetSize=je.getCard8(K,x+3),P.startOffset=x,P.endOffset=x+4;var K=Qe(l,P.endOffset,je.bytesToString),x=Qe(l,K.endOffset),P=Qe(l,x.endOffset,je.bytesToString),K=Qe(l,P.endOffset);if(j.gsubrs=K.objects,j.gsubrsBias=tt(j.gsubrs),(K=Ct(l,v,x.objects,P.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+K.length);if(x=K[0],(j.tables.cff.topDict=x)._privateDict&&(j.defaultWidthX=x._privateDict.defaultWidthX,j.nominalWidthX=x._privateDict.nominalWidthX),x.ros[0]!==void 0&&x.ros[1]!==void 0&&(j.isCIDFont=!0),j.isCIDFont){var K=x.fdArray,I=x.fdSelect;if(K===0||I===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");K=Ct(l,v,Qe(l,K+=v).objects,P.objects),x._fdArray=K,x._fdSelect=function(ge,le,Pe,Me){var ke,we=[],Se=new je.Parser(ge,le);if((ge=Se.parseCard8())===0)for(var Ke=0;Ke<Pe;Ke++){if(Me<=(ke=Se.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+ke+" (FD count "+Me+")");we.push(ke)}else{if(ge!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ge);var ot,$e=Se.parseCard16(),Je=Se.parseCard16();if(Je!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Je);for(var nt=0;nt<$e;nt++){if(ke=Se.parseCard8(),ot=Se.parseCard16(),Me<=ke)throw new Error("CFF table CID Font FDSelect has bad FD index value "+ke+" (FD count "+Me+")");if(Pe<ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ot);for(;Je<ot;Je++)we.push(ke);Je=ot}if(ot!==Pe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ot)}return we}(l,I+=v,j.numGlyphs,K.length)}var I=v+x.private[1],K=At(l,I,x.private[0],P.objects),F=(j.defaultWidthX=K.defaultWidthX,j.nominalWidthX=K.nominalWidthX,K.subrs!==0?(I=Qe(l,I+K.subrs),j.subrs=I.objects,j.subrsBias=tt(j.subrs)):(j.subrs=[],j.subrsBias=0),Qe(l,v+x.charStrings)),K=(j.nGlyphs=F.objects.length,function(pe,_e,ge,le){var Pe=new je.Parser(pe,_e),Me=(--ge,[".notdef"]);if((pe=Pe.parseCard8())===0)for(var ke=0;ke<ge;ke+=1)we=Pe.parseSID(),Me.push(St(le,we));else if(pe===1)for(;Me.length<=ge;)for(var we=Pe.parseSID(),Se=Pe.parseCard8(),Ke=0;Ke<=Se;Ke+=1)Me.push(St(le,we)),we+=1;else{if(pe!==2)throw new Error("Unknown charset format "+pe);for(;Me.length<=ge;){we=Pe.parseSID(),Se=Pe.parseCard16();for(var ot=0;ot<=Se;ot+=1)Me.push(St(le,we)),we+=1}}return Me}(l,v+x.charset,j.nGlyphs,P.objects));x.encoding===0?j.cffEncoding=new Ie(H,K):x.encoding===1?j.cffEncoding=new Ie(ee,K):j.cffEncoding=function(pe,_e,ge){var le={},Pe=new je.Parser(pe,_e);if((pe=Pe.parseCard8())===0)for(var Me=Pe.parseCard8(),ke=0;ke<Me;ke+=1)le[Se=Pe.parseCard8()]=ke;else{if(pe!==1)throw new Error("Unknown encoding format "+pe);for(var we=Pe.parseCard8(),Se=1,Ke=0;Ke<we;Ke+=1)for(var ot=Pe.parseCard8(),$e=Pe.parseCard8(),Je=ot;Je<=ot+$e;Je+=1)le[Je]=Se,Se+=1}return new Ie(le,ge)}(l,v+x.encoding,K),j.encoding=j.encoding||j.cffEncoding,j.glyphs=new Ze.GlyphSet(j);for(var oe=0;oe<j.nGlyphs;oe+=1){var re=F.objects[oe];j.glyphs.push(oe,Ze.cffGlyphLoader(j,oe,ht,re))}},make:function(l,pe){for(var j,x=new Ee.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),P=1/pe.unitsPerEm,P={version:pe.version,fullName:pe.fullName,familyName:pe.familyName,weight:pe.weightName,fontBBox:pe.fontBBox||[0,0,0,0],fontMatrix:[P,0,0,P,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},I=[],F=1;F<l.length;F+=1)j=l.get(F),I.push(j.name);var K,oe,re=[],pe=(x.header=new Ee.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),x.nameIndex=function(ge){var le=new Ee.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);le.names=[];for(var Pe=0;Pe<ge.length;Pe+=1)le.names.push({name:"name_"+Pe,type:"NAME",value:ge[Pe]});return le}([pe.postScriptName]),sr(P,re)),_e=(x.topDictIndex=ar(pe),x.globalSubrIndex=new Ee.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),x.charsets=function(ge,le){for(var Pe=new Ee.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Me=0;Me<ge.length;Me+=1){var ke=Rt(ge[Me],le);Pe.fields.push({name:"glyph_"+Me,type:"SID",value:ke})}return Pe}(I,re),x.charStringsIndex=fr(l),x.privateDict=(_e={},K=re,(oe=new Ee.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=nr(lt,_e,K),oe),x.stringIndex=function(ge){var le=new Ee.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);le.strings=[];for(var Pe=0;Pe<ge.length;Pe+=1)le.strings.push({name:"string_"+Pe,type:"STRING",value:ge[Pe]});return le}(re),x.header.sizeOf()+x.nameIndex.sizeOf()+x.topDictIndex.sizeOf()+x.stringIndex.sizeOf()+x.globalSubrIndex.sizeOf());return P.charset=_e,P.encoding=0,P.charStrings=P.charset+x.charsets.sizeOf(),P.private[1]=P.charStrings+x.charStringsIndex.sizeOf(),pe=sr(P,re),x.topDictIndex=ar(pe),x}},lr={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.fontRevision=Math.round(1e3*x.parseFixed())/1e3,j.checkSumAdjustment=x.parseULong(),j.magicNumber=x.parseULong(),L.argument(j.magicNumber===1594834165,"Font header has wrong magic number."),j.flags=x.parseUShort(),j.unitsPerEm=x.parseUShort(),j.created=x.parseLongDateTime(),j.modified=x.parseLongDateTime(),j.xMin=x.parseShort(),j.yMin=x.parseShort(),j.xMax=x.parseShort(),j.yMax=x.parseShort(),j.macStyle=x.parseUShort(),j.lowestRecPPEM=x.parseUShort(),j.fontDirectionHint=x.parseShort(),j.indexToLocFormat=x.parseShort(),j.glyphDataFormat=x.parseShort(),j},make:function(l){var v=Math.round(new Date().getTime()/1e3)+2082844800,j=v;return l.createdTimestamp&&(j=l.createdTimestamp+2082844800),new Ee.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:j},{name:"modified",type:"LONGDATETIME",value:v},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],l)}},ue={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.ascender=x.parseShort(),j.descender=x.parseShort(),j.lineGap=x.parseShort(),j.advanceWidthMax=x.parseUShort(),j.minLeftSideBearing=x.parseShort(),j.minRightSideBearing=x.parseShort(),j.xMaxExtent=x.parseShort(),j.caretSlopeRise=x.parseShort(),j.caretSlopeRun=x.parseShort(),j.caretOffset=x.parseShort(),x.relativeOffset+=8,j.metricDataFormat=x.parseShort(),j.numberOfHMetrics=x.parseUShort(),j},make:function(l){return new Ee.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],l)}},De={parse:function(l,v,j,x,P){for(var I,F,K=new je.Parser(l,v),oe=0;oe<x;oe+=1){oe<j&&(I=K.parseUShort(),F=K.parseShort());var re=P.get(oe);re.advanceWidth=I,re.leftSideBearing=F}},make:function(l){for(var v=new Ee.Table("hmtx",[]),j=0;j<l.length;j+=1){var P=l.get(j),x=P.advanceWidth||0,P=P.leftSideBearing||0;v.fields.push({name:"advanceWidth_"+j,type:"USHORT",value:x}),v.fields.push({name:"leftSideBearing_"+j,type:"SHORT",value:P})}return v}},qe={make:function(l){for(var v=new Ee.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:l.length}]),j="",x=12+4*l.length,P=0;P<l.length;++P){var I=j.indexOf(l[P]);I<0&&(I=j.length,j+=l[P]),v.fields.push({name:"offset "+P,type:"USHORT",value:x+I}),v.fields.push({name:"length "+P,type:"USHORT",value:l[P].length})}return v.fields.push({name:"stringPool",type:"CHARARRAY",value:j}),v},parse:function(l,v){for(var j=new je.Parser(l,v),x=j.parseULong(),P=(L.argument(x===1,"Unsupported ltag table version."),j.skip("uLong",1),j.parseULong()),I=[],F=0;F<P;F++){for(var K="",oe=v+j.parseUShort(),re=j.parseUShort(),pe=oe;pe<oe+re;++pe)K+=String.fromCharCode(l.getInt8(pe));I.push(K)}return I}},Re={parse:function(x,v){var j={},x=new je.Parser(x,v);return j.version=x.parseVersion(),j.numGlyphs=x.parseUShort(),j.version===1&&(j.maxPoints=x.parseUShort(),j.maxContours=x.parseUShort(),j.maxCompositePoints=x.parseUShort(),j.maxCompositeContours=x.parseUShort(),j.maxZones=x.parseUShort(),j.maxTwilightPoints=x.parseUShort(),j.maxStorage=x.parseUShort(),j.maxFunctionDefs=x.parseUShort(),j.maxInstructionDefs=x.parseUShort(),j.maxStackElements=x.parseUShort(),j.maxSizeOfInstructions=x.parseUShort(),j.maxComponentElements=x.parseUShort(),j.maxComponentDepth=x.parseUShort()),j},make:function(l){return new Ee.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:l}])}},st=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Le={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},ut={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ge={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},at="utf-16",He={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},wt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Mt(l,v,j){switch(l){case 0:return at;case 1:return wt[j]||He[v];case 3:if(v===1||v===10)return at}}function _t(l){var v,j={};for(v in l)j[l[v]]=parseInt(v);return j}function kt(l,v,j,x,P,I){return new Ee.Record("NameRecord",[{name:"platformID",type:"USHORT",value:l},{name:"encodingID",type:"USHORT",value:v},{name:"languageID",type:"USHORT",value:j},{name:"nameID",type:"USHORT",value:x},{name:"length",type:"USHORT",value:P},{name:"offset",type:"USHORT",value:I}])}function Wt(l,v){if((j=function(I,F){var K=I.length,oe=F.length-K+1;e:for(var re=0;re<oe;re++)for(;re<oe;re++){for(var pe=0;pe<K;pe++)if(F[re+pe]!==I[pe])continue e;return re}return-1}(l,v))<0)for(var j=v.length,x=0,P=l.length;x<P;++x)v.push(l[x]);return j}var Gt={parse:function(l,v,j){for(var x={},P=new je.Parser(l,v),v=P.parseUShort(),I=P.parseUShort(),F=P.offset+P.parseUShort(),K=0;K<I;K++){var Pe=P.parseUShort(),oe=P.parseUShort(),re=P.parseUShort(),pe=P.parseUShort(),pe=st[pe]||pe,_e=P.parseUShort(),ge=P.parseUShort(),le=function(ke,we,Se){switch(ke){case 0:if(we===65535)return"und";if(Se)return Se[we];break;case 1:return Le[we];case 3:return Ge[we]}}(Pe,re,j),Pe=Mt(Pe,oe,re);Pe!==void 0&&le!==void 0&&(oe=void 0,(oe=Pe===at?D.UTF16(l,F+ge,_e):D.MACSTRING(l,F+ge,_e,Pe))&&((re=(re=x[pe])===void 0?x[pe]={}:re)[le]=oe))}return v===1&&P.parseUShort(),x},make:function(l,v){var j,x=[],P={},I=_t(st);for(j in l){var F=I[j];if(F===void 0&&(F=j),ge=parseInt(F),isNaN(ge))throw new Error('Name table entry "'+j+'" does not exist, see nameTableNames for complete list.');P[ge]=l[j],x.push(ge)}for(var K=_t(Le),oe=_t(Ge),re=[],pe=[],_e=0;_e<x.length;_e++){var ge,le,Pe=P[ge=x[_e]];for(le in Pe){var Me=Pe[le],ot=1,ke=K[le],we=ut[ke],Se=Mt(ot,we,ke),Se=q.MACSTRING(Me,Se),Ke=(Se===void 0&&(ot=0,(ke=v.indexOf(le))<0&&(ke=v.length,v.push(le)),we=4,Se=q.UTF16(Me)),Wt(Se,pe)),ot=(re.push(kt(ot,we,ke,ge,Se.length,Ke)),oe[le]);ot!==void 0&&(ke=Wt(we=q.UTF16(Me),pe),re.push(kt(3,1,ot,ge,we.length,ke)))}}re.sort(function(nt,yt){return nt.platformID-yt.platformID||nt.encodingID-yt.encodingID||nt.languageID-yt.languageID||nt.nameID-yt.nameID});for(var $e=new Ee.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:re.length},{name:"stringOffset",type:"USHORT",value:6+12*re.length}]),Je=0;Je<re.length;Je++)$e.fields.push({name:"record_"+Je,type:"RECORD",value:re[Je]});return $e.fields.push({name:"strings",type:"LITERAL",value:pe}),$e}},qt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ot={parse:function(l,v){var j={},x=new je.Parser(l,v);j.version=x.parseUShort(),j.xAvgCharWidth=x.parseShort(),j.usWeightClass=x.parseUShort(),j.usWidthClass=x.parseUShort(),j.fsType=x.parseUShort(),j.ySubscriptXSize=x.parseShort(),j.ySubscriptYSize=x.parseShort(),j.ySubscriptXOffset=x.parseShort(),j.ySubscriptYOffset=x.parseShort(),j.ySuperscriptXSize=x.parseShort(),j.ySuperscriptYSize=x.parseShort(),j.ySuperscriptXOffset=x.parseShort(),j.ySuperscriptYOffset=x.parseShort(),j.yStrikeoutSize=x.parseShort(),j.yStrikeoutPosition=x.parseShort(),j.sFamilyClass=x.parseShort(),j.panose=[];for(var P=0;P<10;P++)j.panose[P]=x.parseByte();return j.ulUnicodeRange1=x.parseULong(),j.ulUnicodeRange2=x.parseULong(),j.ulUnicodeRange3=x.parseULong(),j.ulUnicodeRange4=x.parseULong(),j.achVendID=String.fromCharCode(x.parseByte(),x.parseByte(),x.parseByte(),x.parseByte()),j.fsSelection=x.parseUShort(),j.usFirstCharIndex=x.parseUShort(),j.usLastCharIndex=x.parseUShort(),j.sTypoAscender=x.parseShort(),j.sTypoDescender=x.parseShort(),j.sTypoLineGap=x.parseShort(),j.usWinAscent=x.parseUShort(),j.usWinDescent=x.parseUShort(),1<=j.version&&(j.ulCodePageRange1=x.parseULong(),j.ulCodePageRange2=x.parseULong()),2<=j.version&&(j.sxHeight=x.parseShort(),j.sCapHeight=x.parseShort(),j.usDefaultChar=x.parseUShort(),j.usBreakChar=x.parseUShort(),j.usMaxContent=x.parseUShort()),j},make:function(l){return new Ee.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],l)},unicodeRanges:qt,getUnicodeRange:function(l){for(var v=0;v<qt.length;v+=1){var j=qt[v];if(l>=j.begin&&l<j.end)return v}return-1}},kr={parse:function(l,v){var j={},x=new je.Parser(l,v);switch(j.version=x.parseVersion(),j.italicAngle=x.parseFixed(),j.underlinePosition=x.parseShort(),j.underlineThickness=x.parseShort(),j.isFixedPitch=x.parseULong(),j.minMemType42=x.parseULong(),j.maxMemType42=x.parseULong(),j.minMemType1=x.parseULong(),j.maxMemType1=x.parseULong(),j.version){case 1:j.names=fe.slice();break;case 2:j.numberOfGlyphs=x.parseUShort(),j.glyphNameIndex=new Array(j.numberOfGlyphs);for(var P=0;P<j.numberOfGlyphs;P++)j.glyphNameIndex[P]=x.parseUShort();j.names=[];for(var I,F=0;F<j.numberOfGlyphs;F++)j.glyphNameIndex[F]>=fe.length&&(I=x.parseChar(),j.names.push(x.parseString(I)));break;case 2.5:j.numberOfGlyphs=x.parseUShort(),j.offset=new Array(j.numberOfGlyphs);for(var K=0;K<j.numberOfGlyphs;K++)j.offset[K]=x.parseChar()}return j},make:function(){return new Ee.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Vt=new Array(9),er=(Vt[1]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),deltaGlyphId:this.parseUShort()}:v===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+l.toString(16)+": lookup type 1 format must be 1 or 2.")},Vt[2]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),sequences:this.parseListOfLists()}},Vt[3]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),alternateSets:this.parseListOfLists()}},Vt[4]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB ligature table identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ye.uShort,lookupListIndex:ye.uShort});Vt[5]=function(){var l,v,j=this.offset+this.relativeOffset,x=this.parseUShort();return x===1?{substFormat:x,coverage:this.parsePointer(ye.coverage),ruleSets:this.parseListOfLists(function(){var P=this.parseUShort(),I=this.parseUShort();return{input:this.parseUShortList(P-1),lookupRecords:this.parseRecordList(I,er)}})}:x===2?{substFormat:x,coverage:this.parsePointer(ye.coverage),classDef:this.parsePointer(ye.classDef),classSets:this.parseListOfLists(function(){var P=this.parseUShort(),I=this.parseUShort();return{classes:this.parseUShortList(P-1),lookupRecords:this.parseRecordList(I,er)}})}:x===3?(l=this.parseUShort(),v=this.parseUShort(),{substFormat:x,coverages:this.parseList(l,ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(v,er)}):void L.assert(!1,"0x"+j.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Vt[6]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{substFormat:1,coverage:this.parsePointer(ye.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(er)}})}:v===2?{substFormat:2,coverage:this.parsePointer(ye.coverage),backtrackClassDef:this.parsePointer(ye.classDef),inputClassDef:this.parsePointer(ye.classDef),lookaheadClassDef:this.parsePointer(ye.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(er)}})}:v===3?{substFormat:3,backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),inputCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),lookupRecords:this.parseRecordList(er)}:void L.assert(!1,"0x"+l.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Vt[7]=function(){var l=this.parseUShort(),l=(L.argument(l===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),v=new ye(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:l,extension:Vt[l].call(v)}},Vt[8]=function(){var l=this.parseUShort();return L.argument(l===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:l,coverage:this.parsePointer(ye.coverage),backtrackCoverage:this.parseList(ye.pointer(ye.coverage)),lookaheadCoverage:this.parseList(ye.pointer(ye.coverage)),substitutes:this.parseUShortList()}};var pr=new Array(9);pr[1]=function(l){return l.substFormat===1?new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)},{name:"deltaGlyphID",type:"USHORT",value:l.deltaGlyphId}]):new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.ushortList("substitute",l.substitute)))},pr[3]=function(l){return L.assert(l.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.tableList("altSet",l.alternateSets,function(v){return new Ee.Table("alternateSetTable",Ee.ushortList("alternate",v))})))},pr[4]=function(l){return L.assert(l.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(l.coverage)}].concat(Ee.tableList("ligSet",l.ligatureSets,function(v){return new Ee.Table("ligatureSetTable",Ee.tableList("ligature",v,function(j){return new Ee.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:j.ligGlyph}].concat(Ee.ushortList("component",j.components,j.components.length+1)))}))})))};var Or={parse:function(l,v){return v=(l=new ye(l,v=v||0)).parseVersion(1),L.argument(v===1||v===1.1,"Unsupported GSUB table version."),v===1?{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(Vt)}:{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(Vt),variations:l.parseFeatureVariationsList()}},make:function(l){return new Ee.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(l.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(l.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(l.lookups,pr)}])}},Pr={parse:function(l,v){for(var j=new je.Parser(l,v),x=j.parseULong(),P=(L.argument(x===1,"Unsupported META table version."),j.parseULong(),j.parseULong(),j.parseULong()),I={},F=0;F<P;F++){var K=j.parseTag(),re=j.parseULong(),oe=j.parseULong(),re=D.UTF8(l,v+re,oe);I[K]=re}return I},make:function(l){var v,j=Object.keys(l).length,x="",P=16+12*j,I=new Ee.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:P},{name:"numTags",type:"ULONG",value:j}]);for(v in l){var F=x.length;x+=l[v],I.fields.push({name:"tag "+v,type:"TAG",value:v}),I.fields.push({name:"offset "+v,type:"ULONG",value:P+F}),I.fields.push({name:"length "+v,type:"ULONG",value:l[v].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:x}),I}};function Lr(l){return Math.log(l)/Math.log(2)|0}function _r(l){for(;l.length%4!=0;)l.push(0);for(var v=0,j=0;j<l.length;j+=4)v+=(l[j]<<24)+(l[j+1]<<16)+(l[j+2]<<8)+l[j+3];return v%=Math.pow(2,32)}function Ar(l,v,j,x){return new Ee.Record("Table Record",[{name:"tag",type:"TAG",value:l!==void 0?l:""},{name:"checkSum",type:"ULONG",value:v!==void 0?v:0},{name:"offset",type:"ULONG",value:j!==void 0?j:0},{name:"length",type:"ULONG",value:x!==void 0?x:0}])}function Rr(l){for(var v=new Ee.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),j=(v.tables=l,v.numTables=l.length,Math.pow(2,Lr(v.numTables))),x=(v.searchRange=16*j,v.entrySelector=Lr(j),v.rangeShift=16*v.numTables-v.searchRange,[]),P=[],I=v.sizeOf()+Ar().sizeOf()*v.numTables;I%4!=0;)I+=1,P.push({name:"padding",type:"BYTE",value:0});for(var F=0;F<l.length;F+=1){var K=l[F],oe=(L.argument(K.tableName.length===4,"Table name"+K.tableName+" is invalid."),K.sizeOf()),re=Ar(K.tableName,_r(K.encode()),I,oe);for(x.push({name:re.tag+" Table Record",type:"RECORD",value:re}),P.push({name:K.tableName+" table",type:"RECORD",value:K}),I+=oe,L.argument(!isNaN(I),"Something went wrong calculating the offset.");I%4!=0;)I+=1,P.push({name:"padding",type:"BYTE",value:0})}return x.sort(function(pe,_e){return pe.value.tag>_e.value.tag?1:-1}),v.fields=v.fields.concat(x),v.fields=v.fields.concat(P),v}function Ir(l,v,j){for(var x=0;x<v.length;x+=1){var P=l.charToGlyphIndex(v[x]);if(0<P)return l.glyphs.get(P).getMetrics()}return j}var vo={make:Rr,fontToTable:function(l){for(var v,j=[],x=[],P=[],I=[],F=[],K=[],oe=[],re=0,pe=0,_e=0,ge=0,le=0,Pe=0;Pe<l.glyphs.length;Pe+=1){var Me=l.glyphs.get(Pe),ke=0|Me.unicode;if(isNaN(Me.advanceWidth))throw new Error("Glyph "+Me.name+" ("+Pe+"): advanceWidth is not a number.");(ke<v||v===void 0)&&0<ke&&(v=ke),re<ke&&(re=ke);var ke=Ot.getUnicodeRange(ke);if(ke<32)pe|=1<<ke;else if(ke<64)_e|=1<<ke-32;else if(ke<96)ge|=1<<ke-64;else{if(!(ke<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");le|=1<<ke-96}Me.name!==".notdef"&&(ke=Me.getMetrics(),j.push(ke.xMin),x.push(ke.yMin),P.push(ke.xMax),I.push(ke.yMax),K.push(ke.leftSideBearing),oe.push(ke.rightSideBearing),F.push(Me.advanceWidth))}var we,Se={xMin:Math.min.apply(null,j),yMin:Math.min.apply(null,x),xMax:Math.max.apply(null,P),yMax:Math.max.apply(null,I),advanceWidthMax:Math.max.apply(null,F),advanceWidthAvg:function(Pt){for(var hr=0,or=0;or<Pt.length;or+=1)hr+=Pt[or];return hr/Pt.length}(F),minLeftSideBearing:Math.min.apply(null,K),maxLeftSideBearing:Math.max.apply(null,K),minRightSideBearing:Math.min.apply(null,oe)},Ke=(Se.ascender=l.ascender,Se.descender=l.descender,lr.make({flags:3,unitsPerEm:l.unitsPerEm,xMin:Se.xMin,yMin:Se.yMin,xMax:Se.xMax,yMax:Se.yMax,lowestRecPPEM:3,createdTimestamp:l.createdTimestamp})),ot=ue.make({ascender:Se.ascender,descender:Se.descender,advanceWidthMax:Se.advanceWidthMax,minLeftSideBearing:Se.minLeftSideBearing,minRightSideBearing:Se.minRightSideBearing,xMaxExtent:Se.maxLeftSideBearing+(Se.xMax-Se.xMin),numberOfHMetrics:l.glyphs.length}),$e=Re.make(l.glyphs.length),Je=Ot.make({xAvgCharWidth:Math.round(Se.advanceWidthAvg),usWeightClass:l.tables.os2.usWeightClass,usWidthClass:l.tables.os2.usWidthClass,usFirstCharIndex:v,usLastCharIndex:re,ulUnicodeRange1:pe,ulUnicodeRange2:_e,ulUnicodeRange3:ge,ulUnicodeRange4:le,fsSelection:l.tables.os2.fsSelection,sTypoAscender:Se.ascender,sTypoDescender:Se.descender,sTypoLineGap:0,usWinAscent:Se.yMax,usWinDescent:Math.abs(Se.yMin),ulCodePageRange1:1,sxHeight:Ir(l,"xyvw",{yMax:Math.round(Se.ascender/2)}).yMax,sCapHeight:Ir(l,"HIKLEFJMNTZBDPRAGOQSUVWXY",Se).yMax,usDefaultChar:l.hasChar(" ")?32:0,usBreakChar:l.hasChar(" ")?32:0}),nt=De.make(l.glyphs),yt=X.make(l.glyphs),vt=l.getEnglishName("fontFamily"),dt=l.getEnglishName("fontSubfamily"),pt=vt+" "+dt,xt=(xt=l.getEnglishName("postScriptName"))||vt.replace(/\s/g,"")+"-"+dt,Et={};for(we in l.names)Et[we]=l.names[we];Et.uniqueID||(Et.uniqueID={en:l.getEnglishName("manufacturer")+":"+pt}),Et.postScriptName||(Et.postScriptName={en:xt}),Et.preferredFamily||(Et.preferredFamily=l.names.fontFamily),Et.preferredSubfamily||(Et.preferredSubfamily=l.names.fontSubfamily);var Nt=[],Ft=Gt.make(Et,Nt),Nt=0<Nt.length?qe.make(Nt):void 0,Ht=kr.make(),pt=ir.make(l.glyphs,{version:l.getEnglishName("version"),fullName:pt,familyName:vt,weightName:dt,postScriptName:xt,unitsPerEm:l.unitsPerEm,fontBBox:[0,Se.yMin,Se.ascender,Se.advanceWidthMax]}),vt=l.metas&&0<Object.keys(l.metas).length?Pr.make(l.metas):void 0,dt=[Ke,ot,$e,Je,Ft,yt,Ht,pt,nt];Nt&&dt.push(Nt),l.tables.gsub&&dt.push(Or.make(l.tables.gsub)),vt&&dt.push(vt);for(var Bt=_r((xt=Rr(dt)).encode()),jt=xt.fields,It=!1,bt=0;bt<jt.length;bt+=1)if(jt[bt].name==="head table"){jt[bt].value.checkSumAdjustment=2981146554-Bt,It=!0;break}if(It)return xt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:_r};function xr(l,v){for(var j=0,x=l.length-1;j<=x;){var P=j+x>>>1,I=l[P].tag;if(I===v)return P;I<v?j=1+P:x=P-1}return-j-1}function Dr(l,v){for(var j=0,x=l.length-1;j<=x;){var P=j+x>>>1,I=l[P];if(I===v)return P;I<v?j=1+P:x=P-1}return-j-1}function Ur(l,v){for(var j=0,x=l.length-1;j<=x;){var P,I=j+x>>>1,F=(P=l[I]).start;if(F===v)return P;F<v?j=1+I:x=I-1}if(0<j)return v>(P=l[j-1]).end?0:P}function mr(l,v){this.font=l,this.tableName=v}function yr(l){mr.call(this,l,"gpos")}function Xt(l){mr.call(this,l,"gsub")}function Fr(l,v,j){for(var x=l.subtables,P=0;P<x.length;P++){var I=x[P];if(I.substFormat===v)return I}if(j)return x.push(j),j}function Nr(l){for(var v=new ArrayBuffer(l.length),j=new Uint8Array(v),x=0;x<l.length;++x)j[x]=l[x];return v}function tr(l,v){if(!l)throw v}function Br(l,v,j,x,P){var I=0<(v&x)?(I=l.parseByte(),j+(I=v&P?I:-I)):0<(v&P)?j:j+l.parseShort();return I}function bo(l,v,j){var x,P=new je.Parser(v,j);if(l.numberOfContours=P.parseShort(),l._xMin=P.parseShort(),l._yMin=P.parseShort(),l._xMax=P.parseShort(),l._yMax=P.parseShort(),0<l.numberOfContours){for(var I=l.endPointIndices=[],F=0;F<l.numberOfContours;F+=1)I.push(P.parseUShort());l.instructionLength=P.parseUShort(),l.instructions=[];for(var K=0;K<l.instructionLength;K+=1)l.instructions.push(P.parseByte());for(var oe=I[I.length-1]+1,re=[],pe=0;pe<oe;pe+=1)if(x=P.parseByte(),re.push(x),0<(8&x))for(var _e=P.parseByte(),ge=0;ge<_e;ge+=1)re.push(x),pe+=1;if(L.argument(re.length===oe,"Bad flags."),0<I.length){var le,Pe=[];if(0<oe){for(var Me=0;Me<oe;Me+=1)x=re[Me],(le={}).onCurve=!!(1&x),le.lastPointOfContour=0<=I.indexOf(Me),Pe.push(le);for(var ke=0,we=0;we<oe;we+=1)x=re[we],(le=Pe[we]).x=Br(P,x,ke,2,16),ke=le.x;for(var Se=0,Ke=0;Ke<oe;Ke+=1)x=re[Ke],(le=Pe[Ke]).y=Br(P,x,Se,4,32),Se=le.y}l.points=Pe}else l.points=[]}else if(l.numberOfContours===0)l.points=[];else{l.isComposite=!0,l.points=[],l.components=[];for(var ot=!0;ot;){re=P.parseUShort();var $e={glyphIndex:P.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&re)?0<(2&re)?($e.dx=P.parseShort(),$e.dy=P.parseShort()):$e.matchedPoints=[P.parseUShort(),P.parseUShort()]:0<(2&re)?($e.dx=P.parseChar(),$e.dy=P.parseChar()):$e.matchedPoints=[P.parseByte(),P.parseByte()],0<(8&re)?$e.xScale=$e.yScale=P.parseF2Dot14():0<(64&re)?($e.xScale=P.parseF2Dot14(),$e.yScale=P.parseF2Dot14()):0<(128&re)&&($e.xScale=P.parseF2Dot14(),$e.scale01=P.parseF2Dot14(),$e.scale10=P.parseF2Dot14(),$e.yScale=P.parseF2Dot14()),l.components.push($e),ot=!!(32&re)}if(256&re){l.instructionLength=P.parseUShort(),l.instructions=[];for(var Je=0;Je<l.instructionLength;Je+=1)l.instructions.push(P.parseByte())}}}function wr(l,v){for(var j=[],x=0;x<l.length;x+=1){var P=l[x],P={x:v.xScale*P.x+v.scale01*P.y+v.dx,y:v.scale10*P.x+v.yScale*P.y+v.dy,onCurve:P.onCurve,lastPointOfContour:P.lastPointOfContour};j.push(P)}return j}function Gr(l){var v=new Z;if(l)for(var j=function(_e){for(var ge=[],le=[],Pe=0;Pe<_e.length;Pe+=1){var Me=_e[Pe];le.push(Me),Me.lastPointOfContour&&(ge.push(le),le=[])}return L.argument(le.length===0,"There are still points left in the current contour."),ge}(l),x=0;x<j.length;++x){var P,I=j[x],F=I[I.length-1],K=I[0];F.onCurve?v.moveTo(F.x,F.y):K.onCurve?v.moveTo(K.x,K.y):(P={x:.5*(F.x+K.x),y:.5*(F.y+K.y)},v.moveTo(P.x,P.y));for(var oe=0;oe<I.length;++oe){var re,pe=F,F=K,K=I[(oe+1)%I.length];F.onCurve?v.lineTo(F.x,F.y):(re=K,pe.onCurve||(F.x,pe.x,F.y,pe.y),K.onCurve||(re={x:.5*(F.x+K.x),y:.5*(F.y+K.y)}),v.quadraticCurveTo(F.x,F.y,re.x,re.y))}v.closePath()}return v}function jo(l,v){if(v.isComposite)for(var j=0;j<v.components.length;j+=1){var x=v.components[j],P=l.get(x.glyphIndex);if(P.getPath(),P.points){var I=void 0;if(x.matchedPoints===void 0)I=wr(P.points,x);else{if(x.matchedPoints[0]>v.points.length-1||x.matchedPoints[1]>P.points.length-1)throw Error("Matched points out of range in "+v.name);var F=v.points[x.matchedPoints[0]],K=P.points[x.matchedPoints[1]],x={xScale:x.xScale,scale01:x.scale01,scale10:x.scale10,yScale:x.yScale,dx:0,dy:0},K=wr([K],x)[0];x.dx=F.x-K.x,x.dy=F.y-K.y,I=wr(P.points,x)}v.points=v.points.concat(I)}}return Gr(v.points)}(yr.prototype=mr.prototype={searchTag:xr,binSearch:Dr,getTable:function(l){var v=this.font.tables[this.tableName];return v=!v&&l?this.font.tables[this.tableName]=this.createDefaultTable():v},getScriptNames:function(){var l=this.getTable();return l?l.scripts.map(function(v){return v.tag}):[]},getDefaultScriptName:function(){var l=this.getTable();if(l){for(var v=!1,j=0;j<l.scripts.length;j++){var x=l.scripts[j].tag;if(x==="DFLT")return x;x==="latn"&&(v=!0)}return v?"latn":void 0}},getScriptTable:function(l,v){var j,x=this.getTable(v);if(x)return j=x.scripts,0<=(x=xr(x.scripts,l=l||"DFLT"))?j[x].script:v?(j.splice(-1-x,0,v={tag:l,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),v.script):void 0},getLangSysTable:function(P,v,j){var x,P=this.getScriptTable(P,j);if(P)return v&&v!=="dflt"&&v!=="DFLT"?0<=(x=xr(P.langSysRecords,v))?P.langSysRecords[x].langSys:j?(P.langSysRecords.splice(-1-x,0,j={tag:v,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),j.langSys):void 0:P.defaultLangSys},getFeatureTable:function(l,v,j,x){if(l=this.getLangSysTable(l,v,x),l){for(var P,I=l.featureIndexes,F=this.font.tables[this.tableName].features,K=0;K<I.length;K++)if((P=F[I[K]]).tag===j)return P.feature;if(x)return v=F.length,L.assert(v===0||j>=F[v-1].tag,"Features must be added in alphabetical order."),F.push(P={tag:j,feature:{params:0,lookupListIndexes:[]}}),I.push(v),P.feature}},getLookupTables:function(I,v,j,x,P){var I=this.getFeatureTable(I,v,j,P),F=[];if(I){for(var K,oe=I.lookupListIndexes,re=this.font.tables[this.tableName].lookups,pe=0;pe<oe.length;pe++)(K=re[oe[pe]]).lookupType===x&&F.push(K);if(F.length===0&&P)return v=re.length,re.push(K={lookupType:x,lookupFlag:0,subtables:[],markFilteringSet:void 0}),oe.push(v),[K]}return F},getGlyphClass:function(l,v){switch(l.format){case 1:return l.startGlyph<=v&&v<l.startGlyph+l.classes.length?l.classes[v-l.startGlyph]:0;case 2:var j=Ur(l.ranges,v);return j?j.classId:0}},getCoverageIndex:function(l,v){switch(l.format){case 1:var j=Dr(l.glyphs,v);return 0<=j?j:-1;case 2:return j=Ur(l.ranges,v),j?j.index+v-j.start:-1}},expandCoverage:function(l){if(l.format===1)return l.glyphs;for(var v=[],j=l.ranges,x=0;x<j.length;x++)for(var P=j[x],I=P.start,F=P.end,K=I;K<=F;K++)v.push(K);return v}}).init=function(){var l=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(l)},yr.prototype.getKerningValue=function(l,v,j){for(var x=0;x<l.length;x++)for(var P=l[x].subtables,I=0;I<P.length;I++){var F=P[I],K=this.getCoverageIndex(F.coverage,v);if(!(K<0))switch(F.posFormat){case 1:for(var oe=F.pairSets[K],re=0;re<oe.length;re++){var pe=oe[re];if(pe.secondGlyph===j)return pe.value1&&pe.value1.xAdvance||0}break;case 2:var ge=this.getGlyphClass(F.classDef1,v),_e=this.getGlyphClass(F.classDef2,j),ge=F.classRecords[ge][_e];return ge.value1&&ge.value1.xAdvance||0}}return 0},yr.prototype.getKerningTables=function(l,v){if(this.font.tables.gpos)return this.getLookupTables(l,v,"kern",2)},(Xt.prototype=mr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Xt.prototype.getSingle=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,1),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++){var oe=F[K],re=this.expandCoverage(oe.coverage),pe=void 0;if(oe.substFormat===1)for(var _e=oe.deltaGlyphId,pe=0;pe<re.length;pe++){var ge=re[pe];x.push({sub:ge,by:ge+_e})}else{var le=oe.substitute;for(pe=0;pe<re.length;pe++)x.push({sub:re[pe],by:le[pe]})}}return x},Xt.prototype.getAlternates=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,3),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++)for(var oe=F[K],re=this.expandCoverage(oe.coverage),pe=oe.alternateSets,_e=0;_e<re.length;_e++)x.push({sub:re[_e],by:pe[_e]});return x},Xt.prototype.getLigatures=function(l,v,j){for(var x=[],P=this.getLookupTables(v,j,l,4),I=0;I<P.length;I++)for(var F=P[I].subtables,K=0;K<F.length;K++)for(var oe=F[K],re=this.expandCoverage(oe.coverage),pe=oe.ligatureSets,_e=0;_e<re.length;_e++)for(var ge=re[_e],le=pe[_e],Pe=0;Pe<le.length;Pe++){var Me=le[Pe];x.push({sub:[ge].concat(Me.components),by:Me.ligGlyph})}return x},Xt.prototype.addSingle=function(l,v,j,x){j=Fr(this.getLookupTables(j,x,l,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),x=v.sub,l=this.binSearch(j.coverage.glyphs,x),l<0&&(j.coverage.glyphs.splice(l=-1-l,0,x),j.substitute.splice(l,0,0)),j.substitute[l]=v.by},Xt.prototype.addAlternate=function(l,v,j,x){j=Fr(this.getLookupTables(j,x,l,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(j.coverage.format===1,"Ligature: unable to modify coverage table format "+j.coverage.format),x=v.sub,l=this.binSearch(j.coverage.glyphs,x),l<0&&(j.coverage.glyphs.splice(l=-1-l,0,x),j.alternateSets.splice(l,0,0)),j.alternateSets[l]=v.by},Xt.prototype.addLigature=function(I,oe,K,P){var K=this.getLookupTables(K,P,I,4,!0)[0],P=K.subtables[0],I=(P||(K.subtables[0]=P={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(P.coverage.format===1,"Ligature: unable to modify coverage table format "+P.coverage.format),oe.sub[0]),F=oe.sub.slice(1),K={ligGlyph:oe.by,components:F},oe=this.binSearch(P.coverage.glyphs,I);if(0<=oe){for(var re=P.ligatureSets[oe],pe=0;pe<re.length;pe++)if(function(_e,ge){var le=_e.length;if(le===ge.length){for(var Pe=0;Pe<le;Pe++)if(_e[Pe]!==ge[Pe])return;return 1}}(re[pe].components,F))return;re.push(K)}else P.coverage.glyphs.splice(oe=-1-oe,0,I),P.ligatureSets.splice(oe,0,[K])},Xt.prototype.getFeature=function(l,v,j){if(/ss\d\d/.test(l))return this.getSingle(l,v,j);switch(l){case"aalt":case"salt":return this.getSingle(l,v,j).concat(this.getAlternates(l,v,j));case"dlig":case"liga":case"rlig":return this.getLigatures(l,v,j)}},Xt.prototype.add=function(l,v,j,x){if(/ss\d\d/.test(l))return this.addSingle(l,v,j,x);switch(l){case"aalt":case"salt":return typeof v.by=="number"?this.addSingle(l,v,j,x):this.addAlternate(l,v,j,x);case"dlig":case"liga":case"rlig":return this.addLigature(l,v,j,x)}};var Vr={getPath:Gr,parse:function(l,v,j,x){for(var P=new Ze.GlyphSet(x),I=0;I<j.length-1;I+=1){var F=j[I];F!==j[I+1]?P.push(I,Ze.ttfGlyphLoader(x,I,bo,l,v+F,jo)):P.push(I,Ze.glyphLoader(x,I))}return P}};function zr(l){this.font=l,this.getCommands=function(v){return Vr.getPath(v).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function _o(l){return l}function Hr(l){return Math.sign(l)*Math.round(Math.abs(l))}function xo(l){return Math.sign(l)*Math.round(Math.abs(2*l))/2}function wo(l){return Math.sign(l)*(Math.round(Math.abs(l)+.5)-.5)}function So(l){return Math.sign(l)*Math.ceil(Math.abs(l))}function To(l){return Math.sign(l)*Math.floor(Math.abs(l))}function Wr(l){var v=this.srPeriod,j=this.srPhase,x=1;return l<0&&(l=-l,x=-1),l+=this.srThreshold-j,l=Math.trunc(l/v)*v,(l+=j)<0?j*x:l*x}var Yt={x:1,y:0,axis:"x",distance:function(l,v,j,x){return(j?l.xo:l.x)-(x?v.xo:v.x)},interpolate:function(l,v,j,x){var P,I,F,K,oe,re,pe;if(!x||x===this)return P=l.xo-v.xo,I=l.xo-j.xo,oe=v.x-v.xo,re=j.x-j.xo,(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?void(l.x=l.xo+(oe+re)/2):void(l.x=l.xo+(oe*K+re*F)/pe);P=x.distance(l,v,!0,!0),I=x.distance(l,j,!0,!0),oe=x.distance(v,v,!1,!0),re=x.distance(j,j,!1,!0),(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?Yt.setRelative(l,l,(oe+re)/2,x,!0):Yt.setRelative(l,l,(oe*K+re*F)/pe,x,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(l,v,j,x,P){var I,F;x&&x!==this?(I=P?v.xo:v.x,F=P?v.yo:v.y,I+=j*x.x,F+=j*x.y,l.x=I+(l.y-F)/x.normalSlope):l.x=(P?v.xo:v.x)+j},slope:0,touch:function(l){l.xTouched=!0},touched:function(l){return l.xTouched},untouch:function(l){l.xTouched=!1}},Zt={x:0,y:1,axis:"y",distance:function(l,v,j,x){return(j?l.yo:l.y)-(x?v.yo:v.y)},interpolate:function(l,v,j,x){var P,I,F,K,oe,re,pe;if(!x||x===this)return P=l.yo-v.yo,I=l.yo-j.yo,oe=v.y-v.yo,re=j.y-j.yo,(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?void(l.y=l.yo+(oe+re)/2):void(l.y=l.yo+(oe*K+re*F)/pe);P=x.distance(l,v,!0,!0),I=x.distance(l,j,!0,!0),oe=x.distance(v,v,!1,!0),re=x.distance(j,j,!1,!0),(pe=(F=Math.abs(P))+(K=Math.abs(I)))===0?Zt.setRelative(l,l,(oe+re)/2,x,!0):Zt.setRelative(l,l,(oe*K+re*F)/pe,x,!0)},normalSlope:0,setRelative:function(l,v,j,x,P){var I,F;x&&x!==this?(I=P?v.xo:v.x,F=P?v.yo:v.y,I+=j*x.x,F+=j*x.y,l.y=F+x.normalSlope*(l.x-I)):l.y=(P?v.yo:v.y)+j},slope:Number.POSITIVE_INFINITY,touch:function(l){l.yTouched=!0},touched:function(l){return l.yTouched},untouch:function(l){l.yTouched=!1}};function ur(l,v){this.x=l,this.y=v,this.axis=void 0,this.slope=v/l,this.normalSlope=-l/v,Object.freeze(this)}function cr(l,v){var j=Math.sqrt(l*l+v*v);return v/=j,(l/=j)===1&&v===0?Yt:l===0&&v===1?Zt:new ur(l,v)}function Kt(l,v,j,x){this.x=this.xo=Math.round(64*l)/64,this.y=this.yo=Math.round(64*v)/64,this.lastPointOfContour=j,this.onCurve=x,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Yt),Object.freeze(Zt),ur.prototype.distance=function(l,v,j,x){return this.x*Yt.distance(l,v,j,x)+this.y*Zt.distance(l,v,j,x)},ur.prototype.interpolate=function(l,P,I,x){var F=x.distance(l,P,!0,!0),K=x.distance(l,I,!0,!0),P=x.distance(P,P,!1,!0),I=x.distance(I,I,!1,!0),F=Math.abs(F),K=Math.abs(K),oe=F+K;oe===0?this.setRelative(l,l,(P+I)/2,x,!0):this.setRelative(l,l,(P*K+I*F)/oe,x,!0)},ur.prototype.setRelative=function(l,I,oe,re,K){var F=K?I.xo:I.x,K=K?I.yo:I.y,I=F+oe*(re=re||this).x,F=K+oe*re.y,K=re.normalSlope,oe=this.slope,re=l.x,pe=l.y;l.x=(oe*re-K*I+F-pe)/(oe-K),l.y=oe*(l.x-re)+pe},ur.prototype.touch=function(l){l.xTouched=!0,l.yTouched=!0},Kt.prototype.nextTouched=function(l){for(var v=this.nextPointOnContour;!l.touched(v)&&v!==this;)v=v.nextPointOnContour;return v},Kt.prototype.prevTouched=function(l){for(var v=this.prevPointOnContour;!l.touched(v)&&v!==this;)v=v.prevPointOnContour;return v};var dr=Object.freeze(new Kt(0,0)),Eo={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $t(l,v){switch(this.env=l,this.stack=[],this.prog=v,l){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yt,this.round=Hr}}function gr(l){for(var v=l.tZone=new Array(l.gZone.length),j=0;j<v.length;j++)v[j]=new Kt(0,0)}function qr(l,v){var j,x=l.prog,P=l.ip,I=1;do if((j=x[++P])===88)I++;else if(j===89)I--;else if(j===64)P+=x[P+1]+1;else if(j===65)P+=2*x[P+1]+1;else if(176<=j&&j<=183)P+=j-176+1;else if(184<=j&&j<=191)P+=2*(j-184+1);else if(v&&I===1&&j===27)break;while(0<I);l.ip=P}function Xr(l,v){i.DEBUG&&console.log(v.step,"SVTCA["+l.axis+"]"),v.fv=v.pv=v.dpv=l}function Yr(l,v){i.DEBUG&&console.log(v.step,"SPVTCA["+l.axis+"]"),v.pv=v.dpv=l}function Zr(l,v){i.DEBUG&&console.log(v.step,"SFVTCA["+l.axis+"]"),v.fv=l}function Kr(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log("SPVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.pv=v.dpv=cr(j,x)}function $r(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log("SFVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.fv=cr(j,x)}function Sr(l){i.DEBUG&&console.log(l.step,"POP[]"),l.stack.pop()}function Jr(l,v){var j=v.stack.pop(),x=v.z0[j],P=v.fv,I=v.pv,F=(i.DEBUG&&console.log(v.step,"MDAP["+l+"]",j),I.distance(x,dr));l&&(F=v.round(F)),P.setRelative(x,dr,F,I),P.touch(x),v.rp0=v.rp1=j}function Qr(l,v){var j,x,P,I=v.z2,F=I.length-2;i.DEBUG&&console.log(v.step,"IUP["+l.axis+"]");for(var K=0;K<F;K++)j=I[K],l.touched(j)||(x=j.prevTouched(l))!==j&&(x===(P=j.nextTouched(l))&&l.setRelative(j,j,l.distance(x,x,!1,!0),l,!0),l.interpolate(j,x,P,l))}function eo(l,v){for(var j=v.stack,x=l?v.rp1:v.rp2,P=(l?v.z0:v.z1)[x],I=v.fv,F=v.pv,K=v.loop,oe=v.z2;K--;){var re=j.pop(),pe=oe[re],_e=F.distance(P,P,!1,!0);I.setRelative(pe,pe,_e,F),I.touch(pe),i.DEBUG&&console.log(v.step,(1<v.loop?"loop "+(v.loop-K)+": ":"")+"SHP["+(l?"rp1":"rp2")+"]",re)}v.loop=1}function to(l,v){for(var j=v.stack,F=l?v.rp1:v.rp2,x=(l?v.z0:v.z1)[F],P=v.fv,I=v.pv,F=j.pop(),K=v.z2[v.contours[F]],oe=K,re=(i.DEBUG&&console.log(v.step,"SHC["+l+"]",F),I.distance(x,x,!1,!0));oe!==x&&P.setRelative(oe,oe,re,I),(oe=oe.nextPointOnContour)!==K;);}function ro(l,v){var j,x,K=v.stack,P=l?v.rp1:v.rp2,P=(l?v.z0:v.z1)[P],I=v.fv,F=v.pv,K=K.pop();switch(i.DEBUG&&console.log(v.step,"SHZ["+l+"]",K),K){case 0:j=v.tZone;break;case 1:j=v.gZone;break;default:throw new Error("Invalid zone")}for(var oe=F.distance(P,P,!1,!0),re=j.length-2,pe=0;pe<re;pe++)x=j[pe],I.setRelative(x,x,oe,F)}function oo(l,v){var x=v.stack,j=x.pop()/64,x=x.pop(),P=v.z1[x],I=v.z0[v.rp0],F=v.fv,K=v.pv;F.setRelative(P,I,j,K),F.touch(P),i.DEBUG&&console.log(v.step,"MSIRP["+l+"]",j,x),v.rp1=v.rp0,v.rp2=x,l&&(v.rp0=x)}function no(l,v){var j=v.stack,K=j.pop(),j=j.pop(),x=v.z0[j],P=v.fv,I=v.pv,F=v.cvt[K],K=(i.DEBUG&&console.log(v.step,"MIAP["+l+"]",K,"(",F,")",j),I.distance(x,dr));l&&(Math.abs(K-F)<v.cvCutIn&&(K=F),K=v.round(K)),P.setRelative(x,dr,K,I),v.zp0===0&&(x.xo=x.x,x.yo=x.y),P.touch(x),v.rp0=v.rp1=j}function so(l,v){var j=v.stack,x=j.pop(),P=v.z2[x];i.DEBUG&&console.log(v.step,"GC["+l+"]",x),j.push(64*v.dpv.distance(P,dr,l,!1))}function ao(l,v){var x=v.stack,j=x.pop(),x=x.pop(),P=v.z1[j],I=v.z0[x],I=v.dpv.distance(I,P,l,l);i.DEBUG&&console.log(v.step,"MD["+l+"]",j,x,"->",I),v.stack.push(Math.round(64*I))}function Tr(l,v){var j=v.stack,x=j.pop(),P=v.fv,I=v.pv,F=v.ppem,K=v.deltaBase+16*(l-1),oe=v.deltaShift,re=v.z0;i.DEBUG&&console.log(v.step,"DELTAP["+l+"]",x,j);for(var pe=0;pe<x;pe++){var _e=j.pop(),ge=j.pop();K+((240&ge)>>4)===F&&(0<=(ge=(15&ge)-8)&&ge++,i.DEBUG&&console.log(v.step,"DELTAPFIX",_e,"by",ge*oe),_e=re[_e],P.setRelative(_e,_e,ge*oe,I))}}function vr(l,v){var j=v.stack,x=j.pop();i.DEBUG&&console.log(v.step,"ROUND[]"),j.push(64*v.round(x/64))}function Er(l,v){var j=v.stack,x=j.pop(),P=v.ppem,I=v.deltaBase+16*(l-1),F=v.deltaShift;i.DEBUG&&console.log(v.step,"DELTAC["+l+"]",x,j);for(var K=0;K<x;K++){var oe=j.pop(),re=j.pop();I+((240&re)>>4)===P&&(0<=(re=(15&re)-8)&&re++,re=re*F,i.DEBUG&&console.log(v.step,"DELTACFIX",oe,"by",re),v.cvt[oe]+=re)}}function io(l,v){var j,P=v.stack,x=P.pop(),P=P.pop(),I=v.z2[x],F=v.z1[P];i.DEBUG&&console.log(v.step,"SDPVTL["+l+"]",x,P),x=l?(j=I.y-F.y,F.x-I.x):(j=F.x-I.x,F.y-I.y),v.dpv=cr(j,x)}function Jt(l,v){var j=v.stack,x=v.prog,P=v.ip;i.DEBUG&&console.log(v.step,"PUSHB["+l+"]");for(var I=0;I<l;I++)j.push(x[++P]);v.ip=P}function Qt(l,v){var j=v.ip,x=v.prog,P=v.stack;i.DEBUG&&console.log(v.ip,"PUSHW["+l+"]");for(var I=0;I<l;I++){var F=x[++j]<<8|x[++j];32768&F&&(F=-(1+(65535^F))),P.push(F)}v.ip=j}function Ye(l,v,j,x,P,I){var F,K,re=I.stack,oe=l&&re.pop(),re=re.pop(),pe=I.rp0,pe=I.z0[pe],_e=I.z1[re],ge=I.minDis,le=I.fv,Pe=I.dpv,Me=F=Pe.distance(_e,pe,!0,!0),ke=0<=Me?1:-1;Me=Math.abs(Me),l&&(K=I.cvt[oe],x&&Math.abs(Me-K)<I.cvCutIn&&(Me=K)),j&&Me<ge&&(Me=ge),x&&(Me=I.round(Me)),le.setRelative(_e,pe,ke*Me,Pe),le.touch(_e),i.DEBUG&&console.log(I.step,(l?"MIRP[":"MDRP[")+(v?"M":"m")+(j?">":"_")+(x?"R":"_")+(P===0?"Gr":P===1?"Bl":P===2?"Wh":"")+"]",l?oe+"("+I.cvt[oe]+","+K+")":"",re,"(d =",F,"->",ke*Me,")"),I.rp1=I.rp0,I.rp2=re,v&&(I.rp0=re)}zr.prototype.exec=function(l,v){if(typeof v!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var j=this.font,x=this._prepState;if(!x||x.ppem!==v){var P=this._fpgmState;if(!P){$t.prototype=Eo,(P=this._fpgmState=new $t("fpgm",j.tables.fpgm)).funcs=[],P.font=j,i.DEBUG&&(console.log("---EXEC FPGM---"),P.step=-1);try{rr(P)}catch(re){return console.log("Hinting error in FPGM:"+re),void(this._errorState=3)}}$t.prototype=P,(x=this._prepState=new $t("prep",j.tables.prep)).ppem=v;var I=j.tables.cvt;if(I)for(var F=x.cvt=new Array(I.length),K=v/j.unitsPerEm,oe=0;oe<I.length;oe++)F[oe]=I[oe]*K;else x.cvt=[];i.DEBUG&&(console.log("---EXEC PREP---"),x.step=-1);try{rr(x)}catch(re){this._errorState<2&&console.log("Hinting error in PREP:"+re),this._errorState=2}}if(!(1<this._errorState))try{return Mo(l,x)}catch(re){this._errorState<1&&(console.log("Hinting error:"+re),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Mo=function(l,v){var j=v.ppem/v.font.unitsPerEm,x=j,P=l.components;if($t.prototype=v,P){for(var I=v.font,F=[],K=[],oe=0;oe<P.length;oe++){var re=P[oe],pe=I.glyphs.get(re.glyphIndex),_e=new $t("glyf",pe.instructions);i.DEBUG&&(console.log("---EXEC COMP "+oe+"---"),_e.step=-1),lo(pe,_e,j,x);for(var ge=Math.round(re.dx*j),le=Math.round(re.dy*x),Pe=_e.gZone,Me=_e.contours,ke=0;ke<Pe.length;ke++){var we=Pe[ke];we.xTouched=we.yTouched=!1,we.xo=we.x=we.x+ge,we.yo=we.y=we.y+le}var Se=F.length;F.push.apply(F,Pe);for(var Ke=0;Ke<Me.length;Ke++)K.push(Me[Ke]+Se)}l.instructions&&!_e.inhibitGridFit&&((_e=new $t("glyf",l.instructions)).gZone=_e.z0=_e.z1=_e.z2=F,_e.contours=K,F.push(new Kt(0,0),new Kt(Math.round(l.advanceWidth*j),0)),i.DEBUG&&(console.log("---EXEC COMPOSITE---"),_e.step=-1),rr(_e),F.length-=2)}else _e=new $t("glyf",l.instructions),i.DEBUG&&(console.log("---EXEC GLYPH---"),_e.step=-1),lo(l,_e,j,x),F=_e.gZone;return F},lo=function(l,v,j,x){for(var P,I,F,K=l.points||[],oe=K.length,re=v.gZone=v.z0=v.z1=v.z2=[],pe=v.contours=[],_e=0;_e<oe;_e++)P=K[_e],re[_e]=new Kt(P.x*j,P.y*x,P.lastPointOfContour,P.onCurve);for(var ge=0;ge<oe;ge++)P=re[ge],I||(I=P,pe.push(ge)),P.lastPointOfContour?((P.nextPointOnContour=I).prevPointOnContour=P,I=void 0):(F=re[ge+1],(P.nextPointOnContour=F).prevPointOnContour=P);if(!v.inhibitGridFit){if(i.DEBUG){console.log("PROCESSING GLYPH",v.stack);for(var le=0;le<oe;le++)console.log(le,re[le].x,re[le].y)}if(re.push(new Kt(0,0),new Kt(Math.round(l.advanceWidth*j),0)),rr(v),re.length-=2,i.DEBUG){console.log("FINISHED GLYPH",v.stack);for(var Pe=0;Pe<oe;Pe++)console.log(Pe,re[Pe].x,re[Pe].y)}}},rr=function(l){var v=l.prog;if(v){var j,x=v.length;for(l.ip=0;l.ip<x;l.ip++){if(i.DEBUG&&l.step++,!(j=Co[v[l.ip]]))throw new Error("unknown instruction: 0x"+Number(v[l.ip]).toString(16));j(l)}}},Co=[Xr.bind(void 0,Zt),Xr.bind(void 0,Yt),Yr.bind(void 0,Zt),Yr.bind(void 0,Yt),Zr.bind(void 0,Zt),Zr.bind(void 0,Yt),Kr.bind(void 0,0),Kr.bind(void 0,1),$r.bind(void 0,0),$r.bind(void 0,1),function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"SPVFS[]",v,j),l.pv=l.dpv=cr(j,v)},function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"SPVFS[]",v,j),l.fv=cr(j,v)},function(l){var v=l.stack,j=l.pv;i.DEBUG&&console.log(l.step,"GPV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(l){var v=l.stack,j=l.fv;i.DEBUG&&console.log(l.step,"GFV[]"),v.push(16384*j.x),v.push(16384*j.y)},function(l){l.fv=l.pv,i.DEBUG&&console.log(l.step,"SFVTPV[]")},function(v){var j=(F=v.stack).pop(),x=F.pop(),P=F.pop(),I=F.pop(),F=F.pop(),oe=v.z0,pe=v.z1,K=oe[j],oe=oe[x],re=pe[P],pe=pe[I],v=v.z2[F],j=(i.DEBUG&&console.log("ISECT[], ",j,x,P,I,F),K.x),x=K.y,P=oe.x,I=oe.y,F=re.x,K=re.y,oe=pe.x,re=pe.y,pe=(j-P)*(K-re)-(x-I)*(F-oe),_e=j*I-x*P,ge=F*re-K*oe;v.x=(_e*(F-oe)-ge*(j-P))/pe,v.y=(_e*(K-re)-ge*(x-I))/pe},function(l){l.rp0=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP0[]",l.rp0)},function(l){l.rp1=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP1[]",l.rp1)},function(l){l.rp2=l.stack.pop(),i.DEBUG&&console.log(l.step,"SRP2[]",l.rp2)},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP0[]",v),l.zp0=v){case 0:l.tZone||gr(l),l.z0=l.tZone;break;case 1:l.z0=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP1[]",v),l.zp1=v){case 0:l.tZone||gr(l),l.z1=l.tZone;break;case 1:l.z1=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZP2[]",v),l.zp2=v){case 0:l.tZone||gr(l),l.z2=l.tZone;break;case 1:l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){var v=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SZPS[]",v),l.zp0=l.zp1=l.zp2=v){case 0:l.tZone||gr(l),l.z0=l.z1=l.z2=l.tZone;break;case 1:l.z0=l.z1=l.z2=l.gZone;break;default:throw new Error("Invalid zone pointer")}},function(l){l.loop=l.stack.pop(),i.DEBUG&&console.log(l.step,"SLOOP[]",l.loop)},function(l){i.DEBUG&&console.log(l.step,"RTG[]"),l.round=Hr},function(l){i.DEBUG&&console.log(l.step,"RTHG[]"),l.round=wo},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SMD[]",v),l.minDis=v/64},function(l){i.DEBUG&&console.log(l.step,"ELSE[]"),qr(l,!1)},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"JMPR[]",v),l.ip+=v-1},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCVTCI[]",v),l.cvCutIn=v/64},void 0,void 0,function(l){var v=l.stack;i.DEBUG&&console.log(l.step,"DUP[]"),v.push(v[v.length-1])},Sr,function(l){i.DEBUG&&console.log(l.step,"CLEAR[]"),l.stack.length=0},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"SWAP[]"),v.push(j),v.push(x)},function(l){var v=l.stack;i.DEBUG&&console.log(l.step,"DEPTH[]"),v.push(v.length)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"CINDEX[]",j),v.push(v[v.length-j])},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"MINDEX[]",j),v.push(v.splice(v.length-j,1)[0])},void 0,void 0,void 0,function(l){var v=(x=l.stack).pop(),j=x.pop(),x=(i.DEBUG&&console.log(l.step,"LOOPCALL[]",v,j),l.ip),P=l.prog;l.prog=l.funcs[v];for(var I=0;I<j;I++)rr(l),i.DEBUG&&console.log(++l.step,I+1<j?"next loopcall":"done loopcall",I);l.ip=x,l.prog=P},function(l){var v=l.stack.pop(),j=(i.DEBUG&&console.log(l.step,"CALL[]",v),l.ip),x=l.prog;l.prog=l.funcs[v],rr(l),l.ip=j,l.prog=x,i.DEBUG&&console.log(++l.step,"returning from",v)},function(l){if(l.env!=="fpgm")throw new Error("FDEF not allowed here");var x=l.stack,v=l.prog,j=l.ip,x=x.pop(),P=j;for(i.DEBUG&&console.log(l.step,"FDEF[]",x);v[++j]!==45;);l.ip=j,l.funcs[x]=v.slice(P+1,j)},void 0,Jr.bind(void 0,0),Jr.bind(void 0,1),Qr.bind(void 0,Zt),Qr.bind(void 0,Yt),eo.bind(void 0,0),eo.bind(void 0,1),to.bind(void 0,0),to.bind(void 0,1),ro.bind(void 0,0),ro.bind(void 0,1),function(l){for(var v=l.stack,j=l.loop,x=l.fv,P=v.pop()/64,I=l.z2;j--;){var F=v.pop(),K=I[F];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-j)+": ":"")+"SHPIX[]",F,P),x.setRelative(K,K,P),x.touch(K)}l.loop=1},function(l){for(var v=l.stack,j=l.rp1,x=l.rp2,P=l.loop,I=l.z0[j],F=l.z1[x],K=l.fv,oe=l.dpv,re=l.z2;P--;){var pe=v.pop(),_e=re[pe];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-P)+": ":"")+"IP[]",pe,j,"<->",x),K.interpolate(_e,I,F,oe),K.touch(_e)}l.loop=1},oo.bind(void 0,0),oo.bind(void 0,1),function(l){for(var v=l.stack,j=l.rp0,x=l.z0[j],P=l.loop,I=l.fv,F=l.pv,K=l.z1;P--;){var oe=v.pop(),re=K[oe];i.DEBUG&&console.log(l.step,(1<l.loop?"loop "+(l.loop-P)+": ":"")+"ALIGNRP[]",oe),I.setRelative(re,x,0,F),I.touch(re)}l.loop=1},function(l){i.DEBUG&&console.log(l.step,"RTDG[]"),l.round=xo},no.bind(void 0,0),no.bind(void 0,1),function(l){var v=l.prog,j=l.ip,x=l.stack,P=v[++j];i.DEBUG&&console.log(l.step,"NPUSHB[]",P);for(var I=0;I<P;I++)x.push(v[++j]);l.ip=j},function(l){var v=l.ip,j=l.prog,x=l.stack,P=j[++v];i.DEBUG&&console.log(l.step,"NPUSHW[]",P);for(var I=0;I<P;I++){var F=j[++v]<<8|j[++v];32768&F&&(F=-(1+(65535^F))),x.push(F)}l.ip=v},function(l){var x=l.stack,v=(v=l.store)||(l.store=[]),j=x.pop(),x=x.pop();i.DEBUG&&console.log(l.step,"WS",j,x),v[x]=j},function(P){var v=P.stack,j=P.store,x=v.pop(),P=(i.DEBUG&&console.log(P.step,"RS",x),j&&j[x]||0);v.push(P)},function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"WCVTP",v,j),l.cvt[j]=v/64},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"RCVT",j),v.push(64*l.cvt[j])},so.bind(void 0,0),so.bind(void 0,1),void 0,ao.bind(void 0,0),ao.bind(void 0,1),function(l){i.DEBUG&&console.log(l.step,"MPPEM[]"),l.stack.push(l.ppem)},void 0,function(l){i.DEBUG&&console.log(l.step,"FLIPON[]"),l.autoFlip=!0},void 0,void 0,function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"LT[]",j,x),v.push(x<j?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"LTEQ[]",j,x),v.push(x<=j?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"GT[]",j,x),v.push(j<x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"GTEQ[]",j,x),v.push(j<=x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"EQ[]",j,x),v.push(j===x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"NEQ[]",j,x),v.push(j!==x?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"ODD[]",j),v.push(Math.trunc(j)%2?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"EVEN[]",j),v.push(Math.trunc(j)%2?0:1)},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"IF[]",v),v||(qr(l,!0),i.DEBUG&&console.log(l.step,"EIF[]"))},function(l){i.DEBUG&&console.log(l.step,"EIF[]")},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"AND[]",j,x),v.push(j&&x?1:0)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"OR[]",j,x),v.push(j||x?1:0)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"NOT[]",j),v.push(j?0:1)},Tr.bind(void 0,1),function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SDB[]",v),l.deltaBase=v},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SDS[]",v),l.deltaShift=Math.pow(.5,v)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"ADD[]",j,x),v.push(x+j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"SUB[]",j,x),v.push(x-j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"DIV[]",j,x),v.push(64*x/j)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MUL[]",j,x),v.push(x*j/64)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"ABS[]",j),v.push(Math.abs(j))},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"NEG[]",j),v.push(-j)},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"FLOOR[]",j),v.push(64*Math.floor(j/64))},function(l){var v=l.stack,j=v.pop();i.DEBUG&&console.log(l.step,"CEILING[]",j),v.push(64*Math.ceil(j/64))},vr.bind(void 0,0),vr.bind(void 0,1),vr.bind(void 0,2),vr.bind(void 0,3),void 0,void 0,void 0,void 0,function(l){var v=(j=l.stack).pop(),j=j.pop();i.DEBUG&&console.log(l.step,"WCVTF[]",v,j),l.cvt[j]=v*l.ppem/l.font.unitsPerEm},Tr.bind(void 0,2),Tr.bind(void 0,3),Er.bind(void 0,1),Er.bind(void 0,2),Er.bind(void 0,3),function(l){var v,j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"SROUND[]",j),l.round=Wr,192&j){case 0:v=.5;break;case 64:v=1;break;case 128:v=2;break;default:throw new Error("invalid SROUND value")}switch(l.srPeriod=v,48&j){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*v;break;case 32:l.srPhase=.5*v;break;case 48:l.srPhase=.75*v;break;default:throw new Error("invalid SROUND value")}l.srThreshold=(j&=15)===0?0:(j/8-.5)*v},function(l){var v,j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"S45ROUND[]",j),l.round=Wr,192&j){case 0:v=Math.sqrt(2)/2;break;case 64:v=Math.sqrt(2);break;case 128:v=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(l.srPeriod=v,48&j){case 0:l.srPhase=0;break;case 16:l.srPhase=.25*v;break;case 32:l.srPhase=.5*v;break;case 48:l.srPhase=.75*v;break;default:throw new Error("invalid S45ROUND value")}l.srThreshold=(j&=15)===0?0:(j/8-.5)*v},void 0,void 0,function(l){i.DEBUG&&console.log(l.step,"ROFF[]"),l.round=_o},void 0,function(l){i.DEBUG&&console.log(l.step,"RUTG[]"),l.round=So},function(l){i.DEBUG&&console.log(l.step,"RDTG[]"),l.round=To},Sr,Sr,void 0,void 0,void 0,void 0,void 0,function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCANCTRL[]",v)},io.bind(void 0,0),io.bind(void 0,1),function(l){var v=l.stack,j=v.pop(),x=0;i.DEBUG&&console.log(l.step,"GETINFO[]",j),1&j&&(x=35),32&j&&(x|=4096),v.push(x)},void 0,function(l){var v=l.stack,j=v.pop(),x=v.pop(),P=v.pop();i.DEBUG&&console.log(l.step,"ROLL[]"),v.push(x),v.push(j),v.push(P)},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MAX[]",j,x),v.push(Math.max(x,j))},function(l){var v=l.stack,j=v.pop(),x=v.pop();i.DEBUG&&console.log(l.step,"MIN[]",j,x),v.push(Math.min(x,j))},function(l){var v=l.stack.pop();i.DEBUG&&console.log(l.step,"SCANTYPE[]",v)},function(l){var v=l.stack.pop(),j=l.stack.pop();switch(i.DEBUG&&console.log(l.step,"INSTCTRL[]",v,j),v){case 1:return void(l.inhibitGridFit=!!j);case 2:return void(l.ignoreCvt=!!j);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Jt.bind(void 0,1),Jt.bind(void 0,2),Jt.bind(void 0,3),Jt.bind(void 0,4),Jt.bind(void 0,5),Jt.bind(void 0,6),Jt.bind(void 0,7),Jt.bind(void 0,8),Qt.bind(void 0,1),Qt.bind(void 0,2),Qt.bind(void 0,3),Qt.bind(void 0,4),Qt.bind(void 0,5),Qt.bind(void 0,6),Qt.bind(void 0,7),Qt.bind(void 0,8),Ye.bind(void 0,0,0,0,0,0),Ye.bind(void 0,0,0,0,0,1),Ye.bind(void 0,0,0,0,0,2),Ye.bind(void 0,0,0,0,0,3),Ye.bind(void 0,0,0,0,1,0),Ye.bind(void 0,0,0,0,1,1),Ye.bind(void 0,0,0,0,1,2),Ye.bind(void 0,0,0,0,1,3),Ye.bind(void 0,0,0,1,0,0),Ye.bind(void 0,0,0,1,0,1),Ye.bind(void 0,0,0,1,0,2),Ye.bind(void 0,0,0,1,0,3),Ye.bind(void 0,0,0,1,1,0),Ye.bind(void 0,0,0,1,1,1),Ye.bind(void 0,0,0,1,1,2),Ye.bind(void 0,0,0,1,1,3),Ye.bind(void 0,0,1,0,0,0),Ye.bind(void 0,0,1,0,0,1),Ye.bind(void 0,0,1,0,0,2),Ye.bind(void 0,0,1,0,0,3),Ye.bind(void 0,0,1,0,1,0),Ye.bind(void 0,0,1,0,1,1),Ye.bind(void 0,0,1,0,1,2),Ye.bind(void 0,0,1,0,1,3),Ye.bind(void 0,0,1,1,0,0),Ye.bind(void 0,0,1,1,0,1),Ye.bind(void 0,0,1,1,0,2),Ye.bind(void 0,0,1,1,0,3),Ye.bind(void 0,0,1,1,1,0),Ye.bind(void 0,0,1,1,1,1),Ye.bind(void 0,0,1,1,1,2),Ye.bind(void 0,0,1,1,1,3),Ye.bind(void 0,1,0,0,0,0),Ye.bind(void 0,1,0,0,0,1),Ye.bind(void 0,1,0,0,0,2),Ye.bind(void 0,1,0,0,0,3),Ye.bind(void 0,1,0,0,1,0),Ye.bind(void 0,1,0,0,1,1),Ye.bind(void 0,1,0,0,1,2),Ye.bind(void 0,1,0,0,1,3),Ye.bind(void 0,1,0,1,0,0),Ye.bind(void 0,1,0,1,0,1),Ye.bind(void 0,1,0,1,0,2),Ye.bind(void 0,1,0,1,0,3),Ye.bind(void 0,1,0,1,1,0),Ye.bind(void 0,1,0,1,1,1),Ye.bind(void 0,1,0,1,1,2),Ye.bind(void 0,1,0,1,1,3),Ye.bind(void 0,1,1,0,0,0),Ye.bind(void 0,1,1,0,0,1),Ye.bind(void 0,1,1,0,0,2),Ye.bind(void 0,1,1,0,0,3),Ye.bind(void 0,1,1,0,1,0),Ye.bind(void 0,1,1,0,1,1),Ye.bind(void 0,1,1,0,1,2),Ye.bind(void 0,1,1,0,1,3),Ye.bind(void 0,1,1,1,0,0),Ye.bind(void 0,1,1,1,0,1),Ye.bind(void 0,1,1,1,0,2),Ye.bind(void 0,1,1,1,0,3),Ye.bind(void 0,1,1,1,1,0),Ye.bind(void 0,1,1,1,1,1),Ye.bind(void 0,1,1,1,1,2),Ye.bind(void 0,1,1,1,1,3)],ko=Array.from||function(l){return l.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function ft(l){(l=l||{}).empty||(tr(l.familyName,"When creating a new Font object, familyName is required."),tr(l.styleName,"When creating a new Font object, styleName is required."),tr(l.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),tr(l.ascender,"When creating a new Font object, ascender is required."),tr(l.descender,"When creating a new Font object, descender is required."),tr(l.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:l.familyName||" "},fontSubfamily:{en:l.styleName||" "},fullName:{en:l.fullName||l.familyName+" "+l.styleName},postScriptName:{en:l.postScriptName||(l.familyName+l.styleName).replace(/\s/g,"")},designer:{en:l.designer||" "},designerURL:{en:l.designerURL||" "},manufacturer:{en:l.manufacturer||" "},manufacturerURL:{en:l.manufacturerURL||" "},license:{en:l.license||" "},licenseURL:{en:l.licenseURL||" "},version:{en:l.version||"Version 0.1"},description:{en:l.description||" "},copyright:{en:l.copyright||" "},trademark:{en:l.trademark||" "}},this.unitsPerEm=l.unitsPerEm||1e3,this.ascender=l.ascender,this.descender=l.descender,this.createdTimestamp=l.createdTimestamp,this.tables={os2:{usWeightClass:l.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:l.widthClass||this.usWidthClasses.MEDIUM,fsSelection:l.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ze.GlyphSet(this,l.glyphs||[]),this.encoding=new be(this),this.position=new yr(this),this.substitution=new Xt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new zr(this):void 0)}})}function uo(l,v){var j,x=JSON.stringify(l),P=256;for(j in v){var I=parseInt(j);if(I&&!(I<256)){if(JSON.stringify(v[j])===x)return I;P<=I&&(P=I+1)}}return v[P]=l,P}ft.prototype.hasChar=function(l){return this.encoding.charToGlyphIndex(l)!==null},ft.prototype.charToGlyphIndex=function(l){return this.encoding.charToGlyphIndex(l)},ft.prototype.charToGlyph=function(l){return l=this.charToGlyphIndex(l),this.glyphs.get(l)||this.glyphs.get(0)},ft.prototype.stringToGlyphs=function(l,v){v=v||this.defaultRenderOptions;for(var j=ko(l),x=[],P=0;P<j.length;P+=1){var I=j[P];x.push(this.charToGlyphIndex(I))}var F=x.length;if(v.features){var l=v.script||this.substitution.getDefaultScriptName(),K=[];v.features.liga&&(K=K.concat(this.substitution.getFeature("liga",l,v.language))),v.features.rlig&&(K=K.concat(this.substitution.getFeature("rlig",l,v.language)));for(var oe=0;oe<F;oe+=1)for(var re=0;re<K.length;re++){for(var pe=K[re],_e=pe.sub,ge=_e.length,le=0;le<ge&&_e[le]===x[oe+le];)le++;le===ge&&(x.splice(oe,ge,pe.by),F=F-ge+1)}}for(var Pe=new Array(F),Me=this.glyphs.get(0),ke=0;ke<F;ke+=1)Pe[ke]=this.glyphs.get(x[ke])||Me;return Pe},ft.prototype.nameToGlyphIndex=function(l){return this.glyphNames.nameToGlyphIndex(l)},ft.prototype.nameToGlyph=function(l){return l=this.nameToGlyphIndex(l),this.glyphs.get(l)||this.glyphs.get(0)},ft.prototype.glyphIndexToName=function(l){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(l):""},ft.prototype.getKerningValue=function(l,v){l=l.index||l,v=v.index||v;var j=this.position.defaultKerningTables;return j?this.position.getKerningValue(j,l,v):this.kerningPairs[l+","+v]||0},ft.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},ft.prototype.forEachGlyph=function(l,v,j,x,P,I){v=v!==void 0?v:0,j=j!==void 0?j:0,P=P||this.defaultRenderOptions;var F,K=1/this.unitsPerEm*(x=x!==void 0?x:72),oe=this.stringToGlyphs(l,P);P.kerning&&(l=P.script||this.position.getDefaultScriptName(),F=this.position.getKerningTables(l,P.language));for(var re=0;re<oe.length;re+=1){var pe=oe[re];I.call(this,pe,v,j,x,P),pe.advanceWidth&&(v+=pe.advanceWidth*K),P.kerning&&re<oe.length-1&&(v+=(F?this.position.getKerningValue(F,pe.index,oe[re+1].index):this.getKerningValue(pe,oe[re+1]))*K),P.letterSpacing?v+=P.letterSpacing*x:P.tracking&&(v+=P.tracking/1e3*x)}return v},ft.prototype.getPath=function(l,v,j,x,P){var I=new Z;return this.forEachGlyph(l,v,j,x,P,function(F,K,oe,re){F=F.getPath(K,oe,re,P,this),I.extend(F)}),I},ft.prototype.getPaths=function(l,v,j,x,P){var I=[];return this.forEachGlyph(l,v,j,x,P,function(F,K,oe,re){F=F.getPath(K,oe,re,P,this),I.push(F)}),I},ft.prototype.getAdvanceWidth=function(l,v,j){return this.forEachGlyph(l,0,0,v,j,function(){})},ft.prototype.draw=function(l,v,j,x,P,I){this.getPath(v,j,x,P,I).draw(l)},ft.prototype.drawPoints=function(l,v,j,x,P,I){this.forEachGlyph(v,j,x,P,I,function(F,K,oe,re){F.drawPoints(l,K,oe,re)})},ft.prototype.drawMetrics=function(l,v,j,x,P,I){this.forEachGlyph(v,j,x,P,I,function(F,K,oe,re){F.drawMetrics(l,K,oe,re)})},ft.prototype.getEnglishName=function(l){if(l=this.names[l],l)return l.en},ft.prototype.validate=function(){var l=this;function v(j){j=l.getEnglishName(j),j&&j.trim().length}v("fontFamily"),v("weightName"),v("manufacturer"),v("copyright"),v("version"),this.unitsPerEm},ft.prototype.toTables=function(){return vo.fontToTable(this)},ft.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ft.prototype.toArrayBuffer=function(){for(var l=this.toTables().encode(),v=new ArrayBuffer(l.length),j=new Uint8Array(v),x=0;x<l.length;x++)j[x]=l[x];return v},ft.prototype.download=function(l){var v=this.getEnglishName("fontFamily"),j=this.getEnglishName("fontSubfamily"),x=(l=l||v.replace(/\s/g,"")+"-"+j+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,x.byteLength,function(P){P.root.getFile(l,{create:!0},function(I){I.createWriter(function(F){var K=new DataView(x),K=new Blob([K],{type:"font/opentype"});F.write(K),F.addEventListener("writeend",function(){location.href=I.toURL()},!1)})})},function(P){throw new Error(P.name+": "+P.message)})):(v=t("fs"),j=function(P){for(var I=new f(P.byteLength),F=new Uint8Array(P),K=0;K<I.length;++K)I[K]=F[K];return I}(x),v.writeFileSync(l,j))},ft.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ft.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ft.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Oo={make:function(l,v){var j=new Ee.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:l.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:l.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*l.axes.length}]);j.offsetToData=j.sizeOf();for(var x,P,I,F=0;F<l.axes.length;F++)j.fields=j.fields.concat((x=F,P=l.axes[F],I=v,I=uo(P.name,v),[{name:"tag_"+x,type:"TAG",value:P.tag},{name:"minValue_"+x,type:"FIXED",value:P.minValue<<16},{name:"defaultValue_"+x,type:"FIXED",value:P.defaultValue<<16},{name:"maxValue_"+x,type:"FIXED",value:P.maxValue<<16},{name:"flags_"+x,type:"USHORT",value:0},{name:"nameID_"+x,type:"USHORT",value:I}]));for(var K=0;K<l.instances.length;K++)j.fields=j.fields.concat(function(oe,re,pe,_e){for(var ge=[{name:"nameID_"+oe,type:"USHORT",value:uo(re.name,_e)},{name:"flags_"+oe,type:"USHORT",value:0}],le=0;le<pe.length;++le){var Pe=pe[le].tag;ge.push({name:"axis_"+oe+" "+Pe,type:"FIXED",value:re.coordinates[Pe]<<16})}return ge}(K,l.instances[K],l.axes,v));return j},parse:function(l,v,j){for(var x,P,I,F,K=new je.Parser(l,v),oe=K.parseULong(),re=(L.argument(oe===65536,"Unsupported fvar table version."),K.parseOffset16()),pe=(K.skip("uShort",1),K.parseUShort()),_e=K.parseUShort(),ge=K.parseUShort(),le=K.parseUShort(),Pe=[],Me=0;Me<pe;Me++)Pe.push((x=l,P=v+re+Me*_e,I=j,F={},x=new je.Parser(x,P),F.tag=x.parseTag(),F.minValue=x.parseFixed(),F.defaultValue=x.parseFixed(),F.maxValue=x.parseFixed(),x.skip("uShort",1),F.name=I[x.parseUShort()]||{},F));for(var ke=[],we=v+re+pe*_e,Se=0;Se<ge;Se++)ke.push(function(Ke,ot,$e,Je){var nt={},yt=new je.Parser(Ke,ot);nt.name=Je[yt.parseUShort()]||{},yt.skip("uShort",1),nt.coordinates={};for(var xt=0;xt<$e.length;++xt)nt.coordinates[$e[xt].tag]=yt.parseFixed();return nt}(l,we+Se*le,Pe,j));return{axes:Pe,instances:ke}}},zt=new Array(10);zt[1]=function(){var l=this.offset+this.relativeOffset,v=this.parseUShort();return v===1?{posFormat:1,coverage:this.parsePointer(ye.coverage),value:this.parseValueRecord()}:v===2?{posFormat:2,coverage:this.parsePointer(ye.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+l.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},zt[2]=function(){var l,v,j,x,I=this.offset+this.relativeOffset,P=this.parseUShort(),I=(L.assert(P===1||P===2,"0x"+I.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ye.coverage)),F=this.parseUShort(),K=this.parseUShort();return P===1?{posFormat:P,coverage:I,valueFormat1:F,valueFormat2:K,pairSets:this.parseList(ye.pointer(ye.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(F),value2:this.parseValueRecord(K)}})))}:P===2?(l=this.parsePointer(ye.classDef),v=this.parsePointer(ye.classDef),j=this.parseUShort(),x=this.parseUShort(),{posFormat:P,coverage:I,valueFormat1:F,valueFormat2:K,classDef1:l,classDef2:v,class1Count:j,class2Count:x,classRecords:this.parseList(j,ye.list(x,function(){return{value1:this.parseValueRecord(F),value2:this.parseValueRecord(K)}}))}):void 0},zt[3]=function(){return{error:"GPOS Lookup 3 not supported"}},zt[4]=function(){return{error:"GPOS Lookup 4 not supported"}},zt[5]=function(){return{error:"GPOS Lookup 5 not supported"}},zt[6]=function(){return{error:"GPOS Lookup 6 not supported"}},zt[7]=function(){return{error:"GPOS Lookup 7 not supported"}},zt[8]=function(){return{error:"GPOS Lookup 8 not supported"}},zt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Po=new Array(10),Lo={parse:function(l,v){return v=(l=new ye(l,v=v||0)).parseVersion(1),L.argument(v===1||v===1.1,"Unsupported GPOS table version "+v),v===1?{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(zt)}:{version:v,scripts:l.parseScriptList(),features:l.parseFeatureList(),lookups:l.parseLookupList(zt),variations:l.parseFeatureVariationsList()}},make:function(l){return new Ee.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(l.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(l.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(l.lookups,Po)}])}},Ao={parse:function(l,v){if(l=new je.Parser(l,v),(v=l.parseUShort())===0){var j=l,x={},_e=(j.skip("uShort"),j.parseUShort()),P=(L.argument(_e===0,"Unsupported kern sub-table version."),j.skip("uShort",2),j.parseUShort());j.skip("uShort",3);for(var I=0;I<P;I+=1){var F=j.parseUShort(),K=j.parseUShort(),oe=j.parseShort();x[F+","+K]=oe}return x}if(v!==1)throw new Error("Unsupported kern table version ("+v+").");var re=l,pe={},_e=(re.skip("uShort"),1<re.parseULong()&&console.warn("Only the first kern subtable is supported."),re.skip("uLong"),255&re.parseUShort());if(re.skip("uShort"),_e==0){var ge=re.parseUShort();re.skip("uShort",3);for(var le=0;le<ge;le+=1){var Pe=re.parseUShort(),Me=re.parseUShort(),ke=re.parseShort();pe[Pe+","+Me]=ke}}return pe}},Ro={parse:function(l,v,j,x){for(var P=new je.Parser(l,v),I=x?P.parseUShort:P.parseULong,F=[],K=0;K<j+1;K+=1){var oe=I.call(P);x&&(oe*=2),F.push(oe)}return F}};function Io(l,v){t("fs").readFile(l,function(j,x){if(j)return v(j.message);v(null,Nr(x))})}function Do(l,v){var j=new XMLHttpRequest;j.open("get",l,!0),j.responseType="arraybuffer",j.onload=function(){return j.response?v(null,j.response):v("Font could not be loaded: "+j.statusText)},j.onerror=function(){v("Font could not be loaded")},j.send()}function co(l,v){for(var j=[],x=12,P=0;P<v;P+=1){var I=je.getTag(l,x),F=je.getULong(l,x+4),K=je.getULong(l,x+8),oe=je.getULong(l,x+12);j.push({tag:I,checksum:F,offset:K,length:oe,compression:!1}),x+=16}return j}function Tt(j,v){if(v.compression!=="WOFF")return{data:j,offset:v.offset};var j=new Uint8Array(j.buffer,v.offset+2,v.compressedLength-2),x=new Uint8Array(v.length);if(N(j,x),x.byteLength!==v.length)throw new Error("Decompression error: "+v.tag+" decompressed length doesn't match recorded length");return{data:new DataView(x.buffer,0),offset:0}}function Mr(Se){var v,j,x,P,I,F,K,oe,re,pe,_e,ge,le,Pe,Me=new ft({empty:!0}),ke=new DataView(Se,0),we=[],Se=je.getTag(ke,0);if(Se===String.fromCharCode(0,1,0,0)||Se==="true"||Se==="typ1")Me.outlinesFormat="truetype",we=co(ke,x=je.getUShort(ke,4));else if(Se==="OTTO")Me.outlinesFormat="cff",we=co(ke,x=je.getUShort(ke,4));else{if(Se!=="wOFF")throw new Error("Unsupported OpenType signature "+Se);var Ke=je.getTag(ke,4);if(Ke===String.fromCharCode(0,1,0,0))Me.outlinesFormat="truetype";else{if(Ke!=="OTTO")throw new Error("Unsupported OpenType flavor "+Se);Me.outlinesFormat="cff"}we=function(vt,dt){for(var Bt=[],jt=44,It=0;It<dt;It+=1){var bt=je.getTag(vt,jt),Pt=je.getULong(vt,jt+4),hr=je.getULong(vt,jt+8),or=je.getULong(vt,jt+12),ho=void 0,ho=hr<or&&"WOFF";Bt.push({tag:bt,offset:Pt,compression:ho,compressedLength:hr,length:or}),jt+=20}return Bt}(ke,x=je.getUShort(ke,12))}for(var ot=0;ot<x;ot+=1){var $e=we[ot],Je=void 0;switch($e.tag){case"cmap":Je=Tt(ke,$e),Me.tables.cmap=X.parse(Je.data,Je.offset),Me.encoding=new Ce(Me.tables.cmap);break;case"cvt ":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.cvt=Pe.parseShortList($e.length/2);break;case"fvar":I=$e;break;case"fpgm":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.fpgm=Pe.parseByteList($e.length);break;case"head":Je=Tt(ke,$e),Me.tables.head=lr.parse(Je.data,Je.offset),Me.unitsPerEm=Me.tables.head.unitsPerEm,v=Me.tables.head.indexToLocFormat;break;case"hhea":Je=Tt(ke,$e),Me.tables.hhea=ue.parse(Je.data,Je.offset),Me.ascender=Me.tables.hhea.ascender,Me.descender=Me.tables.hhea.descender,Me.numberOfHMetrics=Me.tables.hhea.numberOfHMetrics;break;case"hmtx":re=$e;break;case"ltag":Je=Tt(ke,$e),j=qe.parse(Je.data,Je.offset);break;case"maxp":Je=Tt(ke,$e),Me.tables.maxp=Re.parse(Je.data,Je.offset),Me.numGlyphs=Me.tables.maxp.numGlyphs;break;case"name":ge=$e;break;case"OS/2":Je=Tt(ke,$e),Me.tables.os2=Ot.parse(Je.data,Je.offset);break;case"post":Je=Tt(ke,$e),Me.tables.post=kr.parse(Je.data,Je.offset),Me.glyphNames=new Ue(Me.tables.post);break;case"prep":Je=Tt(ke,$e),Pe=new je.Parser(Je.data,Je.offset),Me.tables.prep=Pe.parseByteList($e.length);break;case"glyf":F=$e;break;case"loca":_e=$e;break;case"CFF ":P=$e;break;case"kern":pe=$e;break;case"GPOS":K=$e;break;case"GSUB":oe=$e;break;case"meta":le=$e}}if(Ke=Tt(ke,ge),Me.tables.name=Gt.parse(Ke.data,Ke.offset,j),Me.names=Me.tables.name,F&&_e)Se=v===0,Ke=Tt(ke,_e),Ke=Ro.parse(Ke.data,Ke.offset,Me.numGlyphs,Se),Se=Tt(ke,F),Me.glyphs=Vr.parse(Se.data,Se.offset,Ke,Me);else{if(!P)throw new Error("Font doesn't contain TrueType or CFF outlines.");Se=Tt(ke,P),ir.parse(Se.data,Se.offset,Me)}for(var Ke=Tt(ke,re),nt=(De.parse(Ke.data,Ke.offset,Me.numberOfHMetrics,Me.numGlyphs,Me.glyphs),Me),yt=nt.tables.cmap.glyphIndexMap,xt=Object.keys(yt),Et=0;Et<xt.length;Et+=1){var Ft,Nt=xt[Et],Ht=yt[Nt];(Ft=nt.glyphs.get(Ht)).addUnicode(parseInt(Nt))}for(var pt=0;pt<nt.glyphs.length;pt+=1)Ft=nt.glyphs.get(pt),nt.cffEncoding?nt.isCIDFont?Ft.name="gid"+pt:Ft.name=nt.cffEncoding.charset[pt]:nt.glyphNames.names&&(Ft.name=nt.glyphNames.glyphIndexToName(pt));return pe?(Se=Tt(ke,pe),Me.kerningPairs=Ao.parse(Se.data,Se.offset)):Me.kerningPairs={},K&&(Ke=Tt(ke,K),Me.tables.gpos=Lo.parse(Ke.data,Ke.offset),Me.position.init()),oe&&(Se=Tt(ke,oe),Me.tables.gsub=Or.parse(Se.data,Se.offset)),I&&(Ke=Tt(ke,I),Me.tables.fvar=Oo.parse(Ke.data,Ke.offset,Me.names)),le&&(Se=Tt(ke,le),Me.tables.meta=Pr.parse(Se.data,Se.offset),Me.metas=Me.tables.meta),Me}i.Font=ft,i.Glyph=We,i.Path=Z,i.BoundingBox=Y,i._parse=je,i.parse=Mr,i.load=function(l,v){(typeof window>"u"?Io:Do)(l,function(j,x){if(j)return v(j);var P;try{P=Mr(x)}catch(I){return v(I,null)}return v(null,P)})},i.loadSync=function(l){return Mr(Nr(t("fs").readFileSync(l)))},Object.defineProperty(i,"__esModule",{value:!0})},s(typeof E=="object"&&V!==void 0?E:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],250:[function(t,V,E){(function(f){function u(p,h){for(var r=0,n=p.length-1;0<=n;n--){var o=p[n];o==="."?p.splice(n,1):o===".."?(p.splice(n,1),r++):r&&(p.splice(n,1),r--)}if(h)for(;r--;)p.unshift("..");return p}function s(p,h){if(p.filter)return p.filter(h);for(var r=[],n=0;n<p.length;n++)h(p[n],n,p)&&r.push(p[n]);return r}E.resolve=function(){for(var p="",h=!1,r=arguments.length-1;-1<=r&&!h;r--){var n=0<=r?arguments[r]:f.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");n&&(p=n+"/"+p,h=n.charAt(0)==="/")}return(h?"/":"")+(p=u(s(p.split("/"),function(o){return!!o}),!h).join("/"))||"."},E.normalize=function(p){var h=E.isAbsolute(p),r=i(p,-1)==="/";return(p=(p=u(s(p.split("/"),function(n){return!!n}),!h).join("/"))||h?p:".")&&r&&(p+="/"),(h?"/":"")+p},E.isAbsolute=function(p){return p.charAt(0)==="/"},E.join=function(){var p=Array.prototype.slice.call(arguments,0);return E.normalize(s(p,function(h,r){if(typeof h!="string")throw new TypeError("Arguments to path.join must be strings");return h}).join("/"))},E.relative=function(p,h){function r(m){for(var g=0;g<m.length&&m[g]==="";g++);for(var b=m.length-1;0<=b&&m[b]==="";b--);return b<g?[]:m.slice(g,b-g+1)}p=E.resolve(p).substr(1),h=E.resolve(h).substr(1);for(var n=r(p.split("/")),o=r(h.split("/")),a=Math.min(n.length,o.length),c=a,d=0;d<a;d++)if(n[d]!==o[d]){c=d;break}for(var y=[],d=c;d<n.length;d++)y.push("..");return(y=y.concat(o.slice(c))).join("/")},E.sep="/",E.delimiter=":",E.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var h=p.charCodeAt(0)===47,r=-1,n=!0,o=p.length-1;1<=o;--o)if(p.charCodeAt(o)===47){if(!n){r=o;break}}else n=!1;return r===-1?h?"/":".":h&&r===1?"/":p.slice(0,r)},E.basename=function(p,h){return p=function(r){typeof r!="string"&&(r+="");for(var n=0,o=-1,a=!0,c=r.length-1;0<=c;--c)if(r.charCodeAt(c)===47){if(!a){n=c+1;break}}else o===-1&&(a=!1,o=c+1);return o===-1?"":r.slice(n,o)}(p),p=h&&p.substr(-1*h.length)===h?p.substr(0,p.length-h.length):p},E.extname=function(p){typeof p!="string"&&(p+="");for(var h=-1,r=0,n=-1,o=!0,a=0,c=p.length-1;0<=c;--c){var d=p.charCodeAt(c);if(d===47){if(o)continue;r=c+1;break}n===-1&&(o=!1,n=c+1),d===46?h===-1?h=c:a!==1&&(a=1):h!==-1&&(a=-1)}return h===-1||n===-1||a===0||a===1&&h===n-1&&h===r+1?"":p.slice(h,n)};var i="ab".substr(-1)==="b"?function(p,h,r){return p.substr(h,r)}:function(p,h,r){return h<0&&(h=p.length+h),p.substr(h,r)}}).call(this,t("_process"))},{_process:251}],251:[function(t,s,E){var f,u,s=s.exports={};function i(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{f=typeof setTimeout=="function"?setTimeout:i}catch{f=i}try{u=typeof clearTimeout=="function"?clearTimeout:p}catch{u=p}function h(g){if(f===setTimeout)return setTimeout(g,0);if((f===i||!f)&&setTimeout)return(f=setTimeout)(g,0);try{return f(g,0)}catch{try{return f.call(null,g,0)}catch{return f.call(this,g,0)}}}var r,n=[],o=!1,a=-1;function c(){o&&r&&(o=!1,r.length?n=r.concat(n):a=-1,n.length&&d())}function d(){if(!o){for(var g=h(c),b=(o=!0,n.length);b;){for(r=n,n=[];++a<b;)r&&r[a].run();a=-1,b=n.length}r=null,o=!1,function(w){if(u===clearTimeout)return clearTimeout(w);if((u===p||!u)&&clearTimeout)return(u=clearTimeout)(w);try{u(w)}catch{try{return u.call(null,w)}catch{return u.call(this,w)}}}(g)}}function y(g,b){this.fun=g,this.array=b}function m(){}s.nextTick=function(g){var b=new Array(arguments.length-1);if(1<arguments.length)for(var w=1;w<arguments.length;w++)b[w-1]=arguments[w];n.push(new y(g,b)),n.length!==1||o||h(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(g){return[]},s.binding=function(g){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(g){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],252:[function(t,V,E){V=function(f){var u,s=Object.prototype,i=s.hasOwnProperty,_=typeof Symbol=="function"?Symbol:{},p=_.iterator||"@@iterator",h=_.asyncIterator||"@@asyncIterator",r=_.toStringTag||"@@toStringTag";function n(W,D,z,q){var Z,G,C,L,D=D&&D.prototype instanceof g?D:g,D=Object.create(D.prototype),q=new R(q||[]);return D._invoke=(Z=W,G=z,C=q,L=a,function(J,te){if(L===d)throw new Error("Generator is already running");if(L===y){if(J==="throw")throw te;return B()}for(C.method=J,C.arg=te;;){var se=C.delegate;if(se&&(se=function ce(ne,ae){var de=ne.iterator[ae.method];if(de===u){if(ae.delegate=null,ae.method==="throw"){if(ne.iterator.return&&(ae.method="return",ae.arg=u,ce(ne,ae),ae.method==="throw"))return m;ae.method="throw",ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}if(de=o(de,ne.iterator,ae.arg),de.type==="throw")return ae.method="throw",ae.arg=de.arg,ae.delegate=null,m;if(de=de.arg,!de)return ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,m;{if(!de.done)return de;ae[ne.resultName]=de.value,ae.next=ne.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=u)}return ae.delegate=null,m}(se,C),se)){if(se===m)continue;return se}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(L===a)throw L=y,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);if(L=d,se=o(Z,G,C),se.type==="normal"){if(L=C.done?y:c,se.arg!==m)return{value:se.arg,done:C.done}}else se.type==="throw"&&(L=y,C.method="throw",C.arg=se.arg)}}),D}function o(W,N,z){try{return{type:"normal",arg:W.call(N,z)}}catch(Y){return{type:"throw",arg:Y}}}f.wrap=n;var a="suspendedStart",c="suspendedYield",d="executing",y="completed",m={};function g(){}function b(){}function w(){}var _={},S=(_[p]=function(){return this},Object.getPrototypeOf),S=S&&S(S(U([]))),M=(S&&S!==s&&i.call(S,p)&&(_=S),w.prototype=g.prototype=Object.create(_));function k(W){["next","throw","return"].forEach(function(N){W[N]=function(z){return this._invoke(N,z)}})}function T(W){var N;this._invoke=function(z,Y){function Z(){return new Promise(function(G,C){(function L(ce,q,J,te){var se,ce=o(W[ce],W,q);if(ce.type!=="throw")return(q=(se=ce.arg).value)&&typeof q=="object"&&i.call(q,"__await")?Promise.resolve(q.__await).then(function(ne){L("next",ne,J,te)},function(ne){L("throw",ne,J,te)}):Promise.resolve(q).then(function(ne){se.value=ne,J(se)},function(ne){return L("throw",ne,J,te)});te(ce.arg)})(z,Y,G,C)})}return N=N?N.then(Z,Z):Z()}}function A(W){var N={tryLoc:W[0]};1 in W&&(N.catchLoc=W[1]),2 in W&&(N.finallyLoc=W[2],N.afterLoc=W[3]),this.tryEntries.push(N)}function O(W){var N=W.completion||{};N.type="normal",delete N.arg,W.completion=N}function R(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(A,this),this.reset(!0)}function U(W){if(W){var N,z=W[p];if(z)return z.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length))return N=-1,(z=function Y(){for(;++N<W.length;)if(i.call(W,N))return Y.value=W[N],Y.done=!1,Y;return Y.value=u,Y.done=!0,Y}).next=z}return{next:B}}function B(){return{value:u,done:!0}}return(b.prototype=M.constructor=w).constructor=b,w[r]=b.displayName="GeneratorFunction",f.isGeneratorFunction=function(W){return W=typeof W=="function"&&W.constructor,!!W&&(W===b||(W.displayName||W.name)==="GeneratorFunction")},f.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,w):(W.__proto__=w,r in W||(W[r]="GeneratorFunction")),W.prototype=Object.create(M),W},f.awrap=function(W){return{__await:W}},k(T.prototype),T.prototype[h]=function(){return this},f.AsyncIterator=T,f.async=function(W,N,z,Y){var Z=new T(n(W,N,z,Y));return f.isGeneratorFunction(N)?Z:Z.next().then(function(G){return G.done?G.value:Z.next()})},k(M),M[r]="Generator",M[p]=function(){return this},M.toString=function(){return"[object Generator]"},f.keys=function(W){var N,z=[];for(N in W)z.push(N);return z.reverse(),function Y(){for(;z.length;){var Z=z.pop();if(Z in W)return Y.value=Z,Y.done=!1,Y}return Y.done=!0,Y}},f.values=U,R.prototype={constructor:R,reset:function(W){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!W)for(var N in this)N.charAt(0)==="t"&&i.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=u)},stop:function(){this.done=!0;var W=this.tryEntries[0].completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(W){if(this.done)throw W;var N=this;function z(D,q){return G.type="throw",G.arg=W,N.next=D,q&&(N.method="next",N.arg=u),!!q}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var Z=this.tryEntries[Y],G=Z.completion;if(Z.tryLoc==="root")return z("end");if(Z.tryLoc<=this.prev){var C=i.call(Z,"catchLoc"),L=i.call(Z,"finallyLoc");if(C&&L){if(this.prev<Z.catchLoc)return z(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return z(Z.finallyLoc)}else if(C){if(this.prev<Z.catchLoc)return z(Z.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return z(Z.finallyLoc)}}}},abrupt:function(W,N){for(var z=this.tryEntries.length-1;0<=z;--z){var Y=this.tryEntries[z];if(Y.tryLoc<=this.prev&&i.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var Z=Y;break}}var G=(Z=Z&&(W==="break"||W==="continue")&&Z.tryLoc<=N&&N<=Z.finallyLoc?null:Z)?Z.completion:{};return G.type=W,G.arg=N,Z?(this.method="next",this.next=Z.finallyLoc,m):this.complete(G)},complete:function(W,N){if(W.type==="throw")throw W.arg;return W.type==="break"||W.type==="continue"?this.next=W.arg:W.type==="return"?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):W.type==="normal"&&N&&(this.next=N),m},finish:function(W){for(var N=this.tryEntries.length-1;0<=N;--N){var z=this.tryEntries[N];if(z.finallyLoc===W)return this.complete(z.completion,z.afterLoc),O(z),m}},catch:function(W){for(var N=this.tryEntries.length-1;0<=N;--N){var z,Y,Z=this.tryEntries[N];if(Z.tryLoc===W)return(z=Z.completion).type==="throw"&&(Y=z.arg,O(Z)),Y}throw new Error("illegal catch attempt")},delegateYield:function(W,N,z){return this.delegate={iterator:U(W),resultName:N,nextLoc:z},this.method==="next"&&(this.arg=u),m}},f}(typeof V=="object"?V.exports:{});try{regeneratorRuntime=V}catch{Function("r","regeneratorRuntime = r")(V)}},{}],253:[function(t,V,E){(function(f){var u,s,i,p,h,r,n,o,a,c;function d(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function y(O){return O=typeof O!="string"?String(O):O}function m(O){var R={next:function(){var U=O.shift();return{done:U===void 0,value:U}}};return s&&(R[Symbol.iterator]=function(){return R}),R}function g(O){this.map={},O instanceof g?O.forEach(function(R,U){this.append(U,R)},this):Array.isArray(O)?O.forEach(function(R){this.append(R[0],R[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(R){this.append(R,O[R])},this)}function b(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function w(O){return new Promise(function(R,U){O.onload=function(){R(O.result)},O.onerror=function(){U(O.error)}})}function _(O){var R=new FileReader,U=w(R);return R.readAsArrayBuffer(O),U}function S(O){var R;return O.slice?O.slice(0):((R=new Uint8Array(O.byteLength)).set(new Uint8Array(O)),R.buffer)}function M(){return this.bodyUsed=!1,this._initBody=function(O){if(this._bodyInit=O)if(typeof O=="string")this._bodyText=O;else if(i&&Blob.prototype.isPrototypeOf(O))this._bodyBlob=O;else if(p&&FormData.prototype.isPrototypeOf(O))this._bodyFormData=O;else if(u&&URLSearchParams.prototype.isPrototypeOf(O))this._bodyText=O.toString();else if(h&&i&&n(O))this._bodyArrayBuffer=S(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!h||!ArrayBuffer.prototype.isPrototypeOf(O)&&!o(O))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=S(O)}else this._bodyText="";this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var O=b(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var O,R,U=b(this);if(U)return U;if(this._bodyBlob)return U=this._bodyBlob,O=new FileReader,R=w(O),O.readAsText(U),R;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var W=new Uint8Array(B),N=new Array(W.length),z=0;z<W.length;z++)N[z]=String.fromCharCode(W[z]);return N.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(O,R){var U,B=(R=R||{}).body;if(O instanceof k){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,R.headers||(this.headers=new g(O.headers)),this.method=O.method,this.mode=O.mode,B||O._bodyInit==null||(B=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=R.credentials||this.credentials||"omit",!R.headers&&this.headers||(this.headers=new g(R.headers)),this.method=(O=R.method||this.method||"GET",U=O.toUpperCase(),-1<a.indexOf(U)?U:O),this.mode=R.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function T(O){var R=new FormData;return O.trim().split("&").forEach(function(U){var B;U&&(B=(U=U.split("=")).shift().replace(/\+/g," "),U=U.join("=").replace(/\+/g," "),R.append(decodeURIComponent(B),decodeURIComponent(U)))}),R}function A(O,R){R=R||{},this.type="default",this.status=R.status===void 0?200:R.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new g(R.headers),this.url=R.url||"",this._initBody(O)}f.fetch||(u="URLSearchParams"in f,s="Symbol"in f&&"iterator"in Symbol,i="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in f,(h="ArrayBuffer"in f)&&(r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(O){return O&&DataView.prototype.isPrototypeOf(O)},o=ArrayBuffer.isView||function(O){return O&&-1<r.indexOf(Object.prototype.toString.call(O))}),g.prototype.append=function(O,R){O=d(O),R=y(R);var U=this.map[O];this.map[O]=U?U+","+R:R},g.prototype.delete=function(O){delete this.map[d(O)]},g.prototype.get=function(O){return O=d(O),this.has(O)?this.map[O]:null},g.prototype.has=function(O){return this.map.hasOwnProperty(d(O))},g.prototype.set=function(O,R){this.map[d(O)]=y(R)},g.prototype.forEach=function(O,R){for(var U in this.map)this.map.hasOwnProperty(U)&&O.call(R,this.map[U],U,this)},g.prototype.keys=function(){var O=[];return this.forEach(function(R,U){O.push(U)}),m(O)},g.prototype.values=function(){var O=[];return this.forEach(function(R){O.push(R)}),m(O)},g.prototype.entries=function(){var O=[];return this.forEach(function(R,U){O.push([U,R])}),m(O)},s&&(g.prototype[Symbol.iterator]=g.prototype.entries),a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},M.call(k.prototype),M.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},A.error=function(){var O=new A(null,{status:0,statusText:""});return O.type="error",O},c=[301,302,303,307,308],A.redirect=function(O,R){if(c.indexOf(R)===-1)throw new RangeError("Invalid status code");return new A(null,{status:R,headers:{location:O}})},f.Headers=g,f.Request=k,f.Response=A,f.fetch=function(O,R){return new Promise(function(U,B){var W=new k(O,R),N=new XMLHttpRequest;N.onload=function(){var z,Y={status:N.status,statusText:N.statusText,headers:(Y=N.getAllResponseHeaders()||"",z=new g,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(C){var C=C.split(":"),L=C.shift().trim();L&&(C=C.join(":").trim(),z.append(L,C))}),z)},Z=(Y.url="responseURL"in N?N.responseURL:Y.headers.get("X-Request-URL"),"response"in N?N.response:N.responseText);U(new A(Z,Y))},N.onerror=function(){B(new TypeError("Network request failed"))},N.ontimeout=function(){B(new TypeError("Network request failed"))},N.open(W.method,W.url,!0),W.credentials==="include"?N.withCredentials=!0:W.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&i&&(N.responseType="blob"),W.headers.forEach(function(z,Y){N.setRequestHeader(Y,z)}),N.send(W._bodyInit===void 0?null:W._bodyInit)})},f.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(t,V,E){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,u=i(t("../core/main")),s=i(t("../color/color_conversion"));function i(r){return r&&r.__esModule?r:{default:r}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],h=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(a){var n,o,a=s.default._rgbaToHSBA(a),c=[(f=a)[0],a[1],a[2]];c[0]!==0&&(c[0]=Math.round(100*c[0]),(a=c[0].toString().split(""))[o=a.length-1]=parseInt(a[o]),a[o]<2.5?a[o]=0:2.5<=a[o]&&a[o]<7.5&&(a[o]=5),a.length===2?(a[0]=parseInt(a[0]),7.5<=a[o]&&(a[o]=0,a[0]=a[0]+1),c[0]=10*a[0]+a[1]):7.5<=a[o]?c[0]=10:c[0]=a[o]),c[2]=c[2]/255;for(var d=c.length-1;1<=d;d--)c[d]<=.25?c[d]=0:.25<c[d]&&c[d]<.75?c[d]=.5:c[d]=1;if(c[0]===0&&c[1]===0&&c[2]===1){for(var y=2;0<=y;y--)f[y]=Math.round(1e4*f[y])/1e4;for(var m=0;m<p.length;m++){if(p[m].h===f[0]&&p[m].s===f[1]&&p[m].b===f[2]){n=p[m].name;break}n="white"}}else for(var g=0;g<h.length;g++)if(h[g].h===c[0]&&h[g].s===c[1]&&h[g].b===c[2]){n=h[g].name;break}return n},t=u.default,E.default=t},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",s="_fallbackDesc",i="_fallbackTable",p="_Label",h="_labelDesc",r="_labelTable";function n(o){if(o==="label"||o==="fallback")throw new Error("description should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")||o.endsWith("?")||o.endsWith("!")||(o+="."),o}f.default.prototype.describe=function(o,a){var c;f.default._validateParameters("describe",arguments),typeof o=="string"&&(c=this.canvas.id,o=n(o),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==o&&(this.descriptions.fallback.innerHTML=o):this._describeHTML("fallback",o),a===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==o&&(this.descriptions.label.innerHTML=o):this._describeHTML("label",o)))},f.default.prototype.describeElement=function(o,a,c){var d,y;f.default._validateParameters("describeElement",arguments),typeof a=="string"&&typeof o=="string"&&(d=this.canvas.id,a=n(a),y=function(m){if(m==="label"||m==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return m.endsWith(".")||m.endsWith(";")||m.endsWith(",")?m=m.replace(/.$/,":"):m.endsWith(":")||(m+=":"),m}(o),o=o.replace(/[^a-zA-Z0-9]/g,""),y='<th scope="row">'.concat(y,"</th><td>").concat(a,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[o]?this.descriptions.fallbackElements[o].innerHTML!==y&&(this.descriptions.fallbackElements[o].innerHTML=y):this._describeElementHTML("fallback",o,y),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[o]?this.descriptions.labelElements[o].innerHTML!==y&&(this.descriptions.labelElements[o].innerHTML=y):this._describeElementHTML("label",o,y)))},f.default.prototype._describeHTML=function(o,a){var c,d=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(d+u))?this.dummyDOM.querySelector("#"+d+i).insertAdjacentHTML("beforebegin",'<p id="'.concat(d+s,'"></p>')):(c='<div id="'.concat(d).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(d).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(d)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(d).concat(s)),this.descriptions.fallback.innerHTML=a):o==="label"&&(this.dummyDOM.querySelector("#".concat(d+p))?this.dummyDOM.querySelector("#".concat(d+r))&&this.dummyDOM.querySelector("#".concat(d+r)).insertAdjacentHTML("beforebegin",'<p id="'.concat(d).concat(h,'"></p>')):(c='<div id="'.concat(d).concat(p,'" class="p5Label"><p id="').concat(d).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+d+h),this.descriptions.label.innerHTML=a)},f.default.prototype._describeElementHTML=function(o,a,c){var d,y=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(y+u))?this.dummyDOM.querySelector("#"+y+i)||this.dummyDOM.querySelector("#"+y+s).insertAdjacentHTML("afterend",'<table id="'.concat(y).concat(i,'"><caption>Canvas elements and their descriptions</caption></table>')):(d='<div id="'.concat(y).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(y).concat(i,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+y).innerHTML=d),(d=document.createElement("tr")).id=y+"_fte_"+a,this.dummyDOM.querySelector("#"+y+i).appendChild(d),this.descriptions.fallbackElements[a]=this.dummyDOM.querySelector("#".concat(y).concat("_fte_").concat(a)),this.descriptions.fallbackElements[a].innerHTML=c):o==="label"&&(this.dummyDOM.querySelector("#".concat(y+p))?this.dummyDOM.querySelector("#".concat(y+r))||this.dummyDOM.querySelector("#"+y+h).insertAdjacentHTML("afterend",'<table id="'.concat(y+r,'"></table>')):(d='<div id="'.concat(y).concat(p,'" class="p5Label"><table id="').concat(y).concat(r,'"></table></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",d)),(o=document.createElement("tr")).id=y+"_lte_"+a,this.dummyDOM.querySelector("#"+y+r).appendChild(o),this.descriptions.labelElements[a]=this.dummyDOM.querySelector("#".concat(y).concat("_lte_").concat(a)),this.descriptions.labelElements[a].innerHTML=c)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(f){var u,s,i,p;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(u=this._accessibleOutputs[f],i=function(h,r,n,o){return r="".concat(r," canvas, ").concat(n," by ").concat(o," pixels, contains ").concat(h[0]),r=(h[0]===1?"".concat(r," shape: "):"".concat(r," shapes: ")).concat(h[1]),r}((s=function(h,r){var n,o="",a="",c=0;for(n in r){var d,y=0;for(d in r[n]){var m='<li id="'.concat(h,"shape").concat(c,'">').concat(r[n][d].color," ").concat(n,",");n==="line"?m+=" location = ".concat(r[n][d].pos,", length = ").concat(r[n][d].length," pixels"):(m+=" location = ".concat(r[n][d].pos),n!=="point"&&(m+=", area = ".concat(r[n][d].area," %")),m+="</li>"),o+=m,y++,c++}a=1<y?"".concat(a," ").concat(y," ").concat(n,"s"):"".concat(a," ").concat(y," ").concat(n)}return{numShapes:[c,a],details:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(h,r){var n,o,a=0,c="",d=Array.from(Array(10),function(){return Array(10)});for(n in r)for(var y in r[n]){var m=void 0;m=n!=="line"?'<a href="#'.concat(h,"shape").concat(a,'">').concat(r[n][y].color," ").concat(n,"</a>"):'<a href="#'.concat(h,"shape").concat(a,'">').concat(r[n][y].color," ").concat(n," midpoint</a>"),d[r[n][y].loc.locY][r[n][y].loc.locX]?d[r[n][y].loc.locY][r[n][y].loc.locX]=d[r[n][y].loc.locY][r[n][y].loc.locX]+"  "+m:d[r[n][y].loc.locY][r[n][y].loc.locX]=m,a++}for(o in d){var g,b="<tr>";for(g in d[o])b+="<td>",d[o][g]!==void 0&&(b+=d[o][g]),b+="</td>";c=c+b+"</tr>"}return c}(f,this.ingredients.shapes),i!==u.summary.innerHTML&&(u.summary.innerHTML=i),p!==u.map.innerHTML&&(u.map.innerHTML=p),s.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=s.details),this._accessibleOutputs[f]=u)},t=t.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i){return function(p){if(Array.isArray(p)){for(var h=0,r=new Array(p.length);h<p.length;h++)r[h]=p[h];return r}}(i)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(i,p,h){return p=Math.floor(i[0]/p*10),i=Math.floor(i[1]/h*10),p===10&&(p-=1),i===10&&(i-=1),{locX:p,locY:i}}f.default.prototype.textOutput=function(i){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),i===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(i){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),i===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(i,p){var h,r,n,o=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");p==="Fallback"?(h=o+i,this.dummyDOM.querySelector("#".concat(r=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(h=o+i+(a=p),this.dummyDOM.querySelector("#".concat(r=o+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[h]={},i==="textOutput"?(a="#".concat(o,"gridOutput").concat(a),n='<div id="'.concat(h,'">Text Output<div id="').concat(h,'Summary" aria-label="text output summary"><p id="').concat(h,'_summary"></p><ul id="').concat(h,'_list"></ul></div><table id="').concat(h,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[h].list=this.dummyDOM.querySelector("#".concat(h,"_list"))):i==="gridOutput"&&(a="#".concat(o,"textOutput").concat(a),n='<div id="'.concat(h,'">Grid Output<p id="').concat(h,'_summary" aria-label="grid output summary"><table id="').concat(h,'_map" summary="grid output content"></table><ul id="').concat(h,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n,this._accessibleOutputs[h].map=this.dummyDOM.querySelector("#".concat(h,"_map"))),this._accessibleOutputs[h].shapeDetails=this.dummyDOM.querySelector("#".concat(h,"_shapeDetails")),this._accessibleOutputs[h].summary=this.dummyDOM.querySelector("#".concat(h,"_summary"))},f.default.prototype._updateAccsOutput=function(){var i=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(i+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(i+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(i+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(i+"gridOutputLabel"))},f.default.prototype._accsBackground=function(i){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==i&&(this.ingredients.colors.backgroundRGBA=i,this.ingredients.colors.background=this._rgbColorName(i))},f.default.prototype._accsCanvasColors=function(i,p){i==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):i==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},f.default.prototype._accsOutput=function(i,p){i==="ellipse"&&p[2]===p[3]?i="circle":i==="rectangle"&&p[2]===p[3]&&(i="square");var h,r,n={},o=!0,a=function(d,y){var m;return d=d==="rectangle"||d==="ellipse"||d==="arc"||d==="circle"||d==="square"?(m=Math.round(y[0]+y[2]/2),Math.round(y[1]+y[3]/2)):d==="triangle"?(m=(y[0]+y[2]+y[4])/3,(y[1]+y[3]+y[5])/3):d==="quadrilateral"?(m=(y[0]+y[2]+y[4]+y[6])/4,(y[1]+y[3]+y[5]+y[7])/4):d==="line"?(m=(y[0]+y[2])/2,(y[1]+y[3])/2):(m=y[0],y[1]),[m,d]}(i,p);if(i==="line"?(n.color=this.ingredients.colors.stroke,n.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),h=this._getPos(p[0],[1]),r=this._getPos(p[2],[3]),n.loc=s(a,this.width,this.height),n.pos=h===r?"at ".concat(h):"from ".concat(h," to ").concat(r)):(i==="point"?n.color=this.ingredients.colors.stroke:(n.color=this.ingredients.colors.fill,n.area=this._getArea(i,p)),n.pos=this._getPos.apply(this,u(a)),n.loc=s(a,this.width,this.height)),this.ingredients.shapes[i]){if(this.ingredients.shapes[i]!==[n]){for(var c in this.ingredients.shapes[i])JSON.stringify(this.ingredients.shapes[i][c])===JSON.stringify(n)&&(o=!1);o===!0&&this.ingredients.shapes[i].push(n)}}else this.ingredients.shapes[i]=[n]},f.default.prototype._getPos=function(r,h){var r=new DOMPointReadOnly(r,h),h=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),r=r.matrixTransform(h),h=r.x,r=r.y,n=this.width,o=this.height;return h<.4*n?r<.4*o?"top left":.6*o<r?"bottom left":"mid left":.6*n<h?r<.4*o?"top right":.6*o<r?"bottom right":"mid right":r<.4*o?"top middle":.6*o<r?"bottom middle":"middle"},f.default.prototype._getArea=function(i,p){var h,r,n=0,o=(i==="arc"?(n=(h=((p[5]-p[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*p[2]*p[3]/8,p[6]!=="open"&&p[6]!=="chord"||(r=p[0],y=p[1],o=p[0]+p[2]/2*Math.cos(p[4]).toFixed(2),m=p[1]+p[3]/2*Math.sin(p[4]).toFixed(2),c=p[0]+p[2]/2*Math.cos(p[5]).toFixed(2),a=p[1]+p[3]/2*Math.sin(p[5]).toFixed(2),r=Math.abs(r*(m-a)+o*(a-y)+c*(y-m))/2,h>Math.PI?n+=r:n-=r)):i==="ellipse"||i==="circle"?n=3.14*p[2]/2*p[3]/2:i==="line"||i==="point"?n=0:i==="quadrilateral"?n=Math.abs((p[6]+p[0])*(p[7]-p[1])+(p[0]+p[2])*(p[1]-p[3])+(p[2]+p[4])*(p[3]-p[5])+(p[4]+p[6])*(p[5]-p[7]))/2:i==="rectangle"||i==="square"?n=p[2]*p[3]:i==="triangle"&&(n=Math.abs(p[0]*(p[3]-p[5])+p[2]*(p[5]-p[1])+p[4]*(p[1]-p[3]))/2),this.width*this._pixelDensity),a=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(o,0),new DOMPoint(o,a),new DOMPoint(0,a)],d=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),y=c.map(function(g){return g.matrixTransform(d)}),m=Math.abs((y[3].x+y[0].x)*(y[3].y-y[0].y)+(y[0].x+y[1].x)*(y[0].y-y[1].y)+(y[1].x+y[2].x)*(y[1].y-y[2].y)+(y[2].x+y[3].x)*(y[2].y-y[3].y))/2;return Math.round(100*n/m)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(f){var u,s,i,p;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(u=this._accessibleOutputs[f],i=function(h,r,n,o){return n="Your output is a, ".concat(n," by ").concat(o," pixels, ").concat(r," canvas containing the following"),n=h===1?"".concat(n," shape:"):"".concat(n," ").concat(h," shapes:"),n}((s=function(h,r){var n,o="",a=0;for(n in r)for(var c in r[n]){var d='<li><a href="#'.concat(h,"shape").concat(a,'">').concat(r[n][c].color," ").concat(n,"</a>");n==="line"?d+=", ".concat(r[n][c].pos,", ").concat(r[n][c].length," pixels long.</li>"):(d+=", at ".concat(r[n][c].pos),n!=="point"&&(d+=", covering ".concat(r[n][c].area,"% of the canvas")),d+=".</li>"),o+=d,a++}return{numShapes:a,listShapes:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(h,r){var n,o="",a=0;for(n in r)for(var c in r[n]){var d='<tr id="'.concat(h,"shape").concat(a,'"><th>').concat(r[n][c].color," ").concat(n,"</th>");n==="line"?d+="<td>location = ".concat(r[n][c].pos,"</td><td>length = ").concat(r[n][c].length," pixels</td></tr>"):(d+="<td>location = ".concat(r[n][c].pos,"</td>"),n!=="point"&&(d+="<td> area = ".concat(r[n][c].area,"%</td>")),d+="</tr>"),o+=d,a++}return o}(f,this.ingredients.shapes),i!==u.summary.innerHTML&&(u.summary.innerHTML=i),s.listShapes!==u.list.innerHTML&&(u.list.innerHTML=s.listShapes),p!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=p),this._accessibleOutputs[f]=u)},t=t.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(t,V,E){var f=(f=t("./core/main"))&&f.__esModule?f:{default:f};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),V.exports=f.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(f){var u=f[0],s=f[1],i=f[2],p=(2-s)*i/2;return p!=0&&(p==1?s=0:p<.5?s/=2-s:s=s*i/(2-2*p)),[u,s,p,f[3]]},_hsbaToRGBA:function(f){var u,s,i,p,h,r=6*f[0],n=f[1],o=f[2];return n===0?[o,o,o,f[3]]:(s=o*(1-n),i=o*(1-n*(r-(u=Math.floor(r)))),n=o*(1-n*(1+u-r)),r=u===1?(p=i,h=o,s):u===2?(p=s,h=o,n):u===3?(p=s,h=i,o):u===4?(p=n,h=s,o):u===5?(p=o,h=s,i):(p=o,h=n,s),[p,h,r,f[3]])},_hslaToHSBA:function(f){var u=f[0],s=f[1],i=f[2],p=i<.5?(1+s)*i:i+s-i*s;return[u,s=2*(p-i)/p,p,f[3]]},_hslaToRGBA:function(f){var u,s=6*f[0],i=f[1],p=f[2];return i===0?[p,p,p,f[3]]:[(u=function(h,r,n){return h<0?h+=6:6<=h&&(h-=6),h<1?r+(n-r)*h:h<3?n:h<4?r+(n-r)*(4-h):r})(2+s,i=2*p-(p=p<.5?(1+i)*p:p+i-p*i),p),u(s,i,p),u(s-2,i,p),f[3]]},_rgbaToHSBA:function(f){var u,s,i=f[0],p=f[1],h=f[2],r=Math.max(i,p,h),n=r-Math.min(i,p,h);return n==0?s=u=0:(s=n/r,i===r?u=(p-h)/n:p===r?u=2+(h-i)/n:h===r&&(u=4+(i-p)/n),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,r,f[3]]},_rgbaToHSLA:function(f){var u,s,i=f[0],p=f[1],h=f[2],r=Math.max(i,p,h),o=Math.min(i,p,h),n=r+o,o=r-o;return o==0?s=u=0:(s=n<1?o/n:o/(2-n),i===r?u=(p-h)/o:p===r?u=2+(h-i)/o:h===r&&(u=4+(i-p)/o),u<0?u+=6:6<=u&&(u-=6)),[u/6,s,n/2,f[3]]}},t=t.default.ColorConversion,E.default=t},{"../core/main":275}],261:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(r){return s.default._validateParameters("alpha",arguments),this.color(r)._getAlpha()},s.default.prototype.blue=function(r){return s.default._validateParameters("blue",arguments),this.color(r)._getBlue()},s.default.prototype.brightness=function(r){return s.default._validateParameters("brightness",arguments),this.color(r)._getBrightness()},s.default.prototype.color=function(){var r;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(r=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,r))},s.default.prototype.green=function(r){return s.default._validateParameters("green",arguments),this.color(r)._getGreen()},s.default.prototype.hue=function(r){return s.default._validateParameters("hue",arguments),this.color(r)._getHue()},s.default.prototype.lerpColor=function(r,n,o){s.default._validateParameters("lerpColor",arguments);var a,c,d,y=this._colorMode,m=this._colorMaxes;if(y===i.RGB)c=r.levels.map(function(g){return g/255}),d=n.levels.map(function(g){return g/255});else if(y===i.HSB)r._getBrightness(),n._getBrightness(),c=r.hsba,d=n.hsba;else{if(y!==i.HSL)throw new Error("".concat(y,"cannot be used for interpolation."));r._getLightness(),n._getLightness(),c=r.hsla,d=n.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(g,b,w){return w*(b-g)+g}),r=this.lerp(c[0],d[0],o),n=this.lerp(c[1],d[1],o),a=this.lerp(c[2],d[2],o),c=this.lerp(c[3],d[3],o),r*=m[y][0],n*=m[y][1],a*=m[y][2],c*=m[y][3],this.color(r,n,a,c)},s.default.prototype.lightness=function(r){return s.default._validateParameters("lightness",arguments),this.color(r)._getLightness()},s.default.prototype.red=function(r){return s.default._validateParameters("red",arguments),this.color(r)._getRed()},s.default.prototype.saturation=function(r){return s.default._validateParameters("saturation",arguments),this.color(r)._getSaturation()};var h=s.default;E.default=h},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(a,V,E){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function u(g){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(g)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=r(a("../core/main")),i=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var b=h();if(b&&b.has(g))return b.get(g);var w,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var M;Object.prototype.hasOwnProperty.call(g,w)&&((M=S?Object.getOwnPropertyDescriptor(g,w):null)&&(M.get||M.set)?Object.defineProperty(_,w,M):_[w]=g[w])}return _.default=g,b&&b.set(g,_),_}(a("../core/constants")),p=r(a("./color_conversion"));function h(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,h=function(){return g},g)}function r(g){return g&&g.__esModule?g:{default:g}}function n(g,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,m=/(\d{1,3})/,c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(c.source,"%")),y={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",m.source,",",m.source,",",m.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",m.source,",",m.source,",",m.source,",",c.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",m.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",m.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",m.source,",",d.source,",",d.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",m.source,",",d.source,",",d.source,",",c.source,"\\)$"].join(a.source),"i")},m=(s.default.Color=function(){function g(S,M){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(S._colorMode,S._colorMaxes),![i.RGB,i.HSL,i.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=g._parseInputs.apply(this,M),this._calculateLevels()}var b,w,_;return b=g,_=[{key:"_parseInputs",value:function(S,M,k,T){var A,O=arguments.length,R=this.mode,U=this.maxes[R],B=[];if(3<=O){for(B[0]=S/U[0],B[1]=M/U[1],B[2]=k/U[2],B[3]=typeof T=="number"?T/U[3]:1,A=B.length-1;0<=A;--A){var W=B[A];W<0?B[A]=0:1<W&&(B[A]=1)}return R===i.HSL?p.default._hslaToRGBA(B):R===i.HSB?p.default._hsbaToRGBA(B):B}if(O===1&&typeof S=="string"){if(k=S.trim().toLowerCase(),o[k])return g._parseInputs.call(this,o[k]);if(y.HEX3.test(k))return(B=y.HEX3.exec(k).slice(1).map(function(N){return parseInt(N+N,16)/255}))[3]=1,B;if(y.HEX6.test(k))return(B=y.HEX6.exec(k).slice(1).map(function(N){return parseInt(N,16)/255}))[3]=1,B;if(y.HEX4.test(k))return B=y.HEX4.exec(k).slice(1).map(function(N){return parseInt(N+N,16)/255});if(y.HEX8.test(k))return B=y.HEX8.exec(k).slice(1).map(function(N){return parseInt(N,16)/255});if(y.RGB.test(k))return(B=y.RGB.exec(k).slice(1).map(function(N){return N/255}))[3]=1,B;if(y.RGB_PERCENT.test(k))return(B=y.RGB_PERCENT.exec(k).slice(1).map(function(N){return parseFloat(N)/100}))[3]=1,B;if(y.RGBA.test(k))return B=y.RGBA.exec(k).slice(1).map(function(N,z){return z===3?parseFloat(N):N/255});if(y.RGBA_PERCENT.test(k))return B=y.RGBA_PERCENT.exec(k).slice(1).map(function(N,z){return z===3?parseFloat(N):parseFloat(N)/100});if(y.HSL.test(k)?(B=y.HSL.exec(k).slice(1).map(function(N,z){return z===0?parseInt(N,10)/360:parseInt(N,10)/100}))[3]=1:y.HSLA.test(k)&&(B=y.HSLA.exec(k).slice(1).map(function(N,z){return z===0?parseInt(N,10)/360:z===3?parseFloat(N):parseInt(N,10)/100})),(B=B.map(function(N){return Math.max(Math.min(N,1),0)})).length)return p.default._hslaToRGBA(B);if(y.HSB.test(k)?(B=y.HSB.exec(k).slice(1).map(function(N,z){return z===0?parseInt(N,10)/360:parseInt(N,10)/100}))[3]=1:y.HSBA.test(k)&&(B=y.HSBA.exec(k).slice(1).map(function(N,z){return z===0?parseInt(N,10)/360:z===3?parseFloat(N):parseInt(N,10)/100})),B.length){for(A=B.length-1;0<=A;--A)B[A]=Math.max(Math.min(B[A],1),0);return p.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(O!==1&&O!==2||typeof S!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=S/U[2],B[1]=S/U[2],B[2]=S/U[2],B[3]=typeof M=="number"?M/U[3]:1,B=B.map(function(N){return Math.max(Math.min(N,1),0)})}return B}}],(w=[{key:"toString",value:function(S){var M=this.levels,k=this._array,T=k[3];switch(S){case"#rrggbb":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16));case"#rrggbbaa":return"#".concat(M[0]<16?"0".concat(M[0].toString(16)):M[0].toString(16),M[1]<16?"0".concat(M[1].toString(16)):M[1].toString(16),M[2]<16?"0".concat(M[2].toString(16)):M[2].toString(16),M[3]<16?"0".concat(M[3].toString(16)):M[3].toString(16));case"#rgb":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16),Math.round(15*k[3]).toString(16));case"rgb":return"rgb(".concat(M[0],", ",M[1],", ",M[2],")");case"rgb%":return"rgb(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%, ",(100*k[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],", ",T,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],", ",T,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*T).toPrecision(3),"%)");default:return"rgba(".concat(M[0],",",M[1],",",M[2],",",T,")")}}},{key:"setRed",value:function(S){this._array[0]=S/this.maxes[i.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(S){this._array[1]=S/this.maxes[i.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(S){this._array[2]=S/this.maxes[i.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(S){this._array[3]=S/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var S=this._array,M=this.levels=new Array(S.length),k=S.length-1;0<=k;--k)M[k]=Math.round(255*S[k]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(S,M){this.mode=S,this.maxes=M}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[i.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[i.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[i.RGB][1]}},{key:"_getHue",value:function(){return this.mode===i.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[i.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[i.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[i.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[i.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===i.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[i.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[i.HSL][1])}}])&&n(b.prototype,w),_&&n(b,_),g}(),s.default.Color);E.default=m},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(r,n){this._renderer.beginClip(n),r(),this._renderer.endClip(n)},s.default.prototype.background=function(){var r;return(r=this._renderer).background.apply(r,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(r,n,o,a,c){return s.default._validateParameters("colorMode",arguments),r!==i.RGB&&r!==i.HSB&&r!==i.HSL||(this._colorMode=r,r=this._colorMaxes[r],arguments.length===2?(r[0]=n,r[1]=n,r[2]=n,r[3]=n):arguments.length===4?(r[0]=n,r[1]=o,r[2]=a):arguments.length===5&&(r[0]=n,r[1]=o,r[2]=a,r[3]=c)),this},s.default.prototype.fill=function(){var r;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(r=this._renderer).fill.apply(r,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var r;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(r=this._renderer).stroke.apply(r,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var h=s.default;E.default=h},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.QUADRATIC=E.LINEAR=E._CTX_MIDDLE=E._DEFAULT_LEADMULT=E._DEFAULT_TEXT_FILL=E.WORD=E.CHAR=E.BOLDITALIC=E.BOLD=E.ITALIC=E.NORMAL=E.BLUR=E.ERODE=E.DILATE=E.POSTERIZE=E.INVERT=E.OPAQUE=E.GRAY=E.THRESHOLD=E.BURN=E.DODGE=E.SOFT_LIGHT=E.HARD_LIGHT=E.OVERLAY=E.REPLACE=E.SCREEN=E.MULTIPLY=E.EXCLUSION=E.SUBTRACT=E.DIFFERENCE=E.LIGHTEST=E.DARKEST=E.ADD=E.REMOVE=E.BLEND=E.UP_ARROW=E.TAB=E.SHIFT=E.RIGHT_ARROW=E.RETURN=E.OPTION=E.LEFT_ARROW=E.ESCAPE=E.ENTER=E.DOWN_ARROW=E.DELETE=E.CONTROL=E.BACKSPACE=E.ALT=E.AUTO=E.HSL=E.HSB=E.RGB=E.MITER=E.BEVEL=E.ROUND=E.SQUARE=E.PROJECT=E.PIE=E.CHORD=E.OPEN=E.CLOSE=E.TESS=E.QUAD_STRIP=E.QUADS=E.TRIANGLE_STRIP=E.TRIANGLE_FAN=E.TRIANGLES=E.LINE_LOOP=E.LINE_STRIP=E.LINES=E.POINTS=E.BASELINE=E.BOTTOM=E.TOP=E.CENTER=E.LEFT=E.RIGHT=E.RADIUS=E.CORNERS=E.CORNER=E.RAD_TO_DEG=E.DEG_TO_RAD=E.RADIANS=E.DEGREES=E.TWO_PI=E.TAU=E.QUARTER_PI=E.PI=E.HALF_PI=E.WAIT=E.TEXT=E.MOVE=E.HAND=E.CROSS=E.ARROW=E.WEBGL2=E.WEBGL=E.P2D=E.VERSION=void 0,E.RGBA=E.HALF_FLOAT=E.FLOAT=E.UNSIGNED_INT=E.UNSIGNED_BYTE=E.COVER=E.CONTAIN=E.FALLBACK=E.LABEL=E.AXES=E.GRID=E._DEFAULT_FILL=E._DEFAULT_STROKE=E.PORTRAIT=E.LANDSCAPE=E.SMOOTH=E.FLAT=E.MIRROR=E.CLAMP=E.REPEAT=E.NEAREST=E.IMAGE=E.IMMEDIATE=E.TEXTURE=E.FILL=E.STROKE=E.CURVE=E.BEZIER=void 0;var f=Math.PI,u=(E.VERSION="1.9.0",E.P2D="p2d",E.WEBGL="webgl",E.WEBGL2="webgl2",E.ARROW="default",E.CROSS="crosshair",E.HAND="pointer",E.MOVE="move",E.TEXT="text",E.WAIT="wait",f/2),u=(E.HALF_PI=u,f),u=(E.PI=u,f/4),u=(E.QUARTER_PI=u,2*f),u=(E.TAU=u,2*f),u=(E.TWO_PI=u,E.DEGREES="degrees",E.RADIANS="radians",f/180),u=(E.DEG_TO_RAD=u,180/f);E.RAD_TO_DEG=u,E.CORNER="corner",E.CORNERS="corners",E.RADIUS="radius",E.RIGHT="right",E.LEFT="left",E.CENTER="center",E.TOP="top",E.BOTTOM="bottom",E.BASELINE="alphabetic",E.POINTS=0,E.LINES=1,E.LINE_STRIP=3,E.LINE_LOOP=2,E.TRIANGLES=4,E.TRIANGLE_FAN=6,E.TRIANGLE_STRIP=5,E.QUADS="quads",E.QUAD_STRIP="quad_strip",E.TESS="tess",E.CLOSE="close",E.OPEN="open",E.CHORD="chord",E.PIE="pie",E.PROJECT="square",E.SQUARE="butt",E.ROUND="round",E.BEVEL="bevel",E.MITER="miter",E.RGB="rgb",E.HSB="hsb",E.HSL="hsl",E.AUTO="auto",E.ALT=18,E.BACKSPACE=8,E.CONTROL=17,E.DELETE=46,E.DOWN_ARROW=40,E.ENTER=13,E.ESCAPE=27,E.LEFT_ARROW=37,E.OPTION=18,E.RETURN=13,E.RIGHT_ARROW=39,E.SHIFT=16,E.TAB=9,E.UP_ARROW=38,E.BLEND="source-over",E.REMOVE="destination-out",E.ADD="lighter",E.DARKEST="darken",E.LIGHTEST="lighten",E.DIFFERENCE="difference",E.SUBTRACT="subtract",E.EXCLUSION="exclusion",E.MULTIPLY="multiply",E.SCREEN="screen",E.REPLACE="copy",E.OVERLAY="overlay",E.HARD_LIGHT="hard-light",E.SOFT_LIGHT="soft-light",E.DODGE="color-dodge",E.BURN="color-burn",E.THRESHOLD="threshold",E.GRAY="gray",E.OPAQUE="opaque",E.INVERT="invert",E.POSTERIZE="posterize",E.DILATE="dilate",E.ERODE="erode",E.BLUR="blur",E.NORMAL="normal",E.ITALIC="italic",E.BOLD="bold",E.BOLDITALIC="bold italic",E.CHAR="CHAR",E.WORD="WORD",E._DEFAULT_TEXT_FILL="#000000",E._DEFAULT_LEADMULT=1.25,E._CTX_MIDDLE="middle",E.LINEAR="linear",E.QUADRATIC="quadratic",E.BEZIER="bezier",E.CURVE="curve",E.STROKE="stroke",E.FILL="fill",E.TEXTURE="texture",E.IMMEDIATE="immediate",E.IMAGE="image",E.NEAREST="nearest",E.REPEAT="repeat",E.CLAMP="clamp",E.MIRROR="mirror",E.FLAT="flat",E.SMOOTH="smooth",E.LANDSCAPE="landscape",E.PORTRAIT="portrait",E._DEFAULT_STROKE="#000000",E._DEFAULT_FILL="#FFFFFF",E.GRID="grid",E.AXES="axes",E.LABEL="label",E.FALLBACK="fallback",E.CONTAIN="contain",E.COVER="cover",E.UNSIGNED_BYTE="unsigned-byte",E.UNSIGNED_INT="unsigned-int",E.FLOAT="float",E.HALF_FLOAT="half-float",E.RGBA="rgba"},{}],265:[function(t,V,E){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(d){return f(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":f(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(i=t("./main"))&&i.__esModule?i:{default:i},i=function(c){if(c&&c.__esModule)return c;if(c===null||u(c)!=="object"&&typeof c!="function")return{default:c};var d=p();if(d&&d.has(c))return d.get(c);var y,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in c){var b;Object.prototype.hasOwnProperty.call(c,y)&&((b=g?Object.getOwnPropertyDescriptor(c,y):null)&&(b.get||b.set)?Object.defineProperty(m,y,b):m[y]=c[y])}return m.default=c,d&&d.set(c,m),m}(t("./constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}var h=[i.ARROW,i.CROSS,i.HAND,i.MOVE,i.TEXT,i.WAIT],r=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),n=!1;function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function a(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):n||(r(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(n=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(c,d,y){var m,g="auto",b=this._curElement.elt;h.includes(c)?g=c:typeof c=="string"&&(m="",d&&y&&typeof d=="number"&&typeof y=="number"&&(m="".concat(d," ").concat(y)),g=c.substring(0,7)==="http://"||c.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(m,", auto"):c),b.style.cursor=g},s.default.prototype.frameRate=function(c){return s.default._validateParameters("frameRate",arguments),typeof c!="number"||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),c===0&&this._setProperty("_frameRate",c),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(c){return this.frameRate(c)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=i.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=o(),s.default.prototype.windowHeight=a(),s.default.prototype._onresize=function(c){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",a());var d=this._isGlobal?window:this;typeof d.windowResized!="function"||(d=d.windowResized(c))===void 0||d||c.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(c){if(s.default._validateParameters("fullscreen",arguments),c===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(c){var d;return s.default._validateParameters("pixelDensity",arguments),typeof c=="number"?(c!==this._pixelDensity&&(this._pixelDensity=c),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return c!==""})},s.default.prototype.getURLParams=function(){for(var c,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,y={};(c=d.exec(location.search))!=null;)c.index===d.lastIndex&&d.lastIndex++,y[c[1]]=c[2];return y},t=s.default,E.default=t},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(h=t("../main"))&&h.__esModule?h:{default:h};t("../internationalization");function u(r,n){n=n||console.log.bind(console),s||p(),s.some(function(o){var a;if(r.message&&r.message.match("\\W?".concat(o.name,"\\W"))!==null)return a=o.type==="function"?"".concat(o.name,"()"):o.name,n("Did you just try to use p5.js's ".concat(a," ").concat(o.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(i)),!0})}var s=null,p=null,i=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function r(o){return Object.getOwnPropertyNames(o).filter(function(a){return a[0]!=="_"&&!(a in n)&&(n[a]=!0)}).map(function(a){var c=typeof o[a]=="function"?"function":a===a.toUpperCase()?"constant":"variable";return{name:a,type:c}})}var n={};(s=[].concat(r(f.default.prototype),r(t("../constants")))).sort(function(o,a){return a.name.length-o.name.length})},h=(f.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),f.default);E.default=h},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(f=t("../main"))&&f.__esModule?f:{default:f};t("../internationalization"),f.default._friendlyFileLoadError=function(){},t=f.default,E.default=t},{"../internationalization":273,"../main":275}],268:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=h(t("../main"));t("../internationalization"),p(t("../constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&((c=y?Object.getOwnPropertyDescriptor(n,a):null)&&(c.get||c.set)?Object.defineProperty(d,a,c):d[a]=n[a]);return d.default=n,o&&o.set(n,d),d}function h(n){return n&&n.__esModule?n:{default:n}}s.default._fesCodeReader=function(){};var r=s.default;E.default=r},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(t,V,E){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function f(){var u=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(s)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(h){return!!h.match(s)},this).map(function(h){var r=(h=-1<h.indexOf("(eval ")?h.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):h).replace(/^\s+/,"").replace(/\(eval code/g,"("),n=r.match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=n?r.replace(n[0],""):r).split(/\s+/).slice(1),n=this.extractLocation(n?n[1]:r.pop());return{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(h){return!h.match(i)},this).map(function(h){var r,n;return(h=-1<h.indexOf(" > eval")?h.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):h).indexOf("@")===-1&&h.indexOf(":")===-1?{functionName:h}:{functionName:(n=h.match(r=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&n[1]?n[1]:void 0,fileName:(n=this.extractLocation(h.replace(r,"")))[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var h=/Line (\d+).*script (?:in )?(\S+)/i,r=p.message.split(`
`),n=[],o=2,a=r.length;o<a;o+=2){var c=h.exec(r[o]);c&&n.push({fileName:c[2],lineNumber:c[1],source:r[o]})}return n},parseOpera10:function(p){for(var h=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=p.stacktrace.split(`
`),n=[],o=0,a=r.length;o<a;o+=2){var c=h.exec(r[o]);c&&n.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:r[o]})}return n},parseOpera11:function(p){return p.stack.split(`
`).filter(function(h){return!!h.match(u)&&!h.match(/^Error created at/)},this).map(function(h){var r,o=h.split("@"),n=this.extractLocation(o.pop()),o=o.shift()||"";return{functionName:o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(r=o.match(/\(([^)]*)\)/)?o.replace(/^[^(]+\(([^)]*)\)$/,"$1"):r)===void 0||r==="[arguments not available]"?void 0:r.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:h}},this)}}}t.default._getErrorStackParser=function(){return new f},t=t.default,E.default=t},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(p){if(!(p&&p.__esModule)&&!(p===null||i(p)!=="object"&&typeof p!="function")){var h=s();if(h&&h.has(p))return h.get(p);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in p){var a;Object.prototype.hasOwnProperty.call(p,r)&&((a=o?Object.getOwnPropertyDescriptor(p,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=p[r])}n.default=p,h&&h.set(p,n)}})(t("../constants")),t("../internationalization");function s(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,s=function(){return p},p)}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,E.default=t},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}function u(p){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var h=i();if(h&&h.has(p))return h.get(p);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in p){var a;Object.prototype.hasOwnProperty.call(p,r)&&((a=o?Object.getOwnPropertyDescriptor(p,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=p[r])}return n.default=p,h&&h.set(p,n),n}(t("./constants"));function i(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,i=function(){return p},p)}E.default={modeAdjust:function(p,h,r,n,o){return o===s.CORNER?{x:p,y:h,w:r,h:n}:o===s.CORNERS?{x:p,y:h,w:r-p,h:n-h}:o===s.RADIUS?{x:p-r,y:h-n,w:2*r,h:2*n}:o===s.CENTER?{x:p-.5*r,y:h-.5*n,w:r,h:n}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(t,V,E){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(s,i){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),u]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!f.default.instance&&new f.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(t,V,E){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.setTranslatorLanguage=E.currentTranslatorLanguage=E.availableTranslatorLanguages=E.initialize=E.translator=void 0;var f,u,s=p(t("i18next")),i=p(t("i18next-browser-languagedetector"));function p(n){return n&&n.__esModule?n:{default:n}}function h(n,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}var r=function(){function n(c,d){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.init(c,d)}var o,a;return o=n,(a=[{key:"fetchWithTimeout",value:function(c,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(c,d),new Promise(function(m,g){return setTimeout(function(){return g(new Error("timeout"))},y)})])}},{key:"init",value:function(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=c,this.options=d}},{key:"read",value:function(c,d,y){var m=this.options.loadPath;c===this.options.fallback?y(null,f[c][d]):u.includes(c)?(m=this.services.interpolator.interpolate(m,{lng:c,ns:d}),this.loadUrl(m,y)):y("Not found",!1)}},{key:"loadUrl",value:function(c,d){this.fetchWithTimeout(c).then(function(y){if(y.ok)return y.json();throw new Error("failed loading ".concat(c))},function(){throw new Error("failed loading ".concat(c))}).then(function(y){return d(null,y)}).catch(d)}}])&&h(o.prototype,a),n}();r.type="backend",E.translator=function(n,o){console.debug("p5.js translator called before translations were loaded"),s.default.t(n,o)},E.initialize=function(){return s.default.use(i.default).use(r).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(n){E.translator=n},function(n){return console.debug("Translations failed to load (".concat(n,")"))})},E.availableTranslatorLanguages=function(){return s.default.languages},E.currentTranslatorLanguage=function(n){return s.default.language},E.setTranslatorLanguage=function(n){return s.default.changeLanguage(n||void 0,function(o){return console.debug("Translations failed to load (".concat(o,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,E.default=t},{"./main":275}],275:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t("./shim");var s=function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("./constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}var h,r=function(){function n(c,m){var y=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=m,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var m=Object.getOwnPropertyNames(n.prototype._registeredMethods),g=!0,b=!1,w=void 0;try{for(var _,S=m[Symbol.iterator]();!(g=(_=S.next()).done);g=!0){var M=_.value;this._registeredMethods[M]=n.prototype._registeredMethods[M].slice()}}catch(N){b=!0,w=N}finally{try{g||S.return==null||S.return()}finally{if(b)throw w}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),n.prototype.callRegisteredHooksFor=function(N){var z=this||n.prototype,Y=this._isGlobal?window:this;if(z._registeredMethods.hasOwnProperty(N)){var z=z._registeredMethods[N],Z=!0,N=!1,G=void 0;try{for(var C,L=z[Symbol.iterator]();!(Z=(C=L.next()).done);Z=!0){var D=C.value;typeof D=="function"&&D.call(Y)}}catch(te){N=!0,G=te}finally{try{Z||L.return==null||L.return()}finally{if(N)throw G}}}},this._start=function(){y._userNode&&typeof y._userNode=="string"&&(y._userNode=document.getElementById(y._userNode));var N=y._isGlobal?window:y;if(N.preload){y.callRegisteredHooksFor("beforePreload");var z,Y=document.getElementById(y._loadingScreenId),Z=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=y._loadingScreenId,(y._userNode||document.body).appendChild(Y)),y._preloadMethods);for(z in Z){Z[z]=Z[z]||n;var G=Z[z];G!==n.prototype&&G!==n||(y._isGlobal&&(window[z]=y._wrapPreload(y,z)),G=y),y._registeredPreloadMethods[z]=G[z],G[z]=y._wrapPreload(G,z)}N.preload(),y._runIfPreloadsAreDone()}else y._setup(),y._recording||y._draw()},this._runIfPreloadsAreDone=function(){var N,z=this._isGlobal?window:this;z._preloadCount===0&&((N=document.getElementById(z._loadingScreenId))&&N.parentNode.removeChild(N),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),z._setup(),this._recording||z._draw()))},this._decrementPreload=function(){var N=this._isGlobal?window:this;N._preloadDone||typeof N.preload!="function"||(N._setProperty("_preloadCount",N._preloadCount-1),N._runIfPreloadsAreDone())},this._wrapPreload=function(N,z){var Y=this;return function(){Y._incrementPreload();for(var Z=arguments.length,G=new Array(Z),C=0;C<Z;C++)G[C]=arguments[C];return Y._registeredPreloadMethods[z].apply(N,G)}},this._incrementPreload=function(){var N=this._isGlobal?window:this;N._preloadDone||N._setProperty("_preloadCount",N._preloadCount+1)},this._setup=function(){y.callRegisteredHooksFor("beforeSetup"),y.createCanvas(y._defaultCanvasSize.width,y._defaultCanvasSize.height,"p2d");var N=y._isGlobal?window:y;if(typeof N.preload=="function")for(var z in y._preloadMethods)N[z]=y._preloadMethods[z][z],N[z]&&y&&(N[z]=N[z].bind(y));y._millisStart=window.performance.now(),N._preloadDone=!0,typeof N.setup=="function"&&N.setup();var Y=document.getElementsByTagName("canvas"),Z=!0,G=!1,C=void 0;try{for(var L,D=Y[Symbol.iterator]();!(Z=(L=D.next()).done);Z=!0){var q=L.value;q.dataset.hidden==="true"&&(q.style.visibility="",delete q.dataset.hidden)}}catch(J){G=!0,C=J}finally{try{Z||D.return==null||D.return()}finally{if(G)throw C}}y._lastTargetFrameTime=window.performance.now(),y._lastRealFrameTime=window.performance.now(),y._setupDone=!0,(y._accessibleOutputs.grid||y._accessibleOutputs.text)&&y._updateAccsOutput(),y.callRegisteredHooksFor("afterSetup")},this._draw=function(){var N=window.performance.now(),z=N-y._lastTargetFrameTime,Y=1e3/y._targetFrameRate;(!y._loop||Y-5<=z)&&(y.deltaTime=N-y._lastRealFrameTime,y._setProperty("deltaTime",y.deltaTime),y._frameRate=1e3/y.deltaTime,y.redraw(),y._lastTargetFrameTime=Math.max(y._lastTargetFrameTime+Y,N),y._lastRealFrameTime=N,y._updateMouseCoords!==void 0&&(y._updateMouseCoords(),y._setProperty("movedX",0),y._setProperty("movedY",0))),y._loop&&(y._requestAnimId=window.requestAnimationFrame(y._draw))},this._setProperty=function(N,z){y[N]=z,y._isGlobal&&(window[N]=z)},this.remove=function(){y._startListener&&window.removeEventListener("load",y._startListener,!1);var N=document.getElementById(y._loadingScreenId);if(N&&(N.parentNode.removeChild(N),y._incrementPreload()),y._curElement){for(var z in y._loop=!1,y._requestAnimId&&window.cancelAnimationFrame(y._requestAnimId),y._events)window.removeEventListener(z,y._events[z]);var Y=!0,N=!1,Z=void 0;try{for(var G,C=y._elements[Symbol.iterator]();!(Y=(G=C.next()).done);Y=!0){var L,D=G.value;for(L in D.elt&&D.elt.parentNode&&D.elt.parentNode.removeChild(D.elt),D._events)D.elt.removeEventListener(L,D._events[L])}}catch(ce){N=!0,Z=ce}finally{try{Y||C.return==null||C.return()}finally{if(N)throw Z}}var q=y;y._registeredMethods.remove.forEach(function(ce){ce!==void 0&&ce.call(q)})}if(y._isGlobal){for(var J in n.prototype)try{delete window[J]}catch{window[J]=void 0}for(var te in y)if(y.hasOwnProperty(te))try{delete window[te]}catch{window[te]=void 0}n.instance=null}},this._registeredMethods.init.forEach(function(N){N!==void 0&&N.call(this)},this),this._setupPromisePreloads();var k,T,A=this._createFriendlyGlobalFunctionBinder();if(c)c(this),n._checkForUserDefinedFunctions(this);else{for(var O in this._isGlobal=!0,n.instance=this,n.prototype)typeof n.prototype[O]=="function"?(k=O.substring(2),this._events.hasOwnProperty(k)||(Math.hasOwnProperty(O)&&Math[O]===n.prototype[O]?A(O,n.prototype[O]):A(O,n.prototype[O].bind(this)))):A(O,n.prototype[O]);for(var R in this)this.hasOwnProperty(R)&&A(R,this[R])}for(T in this._events){var U=this["_on".concat(T)];U&&(U=U.bind(this),window.addEventListener(T,U,{passive:!1}),this._events[T]=U)}function B(){y._setProperty("focused",!0)}function W(){y._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",W),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",W)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var o,a;return o=n,(a=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(c,d){n.prototype._preloadMethods.hasOwnProperty(c)||(n.prototype._preloadMethods[c]=d)}},{key:"registerMethod",value:function(c,d){var y=this||n.prototype;y._registeredMethods.hasOwnProperty(c)||(y._registeredMethods[c]=[]),y._registeredMethods[c].push(d)}},{key:"unregisterMethod",value:function(c,d){var y=this||n.prototype;if(y._registeredMethods.hasOwnProperty(c)){for(var m=y._registeredMethods[c],g=[],b=0;b<m.length;b++)m[b]===d&&g.push(b);for(var w=g.length-1;0<=w;w--)m.splice(g[w],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=c.globalObject||window;return c.log||console.log.bind(console),function(y,m){n.disableFriendlyErrors,d[y]=m}}}])&&p(o.prototype,a),n}();for(h in r.instance=null,r.disableFriendlyErrors=!1,s)r.prototype[h]=s[h];r.VERSION=s.VERSION,r.prototype._preloadMethods={loadJSON:r.prototype,loadImage:r.prototype,loadStrings:r.prototype,loadXML:r.prototype,loadBytes:r.prototype,loadTable:r.prototype,loadFont:r.prototype,loadModel:r.prototype,loadShader:r.prototype},r.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},r.prototype._registeredPreloadMethods={},E.default=r},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function u(s,i){for(var p=0;p<i.length;p++){var h=i[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}f.default.Element=function(){function s(r,n){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=r,this._pInst=this._pixelsState=n,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var i,p,h;return i=s,h=[{key:"_adjustListener",value:function(r,n,o){return n===!1?f.default.Element._detachListener(r,o):f.default.Element._attachListener(r,n,o),this}},{key:"_attachListener",value:function(r,n,o){o._events[r]&&f.default.Element._detachListener(r,o),n=n.bind(o),o.elt.addEventListener(r,n,!1),o._events[r]=n}},{key:"_detachListener",value:function(r,n){var o=n._events[r];n.elt.removeEventListener(r,o,!1),n._events[r]=null}}],(p=[{key:"parent",value:function(r){return r===void 0?this.elt.parentNode:(typeof r=="string"?(r[0]==="#"&&(r=r.substring(1)),r=document.getElementById(r)):r instanceof f.default.Element&&(r=r.elt),r.appendChild(this.elt),this)}},{key:"id",value:function(r){return r===void 0?this.elt.id:(this.elt.id=r,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(r){return r===void 0?this.elt.className:(this.elt.className=r,this)}},{key:"mousePressed",value:function(r){return f.default.Element._adjustListener("mousedown",function(n){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(n),r.call(this,n)},this),this}},{key:"doubleClicked",value:function(r){return f.default.Element._adjustListener("dblclick",r,this),this}},{key:"mouseWheel",value:function(r){return f.default.Element._adjustListener("wheel",r,this),this}},{key:"mouseReleased",value:function(r){return f.default.Element._adjustListener("mouseup",r,this),this}},{key:"mouseClicked",value:function(r){return f.default.Element._adjustListener("click",r,this),this}},{key:"mouseMoved",value:function(r){return f.default.Element._adjustListener("mousemove",r,this),this}},{key:"mouseOver",value:function(r){return f.default.Element._adjustListener("mouseover",r,this),this}},{key:"mouseOut",value:function(r){return f.default.Element._adjustListener("mouseout",r,this),this}},{key:"touchStarted",value:function(r){return f.default.Element._adjustListener("touchstart",r,this),this}},{key:"touchMoved",value:function(r){return f.default.Element._adjustListener("touchmove",r,this),this}},{key:"touchEnded",value:function(r){return f.default.Element._adjustListener("touchend",r,this),this}},{key:"dragOver",value:function(r){return f.default.Element._adjustListener("dragover",r,this),this}},{key:"dragLeave",value:function(r){return f.default.Element._adjustListener("dragleave",r,this),this}},{key:"_setProperty",value:function(r,n){this[r]=n}}])&&u(i.prototype,p),h&&u(i,h),s}(),t=f.default.Element,E.default=t},{"./main":275}],277:[function(t,V,E){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function u(y){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(d=t("./main"))&&d.__esModule?d:{default:d},i=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var m=p();if(m&&m.has(y))return m.get(y);var g,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in y){var _;Object.prototype.hasOwnProperty.call(y,g)&&((_=w?Object.getOwnPropertyDescriptor(y,g):null)&&(_.get||_.set)?Object.defineProperty(b,g,_):b[g]=y[g])}return b.default=y,m&&m.set(y,b),b}(t("./constants"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}function h(y,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}function r(y,m){return(r=Object.setPrototypeOf||function(g,b){return g.__proto__=b,g})(y,m)}function n(y){return function(){var m,g=c(y);return o(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=c(this).constructor,Reflect.construct(g,arguments,m)):g.apply(this,arguments))}}function o(y,m){return!m||u(m)!=="object"&&typeof m!="function"?a(y):m}function a(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function c(y){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}s.default.Graphics=function(y){var m=b;if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),y&&r(m,y);var g=n(b);function b(w,_,R,M,k){var T;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");O=k||document.createElement("canvas"),(T=g.call(this,O,M)).canvas=O;var A,O=R||i.P2D,R=M._userNode||document.body;for(A in k||R.appendChild(T.canvas),s.default.prototype)T[A]||(typeof s.default.prototype[A]=="function"?T[A]=s.default.prototype[A].bind(a(T)):T[A]=s.default.prototype[A]);return s.default.prototype._initializeInstanceVariables.apply(a(T)),T.width=w,T.height=_,T._pixelDensity=M._pixelDensity,O===i.WEBGL?T._renderer=new s.default.RendererGL(T.canvas,a(T),!1):T._renderer=new s.default.Renderer2D(T.canvas,a(T),!1),M._elements.push(a(T)),Object.defineProperty(a(T),"deltaTime",{get:function(){return this._pInst.deltaTime}}),T._renderer.resize(w,_),T._renderer._applyDefaults(),o(T,a(T))}return m=b,(y=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var w,_=this._pInst._elements.indexOf(this);for(w in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(w,this._events[w])}},{key:"createFramebuffer",value:function(w){return new s.default.Framebuffer(this,w)}}])&&h(m.prototype,y),b}(s.default.Element);var d=s.default.Graphics;E.default=d},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(t,V,E){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(c=t("./main"))&&c.__esModule?c:{default:c},s=function(y){if(y&&y.__esModule)return y;if(y===null||p(y)!=="object"&&typeof y!="function")return{default:y};var m=i();if(m&&m.has(y))return m.get(y);var g,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in y){var _;Object.prototype.hasOwnProperty.call(y,g)&&((_=w?Object.getOwnPropertyDescriptor(y,g):null)&&(_.get||_.set)?Object.defineProperty(b,g,_):b[g]=y[g])}return b.default=y,m&&m.set(y,b),b}(t("../core/constants"));function i(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,i=function(){return y},y)}function p(y){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(y)}function h(y,m){for(var g=0;g<m.length;g++){var b=m[g];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}function r(y,m){return(r=Object.setPrototypeOf||function(g,b){return g.__proto__=b,g})(y,m)}function n(y){return function(){var m,g,b=a(y);return m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=a(this).constructor,Reflect.construct(b,arguments,m)):b.apply(this,arguments),b=this,!(g=m)||p(g)!=="object"&&typeof g!="function"?o(b):g}}function o(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function a(y){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}var c=function(y){var m=b;if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),y&&r(m,y);var g=n(b);function b(w,_,S){var M;if(this instanceof b)return(M=g.call(this,w,_)).canvas=w,M._pixelsState=_,S?(M._isMainCanvas=!0,M._pInst._setProperty("_curElement",o(M)),M._pInst._setProperty("canvas",M.canvas),M._pInst._setProperty("width",M.width),M._pInst._setProperty("height",M.height)):(M.canvas.style.display="none",M._styles=[]),M._clipping=!1,M._clipInvert=!1,M._textSize=12,M._textLeading=15,M._textFont="sans-serif",M._textStyle=s.NORMAL,M._textAscent=null,M._textDescent=null,M._textAlign=s.LEFT,M._textBaseline=s.BASELINE,M._textWrap=s.WORD,M._rectMode=s.CORNER,M._ellipseMode=s.CENTER,M._curveTightness=0,M._imageMode=s.CORNER,M._tint=null,M._doStroke=!0,M._doFill=!0,M._strokeSet=!1,M._fillSet=!1,M._leadingSet=!1,M._pushPopDepth=0,M;throw new TypeError("Cannot call a class as a function")}return m=b,(y=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(w){this._pushPopDepth--,w.properties&&Object.assign(this,w.properties)}},{key:"beginClip",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=w.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(w,_){this.width=w,this.height=_,this.elt.width=w*this._pInst._pixelDensity,this.elt.height=_*this._pInst._pixelDensity,this.elt.style.width="".concat(w,"px"),this.elt.style.height="".concat(_,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(w,_,S,M){var k=this._pixelsState,T=k._pixelDensity,A=this.canvas;if(w===void 0&&_===void 0)w=_=0,S=k.width,M=k.height;else if(w*=T,_*=T,S===void 0&&M===void 0)return w<0||_<0||w>=A.width||_>=A.height?[0,0,0,0]:this._getPixel(w,_);return k=new u.default.Image(S*T,M*T),k.pixelDensity(T),k.canvas.getContext("2d").drawImage(A,w,_,S*T,M*T,0,0,S*T,M*T),k}},{key:"textLeading",value:function(w){return typeof w=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",w),this._pInst):this._textLeading}},{key:"textStyle",value:function(w){return w?(w!==s.NORMAL&&w!==s.ITALIC&&w!==s.BOLD&&w!==s.BOLDITALIC||this._setProperty("_textStyle",w),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(w,_){return w!==void 0?(this._setProperty("_textAlign",w),_!==void 0&&this._setProperty("_textBaseline",_),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(w){return this._setProperty("_textWrap",w),this._textWrap}},{key:"text",value:function(w,_,S,M,k){var T,A,O,R,U=this._pInst,B=this._textWrap,W=Number.MAX_VALUE,N=S;if((this._doFill||this._doStroke)&&w!==void 0){if(T=(w=(w=typeof w!="string"?w.toString():w).replace(/(\t)/g,"  ")).split(`
`),M!==void 0){switch(this._rectMode===s.CENTER&&(_-=M/2),this._textAlign){case s.CENTER:_+=M/2;break;case s.RIGHT:_+=M}if(k!==void 0){this._rectMode===s.CENTER&&(S-=k/2,N-=k/2);var w=S,z=U.textAscent();switch(this._textBaseline){case s.BOTTOM:R=S+k,S=Math.max(R,S),N+=z;break;case s.CENTER:R=S+k/2,S=Math.max(R,S),N+=z/2}W=S+k-z,this._textBaseline===s.CENTER&&(W=w+k-z/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(N=S-(w=U.textSize()*this._textLeading)/2,W=S+w/2);if(B===s.WORD){for(var Y=[],Z=0;Z<T.length;Z++){for(var G="",C=T[Z].split(" "),L=0;L<C.length;L++)A="".concat(G+C[L])+" ",G=M<(O=this.textWidth(A))&&0<G.length?(Y.push(G),"".concat(C[L])+" "):A;Y.push(G)}var D=0;this._textBaseline===s.CENTER?D=(Y.length-1)*U.textLeading()/2:this._textBaseline===s.BOTTOM&&(D=(Y.length-1)*U.textLeading());for(var q=0;q<T.length;q++){G="",C=T[q].split(" ");for(var J=0;J<C.length;J++)A="".concat(G+C[J])+" ",M<(O=this.textWidth(A))&&0<G.length?(this._renderText(U,G.trim(),_,S-D,W,N),G="".concat(C[J])+" ",S+=U.textLeading()):G=A;this._renderText(U,G.trim(),_,S-D,W,N),S+=U.textLeading()}}else{for(var te=[],se=0;se<T.length;se++)for(var ce=T[se].split(G=""),ne=0;ne<ce.length;ne++)A="".concat(G+ce[ne]),(O=this.textWidth(A))<=M?G+=ce[ne]:M<O&&0<G.length&&(te.push(G),G="".concat(ce[ne]));te.push(G);var ae=0;this._textBaseline===s.CENTER?ae=(te.length-1)*U.textLeading()/2:this._textBaseline===s.BOTTOM&&(ae=(te.length-1)*U.textLeading());for(var de=0;de<T.length;de++){ce=T[de].split(G="");for(var Q=0;Q<ce.length;Q++)A="".concat(G+ce[Q]),(O=this.textWidth(A))<=M?G+=ce[Q]:M<O&&0<G.length&&(this._renderText(U,G.trim(),_,S-ae,W,N),S+=U.textLeading(),G="".concat(ce[Q]))}this._renderText(U,G.trim(),_,S-ae,W,N),S+=U.textLeading()}}else{var ie=0;this._textBaseline===s.CENTER?ie=(T.length-1)*U.textLeading()/2:this._textBaseline===s.BOTTOM&&(ie=(T.length-1)*U.textLeading());for(var me=0;me<T.length;me++)this._renderText(U,T[me],_,S-ie,W,N-ie),S+=U.textLeading()}return U}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(w)==="object"&&w.font&&w.font.supported}},{key:"_updateTextMetrics",value:function(){var w,_,S,M,k,T;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((w=document.createElement("span")).style.fontFamily=this._textFont,w.style.fontSize="".concat(this._textSize,"px"),w.innerHTML="ABCjgq|",(T=document.createElement("div")).style.display="inline-block",T.style.width="1px",T.style.height="0px",M=((_=document.createElement("div")).appendChild(w),_.appendChild(T),_.style.height="0px",_.style.overflow="hidden",document.body.appendChild(_),T.style.verticalAlign="baseline",d(T)),k=d(w),S=M[1]-k[1],M=(T.style.verticalAlign="bottom",d(T)),k=d(w),T=M[1]-k[1]-S,document.body.removeChild(_),this._setProperty("_textAscent",S),this._setProperty("_textDescent",T)),this}}])&&h(m.prototype,y),b}(u.default.Element);function d(y){var m=0,g=0;if(y.offsetParent)for(;m+=y.offsetLeft,g+=y.offsetTop,y=y.offsetParent;);else m+=y.offsetLeft,g+=y.offsetTop;return[m,g]}c.prototype.textSize=function(y){return typeof y=="number"?(this._setProperty("_textSize",y),this._leadingSet||this._setProperty("_textLeading",y*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer=c,t=u.default.Renderer,E.default=t},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(y,V,E){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function u(m){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(g){return f(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(m)}y("core-js/modules/es.symbol"),y("core-js/modules/es.symbol.description"),y("core-js/modules/es.symbol.iterator"),y("core-js/modules/es.array.concat"),y("core-js/modules/es.array.fill"),y("core-js/modules/es.array.for-each"),y("core-js/modules/es.array.iterator"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.function.name"),y("core-js/modules/es.number.to-fixed"),y("core-js/modules/es.object.get-own-property-descriptor"),y("core-js/modules/es.object.get-prototype-of"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.reflect.construct"),y("core-js/modules/es.reflect.get"),y("core-js/modules/es.regexp.to-string"),y("core-js/modules/es.string.iterator"),y("core-js/modules/es.weak-map"),y("core-js/modules/web.dom-collections.iterator"),y("core-js/modules/es.array.concat"),y("core-js/modules/es.array.fill"),y("core-js/modules/es.array.for-each"),y("core-js/modules/es.array.join"),y("core-js/modules/es.array.slice"),y("core-js/modules/es.function.name"),y("core-js/modules/es.number.to-fixed"),y("core-js/modules/es.object.get-prototype-of"),y("core-js/modules/es.object.to-string"),y("core-js/modules/es.regexp.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(d=y("./main"))&&d.__esModule?d:{default:d},i=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var g=p();if(g&&g.has(m))return g.get(m);var b,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var S;Object.prototype.hasOwnProperty.call(m,b)&&((S=_?Object.getOwnPropertyDescriptor(m,b):null)&&(S.get||S.set)?Object.defineProperty(w,b,S):w[b]=m[b])}return w.default=m,g&&g.set(m,w),w}(y("./constants"));function p(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,p=function(){return m},m)}function h(m,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}function r(m,g,b){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(M,_,S){var M=function(k,T){for(;!Object.prototype.hasOwnProperty.call(k,T)&&(k=a(k))!==null;);return k}(M,_);if(M)return(M=Object.getOwnPropertyDescriptor(M,_)).get?M.get.call(S):M.value})(m,g,b||m)}function n(m,g){return(n=Object.setPrototypeOf||function(b,w){return b.__proto__=w,b})(m,g)}function o(m){return function(){var g,b=a(m),b=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=a(this).constructor,Reflect.construct(b,arguments,g)):b.apply(this,arguments),this);if(!g||u(g)!=="object"&&typeof g!="function"){if(b!==void 0)return b;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function a(m){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}y("./p5.Renderer");var c="rgba(0,0,0,0)",d=function(m){var g=w;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),m&&n(g,m);var b=o(w);function w(_,S,M){if(this instanceof w)return(_=b.call(this,_,S,M)).drawingContext=_.canvas.getContext("2d"),_._pInst._setProperty("drawingContext",_.drawingContext),_;throw new TypeError("Cannot call a class as a function")}return g=w,(m=[{key:"getFilterGraphicsLayer",value:function(){var _;return this.filterGraphicsLayer||(_=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,i.WEBGL,_)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=i.BLEND,this._setFill(i._DEFAULT_FILL),this._setStroke(i._DEFAULT_STROKE),this.drawingContext.lineCap=i.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(_,S){r(a(w.prototype),"resize",this).call(this,_,S),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var _,S;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(_=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(_,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(_=this._getFill(),S=(S=this._pInst).color.apply(S,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(S.levels),S=S.toString(),this._setFill(S),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(_),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var _=(_=this._pInst).color.apply(_,arguments);this._setFill(_.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",_.levels)}},{key:"stroke",value:function(){var _=(_=this._pInst).color.apply(_,arguments);this._setStroke(_.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",_.levels)}},{key:"erase",value:function(_,S){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,_=this._pInst.color(255,_).toString(),this.drawingContext.fillStyle=_,this._cachedStrokeStyle=this.drawingContext.strokeStyle,_=this._pInst.color(255,S).toString(),this.drawingContext.strokeStyle=_,S=this._cachedBlendMode,this.blendMode(i.REMOVE),this._cachedBlendMode=S,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},_=(r(a(w.prototype),"beginClip",this).call(this,_),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),_=(this.drawingContext.fillStyle=_,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),_=(this.drawingContext.strokeStyle=_,this._cachedBlendMode);this.blendMode(i.BLEND),this._cachedBlendMode=_,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),r(a(w.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(_,S,M,k,T,A,O,R,U){_.gifProperties&&_._animateGif(this._pInst);try{s.default.MediaElement&&_ instanceof s.default.MediaElement&&_._ensureCanvas();var B=(B=this._tint&&_.canvas?this._getTintedImageCanvas(_):B)||_.canvas||_.elt,W=1;_.width&&0<_.width&&(W=B.width/_.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,W*S,W*M,W*k,W*T,A,O,R,U),this._isErasing&&this._pInst.erase()}catch(N){if(N.name!=="NS_ERROR_NOT_AVAILABLE")throw N}}},{key:"_getTintedImageCanvas",value:function(_){if(!_.canvas)return _;_.tintCanvas||(_.tintCanvas=document.createElement("canvas")),_.tintCanvas.width!==_.canvas.width&&(_.tintCanvas.width=_.canvas.width),_.tintCanvas.height!==_.canvas.height&&(_.tintCanvas.height=_.canvas.height);var S=_.tintCanvas.getContext("2d");return S.save(),S.clearRect(0,0,_.canvas.width,_.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(S.drawImage(_.canvas,0,0),S.globalCompositeOperation="luminosity",S.drawImage(_.canvas,0,0),S.globalCompositeOperation="color",S.drawImage(_.canvas,0,0),S.globalCompositeOperation="multiply",S.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),S.fillRect(0,0,_.canvas.width,_.canvas.height),S.globalCompositeOperation="destination-in"),S.globalAlpha=this._tint[3]/255,S.drawImage(_.canvas,0,0),S.restore(),_.tintCanvas}},{key:"blendMode",value:function(_){if(_===i.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(_!==i.BLEND&&_!==i.REMOVE&&_!==i.DARKEST&&_!==i.LIGHTEST&&_!==i.DIFFERENCE&&_!==i.MULTIPLY&&_!==i.EXCLUSION&&_!==i.SCREEN&&_!==i.REPLACE&&_!==i.OVERLAY&&_!==i.HARD_LIGHT&&_!==i.SOFT_LIGHT&&_!==i.DODGE&&_!==i.BURN&&_!==i.ADD)throw new Error("Mode ".concat(_," not recognized."));this._cachedBlendMode=_,this.drawingContext.globalCompositeOperation=_}}},{key:"blend",value:function(){for(var _=this.drawingContext.globalCompositeOperation,S=arguments.length,M=new Array(S),k=0;k<S;k++)M[k]=arguments[k];var T=M[M.length-1],A=Array.prototype.slice.call(M,0,M.length-1);this.drawingContext.globalCompositeOperation=T,s.default.prototype.copy.apply(this,A),this.drawingContext.globalCompositeOperation=_}},{key:"_getPixel",value:function(_,S){return _=this.drawingContext.getImageData(_,S,1,1).data,[_[0],_[1],_[2],_[3]]}},{key:"loadPixels",value:function(){var _=this._pixelsState,S=_._pixelDensity,M=this.width*S,S=this.height*S,M=this.drawingContext.getImageData(0,0,M,S);_._setProperty("imageData",M),_._setProperty("pixels",M.data)}},{key:"set",value:function(_,S,M){_=Math.floor(_),S=Math.floor(S);var k=this._pixelsState;if(M instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(k._pixelDensity,k._pixelDensity),this.drawingContext.clearRect(_,S,M.width,M.height),this.drawingContext.drawImage(M.canvas,_,S),this.drawingContext.restore();else{var T=0,A=0,O=0,R=0,U=4*(S*k._pixelDensity*(this.width*k._pixelDensity)+_*k._pixelDensity);if(k.imageData||k.loadPixels.call(k),typeof M=="number")U<k.pixels.length&&(O=A=T=M,R=255);else if(M instanceof Array){if(M.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");U<k.pixels.length&&(T=M[0],A=M[1],O=M[2],R=M[3])}else M instanceof s.default.Color&&U<k.pixels.length&&(T=M.levels[0],A=M.levels[1],O=M.levels[2],R=M.levels[3]);for(var B=0;B<k._pixelDensity;B++)for(var W=0;W<k._pixelDensity;W++)U=4*((S*k._pixelDensity+W)*this.width*k._pixelDensity+(_*k._pixelDensity+B)),k.pixels[U]=T,k.pixels[U+1]=A,k.pixels[U+2]=O,k.pixels[U+3]=R}}},{key:"updatePixels",value:function(_,S,M,k){var T=this._pixelsState,A=T._pixelDensity;_===void 0&&S===void 0&&M===void 0&&k===void 0&&(S=_=0,M=this.width,k=this.height),_*=A,S*=A,M*=A,k*=A,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=T.imageData),this.drawingContext.putImageData(T.imageData,_,S,0,0,M,k)}},{key:"_acuteArcToBezier",value:function(_,S){var A=S/2,M=Math.cos(A),R=Math.sin(A),k=1/Math.tan(A),A=_+A,T=Math.cos(A),A=Math.sin(A),O=(4-M)/3,R=R+(M-O)*k;return{ax:Math.cos(_).toFixed(7),ay:Math.sin(_).toFixed(7),bx:(O*T+R*A).toFixed(7),by:(O*A-R*T).toFixed(7),cx:(O*T-R*A).toFixed(7),cy:(O*A+R*T).toFixed(7),dx:Math.cos(_+S).toFixed(7),dy:Math.sin(_+S).toFixed(7)}}},{key:"arc",value:function(_,S,M,k,T,A,O){var R,U=this.drawingContext,B=M/2,W=k/2,N=[];for(_+=B,S+=W;1e-5<=A-T;)R=Math.min(A-T,i.HALF_PI),N.push(this._acuteArcToBezier(T,R)),T+=R;return this._doFill&&(this._clipping||U.beginPath(),N.forEach(function(z,Y){Y===0&&U.moveTo(_+z.ax*B,S+z.ay*W),U.bezierCurveTo(_+z.bx*B,S+z.by*W,_+z.cx*B,S+z.cy*W,_+z.dx*B,S+z.dy*W)}),O!==i.PIE&&O!=null||U.lineTo(_,S),U.closePath(),this._clipping||U.fill()),this._doStroke&&(this._clipping||U.beginPath(),N.forEach(function(z,Y){Y===0&&U.moveTo(_+z.ax*B,S+z.ay*W),U.bezierCurveTo(_+z.bx*B,S+z.by*W,_+z.cx*B,S+z.cy*W,_+z.dx*B,S+z.dy*W)}),O===i.PIE?(U.lineTo(_,S),U.closePath()):O===i.CHORD&&U.closePath(),this._clipping||U.stroke()),this}},{key:"ellipse",value:function(N){var S=this.drawingContext,M=this._doFill,k=this._doStroke,T=parseFloat(N[0]),A=parseFloat(N[1]),W=parseFloat(N[2]),N=parseFloat(N[3]);if(M&&!k){if(this._getFill()===c)return this}else if(!M&&k&&this._getStroke()===c)return this;var O=W/2*.5522847498,R=N/2*.5522847498,U=T+W,B=A+N,W=T+W/2,N=A+N/2;this._clipping||S.beginPath(),S.moveTo(T,N),S.bezierCurveTo(T,N-R,W-O,A,W,A),S.bezierCurveTo(W+O,A,U,N-R,U,N),S.bezierCurveTo(U,N+R,W+O,B,W,B),S.bezierCurveTo(W-O,B,T,N+R,T,N),!this._clipping&&M&&S.fill(),!this._clipping&&k&&S.stroke()}},{key:"line",value:function(_,S,M,k){var T=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||T.beginPath(),T.moveTo(_,S),T.lineTo(M,k),T.stroke()),this}},{key:"point",value:function(_,S){var M,k,T=this.drawingContext;return!this._doStroke||this._getStroke()===c?this:(M=this._getStroke(),k=this._getFill(),this._clipping||this._setFill(M),this._clipping||T.beginPath(),T.arc(_,S,T.lineWidth/2,0,i.TWO_PI,!1),void(this._clipping||(T.fill(),this._setFill(k))))}},{key:"quad",value:function(_,S,M,k,T,A,O,R){var U=this.drawingContext,B=this._doFill,W=this._doStroke;if(B&&!W){if(this._getFill()===c)return this}else if(!B&&W&&this._getStroke()===c)return this;return this._clipping||U.beginPath(),U.moveTo(_,S),U.lineTo(M,k),U.lineTo(T,A),U.lineTo(O,R),U.closePath(),!this._clipping&&B&&U.fill(),!this._clipping&&W&&U.stroke(),this}},{key:"rect",value:function(W){var S,M,k=W[0],T=W[1],A=W[2],O=W[3],R=W[4],U=W[5],B=W[6],W=W[7],N=this.drawingContext,z=this._doFill,Y=this._doStroke;if(z&&!Y){if(this._getFill()===c)return this}else if(!z&&Y&&this._getStroke()===c)return this;return this._clipping||N.beginPath(),R===void 0?N.rect(k,T,A,O):(U===void 0&&(U=R),B===void 0&&(B=U),W===void 0&&(W=B),Y=(z=Math.abs(A))/2,M=(S=Math.abs(O))/2,S<2*(R=z<2*R?Y:R)&&(R=M),S<2*(U=z<2*U?Y:U)&&(U=M),S<2*(B=z<2*B?Y:B)&&(B=M),S<2*(W=z<2*W?Y:W)&&(W=M),this._clipping||N.beginPath(),N.moveTo(k+R,T),N.arcTo(k+A,T,k+A,T+O,U),N.arcTo(k+A,T+O,k,T+O,B),N.arcTo(k,T+O,k,T,W),N.arcTo(k,T,k+A,T,R),N.closePath()),!this._clipping&&this._doFill&&N.fill(),!this._clipping&&this._doStroke&&N.stroke(),this}},{key:"triangle",value:function(B){var S=this.drawingContext,M=this._doFill,k=this._doStroke,T=B[0],A=B[1],O=B[2],R=B[3],U=B[4],B=B[5];if(M&&!k){if(this._getFill()===c)return this}else if(!M&&k&&this._getStroke()===c)return this;this._clipping||S.beginPath(),S.moveTo(T,A),S.lineTo(O,R),S.lineTo(U,B),S.closePath(),!this._clipping&&M&&S.fill(),!this._clipping&&k&&S.stroke()}},{key:"endShape",value:function(_,S,M,k,T,A,O){if(S.length!==0&&(this._doStroke||this._doFill)){var R,U,B,W=_===i.CLOSE,N=(W&&!A&&S.push(S[0]),S.length);if(M&&O===null){if(3<N){var z=[],Y=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[1][0],S[1][1]),U=1;U+2<N;U++)R=S[U],z[0]=[R[0],R[1]],z[1]=[R[0]+(Y*S[U+1][0]-Y*S[U-1][0])/6,R[1]+(Y*S[U+1][1]-Y*S[U-1][1])/6],z[2]=[S[U+1][0]+(Y*S[U][0]-Y*S[U+2][0])/6,S[U+1][1]+(Y*S[U][1]-Y*S[U+2][1])/6],z[3]=[S[U+1][0],S[U+1][1]],this.drawingContext.bezierCurveTo(z[1][0],z[1][1],z[2][0],z[2][1],z[3][0],z[3][1]);W&&this.drawingContext.lineTo(S[U+1][0],S[U+1][1]),this._doFillStrokeClose(W)}}else if(k&&O===null){for(this._clipping||this.drawingContext.beginPath(),U=0;U<N;U++)S[U].isVert?S[U].moveTo?this.drawingContext.moveTo(S[U][0],S[U][1]):this.drawingContext.lineTo(S[U][0],S[U][1]):this.drawingContext.bezierCurveTo(S[U][0],S[U][1],S[U][2],S[U][3],S[U][4],S[U][5]);this._doFillStrokeClose(W)}else if(T&&O===null){for(this._clipping||this.drawingContext.beginPath(),U=0;U<N;U++)S[U].isVert?S[U].moveTo?this.drawingContext.moveTo(S[U][0],S[U][1]):this.drawingContext.lineTo(S[U][0],S[U][1]):this.drawingContext.quadraticCurveTo(S[U][0],S[U][1],S[U][2],S[U][3]);this._doFillStrokeClose(W)}else if(O===i.POINTS)for(U=0;U<N;U++)R=S[U],this._doStroke&&this._pInst.stroke(R[6]),this._pInst.point(R[0],R[1]);else if(O===i.LINES)for(U=0;U+1<N;U+=2)R=S[U],this._doStroke&&this._pInst.stroke(S[U+1][6]),this._pInst.line(R[0],R[1],S[U+1][0],S[U+1][1]);else if(O===i.TRIANGLES)for(U=0;U+2<N;U+=3)R=S[U],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0],R[1]),this.drawingContext.lineTo(S[U+1][0],S[U+1][1]),this.drawingContext.lineTo(S[U+2][0],S[U+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(S[U+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(S[U+2][6]),this.drawingContext.stroke());else if(O===i.TRIANGLE_STRIP)for(U=0;U+1<N;U++)R=S[U],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[U+1][0],S[U+1][1]),this.drawingContext.lineTo(R[0],R[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[U+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[U+1][5]),U+2<N&&(this.drawingContext.lineTo(S[U+2][0],S[U+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[U+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[U+2][5])),this._doFillStrokeClose(W);else if(O===i.TRIANGLE_FAN){if(2<N){for(this._clipping||this.drawingContext.beginPath(),U=2;U<N;U++)R=S[U],this.drawingContext.moveTo(S[0][0],S[0][1]),this.drawingContext.lineTo(S[U-1][0],S[U-1][1]),this.drawingContext.lineTo(R[0],R[1]),this.drawingContext.lineTo(S[0][0],S[0][1]),U<N-1&&(this._doFill&&R[5]!==S[U+1][5]||this._doStroke&&R[6]!==S[U+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(R[5]),this.drawingContext.fill(),this._pInst.fill(S[U+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(R[6]),this.drawingContext.stroke(),this._pInst.stroke(S[U+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(W)}}else if(O===i.QUADS)for(U=0;U+3<N;U+=4){for(R=S[U],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0],R[1]),B=1;B<4;B++)this.drawingContext.lineTo(S[U+B][0],S[U+B][1]);this.drawingContext.lineTo(R[0],R[1]),!this._clipping&&this._doFill&&this._pInst.fill(S[U+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[U+3][6]),this._doFillStrokeClose(W)}else if(O===i.QUAD_STRIP){if(3<N)for(U=0;U+1<N;U+=2)R=S[U],this._clipping||this.drawingContext.beginPath(),U+3<N?(this.drawingContext.moveTo(S[U+2][0],S[U+2][1]),this.drawingContext.lineTo(R[0],R[1]),this.drawingContext.lineTo(S[U+1][0],S[U+1][1]),this.drawingContext.lineTo(S[U+3][0],S[U+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(S[U+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[U+3][6])):(this.drawingContext.moveTo(R[0],R[1]),this.drawingContext.lineTo(S[U+1][0],S[U+1][1])),this._doFillStrokeClose(W)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0][0],S[0][1]),U=1;U<N;U++)(R=S[U]).isVert&&(R.moveTo?(W&&this.drawingContext.closePath(),this.drawingContext.moveTo(R[0],R[1])):this.drawingContext.lineTo(R[0],R[1]));this._doFillStrokeClose(W)}A=T=k=M=!1,W&&S.pop()}return this}},{key:"strokeCap",value:function(_){return _!==i.ROUND&&_!==i.SQUARE&&_!==i.PROJECT||(this.drawingContext.lineCap=_),this}},{key:"strokeJoin",value:function(_){return _!==i.ROUND&&_!==i.BEVEL&&_!==i.MITER||(this.drawingContext.lineJoin=_),this}},{key:"strokeWeight",value:function(_){return this.drawingContext.lineWidth=_===void 0||_===0?1e-4:_,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(_){_!==this._cachedFillStyle&&(this.drawingContext.fillStyle=_,this._cachedFillStyle=_)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(_){_!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=_,this._cachedStrokeStyle=_)}},{key:"bezier",value:function(_,S,M,k,T,A,O,R){return this._pInst.beginShape(),this._pInst.vertex(_,S),this._pInst.bezierVertex(M,k,T,A,O,R),this._pInst.endShape(),this}},{key:"curve",value:function(_,S,M,k,T,A,O,R){return this._pInst.beginShape(),this._pInst.curveVertex(_,S),this._pInst.curveVertex(M,k),this._pInst.curveVertex(T,A),this._pInst.curveVertex(O,R),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(_){_&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(_,S,M,k,T,A){this.drawingContext.transform(_,S,M,k,T,A)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(_){this.drawingContext.rotate(_)}},{key:"scale",value:function(_,S){return this.drawingContext.scale(_,S),this}},{key:"translate",value:function(_,S){return _ instanceof s.default.Vector&&(S=_.y,_=_.x),this.drawingContext.translate(_,S),this}},{key:"_renderText",value:function(_,S,M,k,T,A){if(!(k<A||T<=k))return _.push(),this._isOpenType()?this._textFont._renderPath(S,M,k,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(S,M,k),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(i._DEFAULT_TEXT_FILL),this.drawingContext.fillText(S,M,k))),_.pop(),_}},{key:"textWidth",value:function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):this.drawingContext.measureText(_).width}},{key:"_applyTextProperties",value:function(){var _,S=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),_=this._textFont,this._isOpenType()&&(_=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(_||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===i.CENTER?this.drawingContext.textBaseline=i._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,S}},{key:"push",value:function(){return this.drawingContext.save(),r(a(w.prototype),"push",this).call(this)}},{key:"pop",value:function(_){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r(a(w.prototype),"pop",this).call(this,_)}}])&&h(g.prototype,m),w}(s.default.Renderer),y=(d.prototype.text=function(m,g,b,M,_){M!==void 0&&this.drawingContext.textBaseline===i.BASELINE&&(S=!0,this.drawingContext.textBaseline=i.TOP);var S,M=s.default.Renderer.prototype.text.apply(this,arguments);return S&&(this.drawingContext.textBaseline=i.BASELINE),M},s.default.Renderer2D=d,s.default.Renderer2D);E.default=y},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var f=(t=t("./main"))&&t.__esModule?t:{default:t};f.default.prototype._promisePreloads=[];function u(){return{}}var s=!(f.default.prototype.registerPromisePreload=function(i){f.default.prototype._promisePreloads.push(i)});f.default.prototype._setupPromisePreloads=function(){var i=!0,p=!1,h=void 0;try{for(var r,n=this._promisePreloads[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){var o=r.value,a=this,c=o.method,d=o.addCallbacks,y=o.legacyPreloadSetup,m=o.target||this,g=m[c].bind(m);if(m===f.default.prototype){if(s)continue;a=null,g=m[c]}m[c]=this._wrapPromisePreload(a,g,d),y&&(m[y.method]=this._legacyPreloadGenerator(a,y,m[c]))}}catch(b){p=!0,h=b}finally{try{i||n.return==null||n.return()}finally{if(p)throw h}}s=!0},f.default.prototype._wrapPromisePreload=function(i,p,h){var r=function(){for(var n=this,o=(this._incrementPreload(),null),a=null,c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];if(h)for(var m=d.length-1;0<=m&&!a&&typeof d[m]=="function";m--)a=o,o=d.pop();var g=Promise.resolve(p.apply(this,d));return o&&g.then(o),a&&g.catch(a),g.then(function(){return n._decrementPreload()}),g};return r=i?r.bind(i):r},f.default.prototype._legacyPreloadGenerator=function(i,n,h){var r=n.createBaseObject||u,n=function(){var o=this;this._incrementPreload();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];var y=r.apply(this,c);return h.apply(this,c).then(function(m){Object.assign(y,m),o._decrementPreload()}),y};return n=i?n.bind(i):n}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(r=t("./main"))&&r.__esModule?r:{default:r},s=function(n){if(n&&n.__esModule)return n;if(n===null||p(n)!=="object"&&typeof n!="function")return{default:n};var o=i();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("./constants"));function i(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,i=function(){return n},n)}function p(n){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var h="defaultCanvas0",r=(u.default.prototype.createCanvas=function(n,o,a,c){var d,y,m;if(u.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(a=s.P2D,c=arguments[2]):d=a||s.P2D,c)(m=document.getElementById(h))&&m.parentNode.removeChild(m),m=c,this._defaultGraphicsCreated=!1;else{if(d===s.WEBGL)(m=document.getElementById(h))&&(m.parentNode.removeChild(m),y=this._renderer,this._elements=this._elements.filter(function(b){return b!==y})),(m=document.createElement("canvas")).id=h,m.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)m=this.canvas;else{m=c||document.createElement("canvas");for(var g=0;document.getElementById("defaultCanvas".concat(g));)g++;h="defaultCanvas".concat(g),m.id=h,m.classList.add("p5Canvas")}this._setupDone||(m.dataset.hidden=!0,m.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(a=document.createElement("main"),document.body.appendChild(a)),document.getElementsByTagName("main")[0])).appendChild(m)}return d===s.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(m,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(m,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(n,o),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(n,o,a){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,d,y={};for(c in this.drawingContext){var m=this.drawingContext[c];p(m)!=="object"&&typeof m!="function"&&(y[c]=m)}for(d in this.width=n,this.height=o,this._renderer.resize(n,o),y)try{this.drawingContext[d]=y[d]}catch{}a||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(n,o){for(var a=arguments.length,c=new Array(2<a?a-2:0),d=2;d<a;d++)c[d-2]=arguments[d];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=s.P2D),u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(n,o,c[0],this,c[1])},u.default.prototype.createFramebuffer=function(n){return new u.default.Framebuffer(this,n)},u.default.prototype.blendMode=function(n){u.default._validateParameters("blendMode",arguments),n===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),n=s.BLEND),this._renderer.blendMode(n)},u.default);E.default=r},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=r(t("../main")),i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=h();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../constants")),p=r(t("../helpers"));function h(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,h=function(){return o},o)}function r(o){return o&&o.__esModule?o:{default:o}}function n(o){return function(a){if(Array.isArray(a)){for(var c=0,d=new Array(a.length);c<a.length;c++)d[c]=a[c];return d}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(o,a,c,d,y){var m;return o-=i.TWO_PI*Math.floor(o/i.TWO_PI),a-=i.TWO_PI*Math.floor(a/i.TWO_PI),m=Math.min(Math.abs(o-a),i.TWO_PI-Math.abs(o-a)),y&&(o=o<=i.HALF_PI?Math.atan(c/d*Math.tan(o)):o>i.HALF_PI&&o<=3*i.HALF_PI?Math.atan(c/d*Math.tan(o))+i.PI:Math.atan(c/d*Math.tan(o))+i.TWO_PI,a=a<=i.HALF_PI?Math.atan(c/d*Math.tan(a)):a>i.HALF_PI&&a<=3*i.HALF_PI?Math.atan(c/d*Math.tan(a))+i.PI:Math.atan(c/d*Math.tan(a))+i.TWO_PI),a<o&&(a+=i.TWO_PI),{start:o,stop:a,correspondToSamePoint:m<1e-5}},s.default.prototype.arc=function(o,a,c,d,y,m,g,b){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&y!==m&&(y=this._toRadians(y),m=this._toRadians(m),c=Math.abs(c),d=Math.abs(d),o=p.default.modeAdjust(o,a,c,d,this._renderer._ellipseMode),(a=this._normalizeArcAngles(y,m,o.w,o.h,!0)).correspondToSamePoint?this._renderer.ellipse([o.x,o.y,o.w,o.h,b]):(this._renderer.arc(o.x,o.y,o.w,o.h,a.start,a.stop,g,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[o.x,o.y,o.w,o.h,a.start,a.stop,g]))),this},s.default.prototype.ellipse=function(o,a,c,d,y){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var o=Array.prototype.slice.call(arguments,0,2);return o.push(arguments[2]),o.push(arguments[2]),this._renderEllipse.apply(this,n(o))},s.default.prototype._renderEllipse=function(o,a,c,d,y){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),d===void 0?d=c:d<0&&(d=Math.abs(d)),o=p.default.modeAdjust(o,a,c,d,this._renderer._ellipseMode),this._renderer.ellipse([o.x,o.y,o.w,o.h,y]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[o.x,o.y,o.w,o.h])),this},s.default.prototype.line=function(){for(var o,a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return s.default._validateParameters("line",c),this._renderer._doStroke&&(o=this._renderer).line.apply(o,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},s.default.prototype.point=function(){for(var o,a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return s.default._validateParameters("point",c),this._renderer._doStroke&&(c.length===1&&c[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((o=this._renderer).point.apply(o,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},s.default.prototype.quad=function(){for(var o,a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return s.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((o=this._renderer).quad.apply(o,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},s.default.prototype.rect=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s.default._validateParameters("rect",a),this._renderRect.apply(this,a)},s.default.prototype.square=function(o,a,c,d,y,m,g){return s.default._validateParameters("square",arguments),this._renderRect.call(this,o,a,c,c,d,y,m,g)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var o=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),a=[o.x,o.y,o.w,o.h],c=4;c<arguments.length;c++)a[c]=arguments[c];this._renderer.rect(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[o.x,o.y,o.w,o.h])}return this},s.default.prototype.triangle=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return s.default._validateParameters("triangle",a),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(a),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",a),this},t=s.default,E.default=t},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype.ellipseMode=function(r){return s.default._validateParameters("ellipseMode",arguments),r!==i.CORNER&&r!==i.CORNERS&&r!==i.RADIUS&&r!==i.CENTER||(this._renderer._ellipseMode=r),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(r){return s.default._validateParameters("rectMode",arguments),r!==i.CORNER&&r!==i.CORNERS&&r!==i.RADIUS&&r!==i.CENTER||(this._renderer._rectMode=r),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(r){return s.default._validateParameters("strokeCap",arguments),r!==i.ROUND&&r!==i.SQUARE&&r!==i.PROJECT||this._renderer.strokeCap(r),this},s.default.prototype.strokeJoin=function(r){return s.default._validateParameters("strokeJoin",arguments),r!==i.ROUND&&r!==i.BEVEL&&r!==i.MITER||this._renderer.strokeJoin(r),this},s.default.prototype.strokeWeight=function(r){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(r),this};var h=s.default;E.default=h},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var s,i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,p),this},f.default.prototype.bezierDetail=function(s){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},f.default.prototype.bezierPoint=function(s,i,p,h,r){f.default._validateParameters("bezierPoint",arguments);var n=1-r;return Math.pow(n,3)*s+3*Math.pow(n,2)*r*i+3*n*Math.pow(r,2)*p+Math.pow(r,3)*h},f.default.prototype.bezierTangent=function(s,i,p,h,r){f.default._validateParameters("bezierTangent",arguments);var n=1-r;return 3*h*Math.pow(r,2)-3*p*Math.pow(r,2)+6*p*n*r-6*i*n*r+3*i*Math.pow(n,2)-3*s*Math.pow(n,2)},f.default.prototype.curve=function(){for(var s,i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("curve",p),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,p),this},f.default.prototype.curveDetail=function(s){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},f.default.prototype.curveTightness=function(s){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},f.default.prototype.curvePoint=function(s,i,p,h,r){f.default._validateParameters("curvePoint",arguments);var n=this._renderer._curveTightness,o=r*r*r,a=r*r;return s*((n-1)/2*o+(1-n)*a+(n-1)/2*r)+i*((n+3)/2*o+(-5-n)/2*a+1)+p*((-3-n)/2*o+(n+2)*a+(1-n)/2*r)+h*((1-n)/2*o+(n-1)/2*a)},f.default.prototype.curveTangent=function(s,i,p,h,a){f.default._validateParameters("curveTangent",arguments);var n=this._renderer._curveTightness,o=a*a*3,a=2*a;return s*((n-1)/2*o+(1-n)*a+(n-1)/2)+i*((n+3)/2*o+(-5-n)/2*a)+p*((-3-n)/2*o+(n+2)*a+(1-n)/2)+h*((1-n)/2*o+(n-1)/2*a)};var u=f.default;E.default=u},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(t,V,E){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function u(g){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(m=t("../main"))&&m.__esModule?m:{default:m},i=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var b=p();if(b&&b.has(g))return b.get(g);var w,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var M;Object.prototype.hasOwnProperty.call(g,w)&&((M=S?Object.getOwnPropertyDescriptor(g,w):null)&&(M.get||M.set)?Object.defineProperty(_,w,M):_[w]=g[w])}return _.default=g,b&&b.set(g,_),_}(t("../constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}var h=null,r=[],n=[],o=!1,a=!1,c=!1,d=!1,y=!0,m=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(n=[],d=!0),this},s.default.prototype.beginShape=function(g){var b;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(b=this._renderer).beginShape.apply(b,arguments):(h=g===i.POINTS||g===i.LINES||g===i.TRIANGLES||g===i.TRIANGLE_FAN||g===i.TRIANGLE_STRIP||g===i.QUADS||g===i.QUAD_STRIP?g:null,r=[],n=[]),this},s.default.prototype.bezierVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];if(s.default._validateParameters("bezierVertex",w),this._renderer.isP3D)(g=this._renderer).bezierVertex.apply(g,w);else if(r.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var S=[],M=0;M<w.length;M++)S[M]=w[M];S.isVert=!1,(d?n:r).push(S)}return this},s.default.prototype.curveVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];return s.default._validateParameters("curveVertex",w),this._renderer.isP3D?(g=this._renderer).curveVertex.apply(g,w):(a=!0,this.vertex(w[0],w[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var g=n[0].slice();g.isVert=n[0].isVert,g.moveTo=!1,n.push(g),y&&(r.push(r[0]),y=!1);for(var b=0;b<n.length;b++)r.push(n[b])}return this},s.default.prototype.endShape=function(g){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),b<1&&(console.log(" p5.js says: You can not have less than one instance"),b=1),this._renderer.isP3D)this._renderer.endShape(g,a,o,c,d,h,b);else{if(b!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),r.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;b=g===i.CLOSE,b&&!d&&r.push(r[0]),this._renderer.endShape(g,r,a,o,c,d,h),y=!(d=c=o=a=!1),b&&r.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var g,b=arguments.length,w=new Array(b),_=0;_<b;_++)w[_]=arguments[_];if(s.default._validateParameters("quadraticVertex",w),this._renderer.isP3D)(g=this._renderer).quadraticVertex.apply(g,w);else{if(this._contourInited)return(g={}).x=w[0],g.y=w[1],g.x3=w[2],g.y3=w[3],g.type=i.QUADRATIC,this._contourVertices.push(g),this;if(0<r.length){c=!0;for(var S=[],M=0;M<w.length;M++)S[M]=w[M];S.isVert=!1,(d?n:r).push(S)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(g,b,w,_,S){var M;return this._renderer.isP3D?(M=this._renderer).vertex.apply(M,arguments):((M=[]).isVert=!0,M[0]=g,M[1]=b,M[2]=0,M[3]=0,M[4]=0,M[5]=this._renderer._getFill(),M[6]=this._renderer._getStroke(),w&&(M.moveTo=w),(d?(n.length===0&&(M.moveTo=!0),n):r).push(M)),this},s.default.prototype.normal=function(g,b,w){var _;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(_=this._renderer).normal.apply(_,arguments),this},s.default);E.default=m},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return function(n){if(Array.isArray(n)){for(var o=0,a=new Array(n.length);o<n.length;o++)a[o]=n[o];return a}}(r)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(r){return(s=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}var i,p,h;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r,n){window.setTimeout(r,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(i=Object.keys,t=Object.defineProperty,p=typeof Symbol=="function"&&s(Symbol())==="symbol",h=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(r,n){if(r==null)throw new TypeError("target must be an object");for(var o,a=Object(r),c=1;c<arguments.length;++c){var d=Object(arguments[c]),y=i(d);for(p&&Object.getOwnPropertySymbols&&y.push.apply(y,u(Object.getOwnPropertySymbols(d).filter(function(m){return function(g){return h.call(m,g)}}(d)))),o=0;o<y.length;++o)a[y[o]]=d[y[o]]}return a},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(t,V,E){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var u=parseInt(f),s=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var i=0;i<u;i++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,E.default=t},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("./main"))&&t.__esModule?t:{default:t};function u(s){return function(i){if(Array.isArray(i)){for(var p=0,h=new Array(i.length);p<i.length;p++)h[p]=i[p];return h}}(s)||function(i){if(Symbol.iterator in Object(i)||Object.prototype.toString.call(i)==="[object Arguments]")return Array.from(i)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,u(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(s,i){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),i),this},f.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},f.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},f.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},f.default.prototype.scale=function(s,i,p){var h;return f.default._validateParameters("scale",arguments),s instanceof f.default.Vector?(s=(h=s).x,i=h.y,p=h.z):s instanceof Array&&(s=(h=s)[0],i=h[1],p=h[2]||1),isNaN(i)?i=p=s:isNaN(p)&&(p=1),this._renderer.scale.call(this._renderer,s,i,p),this},f.default.prototype.shearX=function(s){return f.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},f.default.prototype.shearY=function(s){return f.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},f.default.prototype.translate=function(s,i,p){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,i,p):this._renderer.translate(s,i),this},t=f.default,E.default=t},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(t,V,E){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(p){return function(h){if(Array.isArray(h)){for(var r=0,n=new Array(h.length);r<h.length;r++)n[r]=h[r];return n}}(p)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(p){return(i=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(p)}u.default.prototype.storeItem=function(p,h){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),h===void 0&&console.log("You cannot store undefined variables using storeItem().");var r=i(h);switch(r){case"number":case"boolean":h=h.toString();break;case"object":h instanceof u.default.Color?r="p5.Color":h instanceof u.default.Vector&&(r="p5.Vector",h=[h.x,h.y,h.z]),h=JSON.stringify(h)}localStorage.setItem(p,h),p="".concat(p,"p5TypeID"),localStorage.setItem(p,r)},u.default.prototype.getItem=function(p){var h=localStorage.getItem(p),r=localStorage.getItem("".concat(p,"p5TypeID"));if(r===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(h!==null)switch(r){case"number":h=parseFloat(h);break;case"boolean":h=h==="true";break;case"object":h=JSON.parse(h);break;case"p5.Color":h=JSON.parse(h),h=this.color.apply(this,s(h.levels));break;case"p5.Vector":h=JSON.parse(h),h=this.createVector.apply(this,s(h))}return h},u.default.prototype.clearStorage=function(){localStorage.clear()},u.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(t,V,E){function f(c){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function u(c){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(d){return f(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":f(d)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),d&&p(c,d)}function p(c,d){return(p=Object.setPrototypeOf||function(y,m){return y.__proto__=m,y})(c,d)}function h(c){return function(){var d,y=r(c),y=(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(d=r(this).constructor,Reflect.construct(y,arguments,d)):y.apply(this,arguments),this);if(!d||u(d)!=="object"&&typeof d!="function"){if(y!==void 0)return y;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function r(c){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}function n(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function o(c,d){for(var y=0;y<d.length;y++){var m=d[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}function a(c,d,y){d&&o(c.prototype,d),y&&o(c,y)}s.default.prototype.createStringDict=function(c,d){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(c,d)},s.default.prototype.createNumberDict=function(c,d){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(c,d)},s.default.TypedDict=function(){function c(d,y){return n(this,c),d instanceof Object?this.data=d:(this.data={},this.data[d]=y),this}return a(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(d){return this.data.hasOwnProperty(d)}},{key:"get",value:function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))}},{key:"set",value:function(d,y){this._validate(y)?this.data[d]=y:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(d){for(var y in d)this.set(y,d[y])}},{key:"create",value:function(d,y){d instanceof Object&&y===void 0?this._addObj(d):d!==void 0?this.set(d,y):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]}},{key:"print",value:function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))}},{key:"saveTable",value:function(d){var y,m="";for(y in this.data)m+="".concat(y,",").concat(this.data[y],`
`);var g=new Blob([m],{type:"text/csv"});s.default.prototype.downloadFile(g,d||"mycsv","csv")}},{key:"saveJSON",value:function(d,y){s.default.prototype.saveJSON(this.data,d,y)}},{key:"_validate",value:function(d){return!0}}]),c}(),s.default.StringDict=function(){i(d,s.default.TypedDict);var c=h(d);function d(){n(this,d);for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return c.call.apply(c,[this].concat(m))}return a(d,[{key:"_validate",value:function(y){return typeof y=="string"}}]),d}(),s.default.NumberDict=function(){i(d,s.default.TypedDict);var c=h(d);function d(){n(this,d);for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return c.call.apply(c,[this].concat(m))}return a(d,[{key:"_validate",value:function(y){return typeof y=="number"}},{key:"add",value:function(y,m){this.data.hasOwnProperty(y)?this.data[y]+=m:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"sub",value:function(y,m){this.add(y,-m)}},{key:"mult",value:function(y,m){this.data.hasOwnProperty(y)?this.data[y]*=m:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"div",value:function(y,m){this.data.hasOwnProperty(y)?this.data[y]/=m:console.log("The key - ".concat(y," does not exist in this dictionary."))}},{key:"_valueTest",value:function(y){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var m,g=this.data[Object.keys(this.data)[0]];for(m in this.data)this.data[m]*y<g*y&&(g=this.data[m]);return g}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(y){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var m=Object.keys(this.data)[0],g=1;g<Object.keys(this.data).length;g++)Object.keys(this.data)[g]*y<m*y&&(m=Object.keys(this.data)[g]);return m}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),d}(),t=s.default.TypedDict,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(t,V,E){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(m,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}function i(m,g,b){g&&s(m.prototype,g),b&&s(m,b)}function p(m,g){return(p=Object.setPrototypeOf||function(b,w){return b.__proto__=w,b})(m,g)}function h(m){return function(){var g,b,w=n(m);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=n(this).constructor,Reflect.construct(w,arguments,g)):w.apply(this,arguments),w=this,!(b=g)||a(b)!=="object"&&typeof b!="function"?r(w):b}}function r(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function n(m){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}function o(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function a(m){return(a=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(g){return f(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(m)}function c(m,g,b){return(g._userNode||document.body).appendChild(m),b=new(b?u.default.MediaElement:u.default.Element)(m,g),g._elements.push(b),b}function d(m,M,b,w){var _=document.createElement(M),S=(typeof(b=b||"")=="string"&&(b=[b]),!0),M=!1,k=void 0;try{for(var T,A=b[Symbol.iterator]();!(S=(T=A.next()).done);S=!0){var O=T.value,R=document.createElement("source");R.setAttribute("src",O),_.appendChild(R)}}catch(B){M=!0,k=B}finally{try{S||A.return==null||A.return()}finally{if(M)throw k}}typeof w=="function"&&_.addEventListener("canplaythrough",function B(){w(),_.removeEventListener("canplaythrough",B)});var U=c(_,m,!0);return U.loadedmetadata=!1,_.addEventListener("loadedmetadata",function(){U.width=_.videoWidth,U.height=_.videoHeight,U.elt.width===0&&(U.elt.width=_.videoWidth),U.elt.height===0&&(U.elt.height=_.videoHeight),U.presetPlaybackRate&&(U.elt.playbackRate=U.presetPlaybackRate,delete U.presetPlaybackRate),U.loadedmetadata=!0}),U}u.default.prototype.select=function(m,g){return u.default._validateParameters("select",arguments),g=this._getContainer(g).querySelector(m),g?this._wrapElement(g):null},u.default.prototype.selectAll=function(m,g){u.default._validateParameters("selectAll",arguments);var b=[],w=this._getContainer(g).querySelectorAll(m);if(w)for(var _=0;_<w.length;_++){var S=this._wrapElement(w[_]);b.push(S)}return b},u.default.prototype._getContainer=function(m){var g=document;return typeof m=="string"?g=document.querySelector(m)||document:m instanceof u.default.Element?g=m.elt:m instanceof HTMLElement&&(g=m),g},u.default.prototype._wrapElement=function(m){var g,b=Array.prototype.slice.call(m.children);return m.tagName==="INPUT"&&m.type==="checkbox"?((g=new u.default.Element(m,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},g):m.tagName==="VIDEO"||m.tagName==="AUDIO"?new u.default.MediaElement(m,this):m.tagName==="SELECT"?this.createSelect(new u.default.Element(m,this)):0<b.length&&b.every(function(w){return w.tagName==="INPUT"||w.tagName==="LABEL"})?this.createRadio(new u.default.Element(m,this)):new u.default.Element(m,this)},u.default.prototype.removeElements=function(m){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(g){return!(g.elt instanceof HTMLCanvasElement)}).map(function(g){return g.remove()})},u.default.Element.prototype.changed=function(m){return u.default.Element._adjustListener("change",m,this),this},u.default.Element.prototype.input=function(m){return u.default.Element._adjustListener("input",m,this),this},u.default.prototype.createDiv=function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",g=document.createElement("div");return g.innerHTML=m,c(g,this)},u.default.prototype.createP=function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",g=document.createElement("p");return g.innerHTML=m,c(g,this)},u.default.prototype.createSpan=function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",g=document.createElement("span");return g.innerHTML=m,c(g,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var m,g=document.createElement("img"),b=arguments;return 1<b.length&&typeof b[1]=="string"&&(g.alt=b[1]),2<b.length&&typeof b[2]=="string"&&(g.crossOrigin=b[2]),g.src=b[0],m=c(g,this),g.addEventListener("load",function(){m.width=g.offsetWidth||g.width,m.height=g.offsetHeight||g.height;var w=b[b.length-1];typeof w=="function"&&w(m)}),m},u.default.prototype.createA=function(m,g,b){u.default._validateParameters("createA",arguments);var w=document.createElement("a");return w.href=m,w.innerHTML=g,b&&(w.target=b),c(w,this)},u.default.prototype.createSlider=function(m,g,b,w){u.default._validateParameters("createSlider",arguments);var _=document.createElement("input");return _.type="range",_.min=m,_.max=g,w===0?_.step=1e-18:w&&(_.step=w),typeof b=="number"&&(_.value=b),c(_,this)},u.default.prototype.createButton=function(m,g){u.default._validateParameters("createButton",arguments);var b=document.createElement("button");return b.innerHTML=m,g&&(b.value=g),c(b,this)},u.default.prototype.createCheckbox=function(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];u.default._validateParameters("createCheckbox",g);var w=document.createElement("div"),_=document.createElement("input"),S=(_.type="checkbox",document.createElement("label")),M=(S.appendChild(_),w.appendChild(S),c(w,this));return M.checked=function(){var k=M.elt.firstElementChild.getElementsByTagName("input")[0];if(k){if(arguments.length===0)return k.checked;k.checked=!(arguments.length<=0||!arguments[0])}return M},this.value=function(k){return M.value=k,this},g[0]&&(M.value(g[0]),(w=document.createElement("span")).innerHTML=g[0],S.appendChild(w)),g[1]&&(_.checked=!0),M},u.default.prototype.createSelect=function(){for(var m,g=arguments.length,b=new Array(g),w=0;w<g;w++)b[w]=arguments[w];u.default._validateParameters("createSelect",b);var _,S=b[0];return S instanceof u.default.Element&&S.elt instanceof HTMLSelectElement?this.elt=(m=S).elt:S instanceof HTMLSelectElement?(m=c(S,this),this.elt=S):(_=document.createElement("select"),S&&typeof S=="boolean"&&_.setAttribute("multiple","true"),m=c(_,this),this.elt=_),m.option=function(M,k){var T;if(M!==void 0){for(var A,O=0;O<this.elt.length;O+=1)if(this.elt[O].textContent===M){T=O;break}T!==void 0?k===!1?this.elt.remove(T):this.elt[T].value=k:((A=document.createElement("option")).textContent=M,A.value=k===void 0?M:k,this.elt.appendChild(A),this._pInst._elements.push(A))}},m.selected=function(M){if(M!==void 0){for(var k=0;k<this.elt.length;k+=1)this.elt[k].value.toString()===M.toString()&&(this.elt.selectedIndex=k);return this}if(this.elt.getAttribute("multiple")){var T=[],A=!0,O=!1,R=void 0;try{for(var U,B=this.elt.selectedOptions[Symbol.iterator]();!(A=(U=B.next()).done);A=!0){var W=U.value;T.push(W.value)}}catch(N){O=!0,R=N}finally{try{A||B.return==null||B.return()}finally{if(O)throw R}}return T}return this.elt.value},m.disable=function(M){if(typeof M=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===M&&(this.elt[k].disabled=!0,this.elt[k].selected=!1);else this.elt.disabled=!0;return this},m.enable=function(M){if(typeof M=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===M&&(this.elt[k].disabled=!1,this.elt[k].selected=!1);else{this.elt.disabled=!1;for(var T=0;T<this.elt.length;T++)this.elt[T].disabled=!1,this.elt[T].selected=!1}return this},m},u.default.prototype.createRadio=function(){function m(M){return M instanceof HTMLInputElement&&M.type==="radio"}function g(M){return M instanceof HTMLLabelElement}var b,w,_,S=arguments.length<=0?void 0:arguments[0];return S instanceof u.default.Element&&(S.elt instanceof HTMLDivElement||S.elt instanceof HTMLSpanElement)?(b=S,this.elt=S.elt):S instanceof HTMLDivElement||S instanceof HTMLSpanElement?(b=c(S,this),w=this.elt=S,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(_=arguments.length<=1?void 0:arguments[1])):(typeof S=="string"&&(_=S),w=document.createElement("div"),b=c(w,this),this.elt=w),b._name=_||"radioOption",b._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(M){return m(M)||g(M)&&m(M.firstElementChild)}).map(function(M){return m(M)?M:M.firstElementChild})},b.option=function(M,k){var T,A,O,R=!0,U=!1,B=void 0;try{for(var W,N=b._getOptionsArray()[Symbol.iterator]();!(R=(W=N.next()).done);R=!0){var z=W.value;if(z.value===M){T=z;break}}}catch(Y){U=!0,B=Y}finally{try{R||N.return==null||N.return()}finally{if(U)throw B}}return T===void 0&&((T=document.createElement("input")).setAttribute("type","radio"),T.setAttribute("value",M)),T.setAttribute("name",b._name),g(T.parentElement)?A=T.parentElement:(A=document.createElement("label")).insertAdjacentElement("afterbegin",T),A.lastElementChild instanceof HTMLSpanElement?O=A.lastElementChild:(O=document.createElement("span"),T.insertAdjacentElement("afterend",O)),O.innerHTML=k===void 0?M:k,this.elt.appendChild(A),T},b.remove=function(M){var k=!0,T=!1,A=void 0;try{for(var O,R=b._getOptionsArray()[Symbol.iterator]();!(k=(O=R.next()).done);k=!0){var U=O.value;if(U.value===M)return void(g(U.parentElement)?U.parentElement:U).remove()}}catch(B){T=!0,A=B}finally{try{k||R.return==null||R.return()}finally{if(T)throw A}}},b.value=function(){var M="",k=!0,T=!1,A=void 0;try{for(var O,R=b._getOptionsArray()[Symbol.iterator]();!(k=(O=R.next()).done);k=!0){var U=O.value;if(U.checked){M=U.value;break}}}catch(B){T=!0,A=B}finally{try{k||R.return==null||R.return()}finally{if(T)throw A}}return M},b.selected=function(M){var k=null;if(M===void 0){var T=!0,A=!1,O=void 0;try{for(var R,U=b._getOptionsArray()[Symbol.iterator]();!(T=(R=U.next()).done);T=!0){var B=R.value;if(B.checked){k=B;break}}}catch(Z){A=!0,O=Z}finally{try{T||U.return==null||U.return()}finally{if(A)throw O}}}else{b._getOptionsArray().forEach(function(C){C.checked=!1,C.removeAttribute("checked")});var W=!0,A=!1,O=void 0;try{for(var N,z=b._getOptionsArray()[Symbol.iterator]();!(W=(N=z.next()).done);W=!0){var Y=N.value;Y.value===M&&(Y.setAttribute("checked",!0),Y.checked=!0,k=Y)}}catch(C){A=!0,O=C}finally{try{W||z.return==null||z.return()}finally{if(A)throw O}}}return k},b.disable=function(){var M=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],k=!0,T=!1,A=void 0;try{for(var O,R=b._getOptionsArray()[Symbol.iterator]();!(k=(O=R.next()).done);k=!0)O.value.setAttribute("disabled",M)}catch(U){T=!0,A=U}finally{try{k||R.return==null||R.return()}finally{if(T)throw A}}},b},u.default.prototype.createColorPicker=function(m){u.default._validateParameters("createColorPicker",arguments);var g=document.createElement("input");return g.type="color",m?m instanceof u.default.Color?g.value=m.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},g.value=u.default.prototype.color(m).toString("#rrggbb")):g.value="#000000",(g=c(g,this)).color=function(){return m&&(m.mode&&(u.default.prototype._colorMode=m.mode),m.maxes&&(u.default.prototype._colorMaxes=m.maxes)),u.default.prototype.color(this.elt.value)},g},u.default.prototype.createInput=function(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",b=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return b.setAttribute("value",m),b.setAttribute("type",g),c(b,this)},u.default.prototype.createFileInput=function(m){var g,b=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(g=document.createElement("input")).setAttribute("type","file"),b&&g.setAttribute("multiple",!0),g.addEventListener("change",function(w){var _=!0,S=!1,M=void 0;try{for(var k,T=w.target.files[Symbol.iterator]();!(_=(k=T.next()).done);_=!0){var A=k.value;u.default.File._load(A,m)}}catch(O){S=!0,M=O}finally{try{_||T.return==null||T.return()}finally{if(S)throw M}}},!1),c(g,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(m,g){return u.default._validateParameters("createVideo",arguments),d(this,"video",m,g)},u.default.prototype.createAudio=function(m,g){return u.default._validateParameters("createAudio",arguments),d(this,"audio",m,g)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(m){var g=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return g?new Promise(function(b,w){g.call(navigator,m,b,w)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];if(u.default._validateParameters("createCapture",g),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var w,_=!0,S=!0,M=0,k=g;M<k.length;M++){var T=k[M];T===u.default.prototype.VIDEO?S=!1:T===u.default.prototype.AUDIO?_=!1:a(T)==="object"?A=T:typeof T=="function"&&(w=T)}var A=A||{video:_,audio:S},O=document.createElement("video"),R=(O.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(A).then(function(U){try{"srcObject"in O?O.srcObject=U:O.src=window.URL.createObjectURL(U)}catch{O.src=U}},console.log),c(O,this,!0));return R.loadedmetadata=!1,O.addEventListener("loadedmetadata",function(){O.play(),O.width?(R.width=O.width,R.height=O.height):(R.width=R.elt.width=O.videoWidth,R.height=R.elt.height=O.videoHeight),R.loadedmetadata=!0,w&&w(O.srcObject)}),R},u.default.prototype.createElement=function(m,g){return u.default._validateParameters("createElement",arguments),m=document.createElement(m),g!==void 0&&(m.innerHTML=g),c(m,this)},u.default.Element.prototype.addClass=function(m){return this.elt.className?this.hasClass(m)||(this.elt.className=this.elt.className+" "+m):this.elt.className=m,this},u.default.Element.prototype.removeClass=function(m){return this.elt.classList.remove(m),this},u.default.Element.prototype.hasClass=function(m){return this.elt.classList.contains(m)},u.default.Element.prototype.toggleClass=function(m){return this.elt.classList.contains(m)?this.elt.classList.remove(m):this.elt.classList.add(m),this},u.default.Element.prototype.child=function(m){return m===void 0?this.elt.childNodes:(typeof m=="string"?(m[0]==="#"&&(m=m.substring(1)),m=document.getElementById(m)):m instanceof u.default.Element&&(m=m.elt),m instanceof HTMLElement&&this.elt.appendChild(m),this)},u.default.Element.prototype.center=function(m){var g=this.elt.style.display,b=this.elt.style.display==="none",w=this.parent().style.display==="none",_={x:this.elt.offsetLeft,y:this.elt.offsetTop},S=(b&&this.show(),w&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),M=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return m==="both"||m===void 0?this.position(S/2+this.parent().offsetLeft,M/2+this.parent().offsetTop):m==="horizontal"?this.position(S/2+this.parent().offsetLeft,_.y):m==="vertical"&&this.position(_.x,M/2+this.parent().offsetTop),this.style("display",g),b&&this.hide(),w&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var m="";return this.elt.style.transform&&(m=(m=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=m,this},u.default.Element.prototype._rotate=function(){var m="";return this.elt.style.transform&&(m=(m=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=m,this},u.default.Element.prototype.style=function(m,g){if((g=g instanceof u.default.Color?"rgba("+g.levels[0]+","+g.levels[1]+","+g.levels[2]+","+g.levels[3]/255+")":g)===void 0){if(m.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(m);for(var b=m.split(";"),w=0;w<b.length;w++){var _=b[w].split(":");_[0]&&_[1]&&(this.elt.style[_[0].trim()]=_[1].trim())}}else this.elt.style[m]=g,m!=="width"&&m!=="height"&&m!=="left"&&m!=="top"||(g=window.getComputedStyle(this.elt).getPropertyValue(m).replace(/[^\d.]/g,""),this[m]=Math.round(parseFloat(g,10)));return this},u.default.Element.prototype.attribute=function(m,g){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return g===void 0?this.elt.getAttribute(m):(this.elt.setAttribute(m,g),this);if(g===void 0)return this.elt.firstChild.getAttribute(m);for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].setAttribute(m,g)},u.default.Element.prototype.removeAttribute=function(m){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var g=0;g<this.elt.childNodes.length;g++)this.elt.childNodes[g].removeAttribute(m);return this.elt.removeAttribute(m),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(m,g){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var b=m,w=g,_=u.default.prototype.AUTO;if(b!==_||w!==_){if(b===_?b=g*this.width/this.height:w===_&&(w=m*this.height/this.width),this.elt instanceof HTMLCanvasElement){var S,M={},k=this.elt.getContext("2d");for(S in k)M[S]=k[S];for(S in this.elt.setAttribute("width",b*this._pInst._pixelDensity),this.elt.setAttribute("height",w*this._pInst._pixelDensity),this.elt.style.width=b+"px",this.elt.style.height=w+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),M)this.elt.getContext("2d")[S]=M[S]}else this.elt.style.width=b+"px",this.elt.style.height=w+"px",this.elt.width=b,this.elt.height=w;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(g=this.elt.srcObject)!==null&&g.getTracks().forEach(function(b){b.stop()}));var m,g=this._pInst._elements.indexOf(this);for(m in g!==-1&&this._pInst._elements.splice(g,1),this._events)this.elt.removeEventListener(m,this._events[m]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(m,g){var b;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",b=function(w){w.preventDefault()}),this.elt.addEventListener("dragleave",b)),u.default.Element._attachListener("drop",function(_){_.preventDefault(),typeof g=="function"&&g.call(this,_);var _=_.dataTransfer.files,S=!0,M=!1,k=void 0;try{for(var T,A=_[Symbol.iterator]();!(S=(T=A.next()).done);S=!0){var O=T.value;u.default.File._load(O,m)}}catch(R){M=!0,k=R}finally{try{S||A.return==null||A.return()}finally{if(M)throw k}}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.Element.prototype.draggable=function(m){var g,b="ontouchstart"in window,w=0,_=0,S=0,M=0,k=b?"touchend":"mouseup",T=b?"touchmove":"mousemove";function A(R){var U;R=R||window.event,M=b?(U=R.changedTouches,w=S-parseInt(U[0].clientX),_=M-parseInt(U[0].clientY),S=parseInt(U[0].clientX),parseInt(U[0].clientY)):(w=S-parseInt(R.clientX),_=M-parseInt(R.clientY),S=parseInt(R.clientX),parseInt(R.clientY)),m.style.left=m.offsetLeft-w+"px",m.style.top=m.offsetTop-_+"px"}function O(){document.removeEventListener(k,O,!1),document.removeEventListener(T,A,!1)}return m===void 0?g=m=this.elt:m!==this.elt&&m.elt!==this.elt&&(m=m.elt,g=this.elt),g.addEventListener(b?"touchstart":"mousedown",function(R){{var U;R=R||window.event,M=b?(U=R.changedTouches,S=parseInt(U[0].clientX),parseInt(U[0].clientY)):(S=parseInt(R.clientX),parseInt(R.clientY))}return document.addEventListener(k,O,!1),document.addEventListener(T,A,!1),!1},!1),g.style.cursor="move",this};function y(m,g,b,w){o(this,y),this.callback=m,this.time=g,this.id=b,this.val=w}t=function(m){var g=w;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),m&&p(g,m);var b=h(w);function w(_,S){o(this,w);var M=r(S=b.call(this,_,S));return S.elt.crossOrigin="anonymous",S._prevTime=0,S._cueIDCounter=0,S._cues=[],S.pixels=[],S._pixelsState=r(S),S._pixelDensity=1,S._modified=!1,S._frameOnCanvas=-1,Object.defineProperty(M,"src",{get:function(){var k=M.elt.children[0].src,T=M.elt.src===window.location.href?"":M.elt.src;return k===window.location.href?T:k},set:function(k){for(var T=0;T<M.elt.children.length;T++)M.elt.removeChild(M.elt.children[T]);var A=document.createElement("source");A.src=k,_.appendChild(A),M.elt.src=k,M.modified=!0}}),M._onended=function(){},M.elt.onended=function(){M._onended(M)},S}return i(w,[{key:"play",value:function(){var _;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(_=this.elt.play())&&_.catch&&_.catch(function(S){S.name==="NotAllowedError"?console.error(S):console.error("Media play method encountered an unexpected error",S)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var _=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(_)},{passive:!0,once:!0})}},{key:"autoplay",value:function(_){var S=this,M=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",_),_&&!M&&(_=function(){return S._setupAutoplayFailDetection()},this.elt.readyState===4?_():this.elt.addEventListener("canplay",_,{passive:!0,once:!0})),this}},{key:"volume",value:function(_){if(_===void 0)return this.elt.volume;this.elt.volume=_}},{key:"speed",value:function(_){if(_===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=_:this.presetPlaybackRate=_}},{key:"time",value:function(_){return _===void 0?this.elt.currentTime:(this.elt.currentTime=_,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var _=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&_&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var _=arguments.length,S=new Array(_),M=0;M<_;M++)S[M]=arguments[M];return u.default.Renderer2D.prototype.loadPixels.apply(this,S)}},{key:"updatePixels",value:function(_,S,M,k){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,_,S,M,k)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var _=arguments.length,S=new Array(_),M=0;M<_;M++)S[M]=arguments[M];return u.default.Renderer2D.prototype.get.apply(this,S)}},{key:"_getPixel",value:function(){this.loadPixels();for(var _=arguments.length,S=new Array(_),M=0;M<_;M++)S[M]=arguments[M];return u.default.Renderer2D.prototype._getPixel.apply(this,S)}},{key:"set",value:function(_,S,M){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,_,S,M),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var _=arguments.length,S=new Array(_),M=0;M<_;M++)S[M]=arguments[M];u.default.prototype.copy.apply(this,S)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var _=arguments.length,S=new Array(_),M=0;M<_;M++)S[M]=arguments[M];u.default.Image.prototype.mask.apply(this,S)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(_){this._modified=_}},{key:"onended",value:function(_){return this._onended=_,this}},{key:"connect",value:function(_){var S,M;if(typeof u.default.prototype.getAudioContext=="function")S=u.default.prototype.getAudioContext(),M=u.default.soundOut.input;else try{M=(S=_.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=S.createMediaElementSource(this.elt),this.audioSourceNode.connect(M)),_?_.input?this.audioSourceNode.connect(_.input):this.audioSourceNode.connect(_):this.audioSourceNode.connect(M)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(_,T,M){var k=this._cueIDCounter++,T=new y(T,_,k,M);return this._cues.push(T),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),k}},{key:"removeCue",value:function(_){for(var S=0;S<this._cues.length;S++)this._cues[S].id===_&&(console.log(_),this._cues.splice(S,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var _=this.time(),S=0;S<this._cues.length;S++){var M=this._cues[S].time,k=this._cues[S].val;this._prevTime<M&&M<=_&&this._cues[S].callback(k)}this._prevTime=_}}]),w}(u.default.Element),u.default.MediaElement=t,t=function(){function m(g,b){o(this,m),this.file=g,this._pInst=b,b=g.type.split("/"),this.type=b[0],this.subtype=b[1],this.name=g.name,this.size=g.size,this.data=void 0}return i(m,null,[{key:"_createLoader",value:function(g,b){var w=new FileReader;return w.onload=function(_){var S,M=new u.default.File(g);M.file.type==="application/json"?M.data=JSON.parse(_.target.result):M.file.type==="text/xml"?(S=new DOMParser().parseFromString(_.target.result,"text/xml"),M.data=new u.default.XML(S.documentElement)):M.data=_.target.result,b(M)},w}},{key:"_load",value:function(g,b){var w;/^text\//.test(g.type)||g.type==="application/json"?u.default.File._createLoader(g,b).readAsText(g):/^(video|audio)\//.test(g.type)?((w=new u.default.File(g)).data=URL.createObjectURL(g),b(w)):u.default.File._createLoader(g,b).readAsDataURL(g)}}]),m}(),u.default.File=t,t=u.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(t,V,E){function f(g){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function u(g){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(m=t("../core/main"))&&m.__esModule?m:{default:m},i=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var b=p();if(b&&b.has(g))return b.get(g);var w,_={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var M;Object.prototype.hasOwnProperty.call(g,w)&&((M=S?Object.getOwnPropertyDescriptor(g,w):null)&&(M.get||M.set)?Object.defineProperty(_,w,M):_[w]=g[w])}return _.default=g,b&&b.set(g,_),_}(t("../core/constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var h=s.default.prototype.pRotationZ=0,r=0,n=0,o="clockwise",a="clockwise",c="clockwise",d=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),y=30,m=(s.default.prototype.setMoveThreshold=function(g){s.default._validateParameters("setMoveThreshold",arguments),d=g},s.default.prototype.setShakeThreshold=function(g){s.default._validateParameters("setShakeThreshold",arguments),y=g},s.default.prototype._ondeviceorientation=function(g){this._updatePRotations(),this._angleMode===i.radians&&(g.beta=g.beta*(_PI/180),g.gamma=g.gamma*(_PI/180),g.alpha=g.alpha*(_PI/180)),this._setProperty("rotationX",g.beta),this._setProperty("rotationY",g.gamma),this._setProperty("rotationZ",g.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(g){this._updatePAccelerations(),this._setProperty("accelerationX",2*g.acceleration.x),this._setProperty("accelerationY",2*g.acceleration.y),this._setProperty("accelerationZ",2*g.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var g,b,w,_,S,M=this._isGlobal?window:this;typeof M.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&M.deviceMoved(),typeof M.deviceTurned=="function"&&(b=this.rotationX+180,g=this.pRotationX+180,w=h+180,0<b-g&&b-g<270||b-g<-270?o="clockwise":(b-g<0||270<b-g)&&(o="counter-clockwise"),o!==this.pRotateDirectionX&&(w=b),90<Math.abs(b-w)&&Math.abs(b-w)<270&&(w=b,this._setProperty("turnAxis","X"),M.deviceTurned()),this.pRotateDirectionX=o,h=w-180,g=this.rotationY+180,b=this.pRotationY+180,w=r+180,0<g-b&&g-b<270||g-b<-270?a="clockwise":(g-b<0||270<g-this.pRotationY)&&(a="counter-clockwise"),a!==this.pRotateDirectionY&&(w=g),90<Math.abs(g-w)&&Math.abs(g-w)<270&&(w=g,this._setProperty("turnAxis","Y"),M.deviceTurned()),this.pRotateDirectionY=a,r=w-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?c="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(n=this.rotationZ),90<Math.abs(this.rotationZ-n)&&Math.abs(this.rotationZ-n)<270&&(n=this.rotationZ,this._setProperty("turnAxis","Z"),M.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof M.deviceShaken=="function"&&(this.pAccelerationX!==null&&(_=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),y<_+S&&M.deviceShaken())},s.default);E.default=m},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(u){var s;this._downKeys[u.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||u.charCode||s.keyPressed(u)===!1&&u.preventDefault())},f.default.prototype._onkeyup=function(u){this._downKeys[u.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),this._setProperty("keyCode",u.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(u)===!1&&u.preventDefault()},f.default.prototype._onkeypress=function(u){var s;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(u)===!1&&u.preventDefault())},f.default.prototype._onblur=function(u){this._downKeys={}},f.default.prototype.keyIsDown=function(u){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},f.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=f.default,E.default=t},{"../core/main":275}],294:[function(t,V,E){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(h)}function u(h){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(r){return f(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":f(r)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},i=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var r=p();if(r&&r.has(h))return r.get(h);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in h){var c;Object.prototype.hasOwnProperty.call(h,n)&&((c=a?Object.getOwnPropertyDescriptor(h,n):null)&&(c.get||c.set)?Object.defineProperty(o,n,c):o[n]=h[n])}return o.default=h,r&&r.set(h,o),o}(t("../core/constants"));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(h){var r,n,o,a,c;this._curElement!==null&&(!h.touches||0<h.touches.length)&&(r=this._curElement.elt,n=this.width,o=this.height,(a=h)&&!a.clientX&&(a.touches?a=a.touches[0]:a.changedTouches&&(a=a.changedTouches[0])),c=r.getBoundingClientRect(),n=r.scrollWidth/n||1,r=r.scrollHeight/o||1,o={x:(a.clientX-c.left)/n,y:(a.clientY-c.top)/r,winX:a.clientX,winY:a.clientY,id:a.identifier},this._setProperty("movedX",h.movementX),this._setProperty("movedY",h.movementY),this._setProperty("mouseX",o.x),this._setProperty("mouseY",o.y),this._setProperty("winMouseX",o.winX),this._setProperty("winMouseY",o.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(h){h.button===1?this._setProperty("mouseButton",i.CENTER):h.button===2?this._setProperty("mouseButton",i.RIGHT):this._setProperty("mouseButton",i.LEFT)},s.default.prototype._onmousemove=function(h){var r=this._isGlobal?window:this;this._updateNextMouseCoords(h),this.mouseIsPressed?typeof r.mouseDragged=="function"?r.mouseDragged(h)===!1&&h.preventDefault():typeof r.touchMoved=="function"&&r.touchMoved(h)===!1&&h.preventDefault():typeof r.mouseMoved=="function"&&r.mouseMoved(h)===!1&&h.preventDefault()},s.default.prototype._onmousedown=function(h){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(h),this._updateNextMouseCoords(h),typeof r.mousePressed=="function"?r.mousePressed(h)===!1&&h.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof r.touchStarted=="function"&&r.touchStarted(h)===!1&&h.preventDefault()},s.default.prototype._onmouseup=function(h){var r=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof r.mouseReleased=="function"?r.mouseReleased(h)===!1&&h.preventDefault():typeof r.touchEnded=="function"&&r.touchEnded(h)===!1&&h.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(h){var r=this._isGlobal?window:this;typeof r.mouseClicked=="function"&&r.mouseClicked(h)===!1&&h.preventDefault()},s.default.prototype._ondblclick=function(h){var r=this._isGlobal?window:this;typeof r.doubleClicked=="function"&&r.doubleClicked(h)===!1&&h.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(h){var r=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",h.deltaY),typeof r.mouseWheel=="function"&&(h.delta=h.deltaY,r.mouseWheel(h)===!1&&h.preventDefault())},s.default.prototype.requestPointerLock=function(){var h=this._curElement.elt;return h.requestPointerLock=h.requestPointerLock||h.mozRequestPointerLock,h.requestPointerLock?(h.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,E.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(t,V,E){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var u=[],s=0;s<f.touches.length;s++)u[s]=function(c,a,d,r){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=c.getBoundingClientRect(),a=c.scrollWidth/a||1,c=c.scrollHeight/d||1,d=r.touches[n]||r.changedTouches[n];return{x:(d.clientX-o.left)/a,y:(d.clientY-o.top)/c,winX:d.clientX,winY:d.clientY,id:d.identifier}}(this._curElement.elt,this.width,this.height,f,s);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(f){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof u.touchStarted=="function"?u.touchStarted(f)===!1&&f.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof u.mousePressed=="function"&&u.mousePressed(f)===!1&&f.preventDefault()},t.default.prototype._ontouchmove=function(f){var u=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof u.touchMoved=="function"?u.touchMoved(f)===!1&&f.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(f)===!1&&f.preventDefault()},t.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"?u.touchEnded(f)===!1&&f.preventDefault():typeof u.mouseReleased=="function"&&u.mouseReleased(f)===!1&&f.preventDefault()},t=t.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(t,V,E){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f,u,s,i,p={_toPixels:function(h){var r,n;return h instanceof ImageData?h.data:h.getContext("2d")?h.getContext("2d").getImageData(0,0,h.width,h.height).data:h.getContext("webgl")?(n=(r=h.getContext("webgl")).drawingBufferWidth*r.drawingBufferHeight*4,n=new Uint8Array(n),r.readPixels(0,0,h.width,h.height,r.RGBA,r.UNSIGNED_BYTE,n),n):void 0},_getARGB:function(h,r){return r*=4,h[3+r]<<24&4278190080|h[r]<<16&16711680|h[1+r]<<8&65280|255&h[2+r]},_setPixels:function(h,r){for(var n,o=0,a=h.length;o<a;o++)h[0+(n=4*o)]=(16711680&r[o])>>>16,h[1+n]=(65280&r[o])>>>8,h[2+n]=255&r[o],h[3+n]=(4278190080&r[o])>>>24},_toImageData:function(h){return h instanceof ImageData?h:h.getContext("2d").getImageData(0,0,h.width,h.height)},_createImageData:function(h,r){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(h,r)},apply:function(h,c,n){var o=h.getContext("2d"),a=o.getImageData(0,0,h.width,h.height),c=c(a,n);c instanceof ImageData?o.putImageData(c,0,0,0,0,h.width,h.height):o.putImageData(a,0,0,0,0,h.width,h.height)},threshold:function(h,r){for(var n=p._toPixels(h),o=(r===void 0&&(r=.5),Math.floor(255*r)),a=0;a<n.length;a+=4){var c=void 0,c=o<=.2126*n[a]+.7152*n[a+1]+.0722*n[a+2]?255:0;n[a]=n[a+1]=n[a+2]=c}},gray:function(h){for(var r=p._toPixels(h),n=0;n<r.length;n+=4){var o=r[n],a=r[n+1],c=r[n+2];r[n]=r[n+1]=r[n+2]=.2126*o+.7152*a+.0722*c}},opaque:function(h){for(var r=p._toPixels(h),n=0;n<r.length;n+=4)r[n+3]=255;return r},invert:function(h){for(var r=p._toPixels(h),n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2]},posterize:function(h,r){var n=p._toPixels(h);if((r=r===void 0?4:r)<2||255<r)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var o=r-1,a=0;a<n.length;a+=4){var c=n[a],d=n[a+1],y=n[a+2];n[a]=255*(c*r>>8)/o,n[a+1]=255*(d*r>>8)/o,n[a+2]=255*(y*r>>8)/o}},dilate:function(h){for(var r,n,o,a,c,d,y,m,g,b=p._toPixels(h),w=0,_=b.length?b.length/4:0,S=new Int32Array(_);w<_;)for(n=(r=w)+h.width;w<n;)a=o=p._getARGB(b,w),(g=w-1)<r&&(g=w),n<=(m=w+1)&&(m=w),(c=w-h.width)<0&&(c=0),_<=(d=w+h.width)&&(d=w),c=p._getARGB(b,c),g=p._getARGB(b,g),d=p._getARGB(b,d),(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(y=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(o=g,a=y),a<(y=77*((g=p._getARGB(b,m))>>16&255)+151*(g>>8&255)+28*(255&g))&&(o=g,a=y),a<(m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(o=c,a=m),a<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(o=d,a=g),S[w++]=o;p._setPixels(b,S)},erode:function(h){for(var r,n,o,a,c,d,y,m,g,b=p._toPixels(h),w=0,_=b.length?b.length/4:0,S=new Int32Array(_);w<_;)for(n=(r=w)+h.width;w<n;)a=o=p._getARGB(b,w),(g=w-1)<r&&(g=w),n<=(m=w+1)&&(m=w),(c=w-h.width)<0&&(c=0),_<=(d=w+h.width)&&(d=w),c=p._getARGB(b,c),g=p._getARGB(b,g),d=p._getARGB(b,d),(y=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(a=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(o=g,a=y),(y=77*((g=p._getARGB(b,m))>>16&255)+151*(g>>8&255)+28*(255&g))<a&&(o=g,a=y),(m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<a&&(o=c,a=m),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<a&&(o=d,a=g),S[w++]=o;p._setPixels(b,S)},blur:function(h,r){for(var n,o,a,c,d,y,m,g,b,w,_=p._toPixels(h),S=h.width,M=h.height,k=S*M,T=new Int32Array(k),A=0;A<k;A++)T[A]=p._getARGB(_,A);var O,R,U,B,W,N,z,Y,Z=new Int32Array(k),G=new Int32Array(k),C=new Int32Array(k),L=new Int32Array(k),D=0,q=3.5*r|0;if(f!==(q=q<1?1:q<248?q:248)){u=1+(f=q)<<1,s=new Int32Array(u),i=new Array(u);for(var J=0;J<u;J++)i[J]=new Int32Array(256);for(var te=1,se=q-1;te<q;te++){s[q+te]=s[se]=N=se*se,z=i[q+te],Y=i[se--];for(var ce=0;ce<256;ce++)z[ce]=Y[ce]=N*ce}W=s[q]=q*q,z=i[q];for(var ne=0;ne<256;ne++)z[ne]=W*ne}for(R=0;R<M;R++){for(O=0;O<S;O++){if(c=a=o=d=n=0,(y=O-f)<0)w=-y,y=0;else{if(S<=y)break;w=0}for(U=w;U<u&&!(S<=y);U++){var ae=T[y+D];B=i[U],d+=B[(-16777216&ae)>>>24],o+=B[(16711680&ae)>>16],a+=B[(65280&ae)>>8],c+=B[255&ae],n+=s[U],y++}Z[m=D+O]=d/n,G[m]=o/n,C[m]=a/n,L[m]=c/n}D+=S}for(b=(g=-f)*S,R=D=0;R<M;R++){for(O=0;O<S;O++){if(c=a=o=d=n=0,g<0)w=m=-g,y=O;else{if(M<=g)break;w=0,m=g,y=O+b}for(U=w;U<u&&!(M<=m);U++)B=i[U],d+=B[Z[y]],o+=B[G[y]],a+=B[C[y]],c+=B[L[y]],n+=s[U],m++,y+=S;T[O+D]=d/n<<24|o/n<<16|a/n<<8|c/n}D+=S,b+=S,g++}p._setPixels(_,T)}};E.default=p},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("omggif"));function s(p){return p&&p.__esModule?p:{default:p}}function i(p){return function(h){if(Array.isArray(h)){for(var r=0,n=new Array(h.length);r<h.length;r++)n[r]=h[r];return n}}(p)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(p,h){return f.default._validateParameters("createImage",arguments),new f.default.Image(p,h)},f.default.prototype.saveCanvas=function(){f.default._validateParameters("saveCanvas",arguments);var p,h,r,n,o,a,c=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(p=arguments[0],c.shift()):arguments[0]instanceof f.default.Element?(p=arguments[0].elt,c.shift()):arguments[0]instanceof f.default.Framebuffer?((o=this.createGraphics((n=arguments[0]).width,n.height)).pixelDensity(pixelDensity()),n.loadPixels(),o.loadPixels(),o.pixels.set(n.pixels),o.updatePixels(),p=o.elt,c.shift()):p=this._curElement&&this._curElement.elt,1<=c.length&&(h=c[0]),r=(r=2<=c.length?c[1]:r)||f.default.prototype._checkFileExtension(h,r)[1]||"png"){default:a="image/png";break;case"jpeg":case"jpg":a="image/jpeg"}p.toBlob(function(d){f.default.prototype.downloadFile(d,h,r),o&&o.remove()},a)},f.default.prototype.encodeAndDownloadGif=function(p,h){for(var r=p.gifProperties,n=r.loopLimit,o=(n===1?n=null:n===null&&(n=0),new Uint8Array(p.width*p.height*r.numFrames)),a=[],c={},d=0;d<r.numFrames;d++){for(var y=new Set,m=r.frames[d].image.data,g=m.length,b=new Uint32Array(p.width*p.height),w=0,_=0;w<g;w+=4,_++){var S=m[w+0]<<16|m[w+1]<<8|m[w+2]<<0;y.add(S),b[_]=S}var M=i(y).sort().toString();c[M]===void 0?c[M]={freq:1,frames:[d]}:(c[M].freq+=1,c[M].frames.push(d)),a.push(b)}for(var A=[],k=Object.keys(c).sort(function(C,L){return c[L].freq-c[C].freq}),T=k[0].split(",").map(function(C){return parseInt(C)}),A=A.concat(c[T].frames),O=new Set(T),R=1;R<k.length;R++){var U=k[R].split(",").map(function(C){return parseInt(C)}).filter(function(C){return!O.has(C)});if(T.length+U.length<=256){for(var B=0;B<U.length;B++)T.push(U[B]),O.add(U[B]);A=A.concat(c[k[R]].frames)}}A=new Set(A);for(var W={},N=0;N<T.length;N++)W[T[N]]||(W[T[N]]=N);for(var z=1;z<T.length;)z<<=1;T.length=z;for(var n={loop:n,palette:new Uint32Array(T)},Y=new u.default.GifWriter(o,p.width,p.height,n),Z={},G=0;G<r.numFrames;G++)(function(L){var D=!A.has(L),q=D?[]:T,J=new Uint8Array(p.width*p.height),te={},se=new Set,ce=(a[L].forEach(function(ie,me){D?(te[ie]===void 0&&(te[ie]=q.length,q.push(ie)),J[me]=te[ie]):J[me]=W[ie],0<L&&a[L-1][me]!==ie&&se.add(ie)}),{}),ne=q.filter(function(ie){return!se.has(ie)});if(0<ne.length){var ne=ne[0],ae=(D?te:W)[ne];if(0<L){for(var de=0;de<a[L].length;de++)a[L-1][de]===a[L][de]&&(J[de]=ae);ce.transparent=ae,Z.frameOpts.disposal=1}}if(ce.delay=r.frames[L].delay/10,D){for(var Q=1;Q<q.length;)Q<<=1;q.length=Q,ce.palette=new Uint32Array(q)}0<L&&Y.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),Z={pixelPaletteIndex:J,frameOpts:ce}})(G);Z.frameOpts.disposal=1,Y.addFrame(0,0,p.width,p.height,Z.pixelPaletteIndex,Z.frameOpts),n=new Blob([o.slice(0,Y.end())],{type:"image/gif"}),f.default.prototype.downloadFile(n,h,"gif")},f.default.prototype.saveFrames=function(p,h,r,a,o){f.default._validateParameters("saveFrames",arguments),r=f.default.prototype.constrain(r=r||3,0,15),r*=1e3;var a=f.default.prototype.constrain(a||15,0,22),c=0,d=f.default.prototype._makeFrame,y=this._curElement.elt,m=[],g=setInterval(function(){m.push(d(p+c,h,y)),c++},1e3/a);setTimeout(function(){if(clearInterval(g),o)o(m);else for(var b=0,w=m;b<w.length;b++){var _=w[b];f.default.prototype.downloadFile(_.imageData,_.filename,_.ext)}m=[]},.01+r)},f.default.prototype._makeFrame=function(p,h,o){var n,o=this?this._curElement.elt:o;if(h)switch(h.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else h="png",n="image/png";var o=(o=o.toDataURL(n)).replace(n,"image/octet-stream"),a={};return a.imageData=o,a.filename=p,a.ext=h,a},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(t,V,E){function f(y){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function u(y){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(m){return f(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":f(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t("regenerator-runtime/runtime");var s=o(t("../core/main")),i=o(t("../core/helpers")),p=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var m=n();if(m&&m.has(y))return m.get(y);var g,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in y){var _;Object.prototype.hasOwnProperty.call(y,g)&&((_=w?Object.getOwnPropertyDescriptor(y,g):null)&&(_.get||_.set)?Object.defineProperty(b,g,_):b[g]=y[g])}return b.default=y,m&&m.set(y,b),b}(t("../core/constants")),h=o(t("omggif")),r=t("gifenc");function n(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,n=function(){return y},y)}function o(y){return y&&y.__esModule?y:{default:y}}function a(y,m,g,b,w,_,S){try{var M=y[_](S),k=M.value}catch(T){return void g(T)}M.done?m(k):Promise.resolve(k).then(b,w)}function c(y,m,g,b,w,_,S,M,k,T,A){var O,R,U,B,W,N,z,Y,Z;return y===p.COVER&&(O=m,U=g,z=_,Y=S,N=M,Z=k,R=T,B=A,W=Math.max(z/R,Y/B),z/=W,Y/=W,W=N,N=Z,O===p.CENTER?W+=(R-z)/2:O===p.RIGHT&&(W+=R-z),U===p.CENTER?N+=(B-Y)/2:U===p.BOTTOM&&(N+=B-Y),M=(Z={x:W,y:N,w:z,h:Y}).x,k=Z.y,T=Z.w,A=Z.h),y===p.CONTAIN&&(O=m,R=g,U=b,B=w,W=_,N=S,z=T,Y=A,Z=Math.max(z/W,Y/N),z/=Z,Y/=Z,Z=U,U=B,O===p.CENTER?Z+=(W-z)/2:O===p.RIGHT&&(Z+=W-z),R===p.CENTER?U+=(N-Y)/2:R===p.BOTTOM&&(U+=N-Y),b=(y={x:Z,y:U,w:z,h:Y}).x,w=y.y,_=y.w,S=y.h),{sx:M,sy:k,sw:T,sh:A,dx:b,dy:w,dw:_,dh:S}}function d(y,m){return 0<y&&y<m?y:m}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(y,m,g){s.default._validateParameters("loadImage",arguments);var b=new s.default.Image(1,1,this),w=this,_=new Request(y,{method:"GET",mode:"cors"});return fetch(y,_).then(function(S){var M,k=S.headers.get("content-type");k===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),k&&k.includes("image/gif")?S.arrayBuffer().then(function(T){if(T){for(var T=new Uint8Array(T),A=b,O=m,R=g,U=(function(D){w._decrementPreload()}).bind(w),B=new h.default.GifReader(T),W=(A.width=A.canvas.width=B.width,A.height=A.canvas.height=B.height,[]),N=B.numFrames(),z=new Uint8ClampedArray(A.width*A.height*4),Y=0;Y<N;Y++){var Z=B.frameInfo(Y),G=A.drawingContext.getImageData(0,0,A.width,A.height),C=(z=G.data.slice(),function(D,q){try{q.decodeAndBlitFrameRGBA(D,z)}catch(J){s.default._friendlyFileLoadError(8,A.src),typeof R=="function"?R(J):console.error(J)}}(Y,B),new ImageData(z,A.width,A.height)),C=(A.drawingContext.putImageData(C,0,0),Z.delay);C===0&&(C=10),W.push({image:A.drawingContext.getImageData(0,0,A.width,A.height),delay:10*C}),Z.disposal===2?A.drawingContext.clearRect(Z.x,Z.y,Z.width,Z.height):Z.disposal===3&&A.drawingContext.putImageData(G,0,0,Z.x,Z.y,Z.width,Z.height)}(T=B.loopCount())===null?T=1:T===0&&(T=null),A.drawingContext.putImageData(W[0].image,0,0),1<W.length&&(A.gifProperties={displayIndex:0,loopLimit:T,loopCount:0,frames:W,numFrames:N,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof O=="function"&&O(A),U()}},function(T){typeof g=="function"?(g(T),w._decrementPreload()):console.error(T)}):((M=new Image).onload=function(){b.width=b.canvas.width=M.width,b.height=b.canvas.height=M.height,b.drawingContext.drawImage(M,0,0),b.modified=!0,typeof m=="function"&&m(b),w._decrementPreload()},M.onerror=function(T){s.default._friendlyFileLoadError(0,M.src),typeof g=="function"?(g(T),w._decrementPreload()):console.error(T)},y.indexOf("data:image/")!==0&&(M.crossOrigin="Anonymous"),M.src=y),b.modified=!0}).catch(function(S){s.default._friendlyFileLoadError(0,y),typeof g=="function"?(g(S),w._decrementPreload()):console.error(S)}),b},s.default.prototype.saveGif=function(){y=regeneratorRuntime.mark(function g(b,w){var _,S,M,k,T,A,O,R,U,B,W,N,z,Y,Z,G,C,L,D,q,J,te,se,ce,ne,ae,de=arguments;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(_=2<de.length&&de[2]!==void 0?de[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof b!="string")throw TypeError("fileName parameter must be a string");Q.next=3;break;case 3:if(typeof w!="number")throw TypeError("Duration parameter must be a number");Q.next=5;break;case 5:if(S=_&&_.delay||0,M=_&&_.units||"seconds",k=_&&_.silent||!1,T=_&&_.notificationDuration||0,A=_&&_.notificationID||"progressBar",typeof S!="number")throw TypeError("Delay parameter must be a number");Q.next=12;break;case 12:if(M!=="seconds"&&M!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Q.next=14;break;case 14:if(typeof k!="boolean")throw TypeError("Silent parameter must be a boolean");Q.next=16;break;case 16:if(typeof T!="number")throw TypeError("Notification duration parameter must be a number");Q.next=18;break;case 18:if(typeof A!="string")throw TypeError("Notification ID parameter must be a string");Q.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,O=(O=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:O,U=(R=M==="seconds"?w*B:w)+(B=M==="seconds"?S*B:S),B=B,this.frameCount=B,W=this._pixelDensity,this.pixelDensity(1),N=[],document.getElementById(A)!==null&&document.getElementById(A).remove(),k||((z=this.createP("")).id(A),z.style("font-size","16px"),z.style("font-family","Montserrat"),z.style("background-color","#ffffffa0"),z.style("padding","8px"),z.style("border-radius","10px"),z.position(0,0)),this._renderer instanceof s.default.RendererGL&&(Z=this.drawingContext,Y=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4)),this.noLoop(),Q.next=39,Promise.resolve();case 39:if(B<U)return this.redraw(),ce=void 0,ce=this._renderer instanceof s.default.RendererGL?(Y=new Uint8Array(Z.drawingBufferWidth*Z.drawingBufferHeight*4),Z.readPixels(0,0,Z.drawingBufferWidth,Z.drawingBufferHeight,Z.RGBA,Z.UNSIGNED_BYTE,Y),function(ie){for(var me=parseInt(height/2),ve=4*width,he=new Uint8Array(4*width),xe=0;xe<me;++xe){var Te=xe*ve,Ae=(height-xe-1)*ve;he.set(ie.subarray(Te,Te+ve)),ie.copyWithin(Te,Ae,Ae+ve),ie.set(he,Ae)}return ie}(Y)):this.drawingContext.getImageData(0,0,this.width,this.height).data,N.push(ce),B++,k||z.html("Saved frame <b>"+N.length.toString()+"</b> out of "+R.toString()),Q.next=48,new Promise(function(ie){return setTimeout(ie,0)});Q.next=50;break;case 48:Q.next=39;break;case 50:k||z.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(W),G=(0,r.GIFEncoder)(),C=function(ie){for(var me=new Uint8Array(ie.length*ie[0].length),ve=0;ve<ie.length;ve++)me.set(ie[ve],ve*ie[0].length);var he=(0,r.quantize)(me,256,{format:"rgba4444",oneBitAlpha:!0});return he.length===256?he[he.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:he.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),he}(N),L={},D=function(ie){for(var me=ie.length/4,ve=new Uint8Array(me),he=0;he<me;he++){var xe=ie[4*he]<<24|ie[4*he+1]<<16|ie[4*he+2]<<8|ie[4*he+3];L[xe]===void 0&&(L[xe]=(0,r.nearestColorIndex)(C,ie.slice(4*he,4*(he+1)))),ve[he]=L[xe]}return ve},q=C.length-1,J=[],te=0;case 60:if(!(te<N.length)){Q.next=71;break}if(se=D(N[te]),ce=se.slice(),te===0)G.writeFrame(se,this.width,this.height,{palette:C,delay:O,dispose:1});else{for(ne=0;ne<se.length;ne++)se[ne]===J[ne]&&(se[ne]=q);G.writeFrame(se,this.width,this.height,{delay:O,transparent:!0,transparentIndex:q,dispose:1})}return J=ce,k||z.html("Rendered frame <b>"+te.toString()+"</b> out of "+R.toString()),Q.next=68,new Promise(function(ie){return setTimeout(ie,0)});case 68:te++,Q.next=60;break;case 71:G.finish(),ae=G.bytesView(),ae=new Blob([ae],{type:"image/gif"}),N=[],this._recording=!1,this.loop(),k||(z.html("Done. Downloading your gif!"),0<T&&setTimeout(function(){return z.remove()},1e3*T)),s.default.prototype.downloadFile(ae,b,"gif");case 80:case"end":return Q.stop()}},g,this)});var y,m=function(){var g=this,b=arguments;return new Promise(function(w,_){var S=y.apply(g,b);function M(T){a(S,w,_,M,k,"next",T)}function k(T){a(S,w,_,M,k,"throw",T)}M(void 0)})};return function(g,b){return m.apply(this,arguments)}}(),s.default.prototype.image=function(y,m,g,b,B,W,N,z,Z,T,A,O){s.default._validateParameters("image",arguments);var Y=y.width,R=y.height,U=(O=O||p.CENTER,A=A||p.CENTER,y.elt&&(Y=Y!==void 0?Y:y.elt.width,R=R!==void 0?R:y.elt.height),y.elt&&y.elt.videoWidth&&!y.canvas&&(Y=Y!==void 0?Y:y.elt.videoWidth,R=R!==void 0?R:y.elt.videoHeight),b||Y),B=B||R,W=W||0,N=N||0,z=d(z!==void 0?z:Y,Y),Y=d(Z!==void 0?Z:R,R),Z=1;y.elt&&!y.canvas&&y.elt.style.width&&(Z=y.elt.videoWidth&&!b?y.elt.videoWidth:y.elt.width,Z/=parseInt(y.elt.style.width,10)),W*=Z,N*=Z,Y*=Z,z*=Z,R=c(T,A,O,(R=i.default.modeAdjust(m,g,U,B,this._renderer._imageMode)).x,R.y,R.w,R.h,W,N,z,Y),this._renderer.image(y,R.sx,R.sy,R.sw,R.sh,R.dx,R.dy,R.dw,R.dh)},s.default.prototype.tint=function(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];s.default._validateParameters("tint",m);var b=this.color.apply(this,m);this._renderer._tint=b.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(y){s.default._validateParameters("imageMode",arguments),y!==p.CORNER&&y!==p.CORNERS&&y!==p.CENTER||(this._renderer._imageMode=y)},t=s.default,E.default=t},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("./filters"));function s(p){return p&&p.__esModule?p:{default:p}}function i(p,h){for(var r=0;r<h.length;r++){var n=h[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(p,n.key,n)}}f.default.Image=function(){function p(n,o){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.width=n,this.height=o,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var h,r;return h=p,(r=[{key:"pixelDensity",value:function(n){return n!==void 0?(n<=0&&(f.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),n=1),this._pixelDensity=n,this.width/=n,this.height/=n,this):this._pixelDensity}},{key:"_animateGif",value:function(c){var o,a=this.gifProperties,c=c._lastRealFrameTime;a.lastChangeTime===0&&(a.lastChangeTime=c),a.playing&&(a.timeDisplayed=c-a.lastChangeTime,o=a.frames[a.displayIndex].delay,a.timeDisplayed>=o&&(o=Math.floor(a.timeDisplayed/o),a.timeDisplayed=0,a.lastChangeTime=c,a.displayIndex+=o,a.loopCount=Math.floor(a.displayIndex/a.numFrames),a.loopLimit!==null&&a.loopCount>=a.loopLimit?a.playing=!1:(c=a.displayIndex%a.numFrames,this.drawingContext.putImageData(a.frames[c].image,0,0),a.displayIndex=c,this.setModified(!0))))}},{key:"_setProperty",value:function(n,o){this[n]=o,this.setModified(!0)}},{key:"loadPixels",value:function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(n,o,a,c){f.default.Renderer2D.prototype.updatePixels.call(this,n,o,a,c),this.setModified(!0)}},{key:"get",value:function(n,o,a,c){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return f.default.Renderer2D.prototype._getPixel.apply(this,o)}},{key:"set",value:function(n,o,a){f.default.Renderer2D.prototype.set.call(this,n,o,a),this.setModified(!0)}},{key:"resize",value:function(n,o){n===0&&o===0?(n=this.canvas.width,o=this.canvas.height):n===0?n=this.canvas.width*o/this.canvas.height:o===0&&(o=this.canvas.height*n/this.canvas.width),n=Math.floor(n),o=Math.floor(o);var a=document.createElement("canvas");if(a.width=n,a.height=o,this.gifProperties)for(var c=this.gifProperties,d=0;d<c.numFrames;d++){for(var y=this.drawingContext.createImageData(n,o),m=(S=S=_=w=b=void 0,c.frames[d].image),g=y,b=0,w=0;w<g.height;w++)for(var _=0;_<g.width;_++){var S=Math.floor(_*m.width/g.width),S=4*(Math.floor(w*m.height/g.height)*m.width+S);g.data[b++]=m.data[S++],g.data[b++]=m.data[S++],g.data[b++]=m.data[S++],g.data[b++]=m.data[+S]}c.frames[d].image=y}a.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,a.width,a.height),this.canvas.width=this.width=n,this.canvas.height=this.height=o,this.drawingContext.drawImage(a,0,0,n,o,0,0,n,o),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];f.default.prototype.copy.apply(this,o)}},{key:"mask",value:function(n){var o=this.drawingContext.globalCompositeOperation,a=1,c=[n=n===void 0?this:n,0,0,(a=n instanceof f.default.Renderer?n._pInst._pixelDensity:a)*n.width,a*n.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var d=0;d<this.gifProperties.frames.length;d++)this.drawingContext.putImageData(this.gifProperties.frames[d].image,0,0),this.copy.apply(this,c),this.gifProperties.frames[d].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,c);this.drawingContext.globalCompositeOperation=o,this.setModified(!0)}},{key:"filter",value:function(n,o){u.default.apply(this.canvas,u.default[n],o),this.setModified(!0)}},{key:"blend",value:function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,o),this.setModified(!0)}},{key:"setModified",value:function(n){this._modified=n}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(n,o){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,n):f.default.prototype.saveCanvas(this.canvas,n,o)}},{key:"reset",value:function(){var n;this.gifProperties&&((n=this.gifProperties).playing=!0,n.timeSinceStart=0,n.timeDisplayed=0,n.lastChangeTime=0,n.loopCount=0,n.displayIndex=0,this.drawingContext.putImageData(n.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var n;if(this.gifProperties)return(n=this.gifProperties).displayIndex%n.numFrames}},{key:"setFrame",value:function(n){var o;this.gifProperties&&(n<(o=this.gifProperties).numFrames&&0<=n?(o.timeDisplayed=0,o.lastChangeTime=0,o.displayIndex=n,this.drawingContext.putImageData(o.frames[n].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(n,o){if(this.gifProperties){var a=this.gifProperties;if(o<a.numFrames&&0<=o)a.frames[o].delay=n;else{var c=!0,o=!1,d=void 0;try{for(var y,m=a.frames[Symbol.iterator]();!(c=(y=m.next()).done);c=!0)y.value.delay=n}catch(b){o=!0,d=b}finally{try{c||m.return==null||m.return()}finally{if(o)throw d}}}}}}])&&i(h.prototype,r),p}(),t=f.default.Image,E.default=t},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(t,V,E){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=s(t("../core/main")),u=s(t("./filters"));function s(i){return i&&i.__esModule?i:{default:i}}t("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var i,p=arguments.length,h=new Array(p),r=0;r<p;r++)h[r]=arguments[r];f.default._validateParameters("blend",h),this._renderer?(i=this._renderer).blend.apply(i,h):f.default.Renderer2D.prototype.blend.apply(this,h)},f.default.prototype.copy=function(){for(var i,p,h,r,n,o,a,c,d,y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];if(f.default._validateParameters("copy",m),m.length===9)i=m[0],p=m[1],h=m[2],r=m[3],n=m[4],o=m[5],a=m[6],c=m[7],d=m[8];else{if(m.length!==8)throw new Error("Signature not supported");i=this,p=m[0],h=m[1],r=m[2],n=m[3],o=m[4],a=m[5],c=m[6],d=m[7]}f.default.prototype._copyHelper(this,i,p,h,r,n,o,a,c,d)},f.default.prototype._copyHelper=function(i,p,h,r,n,o,a,c,d,y){var m=p.canvas.width/p.width,g=0,b=0;p._renderer&&p._renderer.isP3D&&(g=p.width/2,b=p.height/2),i._renderer&&i._renderer.isP3D?f.default.RendererGL.prototype.image.call(i._renderer,p,h+g,r+b,n,o,a,c,d,y):i.drawingContext.drawImage(p.canvas,m*(h+g),m*(r+b),m*n,m*o,a,c,d,y)},f.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},f.default.prototype.filter=function(){for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];f.default._validateParameters("filter",arguments);var a=(function(){var c,d={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof f.default.Shader?d.shader=arguments.length<=0?void 0:arguments[0]:(d.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(d.value=arguments.length<=1?void 0:arguments[1]),((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])===!1&&(d.useWebGL=!1)),d}).apply(void 0,p),r=a.shader,n=a.operation,o=a.value,a=a.useWebGL;this._renderer.isP3D&&r?f.default.RendererGL.prototype.filter.call(this._renderer,r):a||this._renderer.isP3D?(!a&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?f.default.RendererGL.prototype.filter.call(this._renderer,n,o):((r=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),r.filter.apply(r,p),this._renderer._pInst.image(r,0,0),r.clear())):this.canvas!==void 0?u.default.apply(this.canvas,u.default[n],o):u.default.apply(this.elt,u.default[n],o)},f.default.prototype.get=function(i,p,h,r){var n;return f.default._validateParameters("get",arguments),(n=this._renderer).get.apply(n,arguments)},f.default.prototype.loadPixels=function(){for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];f.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},f.default.prototype.set=function(i,p,h){this._renderer.set(i,p,h)},f.default.prototype.updatePixels=function(i,p,h,r){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(i,p,h,r)},t=f.default,E.default=t},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=p(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),p(t("fetch-jsonp"))),i=p(t("file-saver"));function p(o){return o&&o.__esModule?o:{default:o}}function h(o){return(h=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}function r(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function n(o,a){a&&a!==!0&&a!=="true"||(a="");var c="";return(o=o||"untitled")&&o.includes(".")&&(c=o.split(".").pop()),a&&c!==a&&(c=a,o="".concat(o,".").concat(c)),[o,c]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];u.default._validateParameters("loadJSON",a);for(var d,y,m,g=a[0],b={},w="json",_=1;_<a.length;_++){var S=a[_];typeof S=="string"?S!=="jsonp"&&S!=="json"||(w=S):typeof S=="function"?d?y=S:d=S:h(S)==="object"&&(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))&&(w="jsonp",m=S)}var M=this;return this.httpDo(g,"GET",m,w,function(k){for(var T in k)b[T]=k[T];d!==void 0&&d(k),M._decrementPreload()},function(k){if(u.default._friendlyFileLoadError(5,g),!y)throw k;y(k)}),b},u.default.prototype.loadStrings=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];u.default._validateParameters("loadStrings",a);for(var d,y,m=[],g=1;g<a.length;g++){var b=a[g];typeof b=="function"&&(d===void 0?d=b:y===void 0&&(y=b))}var w=this;return u.default.prototype.httpDo.call(this,a[0],"GET","text",function(_){for(var S=_.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),M=0,k=S.length;M<k;M+=32768)Array.prototype.push.apply(m,S.slice(M,Math.min(M+32768,k)));d!==void 0&&d(m),w._decrementPreload()},function(_){if(u.default._friendlyFileLoadError(3,_),!y)throw _;y(_)}),m},u.default.prototype.loadTable=function(o){var a,c,d,y=!1,m=o.substring(o.lastIndexOf(".")+1,o.length);m==="csv"?d=",":m==="ssv"?d=";":m==="tsv"&&(d="	");for(var g=1;g<arguments.length;g++)typeof arguments[g]=="function"?a===void 0?a=arguments[g]:c===void 0&&(c=arguments[g]):typeof arguments[g]=="string"&&(arguments[g]==="header"&&(y=!0),arguments[g]==="csv"?d=",":arguments[g]==="ssv"?d=";":arguments[g]==="tsv"&&(d="	"));var b=new u.default.Table,w=this;return this.httpDo(o,"GET","table",function(_){for(var S,M,k={},T=0,A=[],O=0,R=null,U=function(){k.currentState=T,k.token=""},B=function(){R.push(k.token),U()},W=function(){k.currentState=4,A.push(R),R=null};;){if((S=_[O++])==null){if(k.escaped)throw new Error("Unclosed quote in file.");if(R){B(),W();break}}if(R===null&&(k.escaped=!1,R=[],U()),k.currentState===T){if(S==='"'){k.escaped=!0,k.currentState=1;continue}k.currentState=1}if(k.currentState===1&&k.escaped)if(S==='"')_[O]==='"'?(k.token+='"',O++):(k.escaped=!1,k.currentState=2);else{if(S==="\r")continue;k.token+=S}else S==="\r"?(_[O]===`
`&&O++,B(),W()):S===`
`?(B(),W()):S===d?B():k.currentState===1&&(k.token+=S)}if(y)b.columns=A.shift();else for(var N=0;N<A[0].length;N++)b.columns[N]="null";for(var z=0;z<A.length;z++)(A[z].length!==1||A[z][0]!=="undefined"&&A[z][0]!=="")&&((M=new u.default.TableRow).arr=A[z],M.obj=function(Y,Z){if((Z=Z||[])===void 0)for(var G=0;G<Y.length;G++)Z[G.toString()]=G;return Object.fromEntries(Z.map(function(C,L){return[C,Y[L]]}))}(A[z],b.columns),b.addRow(M));typeof a=="function"&&a(b),w._decrementPreload()},function(_){u.default._friendlyFileLoadError(2,o),c?c(_):console.error(_)}),b},u.default.prototype.loadXML=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];for(var d,y,m=new u.default.XML,g=1;g<a.length;g++){var b=a[g];typeof b=="function"&&(d===void 0?d=b:y===void 0&&(y=b))}var w=this;return this.httpDo(a[0],"GET","xml",function(_){for(var S in _)m[S]=_[S];d!==void 0&&d(m),w._decrementPreload()},function(_){if(u.default._friendlyFileLoadError(1,_),!y)throw _;y(_)}),m},u.default.prototype.loadBytes=function(o,a,c){var d={},y=this;return this.httpDo(o,"GET","arrayBuffer",function(m){d.bytes=new Uint8Array(m),typeof a=="function"&&a(d),y._decrementPreload()},function(m){if(u.default._friendlyFileLoadError(6,o),!c)throw m;c(m)}),d},u.default.prototype.httpGet=function(){u.default._validateParameters("httpGet",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,o)},u.default.prototype.httpPost=function(){u.default._validateParameters("httpPost",arguments);var o=Array.prototype.slice.call(arguments);return o.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,o)},u.default.prototype.httpDo=function(){for(var o,a,c,d={},y=0,m="text/plain",g=arguments.length-1;0<g&&typeof(g<0||arguments.length<=g?void 0:arguments[g])=="function";g--)y++;var b=arguments.length-y,w=arguments.length<=0?void 0:arguments[0];if(b==2&&typeof w=="string"&&h(arguments.length<=1?void 0:arguments[1])==="object")A=new Request(w,arguments.length<=1?void 0:arguments[1]),a=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var _,S="GET",M=1;M<arguments.length;M++){var k=M<0||arguments.length<=M?void 0:arguments[M];if(typeof k=="string")k==="GET"||k==="POST"||k==="PUT"||k==="DELETE"?S=k:k==="json"||k==="jsonp"||k==="binary"||k==="arrayBuffer"||k==="xml"||k==="text"||k==="table"?o=k:_=k;else if(typeof k=="number")_=k.toString();else if(h(k)==="object")if(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))for(var T in k)d[T]=k[T];else m=k instanceof u.default.XML?(_=k.serialize(),"application/xml"):(_=JSON.stringify(k),"application/json");else typeof k=="function"&&(a?c=k:a=k)}var b=S==="GET"?new Headers:new Headers({"Content-Type":m}),A=new Request(w,{method:S,mode:"cors",body:_,headers:b})}return(b=(b=(o=o||(w.includes("json")?"json":w.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(w,d):fetch(A)).then(function(O){if(!O.ok)throw(R=new Error(O.body)).status=O.status,R.ok=!1,R;var R=0;switch((R=o!=="jsonp"?O.headers.get("content-length"):R)&&64e6<R&&u.default._friendlyFileLoadError(7,w),o){case"json":case"jsonp":return O.json();case"binary":return O.blob();case"arrayBuffer":return O.arrayBuffer();case"xml":return O.text().then(function(U){return U=new DOMParser().parseFromString(U,"text/xml"),new u.default.XML(U.documentElement)});default:return O.text()}})).then(a||function(){}),b.catch(c||console.error),b},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(o,a){var c,d;for(d in u.default.prototype._pWriters)if(u.default.prototype._pWriters[d].name===o)return c=new u.default.PrintWriter(o+this.millis(),a),u.default.prototype._pWriters.push(c),c;return c=new u.default.PrintWriter(o,a),u.default.prototype._pWriters.push(c),c},u.default.PrintWriter=function(o,a){var c=this;this.name=o,this.content="",this.write=function(d){this.content+=d},this.print=function(d){this.content+="".concat(d,`
`)},this.clear=function(){this.content=""},this.close=function(){var d,y=[];for(d in y.push(this.content),u.default.prototype.writeFile(y,o,a),u.default.prototype._pWriters)u.default.prototype._pWriters[d].name===this.name&&u.default.prototype._pWriters.splice(d,1);c.clear(),c={}}},u.default.prototype.save=function(o,a,c){var d=arguments,y=(this._curElement||this).elt;if(d.length===0)u.default.prototype.saveCanvas(y);else if(d[0]instanceof u.default.Renderer||d[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(d[0].elt,d[1],d[2]);else if(d.length===1&&typeof d[0]=="string")u.default.prototype.saveCanvas(y,d[0]);else switch(n(d[1],d[2])[1]){case"json":return void u.default.prototype.saveJSON(d[0],d[1],d[2]);case"txt":return void u.default.prototype.saveStrings(d[0],d[1],d[2]);default:d[0]instanceof Array?u.default.prototype.saveStrings(d[0],d[1],d[2]):d[0]instanceof u.default.Table?u.default.prototype.saveTable(d[0],d[1],d[2]):d[0]instanceof u.default.Image?u.default.prototype.saveCanvas(d[0].canvas,d[1]):d[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(d[0],d[1],d[2],d[3])}},u.default.prototype.saveJSON=function(o,a,c){u.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(o):JSON.stringify(o,void 0,2),this.saveStrings(c.split(`
`),a,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(o,a,c,d){u.default._validateParameters("saveStrings",arguments);for(var y=this.createWriter(a,c||"txt"),m=0;m<o.length;m++)d?y.write(o[m]+`\r
`):y.write(o[m]+`
`);y.close(),y.clear()},u.default.prototype.saveTable=function(o,a,c){u.default._validateParameters("saveTable",arguments),d=c===void 0?a.substring(a.lastIndexOf(".")+1,a.length):c;var d,y=this.createWriter(a,d),m=o.columns,g=d==="tsv"?"	":",";if(d!=="html"){if(m[0]!=="0"){for(var b=0;b<m.length;b++)b<m.length-1?y.write(m[b]+g):y.write(m[b]);y.write(`
`)}for(var w=0;w<o.rows.length;w++){for(var _=void 0,_=0;_<o.rows[w].arr.length;_++)_<o.rows[w].arr.length-1?d==="csv"&&String(o.rows[w].arr[_]).includes(",")?y.write('"'+o.rows[w].arr[_]+'"'+g):y.write(o.rows[w].arr[_]+g):d==="csv"&&String(o.rows[w].arr[_]).includes(",")?y.write('"'+o.rows[w].arr[_]+'"'):y.write(o.rows[w].arr[_]);y.write(`
`)}}else{if(y.print("<html>"),y.print("<head>"),y.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),y.print("</head>"),y.print("<body>"),y.print("  <table>"),m[0]!=="0"){y.print("    <tr>");for(var S=0;S<m.length;S++){var M=r(m[S]);y.print("      <td>".concat(M)),y.print("      </td>")}y.print("    </tr>")}for(var k=0;k<o.rows.length;k++){y.print("    <tr>");for(var T=0;T<o.columns.length;T++){var A=r(o.rows[k].getString(T));y.print("      <td>".concat(A)),y.print("      </td>")}y.print("    </tr>")}y.print("  </table>"),y.print("</body>"),y.print("</html>")}y.close(),y.clear()},u.default.prototype.writeFile=function(y,a,c){var d="application/octet-stream",y=(u.default.prototype._isSafari()&&(d="text/plain"),new Blob(y,{type:d}));u.default.prototype.downloadFile(y,a,c)},u.default.prototype.downloadFile=function(o,y,m){var d,y=n(y,m),m=y[0];o instanceof Blob?i.default.saveAs(o,m):((d=document.createElement("a")).href=o,d.download=m,d.onclick=function(g){document.body.removeChild(g.target),g.stopPropagation()},d.style.display="none",document.body.appendChild(d),u.default.prototype._isSafari()&&(o=(o=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(y[1],'"'),alert(o)),d.click())},u.default.prototype._checkFileExtension=n,u.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=u.default,E.default=t},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(s,i){for(var p=0;p<i.length;p++){var h=i[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}f.default.Table=function(){function s(h){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var i,p;return i=s,(p=[{key:"addRow",value:function(h){if(h=h||new f.default.TableRow,h.arr===void 0||h.obj===void 0)throw new Error("invalid TableRow: ".concat(h));return(h.table=this).rows.push(h),h}},{key:"removeRow",value:function(h){this.rows[h].table=null,h=this.rows.splice(h+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(h)}},{key:"getRow",value:function(h){return this.rows[h]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(h,r){if(typeof r=="string"){for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[r]===h)return this.rows[n]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[r]===h)return this.rows[o];return null}},{key:"findRows",value:function(h,r){var n=[];if(typeof r=="string")for(var o=0;o<this.rows.length;o++)this.rows[o].obj[r]===h&&n.push(this.rows[o]);else for(var a=0;a<this.rows.length;a++)this.rows[a].arr[r]===h&&n.push(this.rows[a]);return n}},{key:"matchRow",value:function(h,r){if(typeof r=="number"){for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[r].match(h))return this.rows[n]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[r].match(h))return this.rows[o];return null}},{key:"matchRows",value:function(h,r){var n=[];if(typeof r=="number")for(var o=0;o<this.rows.length;o++)this.rows[o].arr[r].match(h)&&n.push(this.rows[o]);else for(var a=0;a<this.rows.length;a++)this.rows[a].obj[r].match(h)&&n.push(this.rows[a]);return n}},{key:"getColumn",value:function(h){var r=[];if(typeof h=="string")for(var n=0;n<this.rows.length;n++)r.push(this.rows[n].obj[h]);else for(var o=0;o<this.rows.length;o++)r.push(this.rows[o].arr[h]);return r}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(h){this.columns.push(h||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(h,r){for(var n=[],o=0;o<h.length;o++)n.push(h.charAt(o).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var a=new RegExp(n.join("|"),"g");if(r===void 0)for(var c=0;c<this.columns.length;c++)for(var d=0;d<this.rows.length;d++){var y=(y=this.rows[d].arr[c]).replace(a,"");this.rows[d].arr[c]=y,this.rows[d].obj[this.columns[c]]=y}else if(typeof r=="string")for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].obj[r]).replace(a,""),b=(this.rows[m].obj[r]=g,this.columns.indexOf(r));this.rows[m].arr[b]=g}else for(var w=0;w<this.rows.length;w++){var _=(_=this.rows[w].arr[r]).replace(a,"");this.rows[w].arr[r]=_,this.rows[w].obj[this.columns[r]]=_}}},{key:"trim",value:function(h){var r=new RegExp(" ","g");if(h===void 0)for(var n=0;n<this.columns.length;n++)for(var o=0;o<this.rows.length;o++){var a=(a=this.rows[o].arr[n]).replace(r,"");this.rows[o].arr[n]=a,this.rows[o].obj[this.columns[n]]=a}else if(typeof h=="string")for(var c=0;c<this.rows.length;c++){var d=(d=this.rows[c].obj[h]).replace(r,""),y=(this.rows[c].obj[h]=d,this.columns.indexOf(h));this.rows[c].arr[y]=d}else for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].arr[h]).replace(r,"");this.rows[m].arr[h]=g,this.rows[m].obj[this.columns[h]]=g}}},{key:"removeColumn",value:function(o){typeof o=="string"?n=this.columns.indexOf(r=o):r=this.columns[n=o];var r,n,o=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var a=0;a<this.rows.length;a++){var c=this.rows[a].arr,d=c.splice(n+1,c.length);c.pop(),this.rows[a].arr=c.concat(d),delete this.rows[a].obj[r]}}},{key:"set",value:function(h,r,n){this.rows[h].set(r,n)}},{key:"setNum",value:function(h,r,n){this.rows[h].setNum(r,n)}},{key:"setString",value:function(h,r,n){this.rows[h].setString(r,n)}},{key:"get",value:function(h,r){return this.rows[h].get(r)}},{key:"getNum",value:function(h,r){return this.rows[h].getNum(r)}},{key:"getString",value:function(h,r){return this.rows[h].getString(r)}},{key:"getObject",value:function(h){for(var r,n={},o=0;o<this.rows.length;o++)if(r=this.rows[o].obj,typeof h=="string"){if(!(0<=this.columns.indexOf(h)))throw new Error('This table has no column named "'.concat(h,'"'));n[r[h]]=r}else n[o]=this.rows[o].obj;return n}},{key:"getArray",value:function(){for(var h=[],r=0;r<this.rows.length;r++)h.push(this.rows[r].arr);return h}}])&&u(i.prototype,p),s}(),t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(t,V,E){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(u,s){for(var i=0;i<s.length;i++){var p=s[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.TableRow=function(){function u(p,h){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var r=[];p&&(r=p.split(h=h||",")),this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}var s,i;return s=u,(i=[{key:"set",value:function(p,h){if(typeof p=="string"){var r=this.table.columns.indexOf(p);if(!(0<=r))throw new Error('This table has no column named "'.concat(p,'"'));this.obj[p]=h,this.arr[r]=h}else{if(!(p<this.table.columns.length))throw new Error("Column #".concat(p," is out of the range of this table"));this.arr[p]=h,r=this.table.columns[p],this.obj[r]=h}}},{key:"setNum",value:function(p,h){h=parseFloat(h),this.set(p,h)}},{key:"setString",value:function(p,h){h=h.toString(),this.set(p,h)}},{key:"get",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var h=parseFloat(typeof p=="string"?this.obj[p]:this.arr[p]);if(h.toString()==="NaN")throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return h}},{key:"getString",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p].toString()}}])&&f(s.prototype,i),u}(),t=t.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,p){for(var h=0;h<p.length;h++){var r=p[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function s(i){for(var p=[],h=0;h<i.length;h++)p.push(new f.default.XML(i[h]));return p}f.default.XML=function(){function i(r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");r?this.DOM=r:(r=document.implementation.createDocument(null,"doc"),this.DOM=r.createElement("root"))}var p,h;return p=i,(h=[{key:"getParent",value:function(){return new f.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(r){var n=this.DOM.innerHTML,o=this.DOM.attributes,a=document.implementation.createDocument(null,"default").createElement(r);a.innerHTML=n;for(var c=0;c<o.length;c++)a.setAttribute(o[c].nodeName,o.nodeValue);this.DOM=a}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var r=[],n=0;n<this.DOM.childNodes.length;n++)r.push(this.DOM.childNodes[n].nodeName);return r}},{key:"getChildren",value:function(r){return s(r?this.DOM.getElementsByTagName(r):this.DOM.children)}},{key:"getChild",value:function(r){if(typeof r!="string")return new f.default.XML(this.DOM.children[r]);var n=!0,o=!1,a=void 0;try{for(var c,d=this.DOM.children[Symbol.iterator]();!(n=(c=d.next()).done);n=!0){var y=c.value;if(y.tagName===r)return new f.default.XML(y)}}catch(m){o=!0,a=m}finally{try{n||d.return==null||d.return()}finally{if(o)throw a}}}},{key:"addChild",value:function(r){r instanceof f.default.XML&&this.DOM.appendChild(r.DOM)}},{key:"removeChild",value:function(r){var n=-1;if(typeof r=="string"){for(var o=0;o<this.DOM.children.length;o++)if(this.DOM.children[o].tagName===r){n=o;break}}else n=r;n!==-1&&this.DOM.removeChild(this.DOM.children[n])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var r=[],n=!0,o=!1,a=void 0;try{for(var c,d=this.DOM.attributes[Symbol.iterator]();!(n=(c=d.next()).done);n=!0){var y=c.value;r.push(y.nodeName)}}catch(m){o=!0,a=m}finally{try{n||d.return==null||d.return()}finally{if(o)throw a}}return r}},{key:"hasAttribute",value:function(r){var n={},o=!0,a=!1,c=void 0;try{for(var d,y=this.DOM.attributes[Symbol.iterator]();!(o=(d=y.next()).done);o=!0){var m=d.value;n[m.nodeName]=m.nodeValue}}catch(g){a=!0,c=g}finally{try{o||y.return==null||y.return()}finally{if(a)throw c}}return!!n[r]}},{key:"getNum",value:function(r,n){var o={},a=!0,c=!1,d=void 0;try{for(var y,m=this.DOM.attributes[Symbol.iterator]();!(a=(y=m.next()).done);a=!0){var g=y.value;o[g.nodeName]=g.nodeValue}}catch(b){c=!0,d=b}finally{try{a||m.return==null||m.return()}finally{if(c)throw d}}return Number(o[r])||n||0}},{key:"getString",value:function(r,n){var o={},a=!0,c=!1,d=void 0;try{for(var y,m=this.DOM.attributes[Symbol.iterator]();!(a=(y=m.next()).done);a=!0){var g=y.value;o[g.nodeName]=g.nodeValue}}catch(b){c=!0,d=b}finally{try{a||m.return==null||m.return()}finally{if(c)throw d}}return o[r]?String(o[r]):n||null}},{key:"setAttribute",value:function(r,n){this.DOM.setAttribute(r,n)}},{key:"getContent",value:function(r){var n=this.DOM.textContent;return(n=n.replace(/\s\s+/g,","))||r||null}},{key:"setContent",value:function(r){this.DOM.children.length||(this.DOM.textContent=r)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&u(p.prototype,h),i}(),t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(u,s,i){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(u,i),s)},f.default.prototype.dist=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("dist",s),s.length===4?Math.hypot(s[2]-s[0],s[3]-s[1]):s.length===6?Math.hypot(s[3]-s[0],s[4]-s[1],s[5]-s[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(u,s,i){return f.default._validateParameters("lerp",arguments),i*(s-u)+u},f.default.prototype.log=Math.log,f.default.prototype.mag=function(u,s){return f.default._validateParameters("mag",arguments),Math.hypot(u,s)},f.default.prototype.map=function(u,s,i,p,h,r){return f.default._validateParameters("map",arguments),u=(u-s)/(i-s)*(h-p)+p,r?p<h?this.constrain(u,p,h):this.constrain(u,h,p):u},f.default.prototype.max=function(){for(var u=function(h){var r=-1/0,n=!0,o=!1,a=void 0;try{for(var c,d=h[Symbol.iterator]();!(n=(c=d.next()).done);n=!0)var y=c.value,r=r<y?y:r}catch(m){o=!0,a=m}finally{try{n||d.return==null||d.return()}finally{if(o)throw a}}return r},s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return i[0]instanceof Array?u(i[0]):u(i)},f.default.prototype.min=function(){for(var u=function(h){var r=1/0,n=!0,o=!1,a=void 0;try{for(var c,d=h[Symbol.iterator]();!(n=(c=d.next()).done);n=!0)var y=c.value,r=y<r?y:r}catch(m){o=!0,a=m}finally{try{n||d.return==null||d.return()}finally{if(o)throw a}}return r},s=arguments.length,i=new Array(s),p=0;p<s;p++)i[p]=arguments[p];return i[0]instanceof Array?u(i[0]):u(i)},f.default.prototype.norm=function(u,s,i){return f.default._validateParameters("norm",arguments),this.map(u,s,i,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(u,s){return s?(s=Math.pow(10,s),Math.round(u*s)/s):Math.round(u)},f.default.prototype.sq=function(u){return u*u},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(p){f.default._validateParameters("fract",arguments);var s,i=0,p=Number(p);return isNaN(p)||Math.abs(p)===1/0?p:(p<0&&(p=-p,i=1),String(p).includes(".")&&!String(p).includes("e")?(s=String(p),s=+("0"+s.slice(s.indexOf("."))),Math.abs(i-s)):p<1?Math.abs(i-p):0)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(i,p,h){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(r,n,o){var a=[null];return a.push.apply(a,n),n=new(Function.bind.apply(r,a)),o&&s(n,o.prototype),n}).apply(null,arguments)}function s(i,p){return(s=Object.setPrototypeOf||function(h,r){return h.__proto__=r,h})(i,p)}f.default.prototype.createVector=function(i,p,h){return this instanceof f.default?u(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(i,p,h)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(h,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,h=(h=h("../core/main"))&&h.__esModule?h:{default:h};function f(r){return .5*(1-Math.cos(r*Math.PI))}var u,s=4095,i=4,p=.5,h=(h.default.prototype.noise=function(r){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var a=0;a<4096;a++)u[a]=Math.random()}r<0&&(r=-r),n<0&&(n=-n),o<0&&(o=-o);for(var c,d,y=Math.floor(r),m=Math.floor(n),g=Math.floor(o),b=r-y,w=n-m,_=o-g,S=0,M=.5,k=0;k<i;k++){var T=y+(m<<4)+(g<<8),A=f(b),O=f(w),R=u[T&s];R+=A*(u[T+1&s]-R),c=u[T+16&s],R+=O*((c+=A*(u[T+16+1&s]-c))-R),c=u[(T+=256)&s],c+=A*(u[T+1&s]-c),d=u[T+16&s],c+=O*((d+=A*(u[T+16+1&s]-d))-c),S+=(R+=f(_)*(c-R))*M,M*=p,y<<=1,m<<=1,g<<=1,1<=(b*=2)&&(y++,b--),1<=(w*=2)&&(m++,w--),1<=(_*=2)&&(g++,_--)}return S},h.default.prototype.noiseDetail=function(r,n){0<r&&(i=r),0<n&&(p=n)},h.default.prototype.noiseSeed=function(r){a=4294967296;var n,o,a,c={setSeed:function(y){o=n=(y??Math.random()*a)>>>0},getSeed:function(){return n},rand:function(){return(o=(1664525*o+1013904223)%a)/a}};c.setSeed(r),u=new Array(4096);for(var d=0;d<4096;d++)u[d]=c.rand()},h.default);E.default=h},{"../core/main":275}],308:[function(t,V,E){function f(a){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function u(a){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(c){return f(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":f(c)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(o=t("../core/main"))&&o.__esModule?o:{default:o},i=function(a){if(a&&a.__esModule)return a;if(a===null||u(a)!=="object"&&typeof a!="function")return{default:a};var c=p();if(c&&c.has(a))return c.get(a);var d,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in a){var g;Object.prototype.hasOwnProperty.call(a,d)&&((g=m?Object.getOwnPropertyDescriptor(a,d):null)&&(g.get||g.set)?Object.defineProperty(y,d,g):y[d]=a[d])}return y.default=a,c&&c.set(a,y),y}(t("../core/constants"));function p(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,p=function(){return a},a)}function h(a,c){for(var d=0;d<c.length;d++){var y=c[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}function r(a,c){return a!==0&&(this.x=this.x%a),c!==0&&(this.y=this.y%c),this}function n(a,c,d){return a!==0&&(this.x=this.x%a),c!==0&&(this.y=this.y%c),d!==0&&(this.z=this.z%d),this}s.default.Vector=function(){function a(){var w=this,m=a;if(!(w instanceof m))throw new TypeError("Cannot call a class as a function");var g,b,w=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],g=(arguments.length<=2?void 0:arguments[2])||0,b=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(g=(arguments.length<=0?void 0:arguments[0])||0,b=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=g,this.y=b,this.z=w}var c,d,y;return c=a,y=[{key:"fromAngle",value:function(m,g){return new s.default.Vector((g=g===void 0?1:g)*Math.cos(m),g*Math.sin(m),0)}},{key:"fromAngles",value:function(M,_,b){b===void 0&&(b=1);var w=Math.cos(_),_=Math.sin(_),S=Math.cos(M),M=Math.sin(M);return new s.default.Vector(b*M*_,-b*S,b*M*w)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*i.TWO_PI)}},{key:"random3D",value:function(){var m=Math.random()*i.TWO_PI,g=2*Math.random()-1,w=Math.sqrt(1-g*g),b=w*Math.cos(m),w=w*Math.sin(m);return new s.default.Vector(b,w,g)}},{key:"copy",value:function(m){return m.copy(m)}},{key:"add",value:function(m,g,b){return b?b.set(m):(b=m.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),b.add(g),b}},{key:"rem",value:function(m,g){if(m instanceof s.default.Vector&&g instanceof s.default.Vector)return(m=m.copy()).rem(g),m}},{key:"sub",value:function(m,g,b){return b?b.set(m):(b=m.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),b.sub(g),b}},{key:"mult",value:function(m,g,b){return b?b.set(m):(b=m.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),b.mult(g),b}},{key:"rotate",value:function(m,g,b){return arguments.length===2?b=m.copy():(b instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),b.set(m)),b.rotate(g),b}},{key:"div",value:function(m,g,b){return b?b.set(m):(b=m.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),b.div(g),b}},{key:"dot",value:function(m,g){return m.dot(g)}},{key:"cross",value:function(m,g){return m.cross(g)}},{key:"dist",value:function(m,g){return m.dist(g)}},{key:"lerp",value:function(m,g,b,w){return w?w.set(m):(w=m.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),w.lerp(g,b),w}},{key:"slerp",value:function(m,g,b,w){return w?w.set(m):(w=m.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),w.slerp(g,b),w}},{key:"mag",value:function(m){return m.mag()}},{key:"magSq",value:function(m){return m.magSq()}},{key:"normalize",value:function(m,g){return arguments.length<2?g=m.copy():(g instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),g.set(m)),g.normalize()}},{key:"limit",value:function(m,g,b){return arguments.length<3?b=m.copy():(b instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),b.set(m)),b.limit(g)}},{key:"setMag",value:function(m,g,b){return arguments.length<3?b=m.copy():(b instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),b.set(m)),b.setMag(g)}},{key:"heading",value:function(m){return m.heading()}},{key:"angleBetween",value:function(m,g){return m.angleBetween(g)}},{key:"reflect",value:function(m,g,b){return arguments.length<3?b=m.copy():(b instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),b.set(m)),b.reflect(g)}},{key:"array",value:function(m){return m.array()}},{key:"equals",value:function(m,g){var b;return m instanceof s.default.Vector?b=m:m instanceof Array?b=new s.default.Vector().set(m):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),b.equals(g)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(m,g,b){return m instanceof s.default.Vector?(this.x=m.x||0,this.y=m.y||0,this.z=m.z||0):Array.isArray(m)?(this.x=m[0]||0,this.y=m[1]||0,this.z=m[2]||0):(this.x=m||0,this.y=g||0,this.z=b||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(m,g,b){return m instanceof s.default.Vector?(this.x+=m.x||0,this.y+=m.y||0,this.z+=m.z||0):Array.isArray(m)?(this.x+=m[0]||0,this.y+=m[1]||0,this.z+=m[2]||0):(this.x+=m||0,this.y+=g||0,this.z+=b||0),this}},{key:"rem",value:function(m,g,b){var w;if(m instanceof s.default.Vector){if([m.x,m.y,m.z].every(Number.isFinite))return _=parseFloat(m.x),S=parseFloat(m.y),w=parseFloat(m.z),n.call(this,_,S,w)}else if(Array.isArray(m)){if(m.every(function(M){return Number.isFinite(M)}))return m.length===2?r.call(this,m[0],m[1]):m.length===3?n.call(this,m[0],m[1],m[2]):void 0}else if(arguments.length===1){if(Number.isFinite(m)&&m!==0)return this.x=this.x%m,this.y=this.y%m,this.z=this.z%m,this}else if(arguments.length===2){var _=Array.prototype.slice.call(arguments);if(_.every(function(M){return Number.isFinite(M)})&&_.length===2)return r.call(this,_[0],_[1])}else if(arguments.length===3){var S=Array.prototype.slice.call(arguments);if(S.every(function(M){return Number.isFinite(M)})&&S.length===3)return n.call(this,S[0],S[1],S[2])}}},{key:"sub",value:function(m,g,b){return m instanceof s.default.Vector?(this.x-=m.x||0,this.y-=m.y||0,this.z-=m.z||0):Array.isArray(m)?(this.x-=m[0]||0,this.y-=m[1]||0,this.z-=m[2]||0):(this.x-=m||0,this.y-=g||0,this.z-=b||0),this}},{key:"mult",value:function(m,g,b){var w;return m instanceof s.default.Vector?Number.isFinite(m.x)&&Number.isFinite(m.y)&&Number.isFinite(m.z)&&typeof m.x=="number"&&typeof m.y=="number"&&typeof m.z=="number"?(this.x*=m.x,this.y*=m.y,this.z*=m.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(m)?m.every(function(_){return Number.isFinite(_)})&&m.every(function(_){return typeof _=="number"})?m.length===1?(this.x*=m[0],this.y*=m[0],this.z*=m[0]):m.length===2?(this.x*=m[0],this.y*=m[1]):m.length===3&&(this.x*=m[0],this.y*=m[1],this.z*=m[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(w=Array.prototype.slice.call(arguments)).every(function(_){return Number.isFinite(_)})&&w.every(function(_){return typeof _=="number"})?(arguments.length===1&&(this.x*=m,this.y*=m,this.z*=m),arguments.length===2&&(this.x*=m,this.y*=g),arguments.length===3&&(this.x*=m,this.y*=g,this.z*=b)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(m,g,b){if(m instanceof s.default.Vector)if(Number.isFinite(m.x)&&Number.isFinite(m.y)&&Number.isFinite(m.z)&&typeof m.x=="number"&&typeof m.y=="number"&&typeof m.z=="number"){var w=m.z===0&&this.z===0;if(m.x===0||m.y===0||!w&&m.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=m.x,this.y/=m.y,w||(this.z/=m.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(m))if(m.every(function(_){return Number.isFinite(_)})&&m.every(function(_){return typeof _=="number"})){if(m.some(function(_){return _===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;m.length===1?(this.x/=m[0],this.y/=m[0],this.z/=m[0]):m.length===2?(this.x/=m[0],this.y/=m[1]):m.length===3&&(this.x/=m[0],this.y/=m[1],this.z/=m[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(w=Array.prototype.slice.call(arguments),w.every(function(_){return Number.isFinite(_)})&&w.every(function(_){return typeof _=="number"})){if(w.some(function(_){return _===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=m,this.y/=m,this.z/=m),arguments.length===2&&(this.x/=m,this.y/=g),arguments.length===3&&(this.x/=m,this.y/=g,this.z/=b)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var m=this.x,g=this.y,b=this.z;return m*m+g*g+b*b}},{key:"dot",value:function(m,g,b){return m instanceof s.default.Vector?this.dot(m.x,m.y,m.z):this.x*(m||0)+this.y*(g||0)+this.z*(b||0)}},{key:"cross",value:function(w){var g=this.y*w.z-this.z*w.y,b=this.z*w.x-this.x*w.z,w=this.x*w.y-this.y*w.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,g,b,w):new s.default.Vector(g,b,w)}},{key:"dist",value:function(m){return m.copy().sub(this).mag()}},{key:"normalize",value:function(){var m=this.mag();return m!==0&&this.mult(1/m),this}},{key:"limit",value:function(m){var g=this.magSq();return m*m<g&&this.div(Math.sqrt(g)).mult(m),this}},{key:"setMag",value:function(m){return this.normalize().mult(m)}},{key:"heading",value:function(){var m=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(m):m}},{key:"setHeading",value:function(m){this.isPInst&&(m=this._toRadians(m));var g=this.mag();return this.x=g*Math.cos(m),this.y=g*Math.sin(m),this}},{key:"rotate",value:function(g){var g=this.heading()+g,b=(this.isPInst&&(g=this._toRadians(g)),this.mag());return this.x=Math.cos(g)*b,this.y=Math.sin(g)*b,this}},{key:"angleBetween",value:function(m){var g;return this.magSq()*m.magSq()==0?NaN:(g=this.cross(m),m=Math.atan2(g.mag(),this.dot(m))*Math.sign(g.z||1),this.isPInst?this._fromRadians(m):m)}},{key:"lerp",value:function(m,g,b,w){return m instanceof s.default.Vector?this.lerp(m.x,m.y,m.z,g):(this.x+=(m-this.x)*w||0,this.y+=(g-this.y)*w||0,this.z+=(b-this.z)*w||0,this)}},{key:"slerp",value:function(m,g){if(g!==0){if(g===1)return this.set(m);var b=this.mag(),w=m.mag();if(b*w==0)this.mult(1-g).add(m.x*g,m.y*g,m.z*g);else{var _=this.cross(m),S=_.mag(),M=Math.atan2(S,this.dot(m));if(0<S)_.x/=S,_.y/=S,_.z/=S;else{if(M<.5*Math.PI)return this.mult(1-g).add(m.x*g,m.y*g,m.z*g),this;this.z===0&&m.z===0?_.set(0,0,1):this.x!==0?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}S=_.cross(this),m=1-g+g*w/b,_=m*Math.cos(g*M),w=m*Math.sin(g*M),this.x=this.x*_+S.x*w,this.y=this.y*_+S.y*w,this.z=this.z*_+S.z*w}}return this}},{key:"reflect",value:function(m){return m.normalize(),this.sub(m.mult(2*this.dot(m)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(S,g,b){var w,_,S=S instanceof s.default.Vector?(w=S.x||0,_=S.y||0,S.z||0):Array.isArray(S)?(w=S[0]||0,_=S[1]||0,S[2]||0):(w=S||0,_=g||0,b||0);return this.x===w&&this.y===_&&this.z===S}}])&&h(c.prototype,d),y&&h(c,y),a}();var o=s.default.Vector;E.default=o},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(p,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(p=p("../core/main"))&&p.__esModule?p:{default:p},u="_lcg_random_state",s=4294967296,i=0,p=(f.default.prototype._lcg=function(h){return this[h]=(1664525*this[h]+1013904223)%s,this[h]/s},f.default.prototype._lcgSetSeed=function(h,r){this[h]=(r??Math.random()*s)>>>0},f.default.prototype.randomSeed=function(h){this._lcgSetSeed(u,h),this._gaussian_previous=!1},f.default.prototype.random=function(h,r){var n,o;return f.default._validateParameters("random",arguments),n=this[u]!=null?this._lcg(u):Math.random(),h===void 0?n:r===void 0?h instanceof Array?h[Math.floor(n*h.length)]:n*h:(r<h&&(o=h,h=r,r=o),n*(r-h)+h)},f.default.prototype.randomGaussian=function(h){var r,n,o,a,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)r=i,this._gaussian_previous=!1;else{for(;1<=(a=(n=this.random(2)-1)*n+(o=this.random(2)-1)*o););r=n*(a=Math.sqrt(-2*Math.log(a)/a)),i=o*a,this._gaussian_previous=!0}return r*c+(h||0)},f.default);E.default=p},{"../core/main":275}],310:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.prototype._angleMode=i.RADIANS,s.default.prototype.acos=function(r){return this._fromRadians(Math.acos(r))},s.default.prototype.asin=function(r){return this._fromRadians(Math.asin(r))},s.default.prototype.atan=function(r){return this._fromRadians(Math.atan(r))},s.default.prototype.atan2=function(r,n){return this._fromRadians(Math.atan2(r,n))},s.default.prototype.cos=function(r){return Math.cos(this._toRadians(r))},s.default.prototype.sin=function(r){return Math.sin(this._toRadians(r))},s.default.prototype.tan=function(r){return Math.tan(this._toRadians(r))},s.default.prototype.degrees=function(r){return r*i.RAD_TO_DEG},s.default.prototype.radians=function(r){return r*i.DEG_TO_RAD},s.default.prototype.angleMode=function(r){if(s.default._validateParameters("angleMode",arguments),r===void 0)return this._angleMode;r!==i.DEGREES&&r!==i.RADIANS||(this._angleMode=r)},s.default.prototype._toRadians=function(r){return this._angleMode===i.DEGREES?r*i.DEG_TO_RAD:r},s.default.prototype._toDegrees=function(r){return this._angleMode===i.RADIANS?r*i.RAD_TO_DEG:r},s.default.prototype._fromRadians=function(r){return this._angleMode===i.DEGREES?r*i.RAD_TO_DEG:r};var h=s.default;E.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(t,V,E){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.textAlign=function(u,s){var i;return f.default._validateParameters("textAlign",arguments),(i=this._renderer).textAlign.apply(i,arguments)},f.default.prototype.textLeading=function(u){var s;return f.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},f.default.prototype.textSize=function(u){var s;return f.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},f.default.prototype.textStyle=function(u){var s;return f.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},f.default.prototype.textWidth=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];if(s[0]+="",f.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var p=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),h=[],r=0;r<p.length;r++)h.push(this._renderer.textWidth(p[r]));return Math.max.apply(Math,h)},f.default.prototype.textAscent=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("textAscent",s),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("textDescent",s),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(u){if(u!=="WORD"&&u!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(u)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=r(t("../core/constants")),p=r(t("opentype.js"));function h(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,h=function(){return o},o)}function r(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=h();if(a&&a.has(o))return a.get(o);var c,d,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&((d=m?Object.getOwnPropertyDescriptor(o,c):null)&&(d.get||d.set)?Object.defineProperty(y,c,d):y[c]=o[c]);return y.default=o,a&&a.set(o,y),y}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(o,a,c){s.default._validateParameters("loadFont",arguments);var d=new s.default.Font(this),y=this;return p.load(o,function(b,w){if(b)return s.default._friendlyFileLoadError(4,o),c!==void 0?c(b):void console.error(b,o);d.font=w,a!==void 0&&a(d),y._decrementPreload();var b=o.split("\\").pop().split("/").pop(),w=b.lastIndexOf("."),_=w<1?null:b.slice(w+1);["ttf","otf","woff","woff2"].includes(_)&&(_=b.slice(0,w!==-1?w:0),(b=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(_,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(b))}),d},s.default.prototype.text=function(o,a,c,d,y){var m;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(m=this._renderer).text.apply(m,arguments):this},s.default.prototype.textFont=function(o,a){if(s.default._validateParameters("textFont",arguments),arguments.length){if(o)return this._renderer._setProperty("_textFont",o),a&&(this._renderer._setProperty("_textSize",a),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",a*i._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var n=s.default;E.default=n},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(t,V,E){function f(S){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},s=function(S){if(S&&S.__esModule)return S;if(S===null||p(S)!=="object"&&typeof S!="function")return{default:S};var M=i();if(M&&M.has(S))return M.get(S);var k,T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in S){var O;Object.prototype.hasOwnProperty.call(S,k)&&((O=A?Object.getOwnPropertyDescriptor(S,k):null)&&(O.get||O.set)?Object.defineProperty(T,k,O):T[k]=S[k])}return T.default=S,M&&M.set(S,T),T}(t("../core/constants"));function i(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,i=function(){return S},S)}function p(S){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(M){return f(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":f(M)})(S)}function h(S,M){for(var k=0;k<M.length;k++){var T=M[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}function r(S,M){var k=S.length;return S[M<0?M%k+k:M%k]}function n(S,M,k,T){var A,O,R;return T?(n.tmpPoint1===void 0&&(n.tmpPoint1=[],n.tmpPoint2=[]),O=n.tmpPoint1,R=n.tmpPoint2,O.x=M.x-S.x,O.y=M.y-S.y,R.x=k.x-M.x,R.y=k.y-M.y,A=O.x*R.x+O.y*R.y,O=Math.sqrt(O.x*O.x+O.y*O.y),R=Math.sqrt(R.x*R.x+R.y*R.y),Math.acos(A/(O*R))<T):(M[0]-S[0])*(k[1]-S[1])-(k[0]-S[0])*(M[1]-S[1])==0}function o(L,q,D,J,te,O,R,U,B){var W=1-B,z=Math.pow(W,3),Y=Math.pow(W,2),C=B*B,Z=C*B,N=z*L+3*Y*B*D+3*W*B*B*te+Z*R,z=z*q+3*Y*B*J+3*W*B*B*O+Z*U,Y=L+2*B*(D-L)+C*(te-2*D+L),Z=q+2*B*(J-q)+C*(O-2*J+q),G=D+2*B*(te-D)+C*(R-2*te+D),C=J+2*B*(O-J)+C*(U-2*O+J),L=W*L+B*D,D=W*q+B*J,q=W*te+B*R,J=W*O+B*U,te=90-180*Math.atan2(Y-G,Z-C)/Math.PI;return(G<Y||Z<C)&&(te+=180),{x:N,y:z,m:{x:Y,y:Z},n:{x:G,y:C},start:{x:L,y:D},end:{x:q,y:J},alpha:te}}function a(S,M,k,T,A,O,R,U,B){return B==null?w(S,M,k,T,A,O,R,U):o(S,M,k,T,A,O,R,U,function(W,N,z,Y,Z,G,C,L,D){if(!(D<0||w(W,N,z,Y,Z,G,C,L)<D)){var q,J=.5,te=1-J;for(q=w(W,N,z,Y,Z,G,C,L,te);.01<Math.abs(q-D);)q=w(W,N,z,Y,Z,G,C,L,te+=(q<D?1:-1)*(J/=2));return te}}(S,M,k,T,A,O,R,U,B))}function c(S,M,k){for(var T,A,O,R,U,B=0,W=0,N=(S=function(z,Y){function Z(he,xe,Te){var Ae,Ee;if(!he)return["C",xe.x,xe.y,xe.x,xe.y,xe.x,xe.y];switch(he[0]in{T:1,Q:1}||(xe.qx=xe.qy=null),he[0]){case"M":xe.X=he[1],xe.Y=he[2];break;case"A":he=["C"].concat(y.apply(0,[xe.x,xe.y].concat(he.slice(1))));break;case"S":Ee=Te==="C"||Te==="S"?(Ae=2*xe.x-xe.bx,2*xe.y-xe.by):(Ae=xe.x,xe.y),he=["C",Ae,Ee].concat(he.slice(1));break;case"T":Te==="Q"||Te==="T"?(xe.qx=2*xe.x-xe.qx,xe.qy=2*xe.y-xe.qy):(xe.qx=xe.x,xe.qy=xe.y),he=["C"].concat(b(xe.x,xe.y,xe.qx,xe.qy,he[1],he[2]));break;case"Q":xe.qx=he[1],xe.qy=he[2],he=["C"].concat(b(xe.x,xe.y,he[1],he[2],he[3],he[4]));break;case"L":he=["C"].concat(g(xe.x,xe.y,he[1],he[2]));break;case"H":he=["C"].concat(g(xe.x,xe.y,he[1],xe.y));break;case"V":he=["C"].concat(g(xe.x,xe.y,xe.x,he[1]));break;case"Z":he=["C"].concat(g(xe.x,xe.y,xe.X,xe.Y))}return he}function G(he,xe){if(7<he[xe].length){he[xe].shift();for(var Te=he[xe];Te.length;)se[xe]="A",q&&(ce[xe]="A"),he.splice(xe++,0,["C"].concat(Te.splice(0,6)));he.splice(xe,1),L=Math.max(D.length,q&&q.length||0)}}function C(he,xe,Te,Ae,Ee){he&&xe&&he[Ee][0]==="M"&&xe[Ee][0]!=="M"&&(xe.splice(Ee,0,["M",Ae.x,Ae.y]),Te.bx=0,Te.by=0,Te.x=he[Ee][1],Te.y=he[Ee][2],L=Math.max(D.length,q&&q.length||0))}var L,D=d(z),q=Y&&d(Y),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se=[],ce=[],ne="",ae="";L=Math.max(D.length,q&&q.length||0);for(var de=0;de<L;de++){(ne=D[de]?D[de][0]:ne)!=="C"&&(se[de]=ne,de&&(ae=se[de-1])),D[de]=Z(D[de],J,ae),se[de]!=="A"&&ne==="C"&&(se[de]="C"),G(D,de),q&&((ne=q[de]?q[de][0]:ne)!=="C"&&(ce[de]=ne,de&&(ae=ce[de-1])),q[de]=Z(q[de],te,ae),ce[de]!=="A"&&ne==="C"&&(ce[de]="C"),G(q,de)),C(D,q,J,te,de),C(q,D,te,J,de);var Q=D[de],ie=q&&q[de],me=Q.length,ve=q&&ie.length;J.x=Q[me-2],J.y=Q[me-1],J.bx=parseFloat(Q[me-4])||J.x,J.by=parseFloat(Q[me-3])||J.y,te.bx=q&&(parseFloat(ie[ve-4])||te.x),te.by=q&&(parseFloat(ie[ve-3])||te.y),te.x=q&&ie[ve-2],te.y=q&&ie[ve-1]}return q?[D,q]:D}(S)).length;W<N;W++){if((O=S[W])[0]==="M")T=+O[1],A=+O[2];else{if(M<B+(R=a(T,A,O[1],O[2],O[3],O[4],O[5],O[6]))&&!k)return{x:(U=a(T,A,O[1],O[2],O[3],O[4],O[5],O[6],M-B)).x,y:U.y,alpha:U.alpha};B+=R,T=+O[5],A=+O[6]}O.shift()}return U=(U=k?B:o(T,A,O[0],O[1],O[2],O[3],O[4],O[5],1)).alpha?{x:U.x,y:U.y,alpha:U.alpha}:U}function d(S){var M=[],k=0,T=0,A=0,O=0,R=0;if(S){S[0][0]==="M"&&(A=k=+S[0][1],O=T=+S[0][2],R++,M[0]=["M",k,T]);for(var U,B,W=S.length===3&&S[0][0]==="M"&&S[1][0].toUpperCase()==="R"&&S[2][0].toUpperCase()==="Z",N=R,z=S.length;N<z;N++){if(M.push(U=[]),(B=S[N])[0]!==String.prototype.toUpperCase.call(B[0]))switch(U[0]=String.prototype.toUpperCase.call(B[0]),U[0]){case"A":U[1]=B[1],U[2]=B[2],U[3]=B[3],U[4]=B[4],U[5]=B[5],U[6]=+(B[6]+k),U[7]=+(B[7]+T);break;case"V":U[1]=+B[1]+T;break;case"H":U[1]=+B[1]+k;break;case"R":for(var Y,Z=2,G=(Y=[k,T].concat(B.slice(1))).length;Z<G;Z++)Y[Z]=+Y[Z]+k,Y[++Z]=+Y[Z]+T;M.pop(),M=M.concat(m(Y,W));break;case"M":A=+B[1]+k,O=+B[2]+T;break;default:for(var C=1,L=B.length;C<L;C++)U[C]=+B[C]+(C%2?k:T)}else if(B[0]==="R")Y=[k,T].concat(B.slice(1)),M.pop(),M=M.concat(m(Y,W)),U=["R"].concat(B.slice(-2));else for(var D=0,q=B.length;D<q;D++)U[D]=B[D];switch(U[0]){case"Z":k=A,T=O;break;case"H":k=U[1];break;case"V":T=U[1];break;case"M":A=U[U.length-2],O=U[U.length-1];break;default:k=U[U.length-2],T=U[U.length-1]}}}return M}function y(S,M,k,T,q,se,J,U,B,W){function N(ve,he,xe){return{x:ve*Math.cos(xe)-he*Math.sin(xe),y:ve*Math.sin(xe)+he*Math.cos(xe)}}var z,L=Math.PI,D=120*L/180,Y=L/180*(+q||0),Z=[],G=(W?(de=W[0],z=W[1],ne=W[2],ae=W[3]):(S=(te=N(S,M,-Y)).x,M=te.y,1<(G=(C=(S-(U=(te=N(U,B,-Y)).x))/2)*C/(k*k)+(te=(M-(B=te.y))/2)*te/(T*T))&&(k*=G=Math.sqrt(G),T*=G),G=k*k,ce=T*T,ne=(se=(se===J?-1:1)*Math.sqrt(Math.abs((G*ce-G*te*te-ce*C*C)/(G*te*te+ce*C*C))))*k*te/T+(S+U)/2,ae=se*-T*C/k+(M+B)/2,de=Math.asin(((M-ae)/T).toFixed(9)),z=Math.asin(((B-ae)/T).toFixed(9)),(de=S<ne?L-de:de)<0&&(de=2*L+de),(z=U<ne?L-z:z)<0&&(z=2*L+z),J&&z<de&&(de-=2*L),!J&&de<z&&(z-=2*L)),z-de),C=(Math.abs(G)>D&&(ce=z,te=U,se=B,z=de+D*(J&&de<z?1:-1),Z=y(U=ne+k*Math.cos(z),B=ae+T*Math.sin(z),k,T,q,0,J,te,se,[z,ce,ne,ae])),G=z-de,Math.cos(de)),L=Math.sin(de),D=Math.cos(z),q=Math.sin(z),J=Math.tan(G/4),te=4/3*k*J,se=4/3*T*J,ce=[S,M],ne=[S+te*L,M-se*C],ae=[U+te*q,B-se*D],de=[U,B];if(ne[0]=2*ce[0]-ne[0],ne[1]=2*ce[1]-ne[1],W)return[ne,ae,de].concat(Z);for(var Q=[],ie=0,me=(Z=[ne,ae,de].concat(Z).join().split(",")).length;ie<me;ie++)Q[ie]=ie%2?N(Z[ie-1],Z[ie],Y).y:N(Z[ie],Z[ie+1],Y).x;return Q}function m(S,M){for(var k=[],T=0,A=S.length;T<A-2*!M;T+=2){var O=[{x:+S[T-2],y:+S[T-1]},{x:+S[T],y:+S[T+1]},{x:+S[T+2],y:+S[T+3]},{x:+S[T+4],y:+S[T+5]}];M?T?A-4===T?O[3]={x:+S[0],y:+S[1]}:A-2===T&&(O[2]={x:+S[0],y:+S[1]},O[3]={x:+S[2],y:+S[3]}):O[0]={x:+S[A-2],y:+S[A-1]}:A-4===T?O[3]=O[2]:T||(O[0]={x:+S[T],y:+S[T+1]}),k.push(["C",(-O[0].x+6*O[1].x+O[2].x)/6,(-O[0].y+6*O[1].y+O[2].y)/6,(O[1].x+6*O[2].x-O[3].x)/6,(O[1].y+6*O[2].y-O[3].y)/6,O[2].x,O[2].y])}return k}function g(S,M,k,T){return[S,M,k,T,k,T]}function b(S,M,k,T,A,O){return[1/3*S+2/3*k,1/3*M+2/3*T,1/3*A+2/3*k,1/3*O+2/3*T,A,O]}function w(S,M,k,T,A,O,R,U,B){for(var W=(B=1<(B=B??1)?1:B<0?0:B)/2,N=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],z=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Z=0;Z<12;Z++){var C=W*N[Z]+W,G=_(C,S,k,A,R),C=_(C,M,T,O,U);z+=Y[Z]*Math.sqrt(G*G+C*C)}return W*z}function _(S,M,k,T,A){return S*(S*(-3*M+9*k-9*T+3*A)+6*M-12*k+6*T)-3*M+3*k}u.default.Font=function(){function S(T){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.parent=T,this.cache={},this.font=void 0}var M,k;return M=S,(k=[{key:"textBounds",value:function(T){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,W=3<arguments.length?arguments[3]:void 0,R=4<arguments.length?arguments[4]:void 0,U=R&&R.renderer&&R.renderer._pInst||this.parent,B=U._renderer.drawingContext,W=(B.textAlign||s.LEFT,B.textBaseline||s.BASELINE,W||U._renderer._textSize);if(!te){for(var N=[],z=[],Y=[],Z=(Y[0]=[],[]),G=this._scale(W),C=U._renderer.textLeading(),L=0,D=(this.font.forEachGlyph(T,A,O,W,R,function(ne,ae,de,Q){var ie=ne.getMetrics();ne.index===0||ne.index===10?Y[L+=1]=[]:(Y[L].push(ae+ie.xMin*G),Y[L].push(ae+ie.xMax*G),Z.push(de+L*C+-ie.yMin*G),Z.push(de+L*C+-ie.yMax*G))}),0<Y[L].length&&(N[L]=Math.min.apply(null,Y[L]),z[L]=Math.max.apply(null,Y[L])),0),q=0;q<=L;q++){N[q]=Math.min.apply(null,Y[q]),z[q]=Math.max.apply(null,Y[q]);var J=z[q]-N[q];D<J&&(D=J)}var B=Math.min.apply(null,N),te={x:B,y:O=Math.min.apply(null,Z),h:Math.max.apply(null,Z)-O,w:D,advance:B-A},W=this._handleAlignment(U._renderer,T,te.x,te.y,te.w+te.advance);te.x=W.x,te.y=W.y}return te}},{key:"textToPoints",value:function(T,A,O,R,U){var B=A,W=[],N=T.split(/\r?\n|\r|\n/g);R=R||this.parent._renderer._textSize;for(var z,Y,Z,G=0;G<N.length;G++){var C=0;A=B;for(var L=(L=N[G]).replace("	","  "),D=this._getGlyphs(L),q=0;q<D.length;q++){if(Y=L,!((Z=D)[z=q].name&&Z[z].name==="space"||Y.length===Z.length&&Y[z]===" "))for(var J=function(ne){for(var ae,de=[],Q=0;Q<ne.length;Q++)ne[Q].type==="M"&&(ae&&de.push(ae),ae=[]),ae.push(function(ie){var me=[ie.type];return ie.type==="M"||ie.type==="L"?me.push(ie.x,ie.y):ie.type==="C"?me.push(ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y):ie.type==="Q"&&me.push(ie.x1,ie.y1,ie.x,ie.y),me}(ne[Q]));return de.push(ae),de}(D[q].getPath(A,O,R).commands),te=0;te<J.length;te++)for(var se=function(ne,ae){for(var ae=function(he,xe){if(p(he)!=="object")he=xe;else for(var Te in xe)he[Te]===void 0&&(he[Te]=xe[Te]);return he}(ae,{sampleFactor:.1,simplifyThreshold:0}),de=c(ne,0,1),Q=de/(de*ae.sampleFactor),ie=[],me=0;me<de;me+=Q)ie.push(c(ne,me));return ae.simplifyThreshold&&function(ve){for(var he=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,xe=0,Te=ve.length-1;3<ve.length&&0<=Te;--Te)n(r(ve,Te-1),r(ve,Te),r(ve,Te+1),he)&&(ve.splice(Te%ve.length,1),xe++)}(ie,ae.simplifyThreshold),ie}(J[te],U),ce=0;ce<se.length;ce++)se[ce].x+=C,W.push(se[ce]);C+=D[q].advanceWidth*this._scale(R)}O+=this.parent._renderer._textLeading}return W}},{key:"_getGlyphs",value:function(T){return this.font.stringToGlyphs(T)}},{key:"_getPath",value:function(T,B,O,R){var U=(R&&R.renderer&&R.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(U,T,B,O);return this.font.getPath(T,B.x,B.y,U._textSize,R)}},{key:"_getPathData",value:function(T,A,O,R){var U=3;return typeof T=="string"&&2<arguments.length?T=this._getPath(T,A,O,R):p(A)==="object"&&(R=A),R&&typeof R.decimals=="number"&&(U=R.decimals),T.toPathData(U)}},{key:"_getSVG",value:function(T,A,O,R){var U=3;return typeof T=="string"&&2<arguments.length?T=this._getPath(T,A,O,R):p(A)==="object"&&(R=A),R&&(typeof R.decimals=="number"&&(U=R.decimals),typeof R.strokeWidth=="number"&&(T.strokeWidth=R.strokeWidth),R.fill!==void 0&&(T.fill=R.fill),R.stroke!==void 0&&(T.stroke=R.stroke)),T.toSVG(U)}},{key:"_renderPath",value:function(W,z,Y,R){var U=R&&R.renderer||this.parent._renderer,B=U.drawingContext,W=(p(W)==="object"&&W.commands?W:this._getPath(W,z,Y,R)).commands,N=(B.beginPath(),!0),z=!1,Y=void 0;try{for(var Z,G=W[Symbol.iterator]();!(N=(Z=G.next()).done);N=!0){var C=Z.value;C.type==="M"?B.moveTo(C.x,C.y):C.type==="L"?B.lineTo(C.x,C.y):C.type==="C"?B.bezierCurveTo(C.x1,C.y1,C.x2,C.y2,C.x,C.y):C.type==="Q"?B.quadraticCurveTo(C.x1,C.y1,C.x,C.y):C.type==="Z"&&B.closePath()}}catch(L){z=!0,Y=L}finally{try{N||G.return==null||G.return()}finally{if(z)throw Y}}return U._doStroke&&U._strokeSet&&!U._clipping&&B.stroke(),U._doFill&&!U._clipping&&(U._fillSet||U._setFill(s._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(T,A){return this.font.getAdvanceWidth(T,A)}},{key:"_textAscent",value:function(T){return this.font.ascender*this._scale(T)}},{key:"_textDescent",value:function(T){return-this.font.descender*this._scale(T)}},{key:"_scale",value:function(T){return 1/this.font.unitsPerEm*(T||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(T,A,O,R,U){var B=T._textSize;switch(U===void 0&&(U=this._textWidth(A,B)),T._textAlign){case s.CENTER:O-=U/2;break;case s.RIGHT:O-=U}switch(T._textBaseline){case s.TOP:R+=this._textAscent(B);break;case s.CENTER:R+=this._textAscent(B)/2;break;case s.BOTTOM:R-=this._textDescent(B)}return{x:O,y:R}}}])&&h(M.prototype,k),S}(),t=u.default,E.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(f,u){return f.push(u),f},t.default.prototype.arrayCopy=function(f,u,s,i,p){var h,r;f=p!==void 0?(r=Math.min(p,f.length),h=i,f.slice(u,r+u)):(r=s!==void 0?(r=s,Math.min(r,f.length)):f.length,s=u,f.slice(h=0,r)),Array.prototype.splice.apply(s,[h,r].concat(f))},t.default.prototype.concat=function(f,u){return f.concat(u)},t.default.prototype.reverse=function(f){return f.reverse()},t.default.prototype.shorten=function(f){return f.pop(),f},t.default.prototype.shuffle=function(f,u){for(var s,i,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),h=(f=u||p?f:f.slice()).length;1<h;)s=this.random(0,1)*h|0,i=f[--h],f[h]=f[s],f[s]=i;return f},t.default.prototype.sort=function(f,i){var s=i?f.slice(0,Math.min(i,f.length)):f,i=i?f.slice(Math.min(i,f.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(p,h){return p-h})).concat(i)},t.default.prototype.splice=function(f,u,s){return Array.prototype.splice.apply(f,[s,0].concat(u)),f},t.default.prototype.subset=function(f,u,s){return s!==void 0?f.slice(u,u+s):f.slice(u,f.length)},t=t.default,E.default=t},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(t,V,E){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},f.default.prototype.int=function(u){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,s):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(i){return f.default.prototype.int(i,s)}):void 0},f.default.prototype.str=function(u){return u instanceof Array?u.map(f.default.prototype.str):String(u)},f.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(u){return u=f.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(f.default.prototype.char):typeof u=="string"?f.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},f.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(u,s){if(s=s??8,u instanceof Array)return u.map(function(p){return f.default.prototype.hex(p,s)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(s);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var i=Number(u).toString(16).toUpperCase();i.length<s;)i="0".concat(i);return i=i.length>=s?i.substring(i.length-s,i.length):i}},f.default.prototype.unhex=function(u){return u instanceof Array?u.map(f.default.prototype.unhex):parseInt("0x".concat(u),16)},t=f.default,E.default=t},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(r=t("../core/main"))&&r.__esModule?r:{default:r};function u(n,o){return function(a){if(Array.isArray(a))return a}(n)||function(a,c){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var d=[],y=!0,m=!1,g=void 0;try{for(var b,w=a[Symbol.iterator]();!(y=(b=w.next()).done)&&(d.push(b.value),!c||d.length!==c);y=!0);}catch(_){m=!0,g=_}finally{try{y||w.return==null||w.return()}finally{if(m)throw g}}return d}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(n,o,a){var d=u(n.toString().split("."),2),c=d[0],d=d[1];return a===void 0?(c=c.padStart(o,"0"),d?c+"."+d:c):(c=(n=u(n.toFixed(a).toString().split("."),2))[0],d=n[1],c=c.padStart(o,"0"),d===void 0?c:c+"."+d)}function i(d,o){var a=(d=d.toString()).indexOf("."),c=a!==-1?d.substring(a):"",d=(d=a!==-1?d.substring(0,a):d).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(o===0)c="";else if(o!==void 0)if(o>c.length)for(var y=o-(c+=a===-1?".":"").length+1,m=0;m<y;m++)c+="0";else c=c.substring(0,o+1);return d+c}function p(n){return 0<parseFloat(n)?"+".concat(n.toString()):n.toString()}function h(n){return 0<=parseFloat(n)?" ".concat(n.toString()):n.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),f.default.prototype.join=function(n,o){return f.default._validateParameters("join",arguments),n.join(o)},f.default.prototype.match=function(n,o){return f.default._validateParameters("match",arguments),n.match(o)},f.default.prototype.matchAll=function(n,o){f.default._validateParameters("matchAll",arguments);for(var a=new RegExp(o,"g"),c=a.exec(n),d=[];c!==null;)d.push(c),c=a.exec(n);return d},f.default.prototype.nf=function(n,o,a){return f.default._validateParameters("nf",arguments),n instanceof Array?n.map(function(c){return s(c,o,a)}):Object.prototype.toString.call(n)==="[object Arguments]"?n.length===3?this.nf(n[0],n[1],n[2]):n.length===2?this.nf(n[0],n[1]):this.nf(n[0]):s(n,o,a)},f.default.prototype.nfc=function(n,o){return f.default._validateParameters("nfc",arguments),n instanceof Array?n.map(function(a){return i(a,o)}):i(n,o)},f.default.prototype.nfp=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];f.default._validateParameters("nfp",o);var c=f.default.prototype.nf.apply(this,o);return c instanceof Array?c.map(p):p(c)},f.default.prototype.nfs=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];f.default._validateParameters("nfs",o);var c=f.default.prototype.nf.apply(this,o);return c instanceof Array?c.map(h):h(c)},f.default.prototype.split=function(n,o){return f.default._validateParameters("split",arguments),n.split(o)},f.default.prototype.splitTokens=function(n,o){var a,c;return f.default._validateParameters("splitTokens",arguments),c=o!==void 0?(c=/\]/g.exec(o=o),(a=/\[/g.exec(o))&&c?(o=o.slice(0,c.index)+o.slice(c.index+1),a=/\[/g.exec(o),o=o.slice(0,a.index)+o.slice(a.index+1),new RegExp("[\\[".concat(o,"\\]]"),"g")):c?(o=o.slice(0,c.index)+o.slice(c.index+1),new RegExp("[".concat(o,"\\]]"),"g")):a?(o=o.slice(0,a.index)+o.slice(a.index+1),new RegExp("[".concat(o,"\\[]"),"g")):new RegExp("[".concat(o,"]"),"g")):/\s/g,n.split(c).filter(function(d){return d})},f.default.prototype.trim=function(n){return f.default._validateParameters("trim",arguments),n instanceof Array?n.map(this.trim):n.trim()};var r=f.default;E.default=r},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,E.default=t},{"../core/main":275}],318:[function(t,V,E){function f(n){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function u(n){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(r=t("../core/main"))&&r.__esModule?r:{default:r},i=(t("./p5.Geometry"),function(n){if(n&&n.__esModule)return n;if(n===null||u(n)!=="object"&&typeof n!="function")return{default:n};var o=p();if(o&&o.has(n))return o.get(n);var a,c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var y;Object.prototype.hasOwnProperty.call(n,a)&&((y=d?Object.getOwnPropertyDescriptor(n,a):null)&&(y.get||y.set)?Object.defineProperty(c,a,y):c[a]=n[a])}return c.default=n,o&&o.set(n,c),c}(t("../core/constants")));function p(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,p=function(){return n},n)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(n){return this._renderer.buildGeometry(n)},s.default.prototype.freeGeometry=function(n){this._renderer._freeBuffers(n.gid)},s.default.prototype.plane=function(n,o,a,c){this._assert3d("plane"),s.default._validateParameters("plane",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1);var d,y="plane|".concat(a=a===void 0?1:a,"|").concat(c);return this._renderer.geometryInHash(y)||((d=new s.default.Geometry(a,c,function(){for(var m,g,b=0;b<=this.detailY;b++)for(var w=b/this.detailY,_=0;_<=this.detailX;_++)m=_/this.detailX,g=new s.default.Vector(m-.5,w-.5,0),this.vertices.push(g),this.uvs.push(m,w)})).computeFaces().computeNormals(),a<=1&&c<=1?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(y,d)),this._renderer.drawBuffersScaled(y,n,o,1),this},s.default.prototype.box=function(n,o,a,c,d){this._assert3d("box"),s.default._validateParameters("box",arguments),n===void 0&&(n=50),o===void 0&&(o=n),a===void 0&&(a=o);var y,m=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,m=(d===void 0&&(d=m?1:4),"box|".concat(c=c===void 0?m?1:4:c,"|").concat(d));return this._renderer.geometryInHash(m)||((y=new s.default.Geometry(c,d,function(){var g=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(b,w){for(var w=4*w,_=0;_<4;_++){var S=b[_],S=new s.default.Vector((2*(1&S)-1)/2,((2&S)-1)/2,((4&S)/2-1)/2);g.vertices.push(S),g.uvs.push(1&_,(2&_)/2)}g.faces.push([w,1+w,2+w]),g.faces.push([2+w,1+w,3+w])})})).computeNormals(),c<=4&&d<=4?y._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,a),this},s.default.prototype.sphere=function(n,o,a){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(n=n===void 0?50:n,n,n,o=o===void 0?24:o,a=a===void 0?16:a),this};function h(n,o,a,c,d,y,m){n=n<=0?1:n,o=o<0?0:o,a=a<=0?n:a,c=c<3?3:c;for(var g,b,w=(y=y===void 0||y)?-2:0,_=(d=d<1?1:d)+((m=m===void 0?o!==0:m)?2:0),S=Math.atan2(n-o,a),M=Math.sin(S),k=Math.cos(S),T=w;T<=_;++T){var A=T/d,O=a*A,R=void 0,R=T<0?(A=O=0,n):d<T?(O=a,A=1,o):n+(o-n)*A;for(T!==-2&&T!==d+2||(R=0),O-=a/2,g=0;g<c;++g){var U=g/(c-1),W=2*Math.PI*U,B=Math.sin(W),W=Math.cos(W),N=(this.vertices.push(new s.default.Vector(B*R,O,W*R)),void 0),N=T<0?new s.default.Vector(0,-1,0):d<T&&o?new s.default.Vector(0,1,0):new s.default.Vector(B*k,M,W*k);this.vertexNormals.push(N),this.uvs.push(U,A)}}var z=0;if(y){for(b=0;b<c;++b)this.faces.push([z+b,z+c+(b+1)%c,z+c+b]);z+=2*c}for(T=0;T<d;++T){for(g=0;g<c;++g){var Y=(g+1)%c;this.faces.push([z+g,z+Y,z+c+Y]),this.faces.push([z+g,z+c+Y,z+c+g])}z+=c}if(m)for(z+=c,g=0;g<c;++g)this.faces.push([z+g,z+(g+1)%c,z+c])}s.default.prototype.cylinder=function(n,o,a,c,d,y){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1),y===void 0&&(y=!0),d===void 0&&(d=!0);var m,g="cylinder|".concat(a=a===void 0?24:a,"|").concat(c,"|").concat(d,"|").concat(y);return this._renderer.geometryInHash(g)||(m=new s.default.Geometry(a,c),h.call(m,1,1,1,a,c,d,y),a<=24&&c<=16?m._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,m)),this._renderer.drawBuffersScaled(g,n,o,n),this},s.default.prototype.cone=function(n,o,a,c,d){this._assert3d("cone"),s.default._validateParameters("cone",arguments),n===void 0&&(n=50),o===void 0&&(o=n),c===void 0&&(c=1),d===void 0&&(d=!0);var y,m="cone|".concat(a=a===void 0?24:a,"|").concat(c,"|").concat(d);return this._renderer.geometryInHash(m)||(y=new s.default.Geometry(a,c),h.call(y,1,0,1,a,c,d,!1),a<=24&&c<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,n),this},s.default.prototype.ellipsoid=function(n,o,a,c,d){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),n===void 0&&(n=50),o===void 0&&(o=n),a===void 0&&(a=n),d===void 0&&(d=16);var y,m="ellipsoid|".concat(c=c===void 0?24:c,"|").concat(d);return this._renderer.geometryInHash(m)||((y=new s.default.Geometry(c,d,function(){for(var g=0;g<=this.detailY;g++)for(var b=g/this.detailY,w=Math.PI*b-Math.PI/2,_=Math.cos(w),S=Math.sin(w),M=0;M<=this.detailX;M++){var k=M/this.detailX,A=2*Math.PI*k,T=Math.cos(A),A=Math.sin(A),A=new s.default.Vector(_*A,S,_*T);this.vertices.push(A),this.vertexNormals.push(A),this.uvs.push(k,b)}})).computeFaces(),c<=24&&d<=24?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(m,y)),this._renderer.drawBuffersScaled(m,n,o,a),this},s.default.prototype.torus=function(n,m,a,c){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),n===void 0)n=50;else if(!n)return;if(m===void 0)m=10;else if(!m)return;a===void 0&&(a=24),c===void 0&&(c=16);var d,y=(m/n).toPrecision(4),m="torus|".concat(y,"|").concat(a,"|").concat(c);return this._renderer.geometryInHash(m)||((d=new s.default.Geometry(a,c,function(){for(var g=0;g<=this.detailY;g++)for(var b=g/this.detailY,w=2*Math.PI*b,_=Math.cos(w),S=Math.sin(w),M=1+y*_,k=0;k<=this.detailX;k++){var T=k/this.detailX,A=2*Math.PI*T,R=Math.cos(A),A=Math.sin(A),O=new s.default.Vector(M*R,M*A,y*S),R=new s.default.Vector(_*R,_*A,S);this.vertices.push(O),this.vertexNormals.push(R),this.uvs.push(T,b)}})).computeFaces(),a<=24&&c<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(m,d)),this._renderer.drawBuffersScaled(m,n,n,n),this},s.default.RendererGL.prototype.point=function(n,o,a){var c=[];return c.push(new s.default.Vector(n,o,a=a===void 0?0:a)),this._drawPoints(c,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(m){var o=m[0],a=m[1],c=m[2],d=m[3],y=m[4],m=m[5],g=(this.geometryInHash("tri")||((g=new s.default.Geometry(1,1,function(){var _=[];_.push(new s.default.Vector(0,0,0)),_.push(new s.default.Vector(1,0,0)),_.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=_,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),g.computeNormals(),this.createBuffers("tri",g)),this.uMVMatrix.copy());try{var b=Math.sign(o*d-c*a+c*m-y*d+y*a-o*m),w=new s.default.Matrix([c-o,d-a,0,0,y-o,m-a,0,0,0,0,b,0,o,a,0,1]).mult(this.uMVMatrix);this.uMVMatrix=w,this.drawBuffers("tri")}finally{this.uMVMatrix=g}return this},s.default.RendererGL.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,i.TWO_PI,i.OPEN,n[4])},s.default.RendererGL.prototype.arc=function(n){var o,a=arguments[1],c=arguments[2],d=arguments[3],y=arguments[4],m=arguments[5],g=arguments[6],b=arguments[7]||25,w=(Math.abs(m-y)>=i.TWO_PI?"".concat(_="ellipse","|"):"".concat(_="arc","|").concat(y,"|").concat(m,"|").concat(g,"|")).concat(b,"|"),_=(this.geometryInHash(w)||((o=new s.default.Geometry(b,1,function(){if(y.toFixed(10)!==m.toFixed(10)){g!==i.PIE&&g!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var S=0;S<=b;S++){var k=(m-y)*(S/b)+y,M=.5+Math.cos(k)/2,k=.5+Math.sin(k)/2;this.vertices.push(new s.default.Vector(M,k,0)),this.uvs.push([M,k]),S<b-1&&(this.faces.push([0,S+1,S+2]),this.edges.push([S+1,S+2]))}switch(g){case i.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case i.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case i.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),b<=50?o._edgesToVertices(o):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(_," with more than 50 detail")),this.createBuffers(w,o)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([n,a,0]),this.uMVMatrix.scale(c,d,1),this.drawBuffers(w)}finally{this.uMVMatrix=_}return this},s.default.RendererGL.prototype.rect=function(n){var o=n[0],a=n[1],c=n[2],d=n[3];if(n[4]===void 0){var g=this._pInst._glAttributes.perPixelLighting,y=n[4]||(g?1:24),m=n[5]||(g?1:16),g="rect|".concat(y,"|").concat(m),b=(this.geometryInHash(g)||((b=new s.default.Geometry(y,m,function(){for(var N=0;N<=this.detailY;N++)for(var z=N/this.detailY,Y=0;Y<=this.detailX;Y++){var Z=Y/this.detailX,G=new s.default.Vector(Z,z,0);this.vertices.push(G),this.uvs.push(Z,z)}0<y&&0<m&&(this.edges=[[0,y],[y,(y+1)*(m+1)-1],[(y+1)*(m+1)-1,(y+1)*m],[(y+1)*m,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(g,b)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,a,0]),this.uMVMatrix.scale(c,d,1),this.drawBuffers(g)}finally{this.uMVMatrix=b}}else{var g=n[4],b=n[5]===void 0?g:n[5],w=n[6]===void 0?b:n[6],n=n[7]===void 0?w:n[7],A=c,_=d,k=((A+=o)<o&&(k=o,o=A,A=k),(_+=a)<a&&(k=a,a=_,_=k),Math.min((A-o)/2,(_-a)/2)),S=(k<g&&(g=k),k<b&&(b=k),k<w&&(w=k),k<n&&(n=k),o),M=a,k=A,o=_,T=(this.beginShape(),b!==0?(this.vertex(k-b,M),this.quadraticVertex(k,M,k,M+b)):this.vertex(k,M),w!==0?(this.vertex(k,o-w),this.quadraticVertex(k,o,k-w,o)):this.vertex(k,o),n!==0?(this.vertex(S+n,o),this.quadraticVertex(S,o,S,o-n)):this.vertex(S,o),g!==0?(this.vertex(S,M+g),this.quadraticVertex(S,M,S+g,M)):this.vertex(S,M),!(this.immediateMode.geometry.uvs.length=0)),a=!1,A=void 0;try{for(var O,R=this.immediateMode.geometry.vertices[Symbol.iterator]();!(T=(O=R.next()).done);T=!0){var U=O.value,B=(U.x-S)/c,W=(U.y-M)/d;this.immediateMode.geometry.uvs.push(B,W)}}catch(C){a=!0,A=C}finally{try{T||R.return==null||R.return()}finally{if(a)throw A}}this.endShape(i.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(n,o,a,c,d,y,m,g,b,w,_,S,M,k){M===void 0&&(M=2),k===void 0&&(k=2);var T="quad|".concat(n,"|").concat(o,"|").concat(a,"|").concat(c,"|").concat(d,"|").concat(y,"|").concat(m,"|").concat(g,"|").concat(b,"|").concat(w,"|").concat(_,"|").concat(S,"|").concat(M,"|").concat(k);if(!this.geometryInHash(T)){var A=new s.default.Geometry(M,k,function(){for(var Y=1/(this.detailX-1),Z=1/(this.detailY-1),G=0;G<this.detailY;G++)for(var C=0;C<this.detailX;C++){var L=C*Y,D=G*Z;this.vertices.push(new s.default.Vector((1-L)*((1-D)*n+D*w)+L*((1-D)*c+D*m),(1-L)*((1-D)*o+D*_)+L*((1-D)*d+D*g),(1-L)*((1-D)*a+D*S)+L*((1-D)*y+D*b))),this.uvs.push([L,D])}});A.faces=[];for(var O=0;O<k-1;O++)for(var R=0;R<M-1;R++){var U=R+O*M,B=R+1+(O+1)*M,W=R+(O+1)*M;A.faces.push([U,R+1+O*M,B]),A.faces.push([U,B,W])}A.computeNormals();for(var N=[A.edges.length=0,2,3,1],z=0;z<N.length;z++)A.edges.push([N[z],N[(z+1)%N.length]]);A._edgesToVertices(),this.createBuffers(T,A)}return this.drawBuffers(T),this},s.default.RendererGL.prototype.bezier=function(n,o,a,c,d,y,m,g,b,w,_,S){arguments.length===8&&(_=g,w=m,g=y,m=d,d=c,c=a,a=y=b=S=0);var M=this._pInst._bezierDetail||20;this.beginShape();for(var k=0;k<=M;k++){var T=Math.pow(1-k/M,3),A=k/M*3*Math.pow(1-k/M,2),O=3*Math.pow(k/M,2)*(1-k/M),R=Math.pow(k/M,3);this.vertex(n*T+c*A+m*O+w*R,o*T+d*A+g*O+_*R,a*T+y*A+b*O+S*R)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(n,o,a,c,d,y,m,g,b,w,_,S){arguments.length===8&&(w=m,_=g,m=d,g=c,d=c=a,a=y=b=S=0);var M=this._pInst._curveDetail;this.beginShape();for(var k=0;k<=M;k++){var T=.5*Math.pow(k/M,3),A=.5*Math.pow(k/M,2),O=k/M*.5;this.vertex(T*(3*c-n-3*m+w)+A*(2*n-5*c+4*m-w)+O*(-n+m)+2*c*.5,T*(3*d-o-3*g+_)+A*(2*o-5*d+4*g-_)+O*(-o+g)+2*d*.5,T*(3*y-a-3*b+S)+A*(2*a-5*y+4*b-S)+O*(-a+b)+2*y*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(i.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(i.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(y);break}_+=w,S-=w,++M}}for(var k=this._lookUpTableBezier.length,T=[],A=0;A<4;A++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[3]=this.curFillColor.slice();var O=[];for(A=0;A<4;A++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[3]=this.curStrokeColor.slice(),b===6){this.isBezier=!0;var m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],R=Math.hypot(m[0]-m[1],g[0]-g[1]),B=Math.hypot(m[1]-m[2],g[1]-g[2]),U=Math.hypot(m[2]-m[3],g[2]-g[3]),B=R+B+U;for(R/=B,U/=B,d=0;d<4;d++)T[1].push(T[0][d]*(1-R)+T[3][d]*R),T[2].push(T[0][d]*U+T[3][d]*(1-U)),O[1].push(O[0][d]*(1-R)+O[3][d]*R),O[2].push(O[0][d]*U+O[3][d]*(1-U));for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=0;A<4;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableBezier[c][A]*O[A][d];n+=m[A]*this._lookUpTableBezier[c][A],o+=g[A]*this._lookUpTableBezier[c][A]}this.vertex(n,o)}this.curFillColor=T[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(b===9){this.isBezier=!0,m=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],g=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var W=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],N=Math.hypot(m[0]-m[1],g[0]-g[1],W[0]-W[1]),B=Math.hypot(m[1]-m[2],g[1]-g[2],W[1]-W[2]),z=Math.hypot(m[2]-m[3],g[2]-g[3],W[2]-W[3]),b=N+B+z;for(N/=b,z/=b,d=0;d<4;d++)T[1].push(T[0][d]*(1-N)+T[3][d]*N),T[2].push(T[0][d]*z+T[3][d]*(1-z)),O[1].push(O[0][d]*(1-N)+O[3][d]*N),O[2].push(O[0][d]*z+O[3][d]*(1-z));for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=a=0;A<4;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableBezier[c][A]*O[A][d];n+=m[A]*this._lookUpTableBezier[c][A],o+=g[A]*this._lookUpTableBezier[c][A],a+=W[A]*this._lookUpTableBezier[c][A]}this.vertex(n,o,a)}this.curFillColor=T[3],this.curStrokeColor=O[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var w=1/this._lutQuadraticDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableQuadratic[M]=this._quadraticCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableQuadratic[M]=this._quadraticCoefficients(y);break}_+=w,S-=w,++M}}for(var k=this._lookUpTableQuadratic.length,T=[],A=0;A<3;A++)T.push([]);T[0]=this.immediateMode.geometry.vertexColors.slice(-4),T[2]=this.curFillColor.slice();var O=[];for(A=0;A<3;A++)O.push([]);if(O[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),O[2]=this.curStrokeColor.slice(),b===4){this.isQuadratic=!0;var m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],R=Math.hypot(m[0]-m[1],g[0]-g[1]);for(R/=R+Math.hypot(m[1]-m[2],g[1]-g[2]),d=0;d<4;d++)T[1].push(T[0][d]*(1-R)+T[2][d]*R),O[1].push(O[0][d]*(1-R)+O[2][d]*R);for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=0;A<3;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[c][A]*O[A][d];n+=m[A]*this._lookUpTableQuadratic[c][A],o+=g[A]*this._lookUpTableQuadratic[c][A]}this.vertex(n,o)}this.curFillColor=T[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(b===6){this.isQuadratic=!0,m=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],g=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var U=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(m[0]-m[1],g[0]-g[1],U[0]-U[1]);for(B/=B+Math.hypot(m[1]-m[2],g[1]-g[2],U[1]-U[2]),d=0;d<4;d++)T[1].push(T[0][d]*(1-B)+T[2][d]*B),O[1].push(O[0][d]*(1-B)+O[2][d]*B);for(c=0;c<k;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],A=n=o=a=0;A<3;A++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[c][A]*T[A][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[c][A]*O[A][d];n+=m[A]*this._lookUpTableQuadratic[c][A],o+=g[A]*this._lookUpTableQuadratic[c][A],a+=U[A]*this._lookUpTableQuadratic[c][A]}this.vertex(n,o,a)}this.curFillColor=T[2],this.curStrokeColor=O[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var n,o,a,c,d,y,m=[],g=[],b=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var w=1/this._lutBezierDetail,_=0,S=1,M=0;_<1;){if(y=parseFloat(_.toFixed(6)),this._lookUpTableBezier[M]=this._bezierCoefficients(y),S.toFixed(6)===w.toFixed(6)){y=parseFloat(S.toFixed(6))+parseFloat(_.toFixed(6)),++M,this._lookUpTableBezier[M]=this._bezierCoefficients(y);break}_+=w,S-=w,++M}}var k=this._lookUpTableBezier.length;if(b===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<k;d++)o=m[0]*this._lookUpTableBezier[d][0]+m[1]*this._lookUpTableBezier[d][1]+m[2]*this._lookUpTableBezier[d][2]+m[3]*this._lookUpTableBezier[d][3],a=g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3],this.vertex(o,a);for(d=0;d<b;d++)this.immediateMode._curveVertex.shift()}}else if(b===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,m=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),g=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),n=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<k;d++)o=m[0]*this._lookUpTableBezier[d][0]+m[1]*this._lookUpTableBezier[d][1]+m[2]*this._lookUpTableBezier[d][2]+m[3]*this._lookUpTableBezier[d][3],a=g[0]*this._lookUpTableBezier[d][0]+g[1]*this._lookUpTableBezier[d][1]+g[2]*this._lookUpTableBezier[d][2]+g[3]*this._lookUpTableBezier[d][3],c=n[0]*this._lookUpTableBezier[d][0]+n[1]*this._lookUpTableBezier[d][1]+n[2]*this._lookUpTableBezier[d][2]+n[3]*this._lookUpTableBezier[d][3],this.vertex(o,a,c);for(d=0;d<b;d++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(n,S,a,M,d,y,m,g,b){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(n),this._pInst.textureMode(i.NORMAL);var w=0,_=(S<=n.width&&(w=S/n.width),1),S=(S+M<=n.width&&(_=(S+M)/n.width),0),M=(a<=n.height&&(S=a/n.height),1);a+d<=n.height&&(M=(a+d)/n.height),this.beginShape(),this.vertex(y,m,0,w,S),this.vertex(y+g,m,0,_,S),this.vertex(y+g,m+b,0,_,M),this.vertex(y,m+b,0,w,M),this.endShape(i.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(i.REMOVE)};var r=s.default;E.default=r},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../core/constants"));function p(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,p=function(){return o},o)}function h(o){return function(a){if(Array.isArray(a)){for(var c=0,d=new Array(a.length);c<a.length;c++)d[c]=a[c];return d}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(o,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}var n=function(){function o(d){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(this.renderer=d)._pInst.push(),this.identityMatrix=new s.default.Matrix,d.uMVMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(o.nextGeometryId),o.nextGeometryId++,this.hasTransform=!1}var a,c;return a=o,(c=[{key:"transformVertices",value:function(d){var y=this;return this.hasTransform?d.map(function(m){return y.renderer.uMVMatrix.multiplyPoint(m)}):d}},{key:"transformNormals",value:function(d){var y=this;return this.hasTransform?d.map(function(m){return y.renderer.uNMatrix.multiplyVec3(m)}):d}},{key:"addGeometry",value:function(d){for(var y,m=this,g=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(w,_){return w===m.identityMatrix.mat4[_]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),b=((y=this.geometry.vertices).push.apply(y,h(this.transformVertices(d.vertices))),(y=this.geometry.vertexNormals).push.apply(y,h(this.transformNormals(d.vertexNormals))),(y=this.geometry.uvs).push.apply(y,h(d.uvs)),this.renderer._doFill&&(y=this.geometry.faces).push.apply(y,h(d.faces.map(function(w){return w.map(function(_){return _+g})}))),this.renderer._doStroke&&(y=this.geometry.edges).push.apply(y,h(d.edges.map(function(w){return w.map(function(_){return _+g})}))),h(d.vertexColors));b.length<4*d.vertices.length;)b.push.apply(b,h(this.renderer.curFillColor));(y=this.geometry.vertexColors).push.apply(y,h(b))}},{key:"addImmediate",value:function(){var d=this.renderer.immediateMode.geometry,y=this.renderer.immediateMode.shapeMode,m=[];if(this.renderer._doFill)if(y===i.TRIANGLE_STRIP||y===i.QUAD_STRIP)for(var g=2;g<d.vertices.length;g++)g%2==0?m.push([g,g-1,g-2]):m.push([g,g-2,g-1]);else if(y===i.TRIANGLE_FAN)for(var b=2;b<d.vertices.length;b++)m.push([0,b-1,b]);else for(var w=0;w<d.vertices.length;w+=3)m.push([w,w+1,w+2]);this.addGeometry(Object.assign({},d,{faces:m}))}},{key:"addRetained",value:function(d){this.addGeometry(d.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&r(a.prototype,c),o}();n.nextGeometryId=0,E.default=n},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var u=(h=t("../core/main"))&&h.__esModule?h:{default:h},s=function(r){if(r&&r.__esModule)return r;if(r===null||p(r)!=="object"&&typeof r!="function")return{default:r};var n=i();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function i(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,i=function(){return r},r)}function p(r){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}u.default.prototype.orbitControl=function(r,n,o,b){var c=this,d=(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);r===void 0&&(r=1),n===void 0&&(n=r),o===void 0&&(o=1),p(b)!=="object"&&(b={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var _=b.disableTouchActions;this.touchActionsDisabled===!0||_!==void 0&&!_||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var y,m,g,_=b.freeRotation,b=_!==void 0&&_,w=[],_=(this.touches.forEach(function(R){c._renderer.prevTouches.forEach(function(U){R.id===U.id&&(U={x:R.x,y:R.y,px:U.x,py:U.y},w.push(U))})}),this._renderer.prevTouches=this.touches,0),S=0,M=0,k=0,T=0,A=this.height<this.width?this.height:this.width,O=!1;return 0<w.length?(O=0<w[0].x&&w[0].x<this.width&&0<w[0].y&&w[0].y<this.height,w.length===1?(S=-r*((y=w[0]).x-y.px)/A,M=n*(y.y-y.py)/A):(y=w[0],m=w[1],_=-(Math.hypot(y.x-m.x,y.y-m.y)-Math.hypot(y.px-m.px,y.py-m.py))*o*4e-4,k=.5*(y.x+m.x)-.5*(y.px+m.px),T=.5*(y.y+m.y)-.5*(y.py+m.py)),0<this.touches.length?O&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(O=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(_=Math.sign(this._mouseWheelDeltaY)*o,_*=.01,this._mouseWheelDeltaY=0,O&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(S=-r*this.movedX/A,M=n*this.movedY/A):this.mouseButton===this.RIGHT&&(k=this.movedX,T=this.movedY*d.yScale),O&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),_!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=_),.001<Math.abs(this._renderer.zoomVelocity)?(b?d._orbitFree(0,0,this._renderer.zoomVelocity):d._orbit(0,0,this._renderer.zoomVelocity),d.projMatrix.mat4[15]!==0&&(d.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),d.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=d.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=d.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,S===0&&M===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*S,.6*M),1e-6<this._renderer.rotateVelocity.magSq()?(b?d._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):d._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),k===0&&T===0||!this._renderer.executeRotateAndMove||(y=2*k/this.width,m=2*-T/this.height,this._renderer.moveVelocity.add(.15*y,.15*m)),1e-6<this._renderer.moveVelocity.magSq()?(o=d._getLocalAxes(),r=d.eyeX-d.centerX,n=d.eyeY-d.centerY,A=d.eyeZ-d.centerZ,O=Math.sqrt(r*r+n*n+A*A),_=new u.default.Vector(d.centerX,d.centerY,d.centerZ),_=d.cameraMatrix.multiplyPoint(_),(_=this._renderer.uPMatrix.multiplyAndNormalizePoint(_)).x-=this._renderer.moveVelocity.x,_.y-=this._renderer.moveVelocity.y,M=(S=this._renderer.uPMatrix.mat4)[15]===0?(g=(S[8]+_.x)/S[0]*O,(S[9]+_.y)/S[5]*O):(g=(_.x-S[12])/S[0],(_.y-S[13])/S[5]),d.setPosition(d.eyeX+g*o.x[0]+M*o.y[0],d.eyeY+g*o.x[1]+M*o.y[1],d.eyeZ+g*o.x[2]+M*o.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];u.default._validateParameters("debugMode",n);for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1);n[0]===s.GRID?this.registerMethod("post",this._grid.call(this,n[1],n[2],n[3],n[4],n[5])):n[0]===s.AXES?this.registerMethod("post",this._axesIcon.call(this,n[1],n[2],n[3],n[4])):(this.registerMethod("post",this._grid.call(this,n[0],n[1],n[2],n[3],n[4])),this.registerMethod("post",this._axesIcon.call(this,n[5],n[6],n[7],n[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1)},u.default.prototype._grid=function(r,n,o,a,c){r===void 0&&(r=this.width/2),n===void 0&&(n=Math.round(r/30)<4?4:Math.round(r/30)),o===void 0&&(o=0),a===void 0&&(a=0),c===void 0&&(c=0);var d=r/n,y=r/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var m=0;m<=n;m++)this.beginShape(this.LINES),this.vertex(-y+o,a,m*d-y+c),this.vertex(y+o,a,m*d-y+c),this.endShape();for(var g=0;g<=n;g++)this.beginShape(this.LINES),this.vertex(g*d-y+o,a,-y+c),this.vertex(g*d-y+o,a,y+c),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(r,n,o,a){return r===void 0&&(r=40<this.width/20?this.width/20:40),n===void 0&&(n=-this.width/4),o===void 0&&(o=n),a===void 0&&(a=n),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n+r,o,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n,o+r,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,o,a),this.vertex(n,o,a+r),this.endShape(),this.pop()}};var h=u.default;E.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(t,V,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};f.default.prototype.ambientLight=function(u,s,i,p){this._assert3d("ambientLight"),f.default._validateParameters("ambientLight",arguments);var h=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(h._array[0],h._array[1],h._array[2]),this._renderer._enableLighting=!0,this},f.default.prototype.specularColor=function(u,s,i){this._assert3d("specularColor"),f.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},f.default.prototype.directionalLight=function(u,c,a,p,h,r){this._assert3d("directionalLight"),f.default._validateParameters("directionalLight",arguments),u=u instanceof f.default.Color?u:this.color(u,c,a);var n,o,c=arguments[arguments.length-1],a=typeof c=="number"?(n=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(n=c.x,o=c.y,c.z),c=Math.sqrt(n*n+o*o+a*a);return this._renderer.directionalLightDirections.push(n/c,o/c,a/c),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.pointLight=function(u,a,c,p,h,r){this._assert3d("pointLight"),f.default._validateParameters("pointLight",arguments),u=u instanceof f.default.Color?u:this.color(u,a,c);var n,o,a=arguments[arguments.length-1],c=typeof a=="number"?(n=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(n=a.x,o=a.y,a.z);return this._renderer.pointLightPositions.push(n,o,c),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.imageLight=function(u){this._renderer.activeImageLight=u,this._renderer._enableLighting=!0},f.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this},f.default.prototype.lightFalloff=function(u,s,i){return this._assert3d("lightFalloff"),f.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&s===0&&i===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=i,this},f.default.prototype.spotLight=function(u,s,i,p,h,r,n,o,a,c,d){this._assert3d("spotLight"),f.default._validateParameters("spotLight",arguments);var y,m,g,b=arguments.length;switch(b){case 11:case 10:y=this.color(u,s,i),m=new f.default.Vector(p,h,r),g=new f.default.Vector(n,o,a);break;case 9:u instanceof f.default.Color?(y=u,m=new f.default.Vector(s,i,p),g=new f.default.Vector(h,r,n),c=o,d=a):p instanceof f.default.Vector?(y=this.color(u,s,i),m=p,g=new f.default.Vector(h,r,n),c=o,d=a):n instanceof f.default.Vector?(y=this.color(u,s,i),m=new f.default.Vector(p,h,r),g=n,c=o,d=a):(y=this.color(u,s,i),m=new f.default.Vector(p,h,r),g=new f.default.Vector(n,o,a));break;case 8:c=(g=u instanceof f.default.Color?(y=u,m=new f.default.Vector(s,i,p),new f.default.Vector(h,r,n)):p instanceof f.default.Vector?(y=this.color(u,s,i),m=p,new f.default.Vector(h,r,n)):(y=this.color(u,s,i),m=new f.default.Vector(p,h,r),n),o);break;case 7:u instanceof f.default.Color&&s instanceof f.default.Vector?(y=u,m=s,g=new f.default.Vector(i,p,h),c=r,d=n):u instanceof f.default.Color&&h instanceof f.default.Vector?(y=u,m=new f.default.Vector(s,i,p),g=h,c=r,d=n):p instanceof f.default.Vector&&h instanceof f.default.Vector?(y=this.color(u,s,i),m=p,g=h,c=r,d=n):g=u instanceof f.default.Color?(y=u,m=new f.default.Vector(s,i,p),new f.default.Vector(h,r,n)):p instanceof f.default.Vector?(y=this.color(u,s,i),m=p,new f.default.Vector(h,r,n)):(y=this.color(u,s,i),m=new f.default.Vector(p,h,r),n);break;case 6:p instanceof f.default.Vector&&h instanceof f.default.Vector?(y=this.color(u,s,i),m=p,g=h,c=r):u instanceof f.default.Color&&h instanceof f.default.Vector?(y=u,m=new f.default.Vector(s,i,p),g=h,c=r):u instanceof f.default.Color&&s instanceof f.default.Vector&&(y=u,m=s,g=new f.default.Vector(i,p,h),c=r);break;case 5:u instanceof f.default.Color&&s instanceof f.default.Vector&&i instanceof f.default.Vector?(y=u,m=s,g=i,c=p,d=h):p instanceof f.default.Vector&&h instanceof f.default.Vector?(y=this.color(u,s,i),m=p,g=h):u instanceof f.default.Color&&h instanceof f.default.Vector?(y=u,m=new f.default.Vector(s,i,p),g=h):u instanceof f.default.Color&&s instanceof f.default.Vector&&(y=u,m=s,g=new f.default.Vector(i,p,h));break;case 4:y=u,m=s,g=i,c=p;break;case 3:y=u,m=s,g=i;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(b<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(y._array[0],y._array[1],y._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(m.x,m.y,m.z),g.normalize(),this._renderer.spotLightDirections.push(g.x,g.y,g.z),c===void 0&&(c=Math.PI/3),d!==void 0&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):d===void 0&&(d=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},f.default.prototype.noLights=function(){this._assert3d("noLights");for(var u=arguments.length,s=new Array(u),i=0;i<u;i++)s[i]=arguments[i];return f.default._validateParameters("noLights",s),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=f.default,E.default=t},{"../core/main":275}],322:[function(t,V,E){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./p5.Geometry"),f.default.prototype.loadModel=function(s){f.default._validateParameters("loadModel",arguments);var i,p,h,r=s.slice(-4),n=(typeof arguments[1]=="boolean"?(i=arguments[1],p=arguments[2],h=arguments[3],arguments[4]!==void 0&&(r=arguments[4])):(i=!1,p=arguments[1],h=arguments[2],arguments[3]!==void 0&&(r=arguments[3])),new f.default.Geometry),o=(n.gid="".concat(s,"|").concat(i),this);return r.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(a){(function(c,d){if(function(y){for(var m=new DataView(y),g=[115,111,108,105,100],b=0;b<5;b++)if(function(w,_,S){for(var M=0,k=w.length;M<k;M++)if(w[M]!==_.getUint8(S+M,!1))return;return 1}(g,m,b))return;return 1}(d))(function(y,m){for(var g,b,w,_,S,M,k,T=new DataView(m),A=T.getUint32(80,!0),O=!1,R=0;R<70;R++)T.getUint32(R,!1)===1129270351&&T.getUint8(R+4)===82&&T.getUint8(R+5)===61&&(O=!0,_=[],S=T.getUint8(R+6)/255,M=T.getUint8(R+7)/255,k=T.getUint8(R+8)/255);for(var U=0;U<A;U++){for(var B,W=84+50*U,N=T.getFloat32(W,!0),z=T.getFloat32(4+W,!0),Y=T.getFloat32(8+W,!0),Z=(O&&(B=T.getUint16(48+W,!0),w=32768&B?(g=S,b=M,k):(g=(31&B)/31,b=(B>>5&31)/31,(B>>10&31)/31)),new f.default.Vector(N,z,Y)),G=1;G<=3;G++){var C=W+12*G,C=new f.default.Vector(T.getFloat32(C,!0),T.getFloat32(4+C,!0),T.getFloat32(8+C,!0));y.vertices.push(C),y.vertexNormals.push(Z),O&&_.push(g,b,w)}y.faces.push([3*U,3*U+1,3*U+2]),y.uvs.push([0,0],[0,0],[0,0])}})(c,d);else{if(d=new DataView(d),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");d=new TextDecoder("utf-8").decode(d).split(`
`),function(y,m){for(var g,b,w="",_=[],S=0;S<m.length;++S){for(var M=m[S].trim(),k=M.split(" "),T=0;T<k.length;++T)k[T]===""&&k.splice(T,1);if(k.length!==0)switch(w){case"":if(k[0]!=="solid")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "solid"'));w="solid";break;case"solid":if(k[0]!=="facet"||k[1]!=="normal")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "facet normal"'));g=new f.default.Vector(parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4])),y.vertexNormals.push(g,g,g),w="facet normal";break;case"facet normal":if(k[0]!=="outer"||k[1]!=="loop")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "outer loop"'));w="vertex";break;case"vertex":if(k[0]==="vertex")b=new f.default.Vector(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3])),y.vertices.push(b),y.uvs.push([0,0]),_.push(y.vertices.indexOf(b));else{if(k[0]!=="endloop")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "vertex" or "endloop"'));y.faces.push(_),_=[],w="endloop"}break;case"endloop":if(k[0]!=="endfacet")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "endfacet"'));w="endfacet";break;case"endfacet":if(k[0]!=="endsolid"){if(k[0]!=="facet"||k[1]!=="normal")return console.error(M),console.error('Invalid state "'.concat(k[0],'", should be "endsolid" or "facet normal"'));g=new f.default.Vector(parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4])),y.vertexNormals.push(g,g,g),w="facet normal"}break;default:console.error('Invalid state "'.concat(w,'"'))}}}(c,d)}})(n,a),i&&n.normalize(),o._decrementPreload(),typeof p=="function"&&p(n)},h):r.match(/\.obj$/i)?this.loadStrings(s,function(a){for(var c=n,d=a,y={v:[],vt:[],vn:[]},m={},g=0;g<d.length;++g){var b=d[g].trim().split(/\b\s+/);if(0<b.length){if(b[0]==="v"||b[0]==="vn"){var w=new f.default.Vector(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]));y[b[0]].push(w)}else if(b[0]==="vt")w=[parseFloat(b[1]),1-parseFloat(b[2])],y[b[0]].push(w);else if(b[0]==="f")for(var _=3;_<b.length;++_){for(var S=[],M=[1,_-1,_],k=0;k<M.length;++k){var T=b[M[k]],A=0;if(m[T]!==void 0)A=m[T];else{for(var O=T.split("/"),R=0;R<O.length;R++)O[R]=parseInt(O[R])-1;A=m[T]=c.vertices.length,c.vertices.push(y.v[O[0]].copy()),y.vt[O[1]]?c.uvs.push(y.vt[O[1]].slice()):c.uvs.push([0,0]),y.vn[O[2]]&&c.vertexNormals.push(y.vn[O[2]].copy())}S.push(A)}S[0]!==S[1]&&S[0]!==S[2]&&S[1]!==S[2]&&c.faces.push(S)}}}c.vertexNormals.length===0&&c.computeNormals(),i&&n.normalize(),o._decrementPreload(),typeof p=="function"&&p(n)},h):(f.default._friendlyFileLoadError(3,s),h?h():f.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),n},f.default.prototype.model=function(s){this._assert3d("model"),f.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s.edges.length===0&&s._makeTriangleEdges(),s._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var u=f.default;E.default=u},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants"));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}t("./p5.Texture"),s.default.prototype.loadShader=function(r,n,o,a){s.default._validateParameters("loadShader",arguments),a=a||console.error;function c(){y._decrementPreload(),o&&o(d)}var d=new s.default.Shader,y=this,m=!1,g=!1;return this.loadStrings(r,function(b){d._vertSrc=b.join(`
`),g=!0,m&&c()},a),this.loadStrings(n,function(b){d._fragSrc=b.join(`
`),m=!0,g&&c()},a),d},s.default.prototype.createShader=function(r,n){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,r,n)},s.default.prototype.createFilterShader=function(r){s.default._validateParameters("createFilterShader",arguments);var n=r.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,n=new s.default.Shader(this._renderer,n,r);return this._renderer.GL?n.ensureCompiledOnContext(this):n.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),n},s.default.prototype.shader=function(r){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),r.ensureCompiledOnContext(this),r.isStrokeShader()?this._renderer.userStrokeShader=r:(this._renderer.userFillShader=r,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(r){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),r.gifProperties&&r._animateGif(this),this._renderer.drawMode=i.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=r,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(r){r!==i.IMAGE&&r!==i.NORMAL?console.warn("You tried to set ".concat(r," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=r},s.default.prototype.textureWrap=function(r){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,o=(this._renderer.textureWrapX=r,this._renderer.textureWrapY=n,!0),a=!1,c=void 0;try{for(var d,y=this._renderer.textures.values()[Symbol.iterator]();!(o=(d=y.next()).done);o=!0)d.value.setWrapMode(r,n)}catch(m){a=!0,c=m}finally{try{o||y.return==null||y.return()}finally{if(a)throw c}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s.default._validateParameters("normalMaterial",n),this._renderer.drawMode=i.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(r,n,o){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var a=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=a._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(r,n,o,a){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var c=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(r,n,o,a){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var c=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(r){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=r=r<1?1:r,this},s.default.RendererGL.prototype._applyColorBlend=function(r){var n=this.GL,o=this.drawMode===i.TEXTURE,o=this.userFillShader||this.userStrokeShader||this.userPointShader||o||this.curBlendMode!==i.BLEND||r[r.length-1]<1||this._isErasing;return o!==this._isBlending&&(o||this.curBlendMode!==i.BLEND&&this.curBlendMode!==i.ADD?n.enable(n.BLEND):n.disable(n.BLEND),n.depthMask(!0),this._isBlending=o),this._applyBlendMode(),r},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var r=this.GL;switch(this.curBlendMode){case i.BLEND:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case i.ADD:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case i.REMOVE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case i.MULTIPLY:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case i.SCREEN:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case i.EXCLUSION:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case i.REPLACE:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case i.SUBTRACT:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case i.DARKEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case i.LIGHTEST:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var h=s.default;E.default=h},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(t,V,E){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(s,i){for(var p=0;p<i.length;p++){var h=i[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}f.default.prototype.camera=function(){var s;this._assert3d("camera");for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("camera",p),(s=this._renderer._curCamera).camera.apply(s,p),this},f.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("perspective",p),(s=this._renderer._curCamera).perspective.apply(s,p),this},f.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("ortho",p),(s=this._renderer._curCamera).ortho.apply(s,p),this},f.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var i=arguments.length,p=new Array(i),h=0;h<i;h++)p[h]=arguments[h];return f.default._validateParameters("frustum",p),(s=this._renderer._curCamera).frustum.apply(s,p),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new f.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},f.default.Camera=function(){function s(h){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=h,this.cameraType="default",this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix,this.yScale=1}var i,p;return i=s,(p=[{key:"perspective",value:function(a,r,n,o){this.cameraType=0<arguments.length?"custom":"default",a===void 0?(a=this.defaultCameraFOV,this.cameraFOV=a):this.cameraFOV=this._renderer._pInst._toRadians(a),r===void 0&&(r=this.defaultAspectRatio),n===void 0&&(n=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),n<=1e-4&&(n=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<n&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=n,this.cameraFar=o,this.projMatrix=f.default.Matrix.identity();var a=1/Math.tan(this.cameraFOV/2),c=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/r,0,0,0,0,-a*this.yScale,0,0,0,0,(o+n)*c,-1,0,0,2*o*n*c,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(_,w,n,o,a,c){_===void 0&&(_=-this._renderer.width/2),w===void 0&&(w=+this._renderer.width/2),n===void 0&&(n=-this._renderer.height/2),o===void 0&&(o=+this._renderer.height/2),a===void 0&&(a=0),c===void 0&&(c=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=a;var S=w-_,d=o-n,y=(this.cameraFar=c)-a,m=2/S,g=2/d*this.yScale,b=-2/y,w=-(w+_)/S,_=-(o+n)/d,S=-(c+a)/y;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-g,0,0,0,0,b,0,w,_,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(_,w,n,o,a,c){_===void 0&&(_=.05*-this._renderer.width),w===void 0&&(w=.05*+this._renderer.width),n===void 0&&(n=.05*+this._renderer.height),o===void 0&&(o=.05*-this._renderer.height),a===void 0&&(a=this.defaultCameraNear),c===void 0&&(c=this.defaultCameraFar),this.cameraNear=a;var S=w-_,d=o-n,y=(this.cameraFar=c)-a,m=2*a/S,g=2*a/d*this.yScale,b=-2*c*a/y,w=(w+_)/S,_=(o+n)/d,S=-(c+a)/y;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-g,0,0,w,_,S,-1,0,0,b,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(m,r,n,o){var a=this.centerX,c=this.centerY,d=this.centerZ,y=(a-=this.eyeX,c-=this.eyeY,d-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst)),m=(y.rotate(this._renderer._pInst._toRadians(m),r,n,o),[a*y.mat4[0]+c*y.mat4[4]+d*y.mat4[8],a*y.mat4[1]+c*y.mat4[5]+d*y.mat4[9],a*y.mat4[2]+c*y.mat4[6]+d*y.mat4[10]]);m[0]+=this.eyeX,m[1]+=this.eyeY,m[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,m[0],m[1],m[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(h){var r=this._getLocalAxes();this._rotateView(h,r.y[0],r.y[1],r.y[2])}},{key:"tilt",value:function(h){var r=this._getLocalAxes();this._rotateView(h,r.x[0],r.x[1],r.x[2])}},{key:"lookAt",value:function(h,r,n){this.camera(this.eyeX,this.eyeY,this.eyeZ,h,r,n,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(h,r,n,o,a,c,d,y,m){return h===void 0&&(h=this.defaultEyeX,r=this.defaultEyeY,n=this.defaultEyeZ,o=h,a=r,y=1,m=d=c=0),this.eyeX=h,this.eyeY=r,this.eyeZ=n,o!==void 0&&(this.centerX=o,this.centerY=a,this.centerZ=c),d!==void 0&&(this.upX=d,this.upY=y,this.upZ=m),o=this._getLocalAxes(),this.cameraMatrix.set(o.x[0],o.y[0],o.z[0],0,o.x[1],o.y[1],o.z[1],0,o.x[2],o.y[2],o.z[2],0,0,0,0,1),a=-h,this.cameraMatrix.translate([a,-r,-n]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(o,a,n){var c=this._getLocalAxes(),o=[c.x[0]*o,c.x[1]*o,c.x[2]*o],a=[c.y[0]*a,c.y[1]*a,c.y[2]*a],c=[c.z[0]*n,c.z[1]*n,c.z[2]*n];this.camera(this.eyeX+o[0]+a[0]+c[0],this.eyeY+o[1]+a[1]+c[1],this.eyeZ+o[2]+a[2]+c[2],this.centerX+o[0]+a[0]+c[0],this.centerY+o[1]+a[1]+c[1],this.centerZ+o[2]+a[2]+c[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(h,r,n){var o=h-this.eyeX,a=r-this.eyeY,c=n-this.eyeZ;this.camera(h,r,n,this.centerX+o,this.centerY+a,this.centerZ+c,this.upX,this.upY,this.upZ)}},{key:"set",value:function(h){for(var r=0,n=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];r<n.length;r++){var o=n[r];this[o]=h[o]}this.cameraMatrix=h.cameraMatrix.copy(),this.projMatrix=h.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(h,r,n){var o,a,c,d,y,m,g,b,w,_,S,M,k,T,A,O,R,U;n===0?this.set(h):n===1?this.set(r):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=h.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/h.projMatrix.mat4[0],n),this.projMatrix.mat4[5]=h.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/h.projMatrix.mat4[5],n),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),d=new f.default.Vector(h.eyeX,h.eyeY,h.eyeZ),y=new f.default.Vector(r.eyeX,r.eyeY,r.eyeZ),O=new f.default.Vector(h.centerX,h.centerY,h.centerZ),U=new f.default.Vector(r.centerX,r.centerY,r.centerZ),c=f.default.Vector.dist(d,O),o=f.default.Vector.dist(y,U),o=c*Math.pow(o/c,n),c=f.default.Vector.sub(d,y),a=1,1e-6<(R=(T=d.copy().sub(y).sub(O).add(U)).magSq())&&(a=f.default.Vector.dot(c,T)/R,a=Math.max(0,Math.min(a,1))),c=f.default.Vector.lerp(f.default.Vector.lerp(d,O,a),f.default.Vector.lerp(y,U,a),n),T=h.cameraMatrix.createSubMatrix3x3(),R=r.cameraMatrix.createSubMatrix3x3(),d=T.row(2),O=R.row(2),y=T.row(1),U=R.row(1),h=new f.default.Vector,r=new f.default.Vector,m=new f.default.Vector,g=new f.default.Vector,1-(b=.5*((T=(R=R.mult3x3(T.copy().transpose3x3())).diagonal())[0]+T[1]+T[2]-1))<1e-7?(h.set(f.default.Vector.lerp(d,O,n)).normalize(),m.set(h).mult(a*o).add(c),g.set(h).mult((a-1)*o).add(c),r.set(f.default.Vector.lerp(y,U,n)).normalize()):(O=1/(1-b),U=Math.max(T[0],T[1],T[2]),M=R.mat3[1]+R.mat3[3],k=R.mat3[2]+R.mat3[6],A=R.mat3[5]+R.mat3[7],U=U===T[0]?(_=.5*M*(O/=w=Math.sqrt((T[0]-b)*O)),S=.5*k*O,.5*(R.mat3[7]-R.mat3[5])/w):U===T[1]?(S=.5*A*(O/=_=Math.sqrt((T[1]-b)*O)),w=.5*M*O,.5*(R.mat3[2]-R.mat3[6])/_):(w=.5*k*(O/=S=Math.sqrt((T[2]-b)*O)),_=.5*A*O,.5*(R.mat3[3]-R.mat3[1])/S),M=n*Math.atan2(U,b),k=Math.cos(M),T=Math.sin(M),(U=new f.default.Matrix("mat3",[k+(A=1-k)*w*w,A*(O=w*_)+T*S,A*(R=S*w)-T*_,A*O-T*S,k+A*_*_,A*(n=_*S)+T*w,A*R+T*_,A*n-T*w,k+A*S*S])).multiplyVec3(d,h),m.set(h).mult(a*o).add(c),g.set(h).mult((a-1)*o).add(c),U.multiplyVec3(y,r)),this.camera(m.x,m.y,m.z,g.x,g.y,g.z,r.x,r.y,r.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var h=new f.default.Camera(this._renderer);return h.cameraFOV=this.cameraFOV,h.aspectRatio=this.aspectRatio,h.eyeX=this.eyeX,h.eyeY=this.eyeY,h.eyeZ=this.eyeZ,h.centerX=this.centerX,h.centerY=this.centerY,h.centerZ=this.centerZ,h.upX=this.upX,h.upY=this.upY,h.upZ=this.upZ,h.cameraNear=this.cameraNear,h.cameraFar=this.cameraFar,h.cameraType=this.cameraType,h.cameraMatrix=this.cameraMatrix.copy(),h.projMatrix=this.projMatrix.copy(),h.yScale=this.yScale,h}},{key:"_getLocalAxes",value:function(){var h=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,d=Math.sqrt(h*h+r*r+n*n),d=(d!==0&&(h/=d,r/=d,n/=d),this.upX),o=(y=this.upY)*n-(m=this.upZ)*r,a=-d*n+m*h,c=d*r-y*h,d=r*c-n*a,y=-h*c+n*o,m=h*a-r*o,g=Math.sqrt(o*o+a*a+c*c),g=(g!==0&&(o/=g,a/=g,c/=g),Math.sqrt(d*d+y*y+m*m));return g!==0&&(d/=g,y/=g,m/=g),{x:[o,a,c],y:[d,y,m],z:[h,r,n]}}},{key:"_orbit",value:function(h,g,m){var a=this.eyeX-this.centerX,c=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,o=Math.hypot(a,c,d),a=new f.default.Vector(a,c,d).normalize(),c=new f.default.Vector(this.upX,this.upY,this.upZ).normalize(),d=new f.default.Vector.cross(c,a).normalize(),y=new f.default.Vector.cross(d,c),m=((o=(o*=Math.pow(10,m))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,f.default.Vector.dot(a,c))))+g),g=h;(m<=0||m>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),c.mult(Math.cos(m)),y.mult(Math.cos(g)*Math.sin(m)),d.mult(Math.sin(g)*Math.sin(m)),a.set(c).add(y).add(d),this.eyeX=o*a.x+this.centerX,this.eyeY=o*a.y+this.centerY,this.eyeZ=o*a.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(m,g,w){var a=this.eyeX-this.centerX,c=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,o=Math.hypot(a,c,d),a=new f.default.Vector(a,c,d).normalize(),c=new f.default.Vector(this.upX,this.upY,this.upZ),d=new f.default.Vector.cross(c,a).normalize(),y=new f.default.Vector.cross(a,d),_=Math.atan2(g,m),_=(y.mult(Math.sin(_)),d.mult(Math.cos(_)).add(y),Math.sqrt(m*m+g*g)),y=new f.default.Vector.cross(a,d),m=((o=(o*=Math.pow(10,w))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.cos(_)),g=Math.sin(_),w=c.dot(a),_=c.dot(d),b=w*m+_*g,w=-w*g+_*m,_=c.dot(y);c.x=b*a.x+w*d.x+_*y.x,c.y=b*a.y+w*d.y+_*y.y,c.z=b*a.z+w*d.z+_*y.z,d.mult(-g),a.mult(m).add(d).mult(o),this.camera(a.x+this.centerX,a.y+this.centerY,a.z+this.centerZ,this.centerX,this.centerY,this.centerZ,c.x,c.y,c.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&u(i.prototype,p),s}(),f.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix.mat4[0],s.projMatrix.mat4[1],s.projMatrix.mat4[2],s.projMatrix.mat4[3],s.projMatrix.mat4[4],s.projMatrix.mat4[5],s.projMatrix.mat4[6],s.projMatrix.mat4[7],s.projMatrix.mat4[8],s.projMatrix.mat4[9],s.projMatrix.mat4[10],s.projMatrix.mat4[11],s.projMatrix.mat4[12],s.projMatrix.mat4[13],s.projMatrix.mat4[14],s.projMatrix.mat4[15])},t=f.default.Camera,E.default=t},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(t,V,E){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(u,s){for(var i=0;i<s.length;i++){var p=s[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.DataArray=function(){function u(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,h=this,r=u;if(!(h instanceof r))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(p),this.initialLength=p}var s,i;return s=u,(i=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,h=new Array(p),r=0;r<p;r++)h[r]=arguments[r];this.ensureLength(this.length+h.length),this.data.set(h,this.length),this.length+=h.length}},{key:"slice",value:function(p,h){return this.data.slice(p,Math.min(h,this.length))}},{key:"subArray",value:function(p,h){return this.data.subarray(p,Math.min(h,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var h=new Float32Array(2*this.data.length);h.set(this.data,0),this.data=h}}}])&&f(s.prototype,i),u}(),t=t.default.DataArray,E.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(M,V,E){function f(k){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function u(k){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(k)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint8-clamped-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(S=M("../core/main"))&&S.__esModule?S:{default:S},i=function(k){if(k&&k.__esModule)return k;if(k===null||u(k)!=="object"&&typeof k!="function")return{default:k};var T=r();if(T&&T.has(k))return T.get(k);var A,O={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in k){var U;Object.prototype.hasOwnProperty.call(k,A)&&((U=R?Object.getOwnPropertyDescriptor(k,A):null)&&(U.get||U.set)?Object.defineProperty(O,A,U):O[A]=k[A])}return O.default=k,T&&T.set(k,O),O}(M("../core/constants")),p=M("./p5.Texture"),h=M("./p5.RendererGL");function r(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,r=function(){return k},k)}function n(k,T){return function(A){if(Array.isArray(A))return A}(k)||function(A,O){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]"){var R=[],U=!0,B=!1,W=void 0;try{for(var N,z=A[Symbol.iterator]();!(U=(N=z.next()).done)&&(R.push(N.value),!O||R.length!==O);U=!0);}catch(Y){B=!0,W=Y}finally{try{U||z.return==null||z.return()}finally{if(B)throw W}}return R}}(k,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(k,T,A){return T in k?Object.defineProperty(k,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):k[T]=A,k}function a(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function c(k,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function d(k,T,A){T&&c(k.prototype,T),A&&c(k,A)}function y(k,T,A){return(y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,R,U){var B=function(W,N){for(;!Object.prototype.hasOwnProperty.call(W,N)&&(W=b(W))!==null;);return W}(B,R);if(B)return(B=Object.getOwnPropertyDescriptor(B,R)).get?B.get.call(U):B.value})(k,T,A||k)}function m(k,T){return(m=Object.setPrototypeOf||function(A,O){return A.__proto__=O,A})(k,T)}function g(k){return function(){var T,A=b(k),A=(T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=b(this).constructor,Reflect.construct(A,arguments,T)):A.apply(this,arguments),this);if(!T||u(T)!=="object"&&typeof T!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return T}}function b(k){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(k)}var w=function(k){var T=O;if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),k&&m(T,k);var A=g(O);function O(R){var U;return a(this,O),(U=A.call(this,R.target._renderer)).fbo=R,U.yScale=-1,U}return d(O,[{key:"_computeCameraDefaultSettings",value:function(){y(b(O.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),O}(s.default.Camera),_=(s.default.FramebufferCamera=w,function(){function k(T,A){a(this,k),this.framebuffer=T,this.property=A}return d(k,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),k}()),S=(s.default.FramebufferTexture=_,function(){function k(R){var A=this,O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},R=(a(this,k),this.target=R,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=O.format||i.UNSIGNED_BYTE,this.channels=O.channels||(R._renderer._pInst._glAttributes.alpha?i.RGBA:i.RGB),this.useDepth=O.depth===void 0||O.depth,this.depthFormat=O.depthFormat||i.FLOAT,this.textureFiltering=O.textureFiltering||i.LINEAR,O.antialias===void 0?this.antialiasSamples=R._renderer._pInst._glAttributes.antialias?2:0:typeof O.antialias=="number"?this.antialiasSamples=O.antialias:this.antialiasSamples=O.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&R.webglVersion!==i.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),O.width&&O.height?(this.width=O.width,this.height=O.height,this.autoSized=!1):(O.width===void 0!=(O.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=R.width,this.height=R.height,this.autoSized=!0),this.density=O.density||R.pixelDensity(),R._renderer.GL);if(this.gl=R,this._checkIfFormatsAvailable(),O.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(O.stencil===void 0||O.stencil),this.framebuffer=R.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=R.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),O=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=O,this.draw(function(){return A.target.clear()})}return d(k,[{key:"resize",value:function(T,A){this.autoSized=!1,this.width=T,this.height=A,this._handleResize()}},{key:"pixelDensity",value:function(T){if(!T)return this.density;this.autoSized=!1,this.density=T,this._handleResize()}},{key:"autoSized",value:function(T){if(T===void 0)return this.autoSized;this.autoSized=T,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var T=this.gl,T=(this.useDepth&&this.target.webglVersion===i.WEBGL&&!T.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===i.WEBGL&&this.depthFormat===i.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=i.UNSIGNED_INT),[i.UNSIGNED_BYTE,i.FLOAT,i.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.useDepth&&![i.UNSIGNED_INT,i.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=i.FLOAT),(0,p.checkWebGLCapabilities)(this.target._renderer));T.float||this.format!==i.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.useDepth&&!T.float&&this.depthFormat===i.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=i.UNSIGNED_INT),T.halfFloat||this.format!==i.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.channels===i.RGB&&[i.FLOAT,i.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=i.RGBA)}},{key:"_recreateTextures",value:function(){var T=this.gl,A=(this._updateSize(),T.getParameter(T.TEXTURE_BINDING_2D)),O=T.getParameter(T.FRAMEBUFFER_BINDING),R=T.createTexture();if(!R)throw new Error("Unable to create color texture");T.bindTexture(T.TEXTURE_2D,R);var U=this._glColorFormat();if(T.texImage2D(T.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,null),this.colorTexture=R,T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,R,0),this.useDepth){var R=T.createTexture();if(!R)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();T.bindTexture(T.TEXTURE_2D,R),T.texImage2D(T.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),T.framebufferTexture2D(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.TEXTURE_2D,R,0),this.depthTexture=R}this.antialias&&(this.colorRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.colorRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),U.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=T.createRenderbuffer(),T.bindRenderbuffer(T.RENDERBUFFER,this.depthRenderbuffer),T.renderbufferStorageMultisample(T.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,T.getParameter(T.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),T.bindFramebuffer(T.FRAMEBUFFER,this.aaFramebuffer),T.framebufferRenderbuffer(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&T.framebufferRenderbuffer(T.FRAMEBUFFER,this.useStencil?T.DEPTH_STENCIL_ATTACHMENT:T.DEPTH_ATTACHMENT,T.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new _(this,"depthTexture"),R=T.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:R,magFilter:R}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new _(this,"colorTexture"),U=this.textureFiltering===i.LINEAR?T.LINEAR:T.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:U,magFilter:U}),this.target._renderer.textures.set(this.color,this.colorP5Texture),T.bindTexture(T.TEXTURE_2D,A),T.bindFramebuffer(T.FRAMEBUFFER,O)}},{key:"_glColorFormat",value:function(){var T,A,O=this.gl,R=this.format===i.FLOAT?O.FLOAT:this.format===i.HALF_FLOAT?this.target.webglVersion===i.WEBGL2?O.HALF_FLOAT:O.getExtension("OES_texture_half_float").HALF_FLOAT_OES:O.UNSIGNED_BYTE,U=this.channels===i.RGBA?O.RGBA:O.RGB;return{internalFormat:this.target.webglVersion===i.WEBGL2?(o(A={},O.FLOAT,o({},O.RGBA,O.RGBA32F)),o(A,O.HALF_FLOAT,o({},O.RGBA,O.RGBA16F)),o(A,O.UNSIGNED_BYTE,(o(T={},O.RGBA,O.RGBA8),o(T,O.RGB,O.RGB8),T)),A[R][U]):this.format===i.HALF_FLOAT?O.RGBA:U,format:U,type:R}}},{key:"_glDepthFormat",value:function(){var O=this.gl,T=this.useStencil?this.depthFormat===i.FLOAT?O.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===i.WEBGL2?O.UNSIGNED_INT_24_8:O.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===i.FLOAT?O.FLOAT:O.UNSIGNED_INT,A=this.useStencil?O.DEPTH_STENCIL:O.DEPTH_COMPONENT,O=this.useStencil?this.depthFormat===i.FLOAT?O.DEPTH32F_STENCIL8:this.target.webglVersion===i.WEBGL2?O.DEPTH24_STENCIL8:O.DEPTH_STENCIL:this.target.webglVersion===i.WEBGL2?this.depthFormat===i.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT;return{internalFormat:O,format:A,type:T}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var R=this.color,T=this.depth,A=this.colorRenderbuffer,O=this.depthRenderbuffer,R=(this._deleteTexture(R),T&&this._deleteTexture(T),this.gl);A&&R.deleteRenderbuffer(A),O&&R.deleteRenderbuffer(O),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var T=new w(this);return T._computeCameraDefaultSettings(),T._setDefaultCamera(),this.target._renderer._curCamera=T}},{key:"_deleteTexture",value:function(T){this.gl.deleteTexture(T.rawTexture()),this.target._renderer.textures.delete(T)}},{key:"remove",value:function(){var T=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),T.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&T.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&T.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&T.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var T=this.gl,A=(T.bindFramebuffer(T.READ_FRAMEBUFFER,this.aaFramebuffer),T.bindFramebuffer(T.DRAW_FRAMEBUFFER,this.framebuffer),[[T.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&A.push([T.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var O=0,R=A;O<R.length;O++){var B=n(R[O],2),U=B[0],B=B[1];T.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,U,B)}}}},{key:"end",value:function(){var T=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(T.bindFramebuffer(T.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(T){this.begin(),T(),this.end()}},{key:"loadPixels",value:function(){var T=this.gl,A=this.target._renderer.activeFramebuffer(),O=(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,h.readPixelsWebGL)(this.pixels,T,this.framebuffer,0,0,this.width*this.density,this.height*this.density,O.format,O.type),A?T.bindFramebuffer(T.FRAMEBUFFER,A._framebufferToBind()):T.bindFramebuffer(T.FRAMEBUFFER,null)}},{key:"get",value:function(T,A,O,R){s.default._validateParameters("p5.Framebuffer.get",arguments);var U=this._glColorFormat();if(T===void 0&&A===void 0)A=T=0,O=this.width,R=this.height;else if(O===void 0&&R===void 0)return(T<0||A<0||T>=this.width||A>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),T=this.target.constrain(T,0,this.width-1),A=this.target.constrain(A,0,this.height-1)),(0,h.readPixelWebGL)(this.gl,this.framebuffer,T*this.density,A*this.density,U.format,U.type);T=this.target.constrain(T,0,this.width-1),A=this.target.constrain(A,0,this.height-1),O=this.target.constrain(O,1,this.width-T),R=this.target.constrain(R,1,this.height-A);for(var B=(0,h.readPixelsWebGL)(void 0,this.gl,this.framebuffer,T*this.density,A*this.density,O*this.density,R*this.density,U.format,U.type),W=new Uint8ClampedArray(O*R*this.density*this.density*4),N=(W.fill(255),U.type===this.gl.RGB?3:4),z=0;z<R*this.density;z++)for(var Y=0;Y<O*this.density;Y++)for(var Z=0;Z<4;Z++){var G,C=4*(z*O*this.density+Y)+Z;Z<N&&(G=N==4?C:(z*O*this.density+Y)*N+Z,W[C]=B[G])}return T=new s.default.Image(O*this.density,R*this.density),T.imageData=T.canvas.getContext("2d").createImageData(T.width,T.height),T.imageData.data.set(W),T.pixels=T.imageData.data,T.updatePixels(),this.density!==1&&T.resize(O,R),T}},{key:"updatePixels",value:function(){var T=this.gl,A=(this.colorP5Texture.bindTexture(),this._glColorFormat()),O=A.format===T.RGBA?4:3,O=this.width*this.height*this.density*this.density*O,R=A.type===T.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof R)||this.pixels.length!==O)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");T.texImage2D(T.TEXTURE_2D,0,A.internalFormat,this.width*this.density,this.height*this.density,0,A.format,A.type,this.pixels),this.colorP5Texture.unbindTexture(),R=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),this.end()):(T.bindFramebuffer(T.FRAMEBUFFER,this.framebuffer),this.useDepth&&(T.clearDepth(1),T.clear(T.DEPTH_BUFFER_BIT)),R?T.bindFramebuffer(T.FRAMEBUFFER,R._framebufferToBind()):T.bindFramebuffer(T.FRAMEBUFFER,null))}}]),k}()),M=s.default.Framebuffer=S;E.default=M},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../core/constants"));function p(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,p=function(){return o},o)}function h(o){return function(a){if(Array.isArray(a)){for(var c=0,d=new Array(a.length);c<a.length;c++)d[c]=a[c];return d}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(o,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}s.default.Geometry=function(){function o(d,y,m){if(this instanceof o)return this.vertices=[],this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=d!==void 0?d:1,this.detailY=y!==void 0?y:1,this.dirtyFlags={},m instanceof Function&&m.call(this),this;throw new TypeError("Cannot call a class as a function")}var a,c;return a=o,(c=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"computeFaces",value:function(){this.faces.length=0;for(var d,y,m,g=this.detailX+1,b=0;b<this.detailY;b++)for(var w=0;w<this.detailX;w++)y=(b+1)*g+w+1,this.faces.push([b*g+w,d=b*g+w+1,m=(b+1)*g+w]),this.faces.push([m,d,y]);return this}},{key:"_getFaceNormal",value:function(y){var y=this.faces[y],m=this.vertices[y[0]],b=this.vertices[y[1]],y=this.vertices[y[2]],b=s.default.Vector.sub(b,m),y=s.default.Vector.sub(y,m),m=s.default.Vector.cross(b,y),g=s.default.Vector.mag(m),b=g/(s.default.Vector.mag(b)*s.default.Vector.mag(y));return b===0||isNaN(b)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),m):(1<b&&(b=1),m.mult(Math.asin(b)/g))}},{key:"computeNormals",value:function(){var d,y=this,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:i.FLAT,g=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,b=this.vertexNormals,w=this.vertices,_=this.faces;if(m===i.SMOOTH){for(var S={},M=[],k=Math.pow(10,g===void 0?3:g),T=function(B){return Math.round(B*k)/k},A=function(B){return"".concat(T(B.x),",").concat(T(B.y),",").concat(T(B.z))},O=0;O<w.length;O++){var R=w[O],U=A(R);S[U]===void 0&&(S[U]=M.length,M.push(R))}_.forEach(function(B){for(var W=0;W<3;++W){var N=B[W],N=w[N],N=A(N);B[W]=S[N]}}),this.edges.forEach(function(B){for(var W=0;W<2;++W){var N=B[W],N=w[N],N=A(N);B[W]=S[N]}}),this.vertices=w=M}for(d=b.length=0;d<w.length;++d)b.push(new s.default.Vector);for(_.forEach(function(B,W){for(var N=y._getFaceNormal(W),z=0;z<3;++z){var Y=B[z];b[Y].add(N)}}),d=0;d<w.length;++d)b[d].normalize();return this}},{key:"averageNormals",value:function(){for(var d=0;d<=this.detailY;d++){var y=this.detailX+1,m=s.default.Vector.add(this.vertexNormals[d*y],this.vertexNormals[d*y+this.detailX]),m=s.default.Vector.div(m,2);this.vertexNormals[d*y]=m,this.vertexNormals[d*y+this.detailX]=m}return this}},{key:"averagePoleNormals",value:function(){for(var d=new s.default.Vector(0,0,0),y=0;y<this.detailX;y++)d.add(this.vertexNormals[y]);for(var d=s.default.Vector.div(d,this.detailX),m=0;m<this.detailX;m++)this.vertexNormals[m]=d;d=new s.default.Vector(0,0,0);for(var g=this.vertices.length-1;g>this.vertices.length-1-this.detailX;g--)d.add(this.vertexNormals[g]);d=s.default.Vector.div(d,this.detailX);for(var b=this.vertices.length-1;b>this.vertices.length-1-this.detailX;b--)this.vertexNormals[b]=d;return this}},{key:"_makeTriangleEdges",value:function(){for(var d=this.edges.length=0;d<this.faces.length;d++)this.edges.push([this.faces[d][0],this.faces[d][1]]),this.edges.push([this.faces[d][1],this.faces[d][2]]),this.edges.push([this.faces[d][2],this.faces[d][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var d,y=new Map,m=new Set,g=0;g<this.edges.length;g++){var b,w=this.edges[g-1],_=this.edges[g],S=this.vertices[_[0]],M=this.vertices[_[1]],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*_[0],4*(_[0]+1)):[0,0,0,0],T=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*_[1],4*(_[1]+1)):[0,0,0,0],A=M.copy().sub(S).normalize(),O=0<A.magSq();O&&this._addSegment(S,M,k,T,A),0<g&&w[1]===_[0]?m.has(_[0])||(m.add(_[0]),y.delete(_[0]),d&&O&&A.dot(d)<1-1e-8&&this._addJoin(S,d,A,k)):(O&&!m.has(_[0])&&((b=y.get(_[0]))?(this._addJoin(S,b.dir,A,k),y.delete(_[0]),m.add(_[0])):y.set(_[0],{point:S,dir:A.copy().mult(-1),color:k})),d&&!m.has(w[1])&&((b=y.get(w[1]))?(this._addJoin(this.vertices[w[1]],d,b.dir.copy().mult(-1),k),y.delete(w[1]),m.add(w[1])):y.set(w[1],{point:this.vertices[w[1]],dir:d,color:k}),d=void 0)),g!==this.edges.length-1||m.has(_[1])||((S=y.get(_[1]))?(this._addJoin(M,A,S.dir.copy().mult(-1),T),y.delete(_[1]),m.add(_[1])):y.set(_[1],{point:M,dir:A,color:T})),O&&(d=A)}var R=!0,U=!1,B=void 0;try{for(var W,N=y.values()[Symbol.iterator]();!(R=(W=N.next()).done);R=!0){var z=W.value,Y=z.point,Z=z.dir,G=z.color;this._addCap(Y,Z,G)}}catch(C){U=!0,B=C}finally{try{R||N.return==null||N.return()}finally{if(U)throw B}}return this}},{key:"_addSegment",value:function(w,_,m,g,b){var w=w.array(),_=_.array(),S=b.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var M=0,k=[this.lineTangentsIn,this.lineTangentsOut];M<k.length;M++)for(var T=k[M],A=0;A<6;A++)T.push.apply(T,h(S));return(b=this.lineVertices).push.apply(b,h(w).concat(h(_),h(w),h(_),h(_),h(w))),(b=this.lineVertexColors).push.apply(b,h(m).concat(h(g),h(m),h(g),h(g),h(m))),this}},{key:"_addCap",value:function(d,y,m){for(var g,b=d.array(),w=y.array(),_=[0,0,0],S=0;S<6;S++)(g=this.lineVertices).push.apply(g,h(b)),(g=this.lineTangentsIn).push.apply(g,h(w)),(g=this.lineTangentsOut).push.apply(g,_),(g=this.lineVertexColors).push.apply(g,h(m));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(d,y,m,g){for(var b,w=d.array(),_=y.array(),S=m.array(),M=0;M<12;M++)(b=this.lineVertices).push.apply(b,h(w)),(b=this.lineTangentsIn).push.apply(b,h(_)),(b=this.lineTangentsOut).push.apply(b,h(S)),(b=this.lineVertexColors).push.apply(b,h(g));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var d=this.vertices[0].copy(),y=this.vertices[0].copy(),m=0;m<this.vertices.length;m++)d.x=Math.max(d.x,this.vertices[m].x),y.x=Math.min(y.x,this.vertices[m].x),d.y=Math.max(d.y,this.vertices[m].y),y.y=Math.min(y.y,this.vertices[m].y),d.z=Math.max(d.z,this.vertices[m].z),y.z=Math.min(y.z,this.vertices[m].z);for(var g=s.default.Vector.lerp(d,y,.5),b=s.default.Vector.sub(d,y),w=200/Math.max(Math.max(b.x,b.y),b.z),_=0;_<this.vertices.length;_++)this.vertices[_].sub(g),this.vertices[_].mult(w)}return this}}])&&r(a.prototype,c),o}();var n=s.default.Geometry;E.default=n},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(p,V,E){p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(p=p("../core/main"))&&p.__esModule?p:{default:p};function u(h,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}var s=Array,i=function(h){return Array.isArray(h)},p=(typeof Float32Array<"u"&&(s=Float32Array,i=function(h){return Array.isArray(h)||h instanceof Float32Array}),f.default.Matrix=function(){function h(){var a=this,c=h;if(a instanceof c)return arguments.length&&((a=arguments.length-1)<0||arguments.length<=a?void 0:arguments[a])instanceof f.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var r,n,o;return r=h,o=[{key:"identity",value:function(a){return new f.default.Matrix(a)}}],(n=[{key:"set",value:function(a){return a instanceof f.default.Matrix?this.mat4=a.mat4:i(a)?this.mat4=a:arguments.length===16&&(this.mat4[0]=a,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new f.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var a;return this.mat3!==void 0?((a=new f.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],a.mat3[1]=this.mat3[1],a.mat3[2]=this.mat3[2],a.mat3[3]=this.mat3[3],a.mat3[4]=this.mat3[4],a.mat3[5]=this.mat3[5],a.mat3[6]=this.mat3[6],a.mat3[7]=this.mat3[7],a.mat3[8]=this.mat3[8]):((a=new f.default.Matrix(this.p5)).mat4[0]=this.mat4[0],a.mat4[1]=this.mat4[1],a.mat4[2]=this.mat4[2],a.mat4[3]=this.mat4[3],a.mat4[4]=this.mat4[4],a.mat4[5]=this.mat4[5],a.mat4[6]=this.mat4[6],a.mat4[7]=this.mat4[7],a.mat4[8]=this.mat4[8],a.mat4[9]=this.mat4[9],a.mat4[10]=this.mat4[10],a.mat4[11]=this.mat4[11],a.mat4[12]=this.mat4[12],a.mat4[13]=this.mat4[13],a.mat4[14]=this.mat4[14],a.mat4[15]=this.mat4[15]),a}},{key:"transpose",value:function(a){var c,d,y,m,g,b;return a instanceof f.default.Matrix?(c=a.mat4[1],d=a.mat4[2],y=a.mat4[3],m=a.mat4[6],g=a.mat4[7],b=a.mat4[11],this.mat4[0]=a.mat4[0],this.mat4[1]=a.mat4[4],this.mat4[2]=a.mat4[8],this.mat4[3]=a.mat4[12],this.mat4[4]=c,this.mat4[5]=a.mat4[5],this.mat4[6]=a.mat4[9],this.mat4[7]=a.mat4[13],this.mat4[8]=d,this.mat4[9]=m,this.mat4[10]=a.mat4[10],this.mat4[11]=a.mat4[14],this.mat4[12]=y,this.mat4[13]=g,this.mat4[14]=b,this.mat4[15]=a.mat4[15]):i(a)&&(c=a[1],d=a[2],y=a[3],m=a[6],g=a[7],b=a[11],this.mat4[0]=a[0],this.mat4[1]=a[4],this.mat4[2]=a[8],this.mat4[3]=a[12],this.mat4[4]=c,this.mat4[5]=a[5],this.mat4[6]=a[9],this.mat4[7]=a[13],this.mat4[8]=d,this.mat4[9]=m,this.mat4[10]=a[10],this.mat4[11]=a[14],this.mat4[12]=y,this.mat4[13]=g,this.mat4[14]=b,this.mat4[15]=a[15]),this}},{key:"invert",value:function(B){B instanceof f.default.Matrix?(c=B.mat4[0],d=B.mat4[1],y=B.mat4[2],m=B.mat4[3],g=B.mat4[4],b=B.mat4[5],w=B.mat4[6],_=B.mat4[7],S=B.mat4[8],M=B.mat4[9],k=B.mat4[10],T=B.mat4[11],A=B.mat4[12],O=B.mat4[13],R=B.mat4[14],U=B.mat4[15]):i(B)&&(c=B[0],d=B[1],y=B[2],m=B[3],g=B[4],b=B[5],w=B[6],_=B[7],S=B[8],M=B[9],k=B[10],T=B[11],A=B[12],O=B[13],R=B[14],U=B[15]);var c,d,y,m,g,b,w,_,S,M,k,T,A,O,R,U,B=c*b-d*g,W=c*w-y*g,N=c*_-m*g,z=d*w-y*b,Y=d*_-m*b,Z=y*_-m*w,G=S*O-M*A,C=S*R-k*A,L=S*U-T*A,D=M*R-k*O,q=M*U-T*O,J=k*U-T*R,te=B*J-W*q+N*D+z*L-Y*C+Z*G;return te?(this.mat4[0]=(b*J-w*q+_*D)*(te=1/te),this.mat4[1]=(y*q-d*J-m*D)*te,this.mat4[2]=(O*Z-R*Y+U*z)*te,this.mat4[3]=(k*Y-M*Z-T*z)*te,this.mat4[4]=(w*L-g*J-_*C)*te,this.mat4[5]=(c*J-y*L+m*C)*te,this.mat4[6]=(R*N-A*Z-U*W)*te,this.mat4[7]=(S*Z-k*N+T*W)*te,this.mat4[8]=(g*q-b*L+_*G)*te,this.mat4[9]=(d*L-c*q-m*G)*te,this.mat4[10]=(A*Y-O*N+U*B)*te,this.mat4[11]=(M*N-S*Y-T*B)*te,this.mat4[12]=(b*C-g*D-w*G)*te,this.mat4[13]=(c*D-d*C+y*G)*te,this.mat4[14]=(O*W-A*z-R*B)*te,this.mat4[15]=(S*z-M*W+k*B)*te,this):null}},{key:"invert3x3",value:function(){var a=this.mat3[0],c=this.mat3[1],d=this.mat3[2],y=this.mat3[3],m=this.mat3[4],g=this.mat3[5],b=this.mat3[6],w=this.mat3[7],_=this.mat3[8],S=_*m-g*w,M=-_*y+g*b,k=w*y-m*b,T=a*S+c*M+d*k;return T?(this.mat3[0]=S*(T=1/T),this.mat3[1]=(-_*c+d*w)*T,this.mat3[2]=(g*c-d*m)*T,this.mat3[3]=M*T,this.mat3[4]=(_*a-d*b)*T,this.mat3[5]=(-g*a+d*y)*T,this.mat3[6]=k*T,this.mat3[7]=(-w*a+c*b)*T,this.mat3[8]=(m*a-c*y)*T,this):null}},{key:"transpose3x3",value:function(a){var c=(a=a===void 0?this.mat3:a)[1],d=a[2],y=a[5];return this.mat3[0]=a[0],this.mat3[1]=a[3],this.mat3[2]=a[6],this.mat3[3]=c,this.mat3[4]=a[4],this.mat3[5]=a[7],this.mat3[6]=d,this.mat3[7]=y,this.mat3[8]=a[8],this}},{key:"inverseTranspose",value:function(a){if(a=a.mat4,this.mat3===void 0?f.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=a[0],this.mat3[1]=a[1],this.mat3[2]=a[2],this.mat3[3]=a[4],this.mat3[4]=a[5],this.mat3[5]=a[6],this.mat3[6]=a[8],this.mat3[7]=a[9],this.mat3[8]=a[10]),a=this.invert3x3(),a)a.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){var a=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],c=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],d=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],y=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],m=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],g=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],b=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],w=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],_=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],S=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],M=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return a*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-c*M+d*S+y*_-m*w+g*b}},{key:"mult",value:function(d){var c;if(d===this||d===this.mat4)c=this.copy().mat4;else if(d instanceof f.default.Matrix)c=d.mat4;else if(i(d))c=d;else{if(arguments.length!==16)return;c=arguments}var d=this.mat4[0],y=this.mat4[1],m=this.mat4[2],g=this.mat4[3];return this.mat4[0]=d*c[0]+y*c[4]+m*c[8]+g*c[12],this.mat4[1]=d*c[1]+y*c[5]+m*c[9]+g*c[13],this.mat4[2]=d*c[2]+y*c[6]+m*c[10]+g*c[14],this.mat4[3]=d*c[3]+y*c[7]+m*c[11]+g*c[15],d=this.mat4[4],y=this.mat4[5],m=this.mat4[6],g=this.mat4[7],this.mat4[4]=d*c[0]+y*c[4]+m*c[8]+g*c[12],this.mat4[5]=d*c[1]+y*c[5]+m*c[9]+g*c[13],this.mat4[6]=d*c[2]+y*c[6]+m*c[10]+g*c[14],this.mat4[7]=d*c[3]+y*c[7]+m*c[11]+g*c[15],d=this.mat4[8],y=this.mat4[9],m=this.mat4[10],g=this.mat4[11],this.mat4[8]=d*c[0]+y*c[4]+m*c[8]+g*c[12],this.mat4[9]=d*c[1]+y*c[5]+m*c[9]+g*c[13],this.mat4[10]=d*c[2]+y*c[6]+m*c[10]+g*c[14],this.mat4[11]=d*c[3]+y*c[7]+m*c[11]+g*c[15],d=this.mat4[12],y=this.mat4[13],m=this.mat4[14],g=this.mat4[15],this.mat4[12]=d*c[0]+y*c[4]+m*c[8]+g*c[12],this.mat4[13]=d*c[1]+y*c[5]+m*c[9]+g*c[13],this.mat4[14]=d*c[2]+y*c[6]+m*c[10]+g*c[14],this.mat4[15]=d*c[3]+y*c[7]+m*c[11]+g*c[15],this}},{key:"apply",value:function(d){var c;if(d===this||d===this.mat4)c=this.copy().mat4;else if(d instanceof f.default.Matrix)c=d.mat4;else if(i(d))c=d;else{if(arguments.length!==16)return;c=arguments}var d=this.mat4,y=d[0],m=d[4],g=d[8],b=d[12],y=(d[0]=c[0]*y+c[1]*m+c[2]*g+c[3]*b,d[4]=c[4]*y+c[5]*m+c[6]*g+c[7]*b,d[8]=c[8]*y+c[9]*m+c[10]*g+c[11]*b,d[12]=c[12]*y+c[13]*m+c[14]*g+c[15]*b,d[1]),m=d[5],g=d[9],b=d[13],y=(d[1]=c[0]*y+c[1]*m+c[2]*g+c[3]*b,d[5]=c[4]*y+c[5]*m+c[6]*g+c[7]*b,d[9]=c[8]*y+c[9]*m+c[10]*g+c[11]*b,d[13]=c[12]*y+c[13]*m+c[14]*g+c[15]*b,d[2]),m=d[6],g=d[10],b=d[14],y=(d[2]=c[0]*y+c[1]*m+c[2]*g+c[3]*b,d[6]=c[4]*y+c[5]*m+c[6]*g+c[7]*b,d[10]=c[8]*y+c[9]*m+c[10]*g+c[11]*b,d[14]=c[12]*y+c[13]*m+c[14]*g+c[15]*b,d[3]),m=d[7],g=d[11],b=d[15];return d[3]=c[0]*y+c[1]*m+c[2]*g+c[3]*b,d[7]=c[4]*y+c[5]*m+c[6]*g+c[7]*b,d[11]=c[8]*y+c[9]*m+c[10]*g+c[11]*b,d[15]=c[12]*y+c[13]*m+c[14]*g+c[15]*b,this}},{key:"scale",value:function(a,c,d){return a instanceof f.default.Vector?(c=a.y,d=a.z,a=a.x):a instanceof Array&&(c=a[1],d=a[2],a=a[0]),this.mat4[0]*=a,this.mat4[1]*=a,this.mat4[2]*=a,this.mat4[3]*=a,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=d,this.mat4[9]*=d,this.mat4[10]*=d,this.mat4[11]*=d,this}},{key:"rotate",value:function(B,q,D,y){q instanceof f.default.Vector?(D=q.y,y=q.z,q=q.x):q instanceof Array&&(D=q[1],y=q[2],q=q[0]);var m=Math.sqrt(q*q+D*D+y*y),m=(q*=1/m,D*=1/m,y*=1/m,this.mat4[0]),g=this.mat4[1],b=this.mat4[2],w=this.mat4[3],_=this.mat4[4],S=this.mat4[5],M=this.mat4[6],k=this.mat4[7],T=this.mat4[8],A=this.mat4[9],O=this.mat4[10],R=this.mat4[11],U=Math.sin(B),B=Math.cos(B),W=1-B,N=q*q*W+B,z=D*q*W+y*U,Y=y*q*W-D*U,Z=q*D*W-y*U,G=D*D*W+B,C=y*D*W+q*U,L=q*y*W+D*U,D=D*y*W-q*U,q=y*y*W+B;return this.mat4[0]=m*N+_*z+T*Y,this.mat4[1]=g*N+S*z+A*Y,this.mat4[2]=b*N+M*z+O*Y,this.mat4[3]=w*N+k*z+R*Y,this.mat4[4]=m*Z+_*G+T*C,this.mat4[5]=g*Z+S*G+A*C,this.mat4[6]=b*Z+M*G+O*C,this.mat4[7]=w*Z+k*G+R*C,this.mat4[8]=m*L+_*D+T*q,this.mat4[9]=g*L+S*D+A*q,this.mat4[10]=b*L+M*D+O*q,this.mat4[11]=w*L+k*D+R*q,this}},{key:"translate",value:function(y){var c=y[0],d=y[1],y=y[2]||0;this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*d+this.mat4[8]*y,this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*d+this.mat4[9]*y,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*d+this.mat4[10]*y,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*d+this.mat4[11]*y}},{key:"rotateX",value:function(a){this.rotate(a,1,0,0)}},{key:"rotateY",value:function(a){this.rotate(a,0,1,0)}},{key:"rotateZ",value:function(a){this.rotate(a,0,0,1)}},{key:"perspective",value:function(m,c,d,y){var m=1/Math.tan(m/2),g=1/(d-y);return this.mat4[0]=m/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=m,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(y+d)*g,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*y*d*g,this.mat4[15]=0,this}},{key:"ortho",value:function(a,c,d,y,m,g){var b=1/(a-c),w=1/(d-y),_=1/(m-g);return this.mat4[0]=-2*b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*_,this.mat4[11]=0,this.mat4[12]=(a+c)*b,this.mat4[13]=(y+d)*w,this.mat4[14]=(g+m)*_,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(a,c,d,y){var m=new Array(4),g=this.mat4;return m[0]=g[0]*a+g[4]*c+g[8]*d+g[12]*y,m[1]=g[1]*a+g[5]*c+g[9]*d+g[13]*y,m[2]=g[2]*a+g[6]*c+g[10]*d+g[14]*y,m[3]=g[3]*a+g[7]*c+g[11]*d+g[15]*y,m}},{key:"multiplyPoint",value:function(d){var y=d.x,c=d.y,d=d.z,y=this.multiplyVec4(y,c,d,1);return new f.default.Vector(y[0],y[1],y[2])}},{key:"multiplyAndNormalizePoint",value:function(d){var y=d.x,c=d.y,d=d.z,y=this.multiplyVec4(y,c,d,1);return y[0]/=y[3],y[1]/=y[3],y[2]/=y[3],new f.default.Vector(y[0],y[1],y[2])}},{key:"multiplyDirection",value:function(d){var y=d.x,c=d.y,d=d.z,y=this.multiplyVec4(y,c,d,0);return new f.default.Vector(y[0],y[1],y[2])}},{key:"mult3x3",value:function(d){var c;if(d===this||d===this.mat3)c=this.copy().mat3;else if(d instanceof f.default.Matrix)c=d.mat3;else if(i(d))c=d;else{if(arguments.length!==9)return;c=arguments}var d=this.mat3[0],y=this.mat3[1],m=this.mat3[2];return this.mat3[0]=d*c[0]+y*c[3]+m*c[6],this.mat3[1]=d*c[1]+y*c[4]+m*c[7],this.mat3[2]=d*c[2]+y*c[5]+m*c[8],d=this.mat3[3],y=this.mat3[4],m=this.mat3[5],this.mat3[3]=d*c[0]+y*c[3]+m*c[6],this.mat3[4]=d*c[1]+y*c[4]+m*c[7],this.mat3[5]=d*c[2]+y*c[5]+m*c[8],d=this.mat3[6],y=this.mat3[7],m=this.mat3[8],this.mat3[6]=d*c[0]+y*c[3]+m*c[6],this.mat3[7]=d*c[1]+y*c[4]+m*c[7],this.mat3[8]=d*c[2]+y*c[5]+m*c[8],this}},{key:"column",value:function(a){return new f.default.Vector(this.mat3[3*a],this.mat3[3*a+1],this.mat3[3*a+2])}},{key:"row",value:function(a){return new f.default.Vector(this.mat3[a],this.mat3[a+3],this.mat3[a+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(a,c){return(c=c===void 0?a.copy():c).x=this.row(0).dot(a),c.y=this.row(1).dot(a),c.z=this.row(2).dot(a),c}},{key:"createSubMatrix3x3",value:function(){var a=new f.default.Matrix("mat3");return a.mat3[0]=this.mat4[0],a.mat3[1]=this.mat4[1],a.mat3[2]=this.mat4[2],a.mat3[3]=this.mat4[4],a.mat3[4]=this.mat4[5],a.mat3[5]=this.mat4[6],a.mat3[6]=this.mat4[8],a.mat3[7]=this.mat4[9],a.mat3[8]=this.mat4[10],a}}])&&u(r.prototype,n),o&&u(r,o),h}(),f.default.Matrix);E.default=p},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(t,V,E){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function f(u,s){for(var i=0;i<s.length;i++){var p=s[i];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}t.default.RenderBuffer=function(){function u(p,h,r,n,o,a){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=p,this.src=h,this.dst=r,this.attr=n,this._renderer=o,this.map=a}var s,i;return s=u,(i=[{key:"_prepareBuffer",value:function(p,h){var r,n,o,d=h.attributes,a=this._renderer.GL,c=p.model||p,d=d[this.attr];d&&(r=p[this.dst],0<(n=c[this.src]).length?((o=!r)&&(p[this.dst]=r=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,r),!o&&c.dirtyFlags[this.src]===!1||(o=(p=this.map)?p(n):n,this._renderer._bindBuffer(r,a.ARRAY_BUFFER,o),c.dirtyFlags[this.src]=!1),h.enableAttrib(d,this.size)):(p=d.location)!==-1&&this._renderer.registerEnabled.has(p)&&(a.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)))}}])&&f(s.prototype,i),u}(),t=t.default.RenderBuffer,E.default=t},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(t,V,E){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(o)}function u(o){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(a){return f(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":f(a)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(n=t("../core/main"))&&n.__esModule?n:{default:n},i=function(o){if(o&&o.__esModule)return o;if(o===null||u(o)!=="object"&&typeof o!="function")return{default:o};var a=p();if(a&&a.has(o))return a.get(o);var c,d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in o){var m;Object.prototype.hasOwnProperty.call(o,c)&&((m=y?Object.getOwnPropertyDescriptor(o,c):null)&&(m.get||m.set)?Object.defineProperty(d,c,m):d[c]=o[c])}return d.default=o,a&&a.set(o,d),d}(t("../core/constants"));function p(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,p=function(){return o},o)}function h(o){return function(a){if(Array.isArray(a)){for(var c=0,d=new Array(a.length);c<a.length;c++)d[c]=a[c];return d}}(o)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:i.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var r={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},n=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==i.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(o,a){if(this.immediateMode.shapeMode===i.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in r){var d=r[c],c=this.immediateMode.geometry[c];c.push.apply(c,h(c.slice(c.length-3*d,c.length-2*d)).concat(h(c.slice(c.length-d,c.length))))}var y,m,g=y=m=0,b=(arguments.length===3?g=arguments[2]:arguments.length===4?(y=arguments[2],m=arguments[3]):arguments.length===5&&(g=arguments[2],y=arguments[3],m=arguments[4]),new s.default.Vector(o,a,g)),b=(this.immediateMode.geometry.vertices.push(b),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),b=(this.immediateMode.geometry.vertexColors.push(b[0],b[1],b[2],b[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(b[0],b[1],b[2],b[3]),this.textureMode!==i.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(y/=this._tex.width,m/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(y,m),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=a,this.immediateMode._bezierVertex[2]=g,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=a,this.immediateMode._quadraticVertex[2]=g,this},s.default.RendererGL.prototype.normal=function(o,a,c){return o instanceof s.default.Vector?this._currentNormal=o:this._currentNormal=new s.default.Vector(o,a,c),this},s.default.RendererGL.prototype.endShape=function(o,a,c,d,y,m){var g=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===i.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===i.TESS&&(this.immediateMode.shapeMode,i.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==i.LINE_STRIP&&this.immediateMode.shapeMode!==i.LINES||(this.immediateMode.shapeMode=i.TRIANGLE_FAN),this.immediateMode.shapeMode===i.QUADS?this.immediateMode.shapeMode=i.TRIANGLES:this.immediateMode.shapeMode===i.QUAD_STRIP&&(this.immediateMode.shapeMode=i.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(g),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(o){var a;this.immediateMode.geometry.vertices.length!==0&&(a=this._doStroke,o=o===i.CLOSE,a&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),a=this.immediateMode.shapeMode===i.TESS,o=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||a||o)&&this.immediateMode.shapeMode!==i.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(o,a,c){var d=[],y=0,m=this.immediateMode.contourIndices.slice(),g=0;switch(o){case i.TRIANGLE_STRIP:for(y=0;y<a.length-2;y++)d.push([y,y+1]),d.push([y,y+2]);d.push([y,y+1]);break;case i.TRIANGLE_FAN:for(y=1;y<a.length-1;y++)d.push([0,y]),d.push([y,y+1]);d.push([0,a.length-1]);break;case i.TRIANGLES:for(y=0;y<a.length-2;y+=3)d.push([y,y+1]),d.push([y+1,y+2]),d.push([y+2,y]);break;case i.LINES:for(y=0;y<a.length-1;y+=2)d.push([y,y+1]);break;case i.QUADS:for(y=0;y<a.length-5;y+=6)d.push([y,y+1]),d.push([y+1,y+2]),d.push([y+3,y+5]),d.push([y+4,y+5]);break;case i.QUAD_STRIP:for(y=0;y<a.length-2;y+=2)d.push([y,y+1]),d.push([y,y+2]),d.push([y+1,y+3]);d.push([y,y+1]);break;default:for(y=0;y<a.length;y++)y+1<a.length&&y+1!==m[0]?d.push([y,y+1]):((c||g)&&d.push([y,g]),0<m.length&&(g=m.shift()))}return o!==i.TESS&&c&&d.push([a.length-1,0]),d},s.default.RendererGL.prototype._tesselateShape=function(){for(var o=this,a=(this.immediateMode.shapeMode=i.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),a.push([])),a[a.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var d,y=this._triangulate(a),m=this.immediateMode.geometry.vertices,g=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),b=0,w=y.length;b<w;b+=s.default.RendererGL.prototype.tessyVertexSize)g.push.apply(g,h(y.slice(b+5,b+9))),this.normal.apply(this,h(y.slice(b+9,b+12))),this.vertex.apply(this,h(y.slice(b,b+5)));this.geometryBuilder&&(d=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(_){return _.map(function(S){if(!d.has(S)){var M=m[S],k=o.immediateMode.geometry.vertices.findIndex(function(W){return M.x===W.x&&M.y===W.y&&M.z===W.z});if(k===-1){for(var T=1/0,A=0,O=0;O<o.immediateMode.geometry.vertices.length;O++){var U=o.immediateMode.geometry.vertices[O],B=M.x-U.x,R=M.y-U.y,U=M.z-U.z,B=B*B+R*R+U*U;B<T&&(T=B,A=O)}k=A}d.set(S,k)}return d.get(S)})})),this.immediateMode.geometry.vertexColors=g},s.default.RendererGL.prototype._drawImmediateFill=function(){var o,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,c=this.GL,d=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,o=this._getImmediateFillShader(),this._setFillUniforms(o),!0),y=!1,m=void 0;try{for(var g,b=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(g=b.next()).done);d=!0)g.value._prepareBuffer(this.immediateMode.geometry,o)}catch(w){y=!0,m=w}finally{try{d||b.return==null||b.return()}finally{if(y)throw m}}if(o.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),a===1)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,a)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}o.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,a=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(a),!0),d=!1,y=void 0;try{for(var m,g=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(m=g.next()).done);c=!0)m.value._prepareBuffer(this.immediateMode.geometry,a)}catch(b){d=!0,y=b}finally{try{c||g.return==null||g.return()}finally{if(d)throw y}}a.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),a.unbindShader()},s.default.RendererGL);E.default=n},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(t,V,E){function f(r){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(r)}function u(r){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(n){return f(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":f(n)})(r)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var s=(h=t("../core/main"))&&h.__esModule?h:{default:h},i=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(r){if(r&&r.__esModule)return r;if(r===null||u(r)!=="object"&&typeof r!="function")return{default:r};var n=p();if(n&&n.has(r))return n.get(r);var o,a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in r){var d;Object.prototype.hasOwnProperty.call(r,o)&&((d=c?Object.getOwnPropertyDescriptor(r,o):null)&&(d.get||d.set)?Object.defineProperty(a,o,d):a[o]=r[o])}return a.default=r,n&&n.set(r,a),a}(t("../core/constants")));function p(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,p=function(){return r},r)}s.default.RendererGL.prototype.freeGeometry=function(r){r.gid?this._freeBuffers(r.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(r){var n;return this._freeBuffers(r),1e3<Object.keys(this.retainedMode.geometry).length&&(n=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(n)),this.retainedMode.geometry[r]={}},s.default.RendererGL.prototype._freeBuffers=function(r){var n,o=this.retainedMode.geometry[r];function a(c){var d=!0,y=!1,m=void 0;try{for(var g,b=c[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var w=g.value;o[w.dst]&&(n.deleteBuffer(o[w.dst]),o[w.dst]=null)}}catch(_){y=!0,m=_}finally{try{d||b.return==null||b.return()}finally{if(y)throw m}}}o&&(delete this.retainedMode.geometry[r],n=this.GL,o.indexBuffer&&n.deleteBuffer(o.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(y,n){var o,a,c,d=this.GL,y=this._initBufferDefaults(y),m=(y.model=n,y.indexBuffer);return n.faces.length?(m=m||(y.indexBuffer=d.createBuffer()),c=(a=(o=s.default.RendererGL.prototype._flatten(n.faces)).some(function(g){return 65535<g}))?Uint32Array:Uint16Array,this._bindBuffer(m,d.ELEMENT_ARRAY_BUFFER,o,c),y.indexBufferType=a?d.UNSIGNED_INT:d.UNSIGNED_SHORT,y.vertexCount=3*n.faces.length):(m&&(d.deleteBuffer(m),y.indexBuffer=null),y.vertexCount=n.vertices?n.vertices.length:0),y.lineVertexCount=n.lineVertices?n.lineVertices.length/3:0,y},s.default.RendererGL.prototype.drawBuffers=function(r){var n=this.GL,o=this.retainedMode.geometry[r];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[r].vertexCount){this._useVertexColor=0<o.model.vertexColors.length;var a=this._getRetainedFillShader(),c=(this._setFillUniforms(a),!0),d=!1,y=void 0;try{for(var m,g=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(m=g.next()).done);c=!0)m.value._prepareBuffer(o,a)}catch(M){d=!0,y=M}finally{try{c||g.return==null||g.return()}finally{if(d)throw y}}a.disableRemainingAttributes(),o.indexBuffer&&this._bindBuffer(o.indexBuffer,n.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(n.TRIANGLES,r),a.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<o.lineVertexCount){this._useLineColor=0<o.model.vertexStrokeColors.length;var b=this._getRetainedStrokeShader(),w=(this._setStrokeUniforms(b),!0),d=!1,y=void 0;try{for(var _,S=this.retainedMode.buffers.stroke[Symbol.iterator]();!(w=(_=S.next()).done);w=!0)_.value._prepareBuffer(o,b)}catch(T){d=!0,y=T}finally{try{w||S.return==null||S.return()}finally{if(d)throw y}}b.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(n.TRIANGLES,r),b.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(o),this},s.default.RendererGL.prototype.drawBuffersScaled=function(r,n,o,a){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(n,o,a),this.drawBuffers(r)}finally{this.uMVMatrix=c}},s.default.RendererGL.prototype._drawArrays=function(r,n){return this.GL.drawArrays(r,0,this.retainedMode.geometry[n].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(r,o){var o=this.retainedMode.geometry[o],a=this.GL;if(o.indexBuffer){if(this._pInst.webglVersion!==i.WEBGL2&&o.indexBufferType===a.UNSIGNED_INT&&!a.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");a.drawElements(a.TRIANGLES,o.vertexCount,o.indexBufferType,0)}else a.drawArrays(r||a.TRIANGLES,0,o.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(r,n){var o=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(n,o.ARRAY_BUFFER,this._vToNArray(r),Float32Array,o.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.Points,0,r.length),a.unbindShader()};var h=s.default.RendererGL;E.default=h},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(O,V,E){function f(N){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(N)}function u(N){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(z){return f(z)}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":f(z)})(N)}O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.get-own-property-descriptor"),O("core-js/modules/es.object.get-prototype-of"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.reflect.construct"),O("core-js/modules/es.reflect.get"),O("core-js/modules/es.regexp.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/es.weak-map"),O("core-js/modules/web.dom-collections.iterator"),O("core-js/modules/es.symbol"),O("core-js/modules/es.symbol.description"),O("core-js/modules/es.symbol.iterator"),O("core-js/modules/es.array.concat"),O("core-js/modules/es.array.copy-within"),O("core-js/modules/es.array.every"),O("core-js/modules/es.array.fill"),O("core-js/modules/es.array.from"),O("core-js/modules/es.array.includes"),O("core-js/modules/es.array.iterator"),O("core-js/modules/es.array.slice"),O("core-js/modules/es.array.some"),O("core-js/modules/es.map"),O("core-js/modules/es.object.assign"),O("core-js/modules/es.object.to-string"),O("core-js/modules/es.set"),O("core-js/modules/es.string.includes"),O("core-js/modules/es.string.iterator"),O("core-js/modules/es.typed-array.float32-array"),O("core-js/modules/es.typed-array.float64-array"),O("core-js/modules/es.typed-array.int16-array"),O("core-js/modules/es.typed-array.uint8-array"),O("core-js/modules/es.typed-array.uint16-array"),O("core-js/modules/es.typed-array.uint32-array"),O("core-js/modules/es.typed-array.copy-within"),O("core-js/modules/es.typed-array.every"),O("core-js/modules/es.typed-array.fill"),O("core-js/modules/es.typed-array.filter"),O("core-js/modules/es.typed-array.find"),O("core-js/modules/es.typed-array.find-index"),O("core-js/modules/es.typed-array.for-each"),O("core-js/modules/es.typed-array.includes"),O("core-js/modules/es.typed-array.index-of"),O("core-js/modules/es.typed-array.iterator"),O("core-js/modules/es.typed-array.join"),O("core-js/modules/es.typed-array.last-index-of"),O("core-js/modules/es.typed-array.map"),O("core-js/modules/es.typed-array.reduce"),O("core-js/modules/es.typed-array.reduce-right"),O("core-js/modules/es.typed-array.reverse"),O("core-js/modules/es.typed-array.set"),O("core-js/modules/es.typed-array.slice"),O("core-js/modules/es.typed-array.some"),O("core-js/modules/es.typed-array.sort"),O("core-js/modules/es.typed-array.subarray"),O("core-js/modules/es.typed-array.to-locale-string"),O("core-js/modules/es.typed-array.to-string"),O("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.readPixelsWebGL=B,E.readPixelWebGL=W,E.default=void 0;var s=o(O("../core/main")),i=function(N){if(N&&N.__esModule)return N;if(N===null||u(N)!=="object"&&typeof N!="function")return{default:N};var z=n();if(z&&z.has(N))return z.get(N);var Y,Z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in N){var C;Object.prototype.hasOwnProperty.call(N,Y)&&((C=G?Object.getOwnPropertyDescriptor(N,Y):null)&&(C.get||C.set)?Object.defineProperty(Z,Y,C):Z[Y]=N[Y])}return Z.default=N,z&&z.set(N,Z),Z}(O("../core/constants")),p=o(O("./GeometryBuilder")),h=o(O("libtess")),r=(O("./p5.Shader"),O("./p5.Camera"),O("../core/p5.Renderer"),O("./p5.Matrix"),O("./p5.Framebuffer"),O("path"),O("./p5.Texture"));function n(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,n=function(){return N},N)}function o(N){return N&&N.__esModule?N:{default:N}}function a(N){return function(z){if(Array.isArray(z)){for(var Y=0,Z=new Array(z.length);Y<z.length;Y++)Z[Y]=z[Y];return Z}}(N)||function(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}(N)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(N,z){for(var Y=0;Y<z.length;Y++){var Z=z[Y];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}function d(N,z,Y){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(L,G,C){var L=function(D,q){for(;!Object.prototype.hasOwnProperty.call(D,q)&&(D=b(D))!==null;);return D}(L,G);if(L)return(L=Object.getOwnPropertyDescriptor(L,G)).get?L.get.call(C):L.value})(N,z,Y||N)}function y(N,z){return(y=Object.setPrototypeOf||function(Y,Z){return Y.__proto__=Z,Y})(N,z)}function m(N){return function(){var z,Y,Z=b(N);return z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(z=b(this).constructor,Reflect.construct(Z,arguments,z)):Z.apply(this,arguments),Z=this,!(Y=z)||u(Y)!=="object"&&typeof Y!="function"?g(Z):Y}}function g(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function b(N){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(N)}function w(N,z,Y){z in N?Object.defineProperty(N,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):N[z]=Y}function _(N,z){A+="#define STROKE_CAP_".concat(N," ").concat(z,`
`),k[i[N]]=z}function S(N,z){A+="#define STROKE_JOIN_".concat(N," ").concat(z,`
`),T[i[N]]=z}var M,k={},T={},A="",O=(_("ROUND",0),_("PROJECT",1),_("SQUARE",2),S("ROUND",0),S("MITER",1),S("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal);
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return pow(outColor.xyz, vec3(10.0));
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),R={immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:O+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:O+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:A+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:A+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.025;
	float nrSamples = 0.0;
  
	for(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)
	{
    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)
    {
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 1024; // 4096\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
	if (n > 0)\r
	{\r
  	denom = mod(float(n), 2.0);\r
  	result += denom * invBase;\r
  	invBase = invBase / 2.0;\r
  	n = int(float(n) / 2.0);\r
	}\r
  }\r
\r
  return result;\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`};for(M in R)R[M]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+R[M];w(O={},i.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),w(O,i.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),w(O,i.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),w(O,i.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),w(O,i.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),w(O,i.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),w(O,i.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),w(O,i.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var U=O;function B(N,z,se,Z,G,C,L,D,q,J){var te=z.getParameter(z.FRAMEBUFFER_BINDING),se=(z.bindFramebuffer(z.FRAMEBUFFER,se),D===z.RGBA?4:3),ce=C*L*se,ne=q===z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(N instanceof ne&&N.length===ce||(N=new ne(ce)),z.readPixels(Z,J?J-G-L:G,C,L,D,q,N),z.bindFramebuffer(z.FRAMEBUFFER,te),J)for(var ae=Math.floor(L/2),de=new ne(C*se),Q=0;Q<ae;Q++){var ie=Q*C*4,me=(L-Q-1)*C*4;de.set(N.subarray(ie,ie+4*C)),N.copyWithin(ie,me,me+4*C),N.set(de,me)}return N}function W(N,q,Y,Z,G,C,L){var D=N.getParameter(N.FRAMEBUFFER_BINDING),q=(N.bindFramebuffer(N.FRAMEBUFFER,q),G===N.RGBA?4:3),q=new(C===N.UNSIGNED_BYTE?Uint8Array:Float32Array)(q);return N.readPixels(Y,L?L-Z-1:Z,1,1,G,C,q),N.bindFramebuffer(N.FRAMEBUFFER,D),Array.from(q)}s.default.prototype.setAttributes=function(N,z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Y=!0;if(z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[N]!==z&&(this._glAttributes[N]=z,Y=!1)):N instanceof Object&&this._glAttributes!==N&&(this._glAttributes=N,Y=!1),this._renderer.isP3D&&!Y){if(!this._setupDone){for(var Z in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(Z))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(N){var z=Z;if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),N&&y(z,N);var Y=m(Z);function Z(G,C,L,D){if(this instanceof Z)return(G=Y.call(this,G,C,L))._setAttributeDefaults(C),G._initContext(),G.isP3D=!0,G.geometryBuilder=void 0,G.GL=G.drawingContext,G._pInst._setProperty("drawingContext",G.drawingContext),G._isErasing=!1,G._clipDepths=[],G._isClipApplied=!1,G._stencilTestOn=!1,G._enableLighting=!1,G.ambientLightColors=[],G.specularColors=[1,1,1],G.directionalLightDirections=[],G.directionalLightDiffuseColors=[],G.directionalLightSpecularColors=[],G.pointLightPositions=[],G.pointLightDiffuseColors=[],G.pointLightSpecularColors=[],G.spotLightPositions=[],G.spotLightDirections=[],G.spotLightDiffuseColors=[],G.spotLightSpecularColors=[],G.spotLightAngle=[],G.spotLightConc=[],G.activeImageLight=null,G.diffusedTextures=new Map,G.specularTextures=new Map,G.drawMode=i.FILL,G.curFillColor=G._cachedFillStyle=[1,1,1,1],G.curAmbientColor=G._cachedFillStyle=[1,1,1,1],G.curSpecularColor=G._cachedFillStyle=[0,0,0,0],G.curEmissiveColor=G._cachedFillStyle=[0,0,0,0],G.curStrokeColor=G._cachedStrokeStyle=[0,0,0,1],G.curBlendMode=i.BLEND,G._cachedBlendMode=void 0,G.webglVersion===i.WEBGL2?G.blendExt=G.GL:G.blendExt=G.GL.getExtension("EXT_blend_minmax"),G._isBlending=!1,G._hasSetAmbient=!1,G._useSpecularMaterial=!1,G._useEmissiveMaterial=!1,G._useNormalMaterial=!1,G._useShininess=1,G._useLineColor=!1,G._useVertexColor=!1,G.registerEnabled=new Set,G._tint=[255,255,255,255],G.constantAttenuation=1,G.linearAttenuation=0,G.quadraticAttenuation=0,G.uMVMatrix=new s.default.Matrix,G.uPMatrix=new s.default.Matrix,G.uNMatrix=new s.default.Matrix("mat3"),G._currentNormal=new s.default.Vector(0,0,1),G._curCamera=new s.default.Camera(g(G)),G._curCamera._computeCameraDefaultSettings(),G._curCamera._setDefaultCamera(),G.filterCamera=new s.default.Camera(g(G)),G.filterCamera._computeCameraDefaultSettings(),G.filterCamera._setDefaultCamera(),G.prevTouches=[],G.zoomVelocity=0,G.rotateVelocity=new s.default.Vector(0,0),G.moveVelocity=new s.default.Vector(0,0),G.executeZoom=!1,G.executeRotateAndMove=!1,G._defaultLightShader=void 0,G._defaultImmediateModeShader=void 0,G._defaultNormalShader=void 0,G._defaultColorShader=void 0,G._defaultPointShader=void 0,G.userFillShader=void 0,G.userStrokeShader=void 0,G.userPointShader=void 0,G.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(G)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(G)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(G)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(G)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(G))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(G),G._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(G),G._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(G)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(G)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(G),G._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(G),G._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(G),G._flatten)]}},G.immediateMode={geometry:new s.default.Geometry,shapeMode:i.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",g(G),G._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",g(G),G._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",g(G)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",g(G)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",g(G),G._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",g(G)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",g(G)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",g(G)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",g(G)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",g(G))],point:G.GL.createBuffer()}},G.pointSize=5,G.curStrokeWeight=1,G.curStrokeCap=i.ROUND,G.curStrokeJoin=i.ROUND,G.textures=new Map,G.framebuffers=new Set,G.activeFramebuffers=[],G.filterShader=void 0,G.filterLayer=void 0,G.filterLayerTemp=void 0,G.defaultFilterShaders={},G.textureMode=i.IMAGE,G.textureWrapX=i.CLAMP,G.textureWrapY=i.CLAMP,G._tex=null,G._curveTightness=6,G._lookUpTableBezier=[],G._lookUpTableQuadratic=[],G._lutBezierDetail=0,G._lutQuadraticDetail=0,G.isProcessingVertices=!1,G._tessy=G._initTessy(),G.fontInfos={},G._curShader=void 0,G;throw new TypeError("Cannot call a class as a function")}return z=Z,(N=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new p.default(this)}},{key:"endGeometry",value:function(){var G;if(this.geometryBuilder)return G=this.geometryBuilder.finish(),this.geometryBuilder=void 0,G;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(G){return this.beginGeometry(),G(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(G){var C={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};G._glAttributes===null?G._glAttributes=C:G._glAttributes=Object.assign(C,G._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?i.WEBGL2:i.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var G=this.drawingContext;G.enable(G.DEPTH_TEST),G.depthFunc(G.LEQUAL),G.viewport(0,0,G.drawingBufferWidth,G.drawingBufferHeight),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(G,C){var L,D=this.width,q=this.height,te=this.canvas.id,J=this._pInst instanceof s.default.Graphics,te=(J?((L=this._pInst).canvas.parentNode.removeChild(L.canvas),L.canvas=document.createElement("canvas"),(L._pInst._userNode||document.body).appendChild(L.canvas),s.default.Element.call(L,L.canvas,L._pInst),L.width=D,L.height=q):((L=this.canvas)&&L.parentNode.removeChild(L),(L=document.createElement("canvas")).id=te,(this._pInst._userNode||document.body).appendChild(L),this._pInst.canvas=L,this.canvas=L),new s.default.RendererGL(this._pInst.canvas,this._pInst,!J));this._pInst._setProperty("_renderer",te),te.resize(D,q),te._applyDefaults(),J||this._pInst._elements.push(te),typeof C=="function"&&setTimeout(function(){C.apply(window._renderer,G)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var D=(D=this._pInst).color.apply(D,arguments),G=D.levels[0]/255,C=D.levels[1]/255,L=D.levels[2]/255,D=D.levels[3]/255;this.clear(G,C,L,D)}},{key:"fill",value:function(G,C,L,D){var q=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=q._array,this.drawMode=i.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(G,C,L,D){var q=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=q._array}},{key:"strokeCap",value:function(G){this.curStrokeCap=G}},{key:"strokeJoin",value:function(G){this.curStrokeJoin=G}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(G,C){G.width===C.width&&G.height===C.height||G.resize(C.width,C.height),G.pixelDensity()!==C.pixelDensity()&&G.pixelDensity(C.pixelDensity())}},{key:"filter",value:function(){var G,C,L=this,D=this.getFilterLayer(),q=void 0,J=void 0,te=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(J=arguments.length<=0?void 0:arguments[0],w(G={},i.BLUR,3),w(G,i.POSTERIZE,4),w(G,i.THRESHOLD,.5),q=J in(G=G)&&(arguments.length<=1?void 0:arguments[1])===void 0?G[J]:arguments.length<=1?void 0:arguments[1],J in this.defaultFilterShaders||(this.defaultFilterShaders[J]=new s.default.Shader(D._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,U[J])),this.filterShader=this.defaultFilterShaders[J]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),se=(this.matchSize(D,te),te!==this&&(this.filterCamera=this.getFilterLayer().createCamera()),D.draw(function(){return L._pInst.clear()}),[1/(te.width*te.pixelDensity()),1/(te.height*te.pixelDensity())]);J===i.BLUR?(C=this.getFilterLayerTemp(),this.matchSize(C,te),this._pInst.push(),this._pInst.noStroke(),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",se),this.filterShader.setUniform("canvasSize",[te.width,te.height]),this.filterShader.setUniform("radius",Math.max(1,q)),C.draw(function(){L.filterShader.setUniform("direction",[1,0]),L.filterShader.setUniform("tex0",te),L._pInst.clear(),L._pInst.shader(L.filterShader),L._pInst.rect(-te.width/2,-te.height/2,te.width,te.height)}),D.draw(function(){L.filterShader.setUniform("direction",[0,1]),L.filterShader.setUniform("tex0",C),L._pInst.clear(),L._pInst.shader(L.filterShader),L._pInst.rect(-te.width/2,-te.height/2,te.width,te.height)}),this._pInst.pop()):D.draw(function(){L._pInst.noStroke(),L._pInst.shader(L.filterShader),L.filterShader.setUniform("tex0",te),L.filterShader.setUniform("texelSize",se),L.filterShader.setUniform("canvasSize",[te.width,te.height]),L.filterShader.setUniform("filterParameter",q),L._pInst.rect(-te.width/2,-te.height/2,te.width,te.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(i.CORNER),this._pInst.blendMode(i.BLEND),this.filterCamera._resize(),this._pInst.setCamera(this.filterCamera),this._pInst.resetMatrix(),this._pInst.image(D,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(G){return G?this._pInst.pixelDensity(G):this._pInst.pixelDensity()}},{key:"blendMode",value:function(G){G===i.DARKEST||G===i.LIGHTEST||G===i.ADD||G===i.BLEND||G===i.SUBTRACT||G===i.SCREEN||G===i.EXCLUSION||G===i.REPLACE||G===i.MULTIPLY||G===i.REMOVE?this.curBlendMode=G:G!==i.BURN&&G!==i.OVERLAY&&G!==i.HARD_LIGHT&&G!==i.SOFT_LIGHT&&G!==i.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(G,C){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this._isErasing=!0,this.blendMode(i.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,G/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,C/255])}},{key:"noErase",value:function(){var G;this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),G=this.curBlendMode,this.blendMode(this._cachedBlendMode),this._cachedBlendMode=G,this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var G=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},G=(d(b(Z.prototype),"beginClip",this).call(this,G),this.drawTarget()._isClipApplied=!0,this.GL);G.clearStencil(0),G.clear(G.STENCIL_BUFFER_BIT),G.enable(G.STENCIL_TEST),this._stencilTestOn=!0,G.stencilFunc(G.ALWAYS,1,255),G.stencilOp(G.KEEP,G.KEEP,G.REPLACE),G.disable(G.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var G=this.GL;G.stencilOp(G.KEEP,G.KEEP,G.KEEP),G.stencilFunc(this._clipInvert?G.EQUAL:G.NOTEQUAL,0,255),G.enable(G.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),d(b(Z.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(G){this.curStrokeWeight!==G&&(this.pointSize=G,this.curStrokeWeight=G)}},{key:"_getPixel",value:function(G,C){var L=this.GL;return W(L,null,G,C,L.RGBA,L.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var G,C,L=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(G=this._pInst._pixelDensity,C=this.GL,L._setProperty("pixels",B(L.pixels,C,null,0,0,this.width*G,this.height*G,C.RGBA,C.UNSIGNED_BYTE,this.height*G)))}},{key:"updatePixels",value:function(){var G=this._getTempFramebuffer();G.pixels=this._pixelsState.pixels,G.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(i.CENTER),this._pInst.image(G,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:i.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:i.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(G){return this.retainedMode.geometry[G]!==void 0}},{key:"viewport",value:function(G,C){this._viewport=[0,0,G,C],this.GL.viewport(0,0,G,C)}},{key:"resize",value:function(q,D){s.default.Renderer.prototype.resize.call(this,q,D),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var q=this._pixelsState,L=(q.pixels!==void 0&&q._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),D=!1,q=void 0;try{for(var J,te=this.framebuffers[Symbol.iterator]();!(L=(J=te.next()).done);L=!0)J.value._canvasSizeChanged()}catch(se){D=!0,q=se}finally{try{L||te.return==null||te.return()}finally{if(D)throw q}}}},{key:"clear",value:function(){var G=(arguments.length<=0?void 0:arguments[0])||0,C=(arguments.length<=1?void 0:arguments[1])||0,L=(arguments.length<=2?void 0:arguments[2])||0,D=(arguments.length<=3?void 0:arguments[3])||0,q=this.activeFramebuffer();q&&q.format===i.UNSIGNED_BYTE&&!q.antialias&&D===0&&(D=1e-10),this.GL.clearColor(G*D,C*D,L*D,D),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(G,C,L,D,q,J){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([G,C,0,0,L,D,0,0,0,0,1,0,q,J,0,1])}},{key:"translate",value:function(G,C,L){return G instanceof s.default.Vector&&(L=G.z,C=G.y,G=G.x),this.uMVMatrix.translate([G,C,L]),this}},{key:"scale",value:function(G,C,L){return this.uMVMatrix.scale(G,C,L),this}},{key:"rotate",value:function(G,C){return C===void 0?this.rotateZ(G):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(G){return this.rotate(G,1,0,0),this}},{key:"rotateY",value:function(G){return this.rotate(G,0,1,0),this}},{key:"rotateZ",value:function(G){return this.rotate(G,0,0,1),this}},{key:"push",value:function(){var G=s.default.Renderer.prototype.push.apply(this),C=G.properties;return C.uMVMatrix=this.uMVMatrix.copy(),C.uPMatrix=this.uPMatrix.copy(),C._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),C.ambientLightColors=this.ambientLightColors.slice(),C.specularColors=this.specularColors.slice(),C.directionalLightDirections=this.directionalLightDirections.slice(),C.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),C.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),C.pointLightPositions=this.pointLightPositions.slice(),C.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),C.pointLightSpecularColors=this.pointLightSpecularColors.slice(),C.spotLightPositions=this.spotLightPositions.slice(),C.spotLightDirections=this.spotLightDirections.slice(),C.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),C.spotLightSpecularColors=this.spotLightSpecularColors.slice(),C.spotLightAngle=this.spotLightAngle.slice(),C.spotLightConc=this.spotLightConc.slice(),C.userFillShader=this.userFillShader,C.userStrokeShader=this.userStrokeShader,C.userPointShader=this.userPointShader,C.pointSize=this.pointSize,C.curStrokeWeight=this.curStrokeWeight,C.curStrokeColor=this.curStrokeColor,C.curFillColor=this.curFillColor,C.curAmbientColor=this.curAmbientColor,C.curSpecularColor=this.curSpecularColor,C.curEmissiveColor=this.curEmissiveColor,C._hasSetAmbient=this._hasSetAmbient,C._useSpecularMaterial=this._useSpecularMaterial,C._useEmissiveMaterial=this._useEmissiveMaterial,C._useShininess=this._useShininess,C.constantAttenuation=this.constantAttenuation,C.linearAttenuation=this.linearAttenuation,C.quadraticAttenuation=this.quadraticAttenuation,C._enableLighting=this._enableLighting,C._useNormalMaterial=this._useNormalMaterial,C._tex=this._tex,C.drawMode=this.drawMode,C._currentNormal=this._currentNormal,C.curBlendMode=this.curBlendMode,C.activeImageLight=this.activeImageLight,G}},{key:"pop",value:function(){var G;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var C=arguments.length,L=new Array(C),D=0;D<C;D++)L[D]=arguments[D];(G=d(b(Z.prototype),"pop",this)).call.apply(G,[this].concat(L)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var G=this.drawTarget();G._isClipApplied!==this._stencilTestOn&&(G._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var G=this.userStrokeShader;return G&&G.isStrokeShader()?G:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var G=this.userFillShader;if(this._useNormalMaterial&&(!G||!G.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!G||!G.isLightShader())return this._getLightShader()}else if(this._tex){if(!G||!G.isTextureShader())return this._getLightShader()}else if(!G)return this._getImmediateModeShader();return G}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var G=this.userFillShader;if(this._enableLighting){if(!G||!G.isLightShader())return this._getLightShader()}else if(this._tex){if(!G||!G.isTextureShader())return this._getLightShader()}else if(!G)return this._getColorShader();return G}},{key:"_getImmediatePointShader",value:function(){var G=this.userPointShader;return G&&G.isPointShader()?G:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+R.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+R.phongFrag):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+R.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+R.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===i.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+R.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+R.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(G,C){var L="";return this.webglVersion===i.WEBGL2&&(L+=`#version 300 es
#define WEBGL2
`),G==="vert"?L+=`#define VERTEX_SHADER
`:G==="frag"&&(L+=`#define FRAGMENT_SHADER
`),C&&(L+="precision ".concat(C,` float;
`)),L}},{key:"_getEmptyTexture",value:function(){var G;return this._emptyTexture||((G=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,G)),this._emptyTexture}},{key:"getTexture",value:function(G){G instanceof s.default.Framebuffer&&(G=G.color);var C=this.textures.get(G);return C||(C=new s.default.Texture(this,G),this.textures.set(G,C),C)}},{key:"getDiffusedTexture",value:function(G){var C,L;return this.diffusedTextures.get(G)!=null?this.diffusedTextures.get(G):(C=Math.floor(G.height/G.width*200),L=(C=this._pInst.createGraphics(200,C,i.WEBGL)).createShader(R.imageLightVert,R.imageLightDiffusedFrag),C.shader(L),L.setUniform("environmentMap",G),C.noStroke(),C.rectMode(C.CENTER),C.rect(0,0,C.width,C.height),this.diffusedTextures.set(G,C),C)}},{key:"getSpecularTexture",value:function(G){if(this.specularTextures.get(G)!=null)return this.specularTextures.get(G);var C,L=[],D=this._pInst.createGraphics(512,512,i.WEBGL),q=Math.log(512)/Math.log(2);D.pixelDensity(1);for(var J=512;1<=J;J/=2){D.resizeCanvas(J,J);var te=1-Math.log(J)/Math.log(2)/q,se=D.createShader(R.imageLightVert,R.imageLightSpecularFrag);D.shader(se),D.clear(),se.setUniform("environmentMap",G),se.setUniform("roughness",te),D.noStroke(),D.plane(J,J),L.push(D.get().drawingContext.getImageData(0,0,J,J))}return D.remove(),C=new r.MipmapTexture(this,L,{}),this.specularTextures.set(G,C),C}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(G){return new s.default.Framebuffer(this,G)}},{key:"_setStrokeUniforms",value:function(G){G.bindShader(),G.setUniform("uUseLineColor",this._useLineColor),G.setUniform("uMaterialColor",this.curStrokeColor),G.setUniform("uStrokeWeight",this.curStrokeWeight),G.setUniform("uStrokeCap",k[this.curStrokeCap]),G.setUniform("uStrokeJoin",T[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(G){G.bindShader(),G.setUniform("uUseVertexColor",this._useVertexColor),G.setUniform("uMaterialColor",this.curFillColor),G.setUniform("isTexture",!!this._tex),this._tex&&G.setUniform("uSampler",this._tex),G.setUniform("uTint",this._tint),G.setUniform("uHasSetAmbient",this._hasSetAmbient),G.setUniform("uAmbientMatColor",this.curAmbientColor),G.setUniform("uSpecularMatColor",this.curSpecularColor),G.setUniform("uEmissiveMatColor",this.curEmissiveColor),G.setUniform("uSpecular",this._useSpecularMaterial),G.setUniform("uEmissive",this._useEmissiveMaterial),G.setUniform("uShininess",this._useShininess),this._setImageLightUniforms(G),G.setUniform("uUseLighting",this._enableLighting);var C=this.pointLightDiffuseColors.length/3,C=(G.setUniform("uPointLightCount",C),G.setUniform("uPointLightLocation",this.pointLightPositions),G.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),G.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),C=(G.setUniform("uDirectionalLightCount",C),G.setUniform("uLightingDirection",this.directionalLightDirections),G.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),G.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),C=(G.setUniform("uAmbientLightCount",C),G.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);G.setUniform("uSpotLightCount",C),G.setUniform("uSpotLightAngle",this.spotLightAngle),G.setUniform("uSpotLightConc",this.spotLightConc),G.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),G.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),G.setUniform("uSpotLightLocation",this.spotLightPositions),G.setUniform("uSpotLightDirection",this.spotLightDirections),G.setUniform("uConstantAttenuation",this.constantAttenuation),G.setUniform("uLinearAttenuation",this.linearAttenuation),G.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),G.bindTextures()}},{key:"_setImageLightUniforms",value:function(G){var C,L;G.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(C=this.getDiffusedTexture(this.activeImageLight),G.setUniform("environmentMapDiffused",C),C=this.getSpecularTexture(this.activeImageLight),L=20/this._useShininess,G.setUniform("levelOfDetail",8*L),G.setUniform("environmentMapSpecular",C))}},{key:"_setPointUniforms",value:function(G){G.bindShader(),G.setUniform("uMaterialColor",this.curStrokeColor),G.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(G,C,L,D,q){C=C||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(C,G),L!==void 0&&((G=L)instanceof s.default.DataArray?G=L.dataArray():G instanceof(D||Float32Array)||(G=new(D||Float32Array)(G)),this.GL.bufferData(C,G,q||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(G,C){return G.length===C.length&&G.every(function(L,D){return L===C[D]})}},{key:"_isTypedArray",value:function(G){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(C){return G instanceof C})}},{key:"_flatten",value:function(G){if(G.length===0)return[];var C;if(2e4<G.length){for(var L=[],D=G.slice(),q=D.pop();Array.isArray(q)?D.push.apply(D,a(q)):L.push(q),D.length&&(q=D.pop())!==void 0;);return L.reverse(),L}return(C=[]).concat.apply(C,a(G))}},{key:"_vToNArray",value:function(G){var C=[],L=!0,D=!1,q=void 0;try{for(var J,te=G[Symbol.iterator]();!(L=(J=te.next()).done);L=!0){var se=J.value;C.push(se.x,se.y,se.z)}}catch(ce){D=!0,q=ce}finally{try{L||te.return==null||te.return()}finally{if(D)throw q}}return C}},{key:"_bezierCoefficients",value:function(G){var C=G*G,L=1-G,D=L*L;return[D*L,3*D*G,3*L*C,C*G]}},{key:"_quadraticCoefficients",value:function(G){var C=1-G;return[C*C,2*C*G,G*G]}},{key:"_bezierToCatmull",value:function(G){return[G[1],G[1]+(G[2]-G[0])/this._curveTightness,G[2]-(G[3]-G[1])/this._curveTightness,G[2]]}},{key:"_initTessy",value:function(){var G=new h.default.GluTesselator;return G.gluTessCallback(h.default.gluEnum.GLU_TESS_VERTEX_DATA,function(C,L){for(var D=0;D<C.length;D++)L.push(C[D])}),G.gluTessCallback(h.default.gluEnum.GLU_TESS_BEGIN,function(C){C!==h.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(C))}),G.gluTessCallback(h.default.gluEnum.GLU_TESS_ERROR,function(C){console.log("error callback"),console.log("error number: ".concat(C))}),G.gluTessCallback(h.default.gluEnum.GLU_TESS_COMBINE,function(C,L,D){for(var q=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),J=0;J<D.length;J++)for(var te=0;te<q.length;te++)D[J]!==0&&L[J]&&(q[te]+=L[J][te]*D[J]);return q}),G.gluTessCallback(h.default.gluEnum.GLU_TESS_EDGE_FLAG,function(C){}),G.gluTessProperty(h.default.gluEnum.GLU_TESS_WINDING_RULE,h.default.windingRule.GLU_TESS_WINDING_NONZERO),G}},{key:"_triangulate",value:function(G){var C=G[0]?G[0][2]:void 0,L=!0,D=!0,ce=!1,ae=void 0;try{for(var q,J=G[Symbol.iterator]();!(D=(q=J.next()).done);D=!0)for(var te=q.value,se=0;se<te.length;se+=s.default.RendererGL.prototype.tessyVertexSize)if(te[se+2]!==C){L=!1;break}}catch(xe){ce=!0,ae=xe}finally{try{D||J.return==null||J.return()}finally{if(ce)throw ae}}L?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var ce=[],ne=(this._tessy.gluTessBeginPolygon(ce),!0),ae=!1,de=void 0;try{for(var Q,ie=G[Symbol.iterator]();!(ne=(Q=ie.next()).done);ne=!0){var me=Q.value;this._tessy.gluTessBeginContour();for(var ve=0;ve<me.length;ve+=s.default.RendererGL.prototype.tessyVertexSize){var he=me.slice(ve,ve+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(he,he)}this._tessy.gluTessEndContour()}}catch(xe){ae=!0,de=xe}finally{try{ne||ie.return==null||ie.return()}finally{if(ae)throw de}}return this._tessy.gluTessEndPolygon(),ce}}])&&c(z.prototype,N),Z}(s.default.Renderer),s.default.prototype._assert3d=function(N){if(!this._renderer.isP3D)throw new Error("".concat(N,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,O=s.default.RendererGL,E.default=O},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(t,V,E){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var f=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(s,i){for(var p=0;p<i.length;p++){var h=i[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}f.default.Shader=function(){function s(h,r,n){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=h,this._vertSrc=r,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var i,p;return i=s,(p=[{key:"init",value:function(){if(this._glProgram===0){var h=this._renderer.GL;if(this._vertShader=h.createShader(h.VERTEX_SHADER),h.shaderSource(this._vertShader,this._vertSrc),h.compileShader(this._vertShader),!h.getShaderParameter(this._vertShader,h.COMPILE_STATUS))return f.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(h.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=h.createShader(h.FRAGMENT_SHADER),h.shaderSource(this._fragShader,this._fragSrc),h.compileShader(this._fragShader),!h.getShaderParameter(this._fragShader,h.COMPILE_STATUS))return f.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(h.getShaderInfoLog(this._fragShader))),null;this._glProgram=h.createProgram(),h.attachShader(this._glProgram,this._vertShader),h.attachShader(this._glProgram,this._fragShader),h.linkProgram(this._glProgram),h.getProgramParameter(this._glProgram,h.LINK_STATUS)||f.default._friendlyError("Snap! Error linking shader program: ".concat(h.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(h){var r=new f.default.Shader(h._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(h),r}},{key:"ensureCompiledOnContext",value:function(h){if(this._glProgram!==0&&this._renderer!==h._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=h._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var h=this._renderer.GL,r=h.getProgramParameter(this._glProgram,h.ACTIVE_ATTRIBUTES),n=0;n<r;++n){var o=h.getActiveAttrib(this._glProgram,n),a=o.name,c=h.getAttribLocation(this._glProgram,a),d={};d.name=a,d.location=c,d.index=n,d.type=o.type,d.size=o.size,this.attributes[a]=d}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var h=this._renderer.GL,r=h.getProgramParameter(this._glProgram,h.ACTIVE_UNIFORMS),n=0,o=0;o<r;++o){var a=h.getActiveUniform(this._glProgram,o),c={},d=(c.location=h.getUniformLocation(this._glProgram,a.name),c.size=a.size,a.name);1<a.size&&(d=d.substring(0,d.indexOf("[0]"))),c.name=d,c.type=a.type,c._cachedData=void 0,c.type===h.SAMPLER_2D&&(c.samplerIndex=n,n++,this.samplers.push(c)),c.isArray=1<a.size||c.type===h.FLOAT_MAT3||c.type===h.FLOAT_MAT4||c.type===h.FLOAT_VEC2||c.type===h.FLOAT_VEC3||c.type===h.FLOAT_VEC4||c.type===h.INT_VEC2||c.type===h.INT_VEC4||c.type===h.INT_VEC3,this.uniforms[d]=c}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var h=this._renderer.GL,r=!0,n=!1,o=void 0;try{for(var a,c=this.samplers[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var d=a.value,y=d.texture;y===void 0&&(y=this._renderer._getEmptyTexture()),h.activeTexture(h.TEXTURE0+d.samplerIndex),y.bindTexture(),y.update(),h.uniform1i(d.location,d.samplerIndex)}}catch(m){n=!0,o=m}finally{try{r||c.return==null||c.return()}finally{if(n)throw o}}}},{key:"updateTextures",value:function(){var h=!0,r=!1,n=void 0;try{for(var o,a=this.samplers[Symbol.iterator]();!(h=(o=a.next()).done);h=!0){var c=o.value.texture;c&&c.update()}}catch(d){r=!0,n=d}finally{try{h||a.return==null||a.return()}finally{if(r)throw n}}}},{key:"unbindTextures",value:function(){var h=!0,r=!1,n=void 0;try{for(var o,a=this.samplers[Symbol.iterator]();!(h=(o=a.next()).done);h=!0){var c=o.value;this.setUniform(c.name,this._renderer._getEmptyTexture())}}catch(d){r=!0,n=d}finally{try{h||a.return==null||a.return()}finally{if(r)throw n}}}},{key:"_setMatrixUniforms",value:function(){var h=this._renderer._curCamera.cameraMatrix,r=this._renderer.uPMatrix,n=this._renderer.uMVMatrix,o=n.copy();o.mult(r),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",h.mat4),this.setUniform("uProjectionMatrix",r.mat4),this.setUniform("uModelViewMatrix",n.mat4),this.setUniform("uModelViewProjectionMatrix",o.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var h=this._renderer.GL;return this._renderer._curShader!==this&&(h.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(h,r){var n=this.uniforms[h];if(n){var o=this._renderer.GL;if(n.isArray){if(n._cachedData&&this._renderer._arraysEqual(n._cachedData,r))return;n._cachedData=r.slice(0)}else{if(n._cachedData&&n._cachedData===r)return;Array.isArray(r)?n._cachedData=r.slice(0):n._cachedData=r}var a=n.location;switch(this.useProgram(),n.type){case o.BOOL:r===!0?o.uniform1i(a,1):o.uniform1i(a,0);break;case o.INT:1<n.size?r.length&&o.uniform1iv(a,r):o.uniform1i(a,r);break;case o.FLOAT:1<n.size?r.length&&o.uniform1fv(a,r):o.uniform1f(a,r);break;case o.FLOAT_MAT3:o.uniformMatrix3fv(a,!1,r);break;case o.FLOAT_MAT4:o.uniformMatrix4fv(a,!1,r);break;case o.FLOAT_VEC2:1<n.size?r.length&&o.uniform2fv(a,r):o.uniform2f(a,r[0],r[1]);break;case o.FLOAT_VEC3:1<n.size?r.length&&o.uniform3fv(a,r):o.uniform3f(a,r[0],r[1],r[2]);break;case o.FLOAT_VEC4:1<n.size?r.length&&o.uniform4fv(a,r):o.uniform4f(a,r[0],r[1],r[2],r[3]);break;case o.INT_VEC2:1<n.size?r.length&&o.uniform2iv(a,r):o.uniform2i(a,r[0],r[1]);break;case o.INT_VEC3:1<n.size?r.length&&o.uniform3iv(a,r):o.uniform3i(a,r[0],r[1],r[2]);break;case o.INT_VEC4:1<n.size?r.length&&o.uniform4iv(a,r):o.uniform4i(a,r[0],r[1],r[2],r[3]);break;case o.SAMPLER_2D:o.activeTexture(o.TEXTURE0+n.samplerIndex),n.texture=r instanceof f.default.Texture?r:this._renderer.getTexture(r),o.uniform1i(a,n.samplerIndex),n.texture.src.gifProperties&&n.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(h,r,n,o,a,c){var d;return h&&(h=h.location)!==-1&&(d=this._renderer.GL,this._renderer.registerEnabled.has(h)||(d.enableVertexAttribArray(h),this._renderer.registerEnabled.add(h)),this._renderer.GL.vertexAttribPointer(h,r,n||d.FLOAT,o||!1,a||0,c||0)),this}},{key:"disableRemainingAttributes",value:function(){var h=this,r=!0,n=!1,o=void 0;try{for(var a,c=this._renderer.registerEnabled.values()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)(function(){var d=a.value;Object.keys(h.attributes).some(function(y){return h.attributes[y].location===d})||(h._renderer.GL.disableVertexAttribArray(d),h._renderer.registerEnabled.delete(d))})()}catch(d){n=!0,o=d}finally{try{r||c.return==null||c.return()}finally{if(n)throw o}}}}])&&u(i.prototype,p),s}(),t=f.default.Shader,E.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(t,V,E){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function u(m){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(g){return f(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(E,"__esModule",{value:!0}),E.checkWebGLCapabilities=y,E.default=E.MipmapTexture=void 0;var s=(d=t("../core/main"))&&d.__esModule?d:{default:d},i=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var g=p();if(g&&g.has(m))return g.get(m);var b,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var S;Object.prototype.hasOwnProperty.call(m,b)&&((S=_?Object.getOwnPropertyDescriptor(m,b):null)&&(S.get||S.set)?Object.defineProperty(w,b,S):w[b]=m[b])}return w.default=m,g&&g.set(m,w),w}(t("../core/constants"));function p(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,p=function(){return m},m)}function h(m,g){return(h=Object.setPrototypeOf||function(b,w){return b.__proto__=w,b})(m,g)}function r(m){return function(){var g,b=n(m),b=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=n(this).constructor,Reflect.construct(b,arguments,g)):b.apply(this,arguments),this);if(!g||u(g)!=="object"&&typeof g!="function"){if(b!==void 0)return b;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function n(m){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}function o(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function a(m,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}function c(m,g,b){g&&a(m.prototype,g),b&&a(m,b)}s.default.Texture=function(){function m(M,b,S){o(this,m),this._renderer=M;var _=this._renderer.GL,S=(S=S||{},this.src=b,this.glTex=void 0,this.glTarget=_.TEXTURE_2D,this.glFormat=S.format||_.RGBA,this.mipmaps=!1,this.glMinFilter=S.minFilter||_.LINEAR,this.glMagFilter=S.magFilter||_.LINEAR,this.glWrapS=S.wrapS||_.CLAMP_TO_EDGE,this.glWrapT=S.wrapT||_.CLAMP_TO_EDGE,this.glDataType=S.dataType||_.UNSIGNED_BYTE,y(M)),M=(this.glFormat!==_.HALF_FLOAT||S.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=_.FLOAT),this.glFormat!==_.HALF_FLOAT||this.glMinFilter!==_.LINEAR&&this.glMagFilter!==_.LINEAR||S.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===_.LINEAR&&(this.glMinFilter=_.NEAREST),this.glMagFilter===_.LINEAR&&(this.glMagFilter=_.NEAREST)),this.glFormat!==_.FLOAT||S.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=_.UNSIGNED_BYTE),this.glFormat!==_.FLOAT||this.glMinFilter!==_.LINEAR&&this.glMagFilter!==_.LINEAR||S.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===_.LINEAR&&(this.glMinFilter=_.NEAREST),this.glMagFilter===_.LINEAR&&(this.glMagFilter=_.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&b instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&b instanceof s.default.Element&&!(b instanceof s.default.Graphics)&&!(b instanceof s.default.Renderer),this.isSrcP5Image=b instanceof s.default.Image,this.isSrcP5Graphics=b instanceof s.default.Graphics,this.isSrcP5Renderer=b instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&b instanceof ImageData,this.isFramebufferTexture=b instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=M.width,this.height=M.height,this.init(M),this}return c(m,[{key:"_getTextureDataFromSource",value:function(){var g;return this.isFramebufferTexture?g=this.src.rawTexture():this.isSrcP5Image?g=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?g=this.src.elt:this.isImageData&&(g=this.src),g}},{key:"init",value:function(g){var b,w=this._renderer.GL;this.isFramebufferTexture||(this.glTex=w.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,this.glMagFilter),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(b=new Uint8Array([1,1,1,1]),w.texImage2D(this.glTarget,0,w.RGBA,1,1,0,this.glFormat,this.glDataType,b)):w.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g))}},{key:"update",value:function(){var g,b,w,_=this.src;return _.width!==0&&_.height!==0&&!this.isFramebufferTexture&&(g=this._getTextureDataFromSource(),b=!1,w=this._renderer.GL,g.width!==this.width||g.height!==this.height?(b=!0,this.width=g.width||_.width,this.height=g.height||_.height,this.isSrcP5Image?_.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&_.setModified(!0)):this.isSrcP5Image?_.isModified()&&_.setModified(!(b=!0)):this.isSrcMediaElement?_.isModified()?_.setModified(!(b=!0)):_.loadedmetadata&&this._videoPrevUpdateTime!==_.time()&&(this._videoPrevUpdateTime=_.time(),b=!0):this.isImageData?_._dirty&&(b=!(_._dirty=!1)):b=!0,b&&(this.bindTexture(),w.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,g)),b)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(g,b){var w=this._renderer.GL;this.glMinFilter=this.glFilter(g),this.glMagFilter=this.glFilter(b),this.bindTexture(),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,this.glMinFilter),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(g){var b=this._renderer.GL;return g===i.NEAREST?b.NEAREST:b.LINEAR}},{key:"setWrapMode",value:function(g,b){function w(k){return(k&k-1)==0}var _=this._renderer.GL,M=this._getTextureDataFromSource(),M=M.naturalWidth&&M.naturalHeight?(S=M.naturalWidth,M.naturalHeight):(S=this.width,this.height),S=w(S),M=w(M);g===i.REPEAT?this._renderer.webglVersion===i.WEBGL2||S&&M?this.glWrapS=_.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=_.CLAMP_TO_EDGE):g===i.MIRROR?this._renderer.webglVersion===i.WEBGL2||S&&M?this.glWrapS=_.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=_.CLAMP_TO_EDGE):this.glWrapS=_.CLAMP_TO_EDGE,b===i.REPEAT?this._renderer.webglVersion===i.WEBGL2||S&&M?this.glWrapT=_.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=_.CLAMP_TO_EDGE):b===i.MIRROR?this._renderer.webglVersion===i.WEBGL2||S&&M?this.glWrapT=_.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=_.CLAMP_TO_EDGE):this.glWrapT=_.CLAMP_TO_EDGE,this.bindTexture(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,this.glWrapS),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),m}();var d=function(m){var g=w;if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),m&&h(g,m);var b=r(w);function w(_,S,M){return o(this,w),S=(_=b.call(this,_,S,M))._renderer.GL,_.glMinFilter===S.LINEAR&&(_.glMinFilter=S.LINEAR_MIPMAP_LINEAR),_}return c(w,[{key:"glFilter",value:function(_){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(_){var S=this._renderer.GL;this.glTex=S.createTexture(),this.bindTexture();for(var M=0;M<_.length;M++)S.texImage2D(this.glTarget,M,this.glFormat,this.glFormat,this.glDataType,_[M]);this.glMinFilter=S.LINEAR_MIPMAP_LINEAR,S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),w}(s.default.Texture);function y(_){var g=_.GL,_=_.webglVersion,b=_===i.WEBGL2?g.getExtension("EXT_color_buffer_float")&&g.getExtension("EXT_float_blend"):g.getExtension("OES_texture_float"),w=b&&g.getExtension("OES_texture_float_linear"),_=_===i.WEBGL2?g.getExtension("EXT_color_buffer_float"):g.getExtension("OES_texture_half_float");return{float:b,floatLinear:w,halfFloat:_,halfFloatLinear:_&&g.getExtension("OES_texture_half_float_linear")}}E.MipmapTexture=d,t=s.default.Texture,E.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(t,V,E){function f(m){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function u(m){return(u=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(g){return f(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":f(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,i=(s=t("../core/main"))&&s.__esModule?s:{default:s},p=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var g=h();if(g&&g.has(m))return g.get(m);var b,w={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in m){var S;Object.prototype.hasOwnProperty.call(m,b)&&((S=_?Object.getOwnPropertyDescriptor(m,b):null)&&(S.get||S.set)?Object.defineProperty(w,b,S):w[b]=m[b])}return w.default=m,g&&g.set(m,w),w}(t("../core/constants"));function h(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,h=function(){return m},m)}function r(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function n(m,g){for(var b=0;b<g.length;b++){var w=g[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}function o(m,g,b){g&&n(m.prototype,g),b&&n(m,b)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),i.default.RendererGL.prototype._applyTextProperties=function(){},i.default.RendererGL.prototype.textWidth=function(m){return this._isOpenType()?this._textFont._textWidth(m,this._textSize):0};var a=function(){function m(g,b){r(this,m),this.width=g,this.height=b,this.infos=[]}return o(m,[{key:"findImage",value:function(g){var b,w,_=this.width*this.height;if(_<g)throw new Error("font is too complex to render in 3D");for(var S=this.infos.length-1;0<=S;--S){var M=this.infos[S];if(M.index+g<_){w=(b=M).imageData;break}}if(!b){try{w=new ImageData(this.width,this.height)}catch{var k=document.getElementsByTagName("canvas")[0],T=!k,A=(k||((k=document.createElement("canvas")).style.display="none",document.body.appendChild(k)),k.getContext("2d"));A&&(w=A.createImageData(this.width,this.height)),T&&document.body.removeChild(k)}this.infos.push(b={index:0,imageData:w})}return A=b.index,b.index+=g,w._dirty=!0,{imageData:w,index:A}}}]),m}();function c(M,g,b,w,_){var S=M.imageData.data,M=4*M.index++;S[M++]=g,S[M++]=b,S[M++]=w,S[+M]=_}var d=Math.sqrt(3),y=function(){function m(g){r(this,m),this.font=g,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={}}return o(m,[{key:"getGlyphInfo",value:function(g){var b=this.glyphInfos[g.index];if(!b){var w=g.getBoundingBox(),_=w.x1,S=w.y1,M=w.x2-_,k=w.y2-S,T=g.path.commands;if(M==0||k==0||!T.length)return this.glyphInfos[g.index]={};for(var A=[],O=[],R=[],U=8;0<=U;--U)R.push([]);for(U=8;0<=U;--U)O.push([]);var B,W,N,z,Y=function(){function Be(Ne,Xe,Ve,ye){r(this,Be),this.p0=Ne,this.c0=Xe,this.c1=Ve,this.p1=ye}return o(Be,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return i.default.Vector.sub(i.default.Vector.sub(this.p1,this.p0),i.default.Vector.mult(i.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Oe){var Xe=i.default.Vector.lerp(this.p0,this.c0,Oe),ye=i.default.Vector.lerp(this.c0,this.c1,Oe),Ve=i.default.Vector.lerp(Xe,ye,Oe),ye=(this.c1=i.default.Vector.lerp(this.c1,this.p1,Oe),this.c0=i.default.Vector.lerp(ye,this.c1,Oe),i.default.Vector.lerp(Ve,this.c0,Oe)),Oe=new Be(this.p0,Xe,Ve,ye);return this.p0=ye,Oe}},{key:"splitInflections",value:function(){var Ne=i.default.Vector.sub(this.c0,this.p0),Xe=i.default.Vector.sub(i.default.Vector.sub(this.c1,this.c0),Ne),Ve=i.default.Vector.sub(i.default.Vector.sub(i.default.Vector.sub(this.p1,this.c1),Ne),i.default.Vector.mult(Xe,2)),ye=[],Oe=Xe.x*Ve.y-Xe.y*Ve.x;return Oe!==0&&0<=(Ne=(Ve=Ne.x*Ve.y-Ne.y*Ve.x)*Ve-4*Oe*(Ne.x*Xe.y-Ne.y*Xe.x))&&(Oe<0&&(Oe=-Oe,Ve=-Ve),Ne=(-Ve+(Xe=Math.sqrt(Ne)))/(2*Oe),0<(Ve=(-Ve-Xe)/(2*Oe))&&Ve<1&&(ye.push(this.split(Ve)),Ne=1-(1-Ne)/(1-Ve)),0<Ne&&Ne<1&&ye.push(this.split(Ne))),ye.push(this),ye}}]),Be}(),Z=!0,G=!1,C=void 0;try{for(var L,D=T[Symbol.iterator]();!(Z=(L=D.next()).done);Z=!0){var q=L.value,J=(q.x-_)/M,te=(q.y-S)/k;if(!Ee(B,W,J,te)){switch(q.type){case"M":N=J,z=te;break;case"L":Ae(B,W,J,te);break;case"Q":var se=(q.x1-_)/M,ce=(q.y1-S)/k;xe([B,J,se],[W,te,ce],{x:B,y:W,cx:se,cy:ce});break;case"Z":Ee(B,W,N,z)?A.push({x:B,y:W}):(Ae(B,W,N,z),A.push({x:N,y:z}));break;case"C":for(var ne=function($,be,Ce,Ve,ye,Oe,je,X){var $=new Y(new i.default.Vector($,be),new i.default.Vector(Ce,Ve),new i.default.Vector(ye,Oe),new i.default.Vector(je,X)).splitInflections(),H=[],ee=30/d,fe=!0,be=!1,Ce=void 0;try{for(var Ie,Ue=$[Symbol.iterator]();!(fe=(Ie=Ue.next()).done);fe=!0){for(var Fe=Ie.value,We=[],rt=void 0;!(.125<=(rt=ee/Fe.quadError()));){var et=Math.pow(rt,.3333333333333333),Ze=Fe.split(et),tt=Fe.split(1-et/(1-et));H.push(Ze),We.push(Fe),Fe=tt}rt<1&&H.push(Fe.split(.5)),H.push(Fe),Array.prototype.push.apply(H,We.reverse())}}catch(Qe){be=!0,Ce=Qe}finally{try{fe||Ue.return==null||Ue.return()}finally{if(be)throw Ce}}return H}(B,W,(q.x1-_)/M,(q.y1-S)/k,(q.x2-_)/M,(q.y2-S)/k,J,te),ae=0;ae<ne.length;ae++){var de=ne[ae].toQuadratic();xe([de.x,de.x1,de.cx],[de.y,de.y1,de.cy],de)}break;default:throw new Error("unknown command type: ".concat(q.type))}B=J,W=te}}}catch(Be){G=!0,C=Be}finally{try{Z||D.return==null||D.return()}finally{if(G)throw C}}for(var Q=A.length,ie=this.strokeImageInfos.findImage(Q),me=ie.index,ve=0;ve<Q;++ve){var he=A[ve];c(ie,Te(he.x),Te(he.y),Te(he.cx),Te(he.cy))}(b=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[w.x1,-w.y1,w.x2,-w.y2],strokeImageInfo:ie,strokes:A,colInfo:ze(R,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ze(O,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[b.colInfo.dimOffset,b.rowInfo.dimOffset]}return b;function xe(Be,Ne,Xe){var Ve=A.length;function ye(H,ee,fe){for(var be=H.length;0<be--;){var Ce=H[be];Ce<ee&&(ee=Ce),fe<Ce&&(fe=Ce)}return{min:ee,max:fe}}A.push(Xe);for(var Xe=ye(Be,1,0),Be=Math.max(Math.floor(9*Xe.min-.5),0),Oe=Math.min(Math.ceil(9*Xe.max+.5),9),je=Be;je<Oe;++je)R[je].push(Ve);for(var Xe=ye(Ne,1,0),Be=Math.max(Math.floor(9*Xe.min-.5),0),X=Math.min(Math.ceil(9*Xe.max+.5),9),$=Be;$<X;++$)O[$].push(Ve)}function Te(Be){return(Be=(Xe=255)*Be)<(Ne=0)?Ne:Xe<Be?Xe:Be;var Ne,Xe}function Ae(Be,Ne,Xe,Ve){xe([Be,Xe],[Ne,Ve],{x:Be,y:Ne,cx:(Be+Xe)/2,cy:(Ne+Ve)/2})}function Ee(Be,Ne,Xe,Ve){return Math.abs(Xe-Be)<1e-5&&Math.abs(Ve-Ne)<1e-5}function ze(Be,Ne,Xe){for(var Ve=Be.length,ye=Ne.findImage(Ve),Ne=ye.index,Oe=0,je=0;je<Ve;++je)Oe+=Be[je].length;for(var X=Xe.findImage(Oe),$=0;$<Ve;++$){var H=Be[$],ee=H.length,fe=X.index;c(ye,fe>>7,127&fe,ee>>7,127&ee);for(var be=0;be<ee;++be){var Ce=H[be]+me;c(X,Ce>>7,127&Ce,0,0)}}return{cellImageInfo:X,dimOffset:Ne,dimImageInfo:ye}}}}]),m}();i.default.RendererGL.prototype._renderText=function(m,g,b,w,_){if(this._textFont&&typeof this._textFont!="string"){if(!(_<=w)&&this._doFill){if(this._isOpenType()){m.push();var _=this._doStroke,S=this.drawMode,M=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),k=(k=this._textFont._fontInfo)||(this._textFont._fontInfo=new y(M)),b=this._textFont._handleAlignment(this,g,b,w),w=this._textSize/M.unitsPerEm,T=(this.translate(b.x,b.y,0),this.scale(w,w,1),this.GL),b=!this._defaultFontShader,A=this._getFontShader(),O=(A.init(),A.bindShader(),b&&(A.setUniform("uGridImageSize",[64,64]),A.setUniform("uCellsImageSize",[64,64]),A.setUniform("uStrokeImageSize",[64,64]),A.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),R=(O||((w=this._textGeom=new i.default.Geometry(1,1,function(){for(var ae=0;ae<=1;ae++)for(var de=0;de<=1;de++)this.vertices.push(new i.default.Vector(de,ae,0)),this.uvs.push(de,ae)})).computeFaces().computeNormals(),O=this.createBuffers("glyph",w)),!0),b=!1,w=void 0;try{for(var U,B=this.retainedMode.buffers.text[Symbol.iterator]();!(R=(U=B.next()).done);R=!0)U.value._prepareBuffer(O,A)}catch(ae){b=!0,w=ae}finally{try{R||B.return==null||B.return()}finally{if(b)throw w}}this._bindBuffer(O.indexBuffer,T.ELEMENT_ARRAY_BUFFER),A.setUniform("uMaterialColor",this.curFillColor),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var W=0,N=null,z=M.stringToGlyphs(g),Y=!0,Z=!1,G=void 0;try{for(var C,L=z[Symbol.iterator]();!(Y=(C=L.next()).done);Y=!0){var D,q,J=C.value,te=(N&&(W+=M.getKerningValue(N,J)),k.getGlyphInfo(J));te.uGlyphRect&&(D=te.rowInfo,q=te.colInfo,A.setUniform("uSamplerStrokes",te.strokeImageInfo.imageData),A.setUniform("uSamplerRowStrokes",D.cellImageInfo.imageData),A.setUniform("uSamplerRows",D.dimImageInfo.imageData),A.setUniform("uSamplerColStrokes",q.cellImageInfo.imageData),A.setUniform("uSamplerCols",q.dimImageInfo.imageData),A.setUniform("uGridOffset",te.uGridOffset),A.setUniform("uGlyphRect",te.uGlyphRect),A.setUniform("uGlyphOffset",W),A.bindTextures(),T.drawElements(T.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),W+=J.advanceWidth,N=J}}catch(ae){Z=!0,G=ae}finally{try{Y||L.return==null||L.return()}finally{if(Z)throw G}}}finally{A.unbindShader(),this._doStroke=_,this.drawMode=S,T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),m.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return m}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})})(Ho);var sn=Ho.exports;const hn=Xo(sn);var Wo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Go=br.createContext&&br.createContext(Wo),jr=globalThis&&globalThis.__assign||function(){return jr=Object.assign||function(it){for(var Lt,Dt=1,t=arguments.length;Dt<t;Dt++){Lt=arguments[Dt];for(var V in Lt)Object.prototype.hasOwnProperty.call(Lt,V)&&(it[V]=Lt[V])}return it},jr.apply(this,arguments)},an=globalThis&&globalThis.__rest||function(it,Lt){var Dt={};for(var t in it)Object.prototype.hasOwnProperty.call(it,t)&&Lt.indexOf(t)<0&&(Dt[t]=it[t]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,t=Object.getOwnPropertySymbols(it);V<t.length;V++)Lt.indexOf(t[V])<0&&Object.prototype.propertyIsEnumerable.call(it,t[V])&&(Dt[t[V]]=it[t[V]]);return Dt};function qo(it){return it&&it.map(function(Lt,Dt){return br.createElement(Lt.tag,jr({key:Dt},Lt.attr),qo(Lt.child))})}function ln(it){return function(Lt){return br.createElement(un,jr({attr:jr({},it.attr)},Lt),qo(it.child))}}function un(it){var Lt=function(Dt){var t=it.attr,V=it.size,E=it.title,f=an(it,["attr","size","title"]),u=V||Dt.size||"1em",s;return Dt.className&&(s=Dt.className),it.className&&(s=(s?s+" ":"")+it.className),br.createElement("svg",jr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},Dt.attr,t,f,{className:s,style:jr(jr({color:it.color||Dt.color},Dt.style),it.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),E&&br.createElement("title",null,E),it.children)};return Go!==void 0?br.createElement(Go.Consumer,null,function(Dt){return Lt(Dt)}):Lt(Wo)}function fn(it){return ln({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(it)}export{fn as F,sn as a,dn as n,hn as p};

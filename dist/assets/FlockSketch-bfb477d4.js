var x=Object.defineProperty;var m=(i,s,a)=>s in i?x(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a;var l=(i,s,a)=>(m(i,typeof s!="symbol"?s+"":s,a),a);import{r as u,u as f,j as r}from"./index-9cd66b55.js";import{a as h,p as d,n as g,F as y}from"./index.esm-2db3b6e4.js";import{S as p}from"./index-89d76273.js";class v{constructor(s,a,t){l(this,"p");l(this,"v");l(this,"a");l(this,"maxSpeed");l(this,"maxForce");l(this,"r");l(this,"gravity");l(this,"p5");this.p=new h.Vector(s,a),this.v=h.Vector.random2D(),this.a=new h.Vector,this.maxSpeed=4,this.maxForce=.04,this.r=20,this.gravity=new h.Vector,this.p5=t}edges(){this.p.x>this.p5.width?this.p.x=0:this.p.y>this.p5.height?this.p.y=0:this.p.y<0?this.p.y=this.p5.height:this.p.x<0&&(this.p.x=this.p5.width)}update(){this.p.add(this.v),this.v.add(this.a),this.v.limit(this.maxSpeed),this.a.limit(this.maxForce)}follow(s,a){const t=new h.Vector(s,a),o=h.Vector.sub(t,this.p);o.setMag(this.maxSpeed),o.sub(this.v),o.limit(this.maxForce),this.a.add(o)}separation(s){const t=new h.Vector;let o=0;for(const e of s){const n=this.p5.dist(this.p.x,this.p.y,e.p.x,e.p.y);if(e!=this&&n<100){const c=h.Vector.sub(this.p,e.p);c.div(n*n),t.add(c),o++}}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}align(s){const t=new h.Vector;let o=0;for(const e of s){const n=h.prototype.dist(this.p.x,this.p.y,e.p.x,e.p.y);e!=this&&n<100&&(t.add(e.v),o++)}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}cohesion(s){const t=new h.Vector;let o=0;for(const e of s){const n=h.prototype.dist(this.p.x,this.p.y,e.p.x,e.p.y);e!=this&&n<50&&(t.add(e.p),o++)}return o>0&&(t.div(o),t.sub(this.p),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}flock(s,a,t,o){const e=this.align(s),n=this.cohesion(s),c=this.separation(s);e.mult(a),n.mult(t),c.mult(o),this.a.add(e),this.a.add(n),this.a.add(c),this.a.add(this.gravity)}show(){this.p5.push(),this.p5.colorMode(h.prototype.HSB);const s=this.v.heading(),a=h.prototype.map(this.v.mag(),0,this.maxSpeed,0,360);this.p5.stroke(a,255,255);const t=h.Vector.fromAngle(s);t.setMag(this.v.mag()*2.5),this.p5.translate(this.p.x,this.p.y),this.p5.strokeWeight(3),this.p5.line(t.x,t.y,0,0),this.p5.pop()}}function w(i){const s=[];let a=0,t=0,o=0;i.setup=()=>{i.createCanvas(innerWidth*.5,innerHeight*.5);for(let e=0;e<200;e++)s.push(new v(d.prototype.random(i.width),d.prototype.random(i.height),i))},i.updateWithProps=({a:e,c:n,s:c})=>{a=e,t=n,o=c},i.windowResized=()=>{i.resizeCanvas(innerWidth*.5,innerHeight*.5)},i.draw=()=>{i.background(0),i.textAlign(d.prototype.CENTER),i.textSize(20),i.fill(255),i.noStroke();for(const e of s)e.flock(s,a,t,o),e.update(),e.show(),e.edges()}}const C=()=>{const[i,s]=u.useState({a:5,c:2,s:5}),a=f(),t=[{backgroundColor:"grey"},{backgroundColor:"black"}],o=[{backgroundColor:"red"},{backgroundColor:"white"}],e=" w-10/12 sm:w-1/2 flex flex-col mx-4 gap-4 text-center my-5 mx-auto ";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-3 justify-between w-1/2 mx-auto",children:[r.jsxs("div",{className:e,children:[r.jsxs("p",{children:["Aligment: ",i.a]}),r.jsx(p,{min:0,max:10,defaultValue:5,step:.1,onChange:n=>s(c=>({...c,a:n})),trackStyle:t,handleStyle:o,railStyle:{backgroundColor:"white"}})]}),r.jsxs("div",{className:e,children:[r.jsxs("p",{children:["Cohesion: ",i.c]}),r.jsx(p,{min:0,max:10,defaultValue:8,step:.1,onChange:n=>s(c=>({...c,c:n})),trackStyle:t,handleStyle:o,railStyle:{backgroundColor:"white"}})]}),r.jsxs("div",{className:e,children:[r.jsxs("p",{children:["Seperation: ",i.s]}),r.jsx(p,{min:0,max:10,defaultValue:5,step:.1,onChange:n=>s(c=>({...c,s:n})),trackStyle:t,handleStyle:o,railStyle:{backgroundColor:"white"}})]})]}),r.jsx("div",{className:"flex flex-row justify-center ring-2 ring-slate-800 w-min rounded-2xl bg-black my-5 mx-auto p-5",children:r.jsx(g,{sketch:w,a:i.a,c:i.c,s:i.s})}),r.jsx("div",{className:"w-max mx-auto flex justify-center  h-max underline hover:font-extrabold transition-all duration-150",children:r.jsxs("a",{className:"flex",href:a.state.sourceCode,target:"_blank",children:[r.jsx("p",{children:"View source code"}),r.jsx("span",{className:"w-2"}),r.jsx(y,{})]})})]})};export{C as default};
